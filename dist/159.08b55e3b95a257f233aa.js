/*! For license information please see 159.08b55e3b95a257f233aa.js.LICENSE.txt */
(self.webpackChunksmart_contract=self.webpackChunksmart_contract||[]).push([[159],{5655:(e,t,n)=>{"use strict";n.d(t,{A:()=>re});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,b=0,w="";function A(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function E(e,t){return s(A("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return b=v>0?u(w,--v):0,g--,10===b&&(g=1,m--),b}function S(){return b=v<y?u(w,v++):0,g++,10===b&&(g=1,m++),b}function k(){return u(w,v)}function I(){return v}function _(e,t){return d(w,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(e){return m=g=1,y=h(w=e),v=0,[]}function T(e){return w="",e}function P(e){return a(_(v-1,M(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(b=k())&&b<33;)S();return R(e)>2||R(b)>3?"":" "}function O(e,t){for(;--t&&S()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return _(e,I()+(t<6&&32==k()&&32==S()))}function M(e){for(;S();)switch(b){case e:return v;case 34:case 39:34!==e&&39!==e&&M(b);break;case 40:41===e&&M(e);break;case 92:S()}return v}function N(e,t){for(;S()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+_(t,v-1)+"*"+i(47===e?e:S())}function B(e){for(;!R(k());)S();return _(e,v)}var L="-ms-",F="-moz-",U="-webkit-",$="comm",j="rule",z="decl",V="@keyframes";function H(e,t){for(var n="",r=f(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case z:return e.return=e.return||e.value;case $:return"";case V:return e.return=e.value+"{"+H(e.children,r)+"}";case j:e.value=e.props.join(",")}return h(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return T(K("",null,null,null,[""],e=C(e),0,[0],e))}function K(e,t,n,r,o,s,a,d,f){for(var m=0,g=0,y=a,v=0,b=0,w=0,A=1,E=1,_=1,R=0,C="",T=o,M=s,L=r,F=C;E;)switch(w=R,R=S()){case 40:if(108!=w&&58==u(F,y-1)){-1!=c(F+=l(P(R),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:F+=P(R);break;case 9:case 10:case 13:case 32:F+=D(w);break;case 92:F+=O(I()-1,7);continue;case 47:switch(k()){case 42:case 47:p(Y(N(S(),I()),t,n),f);break;default:F+="/"}break;case 123*A:d[m++]=h(F)*_;case 125*A:case 59:case 0:switch(R){case 0:case 125:E=0;case 59+g:-1==_&&(F=l(F,/\f/g,"")),b>0&&h(F)-y&&p(b>32?Q(F+";",r,n,y-1):Q(l(F," ","")+";",r,n,y-2),f);break;case 59:F+=";";default:if(p(L=G(F,t,n,m,g,o,d,C,T=[],M=[],y),s),123===R)if(0===g)K(F,t,L,L,T,s,y,d,M);else switch(99===v&&110===u(F,3)?100:v){case 100:case 108:case 109:case 115:K(e,L,L,r&&p(G(e,L,L,0,0,o,d,C,o,T=[],y),M),o,M,y,d,r?T:M);break;default:K(F,L,L,L,[""],M,0,d,M)}}m=g=b=0,A=_=1,C=F="",y=a;break;case 58:y=1+h(F),b=w;default:if(A<1)if(123==R)--A;else if(125==R&&0==A++&&125==x())continue;switch(F+=i(R),R*A){case 38:_=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*_,_=1;break;case 64:45===k()&&(F+=P(S())),v=k(),g=y=h(C=F+=B(I())),R++;break;case 45:45===w&&2==h(F)&&(A=0)}}return s}function G(e,t,n,r,i,s,c,u,h,p,m){for(var g=i-1,y=0===i?s:[""],v=f(y),b=0,w=0,E=0;b<r;++b)for(var x=0,S=d(e,g+1,g=o(w=c[b])),k=e;x<v;++x)(k=a(w>0?y[x]+" "+S:l(S,/&\f/g,y[x])))&&(h[E++]=k);return A(e,t,n,0===i?j:u,h,p,m)}function Y(e,t,n){return A(e,t,n,$,i(b),d(e,2,-2),0)}function Q(e,t,n,r){return A(e,t,n,z,d(e,0,r),d(e,r+1,-1),r)}var Z=function(e,t,n){for(var r=0,o=0;r=o,o=k(),38===r&&12===o&&(t[n]=1),!R(o);)S();return _(e,v)},J=new WeakMap,X=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var o=[],s=function(e,t){return T(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Z(v-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=S());return e}(C(e),t))}(t,o),a=n.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},ee=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function te(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+F+e+L+e+e;case 6828:case 4268:return U+e+L+e+e;case 6165:return U+e+L+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return U+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+L+l(e,"shrink","negative")+e;case 5292:return U+e+L+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+L+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?te(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+L+e+e}return e}var ne=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=te(e.value,e.length);break;case V:return H([E(e,{value:l(e.value,"@","@"+U)})],r);case j:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return H([E(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([E(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),E(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),E(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,s=e.stylisPlugins||ne,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d,h,p=[W,(h=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],m=(u=[X,ee].concat(s,p),d=f(u),function(e,t,n,r){for(var o="",i=0;i<d;i++)o+=u[i](e,t,n,r)||"";return o});i=function(e,t,n,r){c=n,H(q(e?e+"{"+t.styles+"}":t.styles),m),r&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return g.sheet.hydrate(l),g}},8670:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},9214:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>l,w:()=>a});var r=n(6540),o=n(5655),i=(n(3174),n(1287),r.createContext("undefined"!=typeof HTMLElement?(0,o.A)({key:"css"}):null)),s=i.Provider,a=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(i);return e(t,o,n)}))},l=r.createContext({})},7437:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(9214),o=n(6540),i=n(41),s=n(1287),a=n(3174),l=(n(5655),n(4146),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3174:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(8670),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===r[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function f(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return p={name:o.name,styles:o.styles,next:p},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)p={name:a.name,styles:a.styles,next:p},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=f(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!=typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var p=f(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+p+";";break;default:r+=s+"{"+p+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=p,m=n(e);return p=l,f(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var p,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";p=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=f(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=f(n,t,e[s]),r&&(o+=i[s]);m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:p}}},1287:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(6540),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},41:(e,t,n)=>{"use strict";function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},6289:(e,t)=>{"use strict";function n(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function r(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return a(function(e){let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t}(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const n=u(e),r=u(t+55+n.length/2);return Uint8Array.from(l(r+n))}function i(e){let t,o,s,a,l;const c=[],u=e[0];if(u<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(u<=183){if(t=u-127,s=128===u?Uint8Array.from([]):n(e,1,t),2===t&&s[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:e.slice(t)}}if(u<=191){if(o=u-182,e.length-1<o)throw new Error("invalid RLP: not enough bytes for string length");if(t=r(n(e,1,o)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return s=n(e,o,t+o),{data:s,remainder:e.slice(t+o)}}if(u<=247){for(t=u-191,a=n(e,1,t);a.length;)l=i(a),c.push(l.data),a=l.remainder;return{data:c,remainder:e.slice(t)}}{if(o=u-246,t=r(n(e,1,o)),t<56)throw new Error("invalid RLP: encoded list too short");const s=o+t;if(s>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=n(e,o,s);a.length;)l=i(a),c.push(l.data),a=l.remainder;return{data:c,remainder:e.slice(s)}}}t.Tj=void 0;const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function l(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=a(e.slice(r,r+2))}return t}function c(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}function u(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function d(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function h(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return d(e)?l((n="string"!=typeof(r=e)?r:d(r)?r.slice(2):r).length%2?`0${n}`:n):(t=e,(new TextEncoder).encode(t));var t,n,r;if("number"==typeof e||"bigint"==typeof e)return e?l(u(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}t.Tj={encode:function e(t){if(Array.isArray(t)){const n=[];let r=0;for(let o=0;o<t.length;o++){const i=e(t[o]);n.push(i),r+=i.length}return c(o(r,192),...n)}const n=h(t);return 1===n.length&&n[0]<128?n:c(o(n.length,128),n)},decode:function(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const n=i(h(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid RLP: remainder must be zero");return n.data}}},6619:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(8587),o=n(8168),i=n(6540),s=n(8466);const a=n(4661).A;var l=n(5659),c=n(1848),u=n(5607),d=n(8139),h=n(9467),f=n(3357),p=n(7379),m=n(1609);function g(e){return(0,m.Ay)("MuiLoadingButton",e)}const y=(0,n(8413).A)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=n(4848);const b=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],w=(0,c.Ay)(d.A,{shouldForwardProp:e=>(e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e)(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{[`& .${y.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${y.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})((({ownerState:e,theme:t})=>(0,o.A)({[`& .${y.startIconLoadingStart}, & .${y.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},"center"===e.loadingPosition&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${y.loading}`]:{color:"transparent"}},"start"===e.loadingPosition&&e.fullWidth&&{[`& .${y.startIconLoadingStart}, & .${y.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===e.loadingPosition&&e.fullWidth&&{[`& .${y.startIconLoadingStart}, & .${y.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}}))),A=(0,c.Ay)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.loadingIndicator,t[`loadingIndicator${(0,s.A)(n.loadingPosition)}`]]}})((({theme:e,ownerState:t})=>(0,o.A)({position:"absolute",visibility:"visible",display:"flex"},"start"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{left:"small"===t.size?10:14},"start"===t.loadingPosition&&"text"===t.variant&&{left:6},"center"===t.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},"end"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{right:"small"===t.size?10:14},"end"===t.loadingPosition&&"text"===t.variant&&{right:6},"start"===t.loadingPosition&&t.fullWidth&&{position:"relative",left:-10},"end"===t.loadingPosition&&t.fullWidth&&{position:"relative",right:-10}))),E=i.forwardRef((function(e,t){const n=i.useContext(h.A),c=(0,p.A)(n,e),d=(0,u.b)({props:c,name:"MuiLoadingButton"}),{children:m,disabled:y=!1,id:E,loading:x=!1,loadingIndicator:S,loadingPosition:k="center",variant:I="text"}=d,_=(0,r.A)(d,b),R=a(E),C=null!=S?S:(0,v.jsx)(f.A,{"aria-labelledby":R,color:"inherit",size:16}),T=(0,o.A)({},d,{disabled:y,loading:x,loadingIndicator:C,loadingPosition:k,variant:I}),P=(e=>{const{loading:t,loadingPosition:n,classes:r}=e,i={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${(0,s.A)(n)}`],endIcon:[t&&`endIconLoading${(0,s.A)(n)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${(0,s.A)(n)}`]},a=(0,l.A)(i,g,r);return(0,o.A)({},r,a)})(T),D=x?(0,v.jsx)(A,{className:P.loadingIndicator,ownerState:T,children:C}):null;return(0,v.jsxs)(w,(0,o.A)({disabled:y||x,id:R,ref:t},_,{variant:I,classes:P,ownerState:T,children:["end"===T.loadingPosition?m:D,"end"===T.loadingPosition?D:m]}))}))},9502:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(1848),u=n(5607),d=n(6025),h=n(8466),f=n(538),p=n(8413),m=n(1609);function g(e){return(0,m.Ay)("MuiAlert",e)}const y=(0,p.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var v=n(1641),b=n(5003),w=n(4848);const A=(0,b.A)((0,w.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),E=(0,b.A)((0,w.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),x=(0,b.A)((0,w.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=(0,b.A)((0,w.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=(0,b.A)((0,w.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),I=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],_=(0,c.Ay)(f.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,h.A)(n.color||n.severity)}`]]}})((({theme:e})=>{const t="light"===e.palette.mode?l.e$:l.a,n="light"===e.palette.mode?l.a:l.e$;return(0,o.A)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${y.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${y.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.dark)).map((([t])=>({props:{colorSeverity:t,variant:"filled"},style:(0,o.A)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})})))]})})),R=(0,c.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),C=(0,c.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),T=(0,c.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),P={success:(0,w.jsx)(A,{fontSize:"inherit"}),warning:(0,w.jsx)(E,{fontSize:"inherit"}),error:(0,w.jsx)(x,{fontSize:"inherit"}),info:(0,w.jsx)(S,{fontSize:"inherit"})},D=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiAlert"}),{action:i,children:l,className:c,closeText:f="Close",color:p,components:m={},componentsProps:y={},icon:b,iconMapping:A=P,onClose:E,role:x="alert",severity:S="success",slotProps:D={},slots:O={},variant:M="standard"}=n,N=(0,r.A)(n,I),B=(0,o.A)({},n,{color:p,severity:S,variant:M,colorSeverity:p||S}),L=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,h.A)(n||r)}`,`${t}${(0,h.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,a.A)(i,g,o)})(B),F={slots:(0,o.A)({closeButton:m.CloseButton,closeIcon:m.CloseIcon},O),slotProps:(0,o.A)({},y,D)},[U,$]=(0,d.A)("closeButton",{elementType:v.A,externalForwardedProps:F,ownerState:B}),[j,z]=(0,d.A)("closeIcon",{elementType:k,externalForwardedProps:F,ownerState:B});return(0,w.jsxs)(_,(0,o.A)({role:x,elevation:0,ownerState:B,className:(0,s.A)(L.root,c),ref:t},N,{children:[!1!==b?(0,w.jsx)(R,{ownerState:B,className:L.icon,children:b||A[S]||P[S]}):null,(0,w.jsx)(C,{ownerState:B,className:L.message,children:l}),null!=i?(0,w.jsx)(T,{ownerState:B,className:L.action,children:i}):null,null==i&&E?(0,w.jsx)(T,{ownerState:B,className:L.action,children:(0,w.jsx)(U,(0,o.A)({size:"small","aria-label":f,title:f,color:"inherit",onClick:E},$,{children:(0,w.jsx)(j,(0,o.A)({fontSize:"small"},z))}))}):null]}))}))},9828:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(8466),d=n(538),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiAppBar",e)}(0,h.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var m=n(4848);const g=["className","color","enableColorOnDark","position"],y=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,v=(0,l.Ay)(d.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,u.A)(n.position)}`],t[`color${(0,u.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,o.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,o.A)({},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,o.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,o.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:y(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:y(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:y(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:y(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),b=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiAppBar"}),{className:i,color:l="primary",enableColorOnDark:d=!1,position:h="fixed"}=n,f=(0,r.A)(n,g),y=(0,o.A)({},n,{color:l,position:h,enableColorOnDark:d}),b=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,u.A)(t)}`,`position${(0,u.A)(n)}`]};return(0,a.A)(o,p,r)})(y);return(0,m.jsx)(v,(0,o.A)({square:!0,component:"header",ownerState:y,elevation:4,className:(0,s.A)(b.root,i,"fixed"===h&&"mui-fixed"),ref:t},f))}))},1385:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(5003),d=n(4848);const h=(0,u.A)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var f=n(8413),p=n(1609);function m(e){return(0,p.Ay)("MuiAvatar",e)}(0,f.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var g=n(6025);const y=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],v=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,o.A)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:(0,o.A)({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]}))),b=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),w=(0,l.Ay)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),A=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:l,children:u,className:h,component:f="div",slots:p={},slotProps:A={},imgProps:E,sizes:x,src:S,srcSet:k,variant:I="circular"}=n,_=(0,r.A)(n,y);let R=null;const C=function({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[o,s]=i.useState(!1);return i.useEffect((()=>{if(!n&&!r)return;s(!1);let o=!0;const i=new Image;return i.onload=()=>{o&&s("loaded")},i.onerror=()=>{o&&s("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=n,r&&(i.srcset=r),()=>{o=!1}}),[e,t,n,r]),o}((0,o.A)({},E,{src:S,srcSet:k})),T=S||k,P=T&&"error"!==C,D=(0,o.A)({},n,{colorDefault:!P,component:f,variant:I}),O=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,a.A)(o,m,t)})(D),[M,N]=(0,g.A)("img",{className:O.img,elementType:b,externalForwardedProps:{slots:p,slotProps:{img:(0,o.A)({},E,A.img)}},additionalProps:{alt:l,src:S,srcSet:k,sizes:x},ownerState:D});return R=P?(0,d.jsx)(M,(0,o.A)({},N)):u||0===u?u:T&&l?l[0]:(0,d.jsx)(w,{ownerState:D,className:O.fallback}),(0,d.jsx)(v,(0,o.A)({as:f,ownerState:D,className:(0,s.A)(O.root,h),ref:t},_,{children:R}))}))},7419:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(973),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiBackdrop",e)}(0,d.A)("MuiBackdrop",["root","invisible"]);var p=n(4848);const m=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],g=(0,l.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>(0,o.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}))),y=i.forwardRef((function(e,t){var n,i,l;const d=(0,c.b)({props:e,name:"MuiBackdrop"}),{children:h,className:y,component:v="div",components:b={},componentsProps:w={},invisible:A=!1,open:E,slotProps:x={},slots:S={},TransitionComponent:k=u.A,transitionDuration:I}=d,_=(0,r.A)(d,m),R=(0,o.A)({},d,{component:v,invisible:A}),C=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,a.A)(r,f,t)})(R),T=null!=(n=x.root)?n:w.root;return(0,p.jsx)(k,(0,o.A)({in:E,timeout:I},_,{children:(0,p.jsx)(g,(0,o.A)({"aria-hidden":!0},T,{as:null!=(i=null!=(l=S.root)?l:b.Root)?i:v,className:(0,s.A)(C.root,y,null==T?void 0:T.className),ownerState:(0,o.A)({},R,null==T?void 0:T.ownerState),classes:C,ref:t,children:h}))}))}))},9067:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(2532),l=n(3571),c=n(9599),u=n(2858),d=n(4848);const h=["className","component"];var f=n(9071),p=n(3478),m=n(8312);const g=(0,n(8413).A)("MuiBox",["root"]),y=(0,p.A)(),v=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:f="MuiBox-root",generateClassName:p}=e,m=(0,a.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.A);return i.forwardRef((function(e,i){const a=(0,u.A)(n),l=(0,c.A)(e),{className:g,component:y="div"}=l,v=(0,o.A)(l,h);return(0,d.jsx)(m,(0,r.A)({as:y,ref:i,className:(0,s.A)(g,p?p(f):f),theme:t&&a[t]||a},v))}))}({themeId:m.A,defaultTheme:y,defaultClassName:g.root,generateClassName:f.A.generate}),b=v},8850:(e,t,n)=>{"use strict";n.d(t,{A:()=>B});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(6852),d=n(3034),h=n(1984),f=n(4038),p=n(7437),m=n(3068),g=n(4848);var y=n(8413);const v=(0,y.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),b=["center","classes","className"];let w,A,E,x,S=e=>e;const k=(0,p.i7)(w||(w=S`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),I=(0,p.i7)(A||(A=S`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),_=(0,p.i7)(E||(E=S`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),R=(0,l.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),C=(0,l.Ay)((function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:l,in:c,onExited:u,timeout:d}=e,[h,f]=i.useState(!1),p=(0,s.A)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:l,height:l,top:-l/2+a,left:-l/2+o},y=(0,s.A)(n.child,h&&n.childLeaving,r&&n.childPulsate);return c||h||f(!0),i.useEffect((()=>{if(!c&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,c,d]),(0,g.jsx)("span",{className:p,style:m,children:(0,g.jsx)("span",{className:y})})}),{name:"MuiTouchRipple",slot:"Ripple"})(x||(x=S`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),v.rippleVisible,k,550,(({theme:e})=>e.transitions.easing.easeInOut),v.ripplePulsate,(({theme:e})=>e.transitions.duration.shorter),v.child,v.childLeaving,I,550,(({theme:e})=>e.transitions.easing.easeInOut),v.childPulsate,_,(({theme:e})=>e.transitions.easing.easeInOut)),T=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:u}=n,d=(0,o.A)(n,b),[h,p]=i.useState([]),y=i.useRef(0),w=i.useRef(null);i.useEffect((()=>{w.current&&(w.current(),w.current=null)}),[h]);const A=i.useRef(!1),E=(0,m.A)(),x=i.useRef(null),S=i.useRef(null),k=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:i}=e;p((e=>[...e,(0,g.jsx)(C,{classes:{ripple:(0,s.A)(l.ripple,v.ripple),rippleVisible:(0,s.A)(l.rippleVisible,v.rippleVisible),ripplePulsate:(0,s.A)(l.ripplePulsate,v.ripplePulsate),child:(0,s.A)(l.child,v.child),childLeaving:(0,s.A)(l.childLeaving,v.childLeaving),childPulsate:(0,s.A)(l.childPulsate,v.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},y.current)])),y.current+=1,w.current=i}),[l]),I=i.useCallback(((e={},t={},n=()=>{})=>{const{pulsate:r=!1,center:o=a||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&A.current)return void(A.current=!1);"touchstart"===(null==e?void 0:e.type)&&(A.current=!0);const s=i?null:S.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2==0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===x.current&&(x.current=()=>{k({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},E.start(80,(()=>{x.current&&(x.current(),x.current=null)}))):k({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[a,k,E]),_=i.useCallback((()=>{I({},{pulsate:!0})}),[I]),T=i.useCallback(((e,t)=>{if(E.clear(),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void E.start(0,(()=>{T(e,t)}));x.current=null,p((e=>e.length>0?e.slice(1):e)),w.current=t}),[E]);return i.useImperativeHandle(t,(()=>({pulsate:_,start:I,stop:T})),[_,I,T]),(0,g.jsx)(R,(0,r.A)({className:(0,s.A)(v.root,l.root,u),ref:S},d,{children:(0,g.jsx)(f.A,{component:null,exit:!0,children:h})}))}));var P=n(1609);function D(e){return(0,P.Ay)("MuiButtonBase",e)}const O=(0,y.A)("MuiButtonBase",["root","disabled","focusVisible"]),M=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],N=(0,l.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${O.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),B=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiButtonBase"}),{action:l,centerRipple:f=!1,children:p,className:m,component:y="button",disabled:v=!1,disableRipple:b=!1,disableTouchRipple:w=!1,focusRipple:A=!1,LinkComponent:E="a",onBlur:x,onClick:S,onContextMenu:k,onDragLeave:I,onFocus:_,onFocusVisible:R,onKeyDown:C,onKeyUp:P,onMouseDown:O,onMouseLeave:B,onMouseUp:L,onTouchEnd:F,onTouchMove:U,onTouchStart:$,tabIndex:j=0,TouchRippleProps:z,touchRippleRef:V,type:H}=n,W=(0,o.A)(n,M),q=i.useRef(null),K=i.useRef(null),G=(0,u.A)(K,V),{isFocusVisibleRef:Y,onFocus:Q,onBlur:Z,ref:J}=(0,h.A)(),[X,ee]=i.useState(!1);v&&X&&ee(!1),i.useImperativeHandle(l,(()=>({focusVisible:()=>{ee(!0),q.current.focus()}})),[]);const[te,ne]=i.useState(!1);i.useEffect((()=>{ne(!0)}),[]);const re=te&&!b&&!v;function oe(e,t,n=w){return(0,d.A)((r=>(t&&t(r),!n&&K.current&&K.current[e](r),!0)))}i.useEffect((()=>{X&&A&&!b&&te&&K.current.pulsate()}),[b,A,X,te]);const ie=oe("start",O),se=oe("stop",k),ae=oe("stop",I),le=oe("stop",L),ce=oe("stop",(e=>{X&&e.preventDefault(),B&&B(e)})),ue=oe("start",$),de=oe("stop",F),he=oe("stop",U),fe=oe("stop",(e=>{Z(e),!1===Y.current&&ee(!1),x&&x(e)}),!1),pe=(0,d.A)((e=>{q.current||(q.current=e.currentTarget),Q(e),!0===Y.current&&(ee(!0),R&&R(e)),_&&_(e)})),me=()=>{const e=q.current;return y&&"button"!==y&&!("A"===e.tagName&&e.href)},ge=i.useRef(!1),ye=(0,d.A)((e=>{A&&!ge.current&&X&&K.current&&" "===e.key&&(ge.current=!0,K.current.stop(e,(()=>{K.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!v&&(e.preventDefault(),S&&S(e))})),ve=(0,d.A)((e=>{A&&" "===e.key&&K.current&&X&&!e.defaultPrevented&&(ge.current=!1,K.current.stop(e,(()=>{K.current.pulsate(e)}))),P&&P(e),S&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&S(e)}));let be=y;"button"===be&&(W.href||W.to)&&(be=E);const we={};"button"===be?(we.type=void 0===H?"button":H,we.disabled=v):(W.href||W.to||(we.role="button"),v&&(we["aria-disabled"]=v));const Ae=(0,u.A)(t,J,q),Ee=(0,r.A)({},n,{centerRipple:f,component:y,disabled:v,disableRipple:b,disableTouchRipple:w,focusRipple:A,tabIndex:j,focusVisible:X}),xe=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,a.A)(i,D,o);return n&&r&&(s.root+=` ${r}`),s})(Ee);return(0,g.jsxs)(N,(0,r.A)({as:be,className:(0,s.A)(xe.root,m),ownerState:Ee,onBlur:fe,onClick:S,onContextMenu:se,onFocus:pe,onKeyDown:ye,onKeyUp:ve,onMouseDown:ie,onMouseLeave:ce,onMouseUp:le,onDragLeave:ae,onTouchEnd:de,onTouchMove:he,onTouchStart:ue,ref:Ae,tabIndex:v?-1:j,type:H},we,W,{children:[p,re?(0,g.jsx)(T,(0,r.A)({ref:G,center:f},z)):null]}))}))},9467:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext({})},8139:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(7379),l=n(5659),c=n(771),u=n(1848),d=n(9770),h=n(5607),f=n(8850),p=n(8466),m=n(8413),g=n(1609);function y(e){return(0,g.Ay)("MuiButton",e)}const v=(0,m.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=n(9467);const w=i.createContext(void 0);var A=n(4848);const E=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],x=e=>(0,o.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),S=(0,u.Ay)(f.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,p.A)(n.color)}`],t[`size${(0,p.A)(n.size)}`],t[`${n.variant}Size${(0,p.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var n,r;const i="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],s="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,o.A)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,o.A)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,c.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,c.X4)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,c.X4)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,o.A)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${v.focusVisible}`]:(0,o.A)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${v.disabled}`]:(0,o.A)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,c.X4)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${v.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${v.disabled}`]:{boxShadow:"none"}})),k=(0,u.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,p.A)(n.size)}`]]}})((({ownerState:e})=>(0,o.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},x(e)))),I=(0,u.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,p.A)(n.size)}`]]}})((({ownerState:e})=>(0,o.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},x(e)))),_=i.forwardRef((function(e,t){const n=i.useContext(b.A),c=i.useContext(w),u=(0,a.A)(n,e),d=(0,h.b)({props:u,name:"MuiButton"}),{children:f,color:m="primary",component:g="button",className:v,disabled:x=!1,disableElevation:_=!1,disableFocusRipple:R=!1,endIcon:C,focusVisibleClassName:T,fullWidth:P=!1,size:D="medium",startIcon:O,type:M,variant:N="text"}=d,B=(0,r.A)(d,E),L=(0,o.A)({},d,{color:m,component:g,disabled:x,disableElevation:_,disableFocusRipple:R,fullWidth:P,size:D,type:M,variant:N}),F=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=e,c={root:["root",s,`${s}${(0,p.A)(t)}`,`size${(0,p.A)(i)}`,`${s}Size${(0,p.A)(i)}`,`color${(0,p.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,p.A)(i)}`],endIcon:["icon","endIcon",`iconSize${(0,p.A)(i)}`]},u=(0,l.A)(c,y,a);return(0,o.A)({},a,u)})(L),U=O&&(0,A.jsx)(k,{className:F.startIcon,ownerState:L,children:O}),$=C&&(0,A.jsx)(I,{className:F.endIcon,ownerState:L,children:C}),j=c||"";return(0,A.jsxs)(S,(0,o.A)({ownerState:L,className:(0,s.A)(n.className,F.root,v,j),component:g,disabled:x,focusRipple:!R,focusVisibleClassName:(0,s.A)(F.focusVisible,T),ref:t,type:M},B,{classes:F,children:[U,f,$]}))}))},3357:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(7437),c=n(8466),u=n(5607),d=n(1848),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiCircularProgress",e)}(0,h.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=n(4848);const g=["className","color","disableShrink","size","style","thickness","value","variant"];let y,v,b,w,A=e=>e;const E=(0,l.i7)(y||(y=A`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),x=(0,l.i7)(v||(v=A`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,d.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,c.A)(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,o.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,l.AH)(b||(b=A`
      animation: ${0} 1.4s linear infinite;
    `),E))),k=(0,d.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),I=(0,d.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,c.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,o.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.AH)(w||(w=A`
      animation: ${0} 1.4s ease-in-out infinite;
    `),x))),_=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiCircularProgress"}),{className:i,color:l="primary",disableShrink:d=!1,size:h=40,style:f,thickness:y=3.6,value:v=0,variant:b="indeterminate"}=n,w=(0,r.A)(n,g),A=(0,o.A)({},n,{color:l,disableShrink:d,size:h,thickness:y,value:v,variant:b}),E=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${(0,c.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(n)}`,o&&"circleDisableShrink"]};return(0,a.A)(i,p,t)})(A),x={},_={},R={};if("determinate"===b){const e=2*Math.PI*((44-y)/2);x.strokeDasharray=e.toFixed(3),R["aria-valuenow"]=Math.round(v),x.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,_.transform="rotate(-90deg)"}return(0,m.jsx)(S,(0,o.A)({className:(0,s.A)(E.root,i),style:(0,o.A)({width:h,height:h},_,f),ownerState:A,ref:t,role:"progressbar"},R,w,{children:(0,m.jsx)(k,{className:E.svg,ownerState:A,viewBox:"22 22 44 44",children:(0,m.jsx)(I,{className:E.circle,style:x,ownerState:A,cx:44,cy:44,r:(44-y)/2,fill:"none",strokeWidth:y})})}))}))},3339:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(1609),l=n(5659),c=n(6348),u=n(4467);const d=(0,n(5329).Ay)();var h=n(8749),f=n(4848);const p=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,h.A)(),g=d("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,c.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),y=e=>(0,u.A)({props:e,name:"MuiContainer",defaultTheme:m});var v=n(8466),b=n(1848),w=n(5607);const A=function(e={}){const{createStyledComponent:t=g,useThemeProps:n=y,componentName:u="MuiContainer"}=e,d=t((({theme:e,ownerState:t})=>(0,o.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,n)=>{const r=n,o=e.breakpoints.values[r];return 0!==o&&(t[e.breakpoints.up(r)]={maxWidth:`${o}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>(0,o.A)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}))),h=i.forwardRef((function(e,t){const i=n(e),{className:h,component:m="div",disableGutters:g=!1,fixed:y=!1,maxWidth:v="lg"}=i,b=(0,r.A)(i,p),w=(0,o.A)({},i,{component:m,disableGutters:g,fixed:y,maxWidth:v}),A=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,c.A)(String(i))}`,r&&"fixed",o&&"disableGutters"]};return(0,l.A)(s,(e=>(0,a.Ay)(t,e)),n)})(w,u);return(0,f.jsx)(d,(0,o.A)({as:m,ownerState:w,className:(0,s.A)(A.root,h),ref:t},b))}));return h}({createStyledComponent:(0,b.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,v.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,w.b)({props:e,name:"MuiContainer"})}),E=A},5607:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(6540),o=n(7379);n(4848);const i=r.createContext(void 0);function s(e){return function({props:e,name:t}){return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:e,name:t,theme:{components:r.useContext(i)}})}(e)}},8763:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(8413),d=n(1609);function h(e){return(0,d.Ay)("MuiDialogActions",e)}(0,u.A)("MuiDialogActions",["root","spacing"]);var f=n(4848);const p=["className","disableSpacing"],m=(0,l.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((({ownerState:e})=>(0,o.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}}))),g=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:l=!1}=n,u=(0,r.A)(n,p),d=(0,o.A)({},n,{disableSpacing:l}),g=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,a.A)(r,h,t)})(d);return(0,f.jsx)(m,(0,o.A)({className:(0,s.A)(g.root,i),ownerState:d,ref:t},u))}))},2477:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(8413),d=n(1609);function h(e){return(0,d.Ay)("MuiDialogContent",e)}(0,u.A)("MuiDialogContent",["root","dividers"]);var f=n(1435),p=n(4848);const m=["className","dividers"],g=(0,l.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((({theme:e,ownerState:t})=>(0,o.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${f.A.root} + &`]:{paddingTop:0}}))),y=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiDialogContent"}),{className:i,dividers:l=!1}=n,u=(0,r.A)(n,m),d=(0,o.A)({},n,{dividers:l}),f=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,a.A)(r,h,t)})(d);return(0,p.jsx)(g,(0,o.A)({className:(0,s.A)(f.root,i),ownerState:d,ref:t},u))}))},6831:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(4073),c=n(1848),u=n(5607),d=n(1435),h=n(8102),f=n(4848);const p=["className","id"],m=(0,c.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),g=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:c}=n,g=(0,o.A)(n,p),y=n,v=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},d.t,t)})(y),{titleId:b=c}=i.useContext(h.A);return(0,f.jsx)(m,(0,r.A)({component:"h2",className:(0,s.A)(v.root,l),ownerState:y,ref:t,variant:"h6",id:null!=c?c:b},g))}))},1435:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,t:()=>i});var r=n(8413),o=n(1609);function i(e){return(0,o.Ay)("MuiDialogTitle",e)}const s=(0,r.A)("MuiDialogTitle",["root"])},7037:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(4661),c=n(8466),u=n(7692),d=n(973),h=n(538),f=n(5607),p=n(1848),m=n(8997),g=n(8102),y=n(7419),v=n(4675),b=n(4848);const w=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],A=(0,p.Ay)(y.A,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),E=(0,p.Ay)(u.A,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),x=(0,p.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,c.A)(n.scroll)}`]]}})((({ownerState:e})=>(0,o.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),S=(0,p.Ay)(h.A,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,c.A)(n.scroll)}`],t[`paperWidth${(0,c.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((({theme:e,ownerState:t})=>(0,o.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${m.A.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${m.A.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${m.A.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}))),k=i.forwardRef((function(e,t){const n=(0,f.b)({props:e,name:"MuiDialog"}),u=(0,v.A)(),p={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{"aria-describedby":y,"aria-labelledby":k,BackdropComponent:I,BackdropProps:_,children:R,className:C,disableEscapeKeyDown:T=!1,fullScreen:P=!1,fullWidth:D=!1,maxWidth:O="sm",onBackdropClick:M,onClick:N,onClose:B,open:L,PaperComponent:F=h.A,PaperProps:U={},scroll:$="paper",TransitionComponent:j=d.A,transitionDuration:z=p,TransitionProps:V}=n,H=(0,r.A)(n,w),W=(0,o.A)({},n,{disableEscapeKeyDown:T,fullScreen:P,fullWidth:D,maxWidth:O,scroll:$}),q=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${(0,c.A)(n)}`],paper:["paper",`paperScroll${(0,c.A)(n)}`,`paperWidth${(0,c.A)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,a.A)(s,m.f,t)})(W),K=i.useRef(),G=(0,l.A)(k),Y=i.useMemo((()=>({titleId:G})),[G]);return(0,b.jsx)(E,(0,o.A)({className:(0,s.A)(q.root,C),closeAfterTransition:!0,components:{Backdrop:A},componentsProps:{backdrop:(0,o.A)({transitionDuration:z,as:I},_)},disableEscapeKeyDown:T,onClose:B,open:L,ref:t,onClick:e=>{N&&N(e),K.current&&(K.current=null,M&&M(e),B&&B(e,"backdropClick"))},ownerState:W},H,{children:(0,b.jsx)(j,(0,o.A)({appear:!0,in:L,timeout:z,role:"presentation"},V,{children:(0,b.jsx)(x,{className:(0,s.A)(q.container),onMouseDown:e=>{K.current=e.target===e.currentTarget},ownerState:W,children:(0,b.jsx)(S,(0,o.A)({as:F,elevation:24,role:"dialog","aria-describedby":y,"aria-labelledby":G},U,{className:(0,s.A)(q.paper,U.className),ownerState:W,children:(0,b.jsx)(g.A.Provider,{value:Y,children:R})}))})}))}))}))},8102:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext({})},8997:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,f:()=>i});var r=n(8413),o=n(1609);function i(e){return(0,o.Ay)("MuiDialog",e)}const s=(0,r.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"])},973:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),o=n(8587),i=n(6540),s=n(851),a=n(4675),l=n(5186),c=n(6852),u=n(4848);const d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{opacity:1},entered:{opacity:1}},f=i.forwardRef((function(e,t){const n=(0,a.A)(),f={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:p,appear:m=!0,children:g,easing:y,in:v,onEnter:b,onEntered:w,onEntering:A,onExit:E,onExited:x,onExiting:S,style:k,timeout:I=f,TransitionComponent:_=s.Ay}=e,R=(0,o.A)(e,d),C=i.useRef(null),T=(0,c.A)(C,g.ref,t),P=e=>t=>{if(e){const n=C.current;void 0===t?e(n):e(n,t)}},D=P(A),O=P(((e,t)=>{(0,l.q)(e);const r=(0,l.c)({style:k,timeout:I,easing:y},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),b&&b(e,t)})),M=P(w),N=P(S),B=P((e=>{const t=(0,l.c)({style:k,timeout:I,easing:y},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),E&&E(e)})),L=P(x);return(0,u.jsx)(_,(0,r.A)({appear:m,in:v,nodeRef:C,onEnter:O,onEntered:M,onEntering:D,onExit:B,onExited:L,onExiting:N,addEndListener:e=>{p&&p(C.current,e)},timeout:I},R,{children:(e,t)=>i.cloneElement(g,(0,r.A)({style:(0,r.A)({opacity:0,visibility:"exited"!==e||v?void 0:"hidden"},h[e],k,g.props.style),ref:T},t))}))}))},779:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(5607),c=n(1848),u=n(2891),d=n(8466),h=n(8593),f=n(3800),p=n(8413),m=n(1609);function g(e){return(0,m.Ay)("MuiFormControl",e)}(0,p.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var y=n(4848);const v=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],b=(0,c.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,o.A)({},t.root,t[`margin${(0,d.A)(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,o.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}))),w=i.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiFormControl"}),{children:c,className:p,color:m="primary",component:w="div",disabled:A=!1,error:E=!1,focused:x,fullWidth:S=!1,hiddenLabel:k=!1,margin:I="none",required:_=!1,size:R="medium",variant:C="outlined"}=n,T=(0,r.A)(n,v),P=(0,o.A)({},n,{color:m,component:w,disabled:A,error:E,fullWidth:S,hiddenLabel:k,margin:I,required:_,size:R,variant:C}),D=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,d.A)(n)}`,r&&"fullWidth"]};return(0,a.A)(o,g,t)})(P),[O,M]=i.useState((()=>{let e=!1;return c&&i.Children.forEach(c,(t=>{if(!(0,h.A)(t,["Input","Select"]))return;const n=(0,h.A)(t,["Select"])?t.props.input:t;n&&(0,u.gr)(n.props)&&(e=!0)})),e})),[N,B]=i.useState((()=>{let e=!1;return c&&i.Children.forEach(c,(t=>{(0,h.A)(t,["Input","Select"])&&((0,u.lq)(t.props,!0)||(0,u.lq)(t.props.inputProps,!0))&&(e=!0)})),e})),[L,F]=i.useState(!1);A&&L&&F(!1);const U=void 0===x||A?L:x;let $;const j=i.useMemo((()=>({adornedStart:O,setAdornedStart:M,color:m,disabled:A,error:E,filled:N,focused:U,fullWidth:S,hiddenLabel:k,size:R,onBlur:()=>{F(!1)},onEmpty:()=>{B(!1)},onFilled:()=>{B(!0)},onFocus:()=>{F(!0)},registerEffect:$,required:_,variant:C})),[O,m,A,E,N,U,S,k,$,_,R,C]);return(0,y.jsx)(f.A.Provider,{value:j,children:(0,y.jsx)(b,(0,o.A)({as:w,ownerState:P,className:(0,s.A)(D.root,p),ref:t},T,{children:c}))})}))},3800:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext(void 0)},8086:(e,t,n)=>{"use strict";function r({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&void 0===e[r]&&(t[r]=n[r]),t)),{})}n.d(t,{A:()=>r})},9716:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540),o=n(3800);function i(){return r.useContext(o.A)}},6347:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(8086),c=n(9716),u=n(1848),d=n(8466),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiFormHelperText",e)}const m=(0,h.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var g,y=n(5607),v=n(4848);const b=["children","className","component","disabled","error","filled","focused","margin","required","variant"],w=(0,u.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,d.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((({theme:e,ownerState:t})=>(0,o.A)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${m.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${m.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14}))),A=i.forwardRef((function(e,t){const n=(0,y.b)({props:e,name:"MuiFormHelperText"}),{children:i,className:u,component:h="p"}=n,f=(0,r.A)(n,b),m=(0,c.A)(),A=(0,l.A)({props:n,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),E=(0,o.A)({},n,{component:h,contained:"filled"===A.variant||"outlined"===A.variant,variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),x=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:l,required:c}=e,u={root:["root",o&&"disabled",i&&"error",r&&`size${(0,d.A)(r)}`,n&&"contained",l&&"focused",s&&"filled",c&&"required"]};return(0,a.A)(u,p,t)})(E);return(0,v.jsx)(w,(0,o.A)({as:h,ownerState:E,className:(0,s.A)(x.root,u),ref:t},f,{children:" "===i?g||(g=(0,v.jsx)("span",{className:"notranslate",children:"​"})):i}))}))},7467:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8168),o=n(8587),i=n(6540),s=n(3068),a=n(851),l=n(4675),c=n(5186),u=n(6852),d=n(4848);const h=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function f(e){return`scale(${e}, ${e**2})`}const p={entering:{opacity:1,transform:f(1)},entered:{opacity:1,transform:"none"}},m="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),g=i.forwardRef((function(e,t){const{addEndListener:n,appear:g=!0,children:y,easing:v,in:b,onEnter:w,onEntered:A,onEntering:E,onExit:x,onExited:S,onExiting:k,style:I,timeout:_="auto",TransitionComponent:R=a.Ay}=e,C=(0,o.A)(e,h),T=(0,s.A)(),P=i.useRef(),D=(0,l.A)(),O=i.useRef(null),M=(0,u.A)(O,y.ref,t),N=e=>t=>{if(e){const n=O.current;void 0===t?e(n):e(n,t)}},B=N(E),L=N(((e,t)=>{(0,c.q)(e);const{duration:n,delay:r,easing:o}=(0,c.c)({style:I,timeout:_,easing:v},{mode:"enter"});let i;"auto"===_?(i=D.transitions.getAutoHeightDuration(e.clientHeight),P.current=i):i=n,e.style.transition=[D.transitions.create("opacity",{duration:i,delay:r}),D.transitions.create("transform",{duration:m?i:.666*i,delay:r,easing:o})].join(","),w&&w(e,t)})),F=N(A),U=N(k),$=N((e=>{const{duration:t,delay:n,easing:r}=(0,c.c)({style:I,timeout:_,easing:v},{mode:"exit"});let o;"auto"===_?(o=D.transitions.getAutoHeightDuration(e.clientHeight),P.current=o):o=t,e.style.transition=[D.transitions.create("opacity",{duration:o,delay:n}),D.transitions.create("transform",{duration:m?o:.666*o,delay:m?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=f(.75),x&&x(e)})),j=N(S);return(0,d.jsx)(R,(0,r.A)({appear:g,in:b,nodeRef:O,onEnter:L,onEntered:F,onEntering:B,onExit:$,onExited:j,onExiting:U,addEndListener:e=>{"auto"===_&&T.start(P.current||0,e),n&&n(O.current,e)},timeout:"auto"===_?null:_},C,{children:(e,t)=>i.cloneElement(y,(0,r.A)({style:(0,r.A)({opacity:0,transform:f(.75),visibility:"exited"!==e||b?void 0:"hidden"},p[e],I,y.props.style),ref:M},t))}))}));g.muiSupportAuto=!0;const y=g},1641:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(1848),u=n(5607),d=n(8850),h=n(8466),f=n(8413),p=n(1609);function m(e){return(0,p.Ay)("MuiIconButton",e)}const g=(0,f.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var y=n(4848);const v=["edge","children","className","color","disabled","disableFocusRipple","size"],b=(0,c.Ay)(d.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,h.A)(n.color)}`],n.edge&&t[`edge${(0,h.A)(n.edge)}`],t[`size${(0,h.A)(n.size)}`]]}})((({theme:e,ownerState:t})=>(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})),(({theme:e,ownerState:t})=>{var n;const r=null==(n=(e.vars||e).palette)?void 0:n[t.color];return(0,o.A)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,o.A)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,o.A)({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.X4)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${g.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})})),w=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:l,className:c,color:d="default",disabled:f=!1,disableFocusRipple:p=!1,size:g="medium"}=n,w=(0,r.A)(n,v),A=(0,o.A)({},n,{edge:i,color:d,disabled:f,disableFocusRipple:p,size:g}),E=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,s={root:["root",n&&"disabled","default"!==r&&`color${(0,h.A)(r)}`,o&&`edge${(0,h.A)(o)}`,`size${(0,h.A)(i)}`]};return(0,a.A)(s,m,t)})(A);return(0,y.jsx)(b,(0,o.A)({className:(0,s.A)(E.root,c),centerRipple:!0,focusRipple:!p,disabled:f,ref:t},w,{ownerState:A,children:l}))}))},2891:(e,t,n)=>{"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function o(e,t=!1){return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function i(e){return e.startAdornment}n.d(t,{gr:()=>i,lq:()=>o})},4433:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(8587),o=n(8168),i=n(6540),s=n(5659),a=n(4164),l=n(8086),c=n(9716),u=n(8466),d=n(5607),h=n(1848),f=n(8413),p=n(1609);function m(e){return(0,p.Ay)("MuiFormLabel",e)}const g=(0,f.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);var y=n(4848);const v=["children","className","color","component","disabled","error","filled","focused","required"],b=(0,h.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,o.A)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>(0,o.A)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${g.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${g.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${g.error}`]:{color:(e.vars||e).palette.error.main}}))),w=(0,h.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${g.error}`]:{color:(e.vars||e).palette.error.main}}))),A=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiFormLabel"}),{children:i,className:h,component:f="label"}=n,p=(0,r.A)(n,v),g=(0,c.A)(),A=(0,l.A)({props:n,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),E=(0,o.A)({},n,{color:A.color||"primary",component:f,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),x=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:l}=e,c={root:["root",`color${(0,u.A)(n)}`,o&&"disabled",i&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return(0,s.A)(c,m,t)})(E);return(0,y.jsxs)(b,(0,o.A)({as:f,ownerState:E,className:(0,a.A)(x.root,h),ref:t},p,{children:[i,A.required&&(0,y.jsxs)(w,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]}))}));var E=n(9770);function x(e){return(0,p.Ay)("MuiInputLabel",e)}(0,f.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const S=["disableAnimation","margin","shrink","variant","className"],k=(0,h.Ay)(A,{shouldForwardProp:e=>(0,E.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${g.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,o.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,o.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"})))),I=i.forwardRef((function(e,t){const n=(0,d.b)({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:h,className:f}=n,p=(0,r.A)(n,S),m=(0,c.A)();let g=h;void 0===g&&m&&(g=m.filled||m.focused||m.adornedStart);const v=(0,l.A)({props:n,muiFormControl:m,states:["size","variant","required","focused"]}),b=(0,o.A)({},n,{disableAnimation:i,formControl:m,shrink:g,size:v.size,variant:v.variant,required:v.required,focused:v.focused}),w=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:a,variant:l,required:c}=e,d={root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&"normal"!==r&&`size${(0,u.A)(r)}`,l],asterisk:[c&&"asterisk"]},h=(0,s.A)(d,x,t);return(0,o.A)({},t,h)})(b);return(0,y.jsx)(k,(0,o.A)({"data-shrink":g,ownerState:b,ref:t,className:(0,a.A)(w.root,f)},p,{classes:w}))}))},5001:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(8466),c=n(1848),u=n(5607),d=n(1984),h=n(6852),f=n(4073),p=n(8413),m=n(1609);function g(e){return(0,m.Ay)("MuiLink",e)}const y=(0,p.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var v=n(6481),b=n(771);const w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},A=({theme:e,ownerState:t})=>{const n=(e=>w[e]||e)(t.color),r=(0,v.Yn)(e,`palette.${n}`,!1)||t.color,o=(0,v.Yn)(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:(0,b.X4)(r,.4)};var E=n(4848);const x=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],S=(0,c.Ay)(f.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,l.A)(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>(0,o.A)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:A({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}}))),k=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiLink"}),{className:c,color:f="primary",component:p="a",onBlur:m,onFocus:y,TypographyClasses:v,underline:b="always",variant:A="inherit",sx:k}=n,I=(0,r.A)(n,x),{isFocusVisibleRef:_,onBlur:R,onFocus:C,ref:T}=(0,d.A)(),[P,D]=i.useState(!1),O=(0,h.A)(t,T),M=(0,o.A)({},n,{color:f,component:p,focusVisible:P,underline:b,variant:A}),N=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root",`underline${(0,l.A)(o)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,a.A)(i,g,t)})(M);return(0,E.jsx)(S,(0,o.A)({color:f,className:(0,s.A)(N.root,c),classes:v,component:p,onBlur:e=>{R(e),!1===_.current&&D(!1),m&&m(e)},onFocus:e=>{C(e),!0===_.current&&D(!0),y&&y(e)},ref:O,ownerState:M,variant:A,sx:[...Object.keys(w).includes(f)?[]:[{color:f}],...Array.isArray(k)?k:[k]]},I))}))},9799:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(1848),c=n(5607),u=n(2850),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiList",e)}(0,d.A)("MuiList",["root","padding","dense","subheader"]);var p=n(4848);const m=["children","className","component","dense","disablePadding","subheader"],g=(0,l.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((({ownerState:e})=>(0,o.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),y=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiList"}),{children:l,className:d,component:h="ul",dense:y=!1,disablePadding:v=!1,subheader:b}=n,w=(0,r.A)(n,m),A=i.useMemo((()=>({dense:y})),[y]),E=(0,o.A)({},n,{component:h,dense:y,disablePadding:v}),x=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,a.A)(i,f,t)})(E);return(0,p.jsx)(u.A.Provider,{value:A,children:(0,p.jsxs)(g,(0,o.A)({as:h,className:(0,s.A)(x.root,d),ref:t,ownerState:E},w,{children:[b,l]}))})}))},2850:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext({})},8363:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(1848),u=n(9770),d=n(5607),h=n(2850),f=n(8850),p=n(2778),m=n(6852),g=n(8413);const y=(0,g.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),v=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),b=(0,g.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var w=n(1609);function A(e){return(0,w.Ay)("MuiMenuItem",e)}const E=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var x=n(4848);const S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,c.Ay)(f.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,o.A)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${E.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${E.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${E.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${E.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${y.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${y.inset}`]:{marginLeft:52},[`& .${b.root}`]:{marginTop:0,marginBottom:0},[`& .${b.inset}`]:{paddingLeft:36},[`& .${v.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.root} svg`]:{fontSize:"1.25rem"}})))),I=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:u=!1,divider:f=!1,disableGutters:g=!1,focusVisibleClassName:y,role:v="menuitem",tabIndex:b,className:w}=n,E=(0,r.A)(n,S),I=i.useContext(h.A),_=i.useMemo((()=>({dense:u||I.dense||!1,disableGutters:g})),[I.dense,u,g]),R=i.useRef(null);(0,p.A)((()=>{l&&R.current&&R.current.focus()}),[l]);const C=(0,o.A)({},n,{dense:_.dense,divider:f,disableGutters:g}),T=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:l}=e,c={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},u=(0,a.A)(c,A,l);return(0,o.A)({},l,u)})(n),P=(0,m.A)(R,t);let D;return n.disabled||(D=void 0!==b?b:-1),(0,x.jsx)(h.A.Provider,{value:_,children:(0,x.jsx)(k,(0,o.A)({ref:P,role:v,tabIndex:D,component:c,focusVisibleClassName:(0,s.A)(T.focusVisible,y),className:(0,s.A)(T.root,w)},E,{ownerState:C,classes:T}))})}))},9741:(e,t,n)=>{"use strict";n.d(t,{A:()=>J});var r=n(8168),o=n(8587),i=n(6540),s=(n(4363),n(4164)),a=n(5659),l=n(3788),c=n(9329),u=n(6248),d=n(9799);const h=n(3205).A;var f=n(6852),p=n(2778),m=n(4848);const g=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function y(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function v(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function b(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function w(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&b(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const A=i.forwardRef((function(e,t){const{actions:n,autoFocus:s=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:A=!1,disableListWrap:E=!1,onKeyDown:x,variant:S="selectedMenu"}=e,k=(0,o.A)(e,g),I=i.useRef(null),_=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,p.A)((()=>{s&&I.current.focus()}),[s]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,{direction:t})=>{const n=!I.current.style.width;if(e.clientHeight<I.current.clientHeight&&n){const n=`${h((0,u.A)(e))}px`;I.current.style["rtl"===t?"paddingLeft":"paddingRight"]=n,I.current.style.width=`calc(100% + ${n})`}return I.current}})),[]);const R=(0,f.A)(I,t);let C=-1;i.Children.forEach(l,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===S&&e.props.selected||-1===C)&&(C=t),C===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(C+=1,C>=l.length&&(C=-1))):C===t&&(C+=1,C>=l.length&&(C=-1))}));const T=i.Children.map(l,((e,t)=>{if(t===C){const t={};return a&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===S&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,m.jsx)(d.A,(0,r.A)({role:"menu",ref:R,className:c,onKeyDown:e=>{const t=I.current,n=e.key,r=(0,u.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),w(t,r,E,A,y);else if("ArrowUp"===n)e.preventDefault(),w(t,r,E,A,v);else if("Home"===n)e.preventDefault(),w(t,null,E,A,y);else if("End"===n)e.preventDefault(),w(t,null,E,A,v);else if(1===n.length){const o=_.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&b(r,o);o.previousKeyMatched&&(a||w(t,r,!1,A,y,o))?e.preventDefault():o.previousKeyMatched=!1}x&&x(e)},tabIndex:s?0:-1},k,{children:T}))}));var E=n(2197),x=n(1848),S=n(5607),k=n(1935),I=n(3749),_=n(7467),R=n(7692),C=n(538),T=n(8413),P=n(1609);function D(e){return(0,P.Ay)("MuiPopover",e)}(0,T.A)("MuiPopover",["root","paper"]);const O=["onEntering"],M=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],N=["slotProps"];function B(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function L(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function F(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function U(e){return"function"==typeof e?e():e}const $=(0,x.Ay)(R.A,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),j=(0,x.Ay)(C.A,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),z=i.forwardRef((function(e,t){var n,l,d;const h=(0,S.b)({props:e,name:"MuiPopover"}),{action:p,anchorEl:g,anchorOrigin:y={vertical:"top",horizontal:"left"},anchorPosition:v,anchorReference:b="anchorEl",children:w,className:A,container:x,elevation:R=8,marginThreshold:C=16,open:T,PaperProps:P={},slots:z,slotProps:V,transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:W=_.A,transitionDuration:q="auto",TransitionProps:{onEntering:K}={},disableScrollLock:G=!1}=h,Y=(0,o.A)(h.TransitionProps,O),Q=(0,o.A)(h,M),Z=null!=(n=null==V?void 0:V.paper)?n:P,J=i.useRef(),X=(0,f.A)(J,Z.ref),ee=(0,r.A)({},h,{anchorOrigin:y,anchorReference:b,elevation:R,marginThreshold:C,externalPaperSlotProps:Z,transformOrigin:H,TransitionComponent:W,transitionDuration:q,TransitionProps:Y}),te=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"],paper:["paper"]},D,t)})(ee),ne=i.useCallback((()=>{if("anchorPosition"===b)return v;const e=U(g),t=(e&&1===e.nodeType?e:(0,u.A)(J.current).body).getBoundingClientRect();return{top:t.top+B(t,y.vertical),left:t.left+L(t,y.horizontal)}}),[g,y.horizontal,y.vertical,v,b]),re=i.useCallback((e=>({vertical:B(e,H.vertical),horizontal:L(e,H.horizontal)})),[H.horizontal,H.vertical]),oe=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=re(t);if("none"===b)return{top:null,left:null,transformOrigin:F(n)};const r=ne();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,l=(0,I.A)(U(g)),c=l.innerHeight-C,u=l.innerWidth-C;if(null!==C&&o<C){const e=o-C;o-=e,n.vertical+=e}else if(null!==C&&s>c){const e=s-c;o-=e,n.vertical+=e}if(null!==C&&i<C){const e=i-C;i-=e,n.horizontal+=e}else if(a>u){const e=a-u;i-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(i)}px`,transformOrigin:F(n)}}),[g,b,ne,re,C]),[ie,se]=i.useState(T),ae=i.useCallback((()=>{const e=J.current;if(!e)return;const t=oe(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,se(!0)}),[oe]);i.useEffect((()=>(G&&window.addEventListener("scroll",ae),()=>window.removeEventListener("scroll",ae))),[g,G,ae]),i.useEffect((()=>{T&&ae()})),i.useImperativeHandle(p,(()=>T?{updatePosition:()=>{ae()}}:null),[T,ae]),i.useEffect((()=>{if(!T)return;const e=(0,k.A)((()=>{ae()})),t=(0,I.A)(g);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[g,T,ae]);let le=q;"auto"!==q||W.muiSupportAuto||(le=void 0);const ce=x||(g?(0,u.A)(U(g)).body:void 0),ue=null!=(l=null==z?void 0:z.root)?l:$,de=null!=(d=null==z?void 0:z.paper)?d:j,he=(0,c.A)({elementType:de,externalSlotProps:(0,r.A)({},Z,{style:ie?Z.style:(0,r.A)({},Z.style,{opacity:0})}),additionalProps:{elevation:R,ref:X},ownerState:ee,className:(0,s.A)(te.paper,null==Z?void 0:Z.className)}),fe=(0,c.A)({elementType:ue,externalSlotProps:(null==V?void 0:V.root)||{},externalForwardedProps:Q,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:ce,open:T},ownerState:ee,className:(0,s.A)(te.root,A)}),{slotProps:pe}=fe,me=(0,o.A)(fe,N);return(0,m.jsx)(ue,(0,r.A)({},me,!(0,E.A)(ue)&&{slotProps:pe,disableScrollLock:G},{children:(0,m.jsx)(W,(0,r.A)({appear:!0,in:T,onEntering:(e,t)=>{K&&K(e,t),ae()},onExited:()=>{se(!1)},timeout:le},Y,{children:(0,m.jsx)(de,(0,r.A)({},he,{children:w}))}))}))}));var V=n(9770);function H(e){return(0,P.Ay)("MuiMenu",e)}(0,T.A)("MuiMenu",["root","paper","list"]);const W=["onEntering"],q=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],K={vertical:"top",horizontal:"right"},G={vertical:"top",horizontal:"left"},Y=(0,x.Ay)(z,{shouldForwardProp:e=>(0,V.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Q=(0,x.Ay)(j,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Z=(0,x.Ay)(A,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),J=i.forwardRef((function(e,t){var n,u;const d=(0,S.b)({props:e,name:"MuiMenu"}),{autoFocus:h=!0,children:f,className:p,disableAutoFocusItem:g=!1,MenuListProps:y={},onClose:v,open:b,PaperProps:w={},PopoverClasses:A,transitionDuration:E="auto",TransitionProps:{onEntering:x}={},variant:k="selectedMenu",slots:I={},slotProps:_={}}=d,R=(0,o.A)(d.TransitionProps,W),C=(0,o.A)(d,q),T=(0,l.I)(),P=(0,r.A)({},d,{autoFocus:h,disableAutoFocusItem:g,MenuListProps:y,onEntering:x,PaperProps:w,transitionDuration:E,TransitionProps:R,variant:k}),D=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"],paper:["paper"],list:["list"]},H,t)})(P),O=h&&!g&&b,M=i.useRef(null);let N=-1;i.Children.map(f,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===k&&e.props.selected||-1===N)&&(N=t))}));const B=null!=(n=I.paper)?n:Q,L=null!=(u=_.paper)?u:w,F=(0,c.A)({elementType:I.root,externalSlotProps:_.root,ownerState:P,className:[D.root,p]}),U=(0,c.A)({elementType:B,externalSlotProps:L,ownerState:P,className:D.paper});return(0,m.jsx)(Y,(0,r.A)({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?K:G,slots:{paper:B,root:I.root},slotProps:{root:F,paper:U},open:b,ref:t,transitionDuration:E,TransitionProps:(0,r.A)({onEntering:(e,t)=>{M.current&&M.current.adjustStyleForScrollbar(e,{direction:T?"rtl":"ltr"}),x&&x(e,t)}},R),ownerState:P},C,{classes:A,children:(0,m.jsx)(Z,(0,r.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:M,autoFocus:h&&(-1===N||g),autoFocusItem:O,variant:k},y,{className:(0,s.A)(D.list,y.className),children:f}))}))}))},7692:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(9329),c=n(3524),u=n(5061),d=n(1848),h=n(5607),f=n(7419),p=n(1523),m=n(2325),g=n(1547);function y(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}var v=n(4959),b=n(4877),w=n(3205);function A(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function E(e){return parseInt((0,b.A)(e).getComputedStyle(e).paddingRight,10)||0}function x(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&A(e,o)}))}function S(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}const k=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&A(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);x(t,e.mount,e.modalRef,r,!0);const o=S(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=S(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=function(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,m.A)(e);return t.body===e?(0,b.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=(0,w.A)((0,m.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${E(r)+e}px`;const t=(0,m.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${E(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,m.A)(r).body;else{const t=r.parentElement,n=(0,b.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}(r,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const r=S(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&A(e.modalRef,t),x(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&A(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};var I=n(8413),_=n(1609);function R(e){return(0,_.Ay)("MuiModal",e)}(0,I.A)("MuiModal",["root","hidden","backdrop"]);var C=n(4848);const T=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],P=(0,d.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,o.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),D=(0,d.Ay)(f.A,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),O=i.forwardRef((function(e,t){var n,d,f,b,w,E;const x=(0,h.b)({name:"MuiModal",props:e}),{BackdropComponent:S=D,BackdropProps:I,className:_,closeAfterTransition:O=!1,children:M,container:N,component:B,components:L={},componentsProps:F={},disableAutoFocus:U=!1,disableEnforceFocus:$=!1,disableEscapeKeyDown:j=!1,disablePortal:z=!1,disableRestoreFocus:V=!1,disableScrollLock:H=!1,hideBackdrop:W=!1,keepMounted:q=!1,onBackdropClick:K,open:G,slotProps:Y,slots:Q}=x,Z=(0,r.A)(x,T),J=(0,o.A)({},x,{closeAfterTransition:O,disableAutoFocus:U,disableEnforceFocus:$,disableEscapeKeyDown:j,disablePortal:z,disableRestoreFocus:V,disableScrollLock:H,hideBackdrop:W,keepMounted:q}),{getRootProps:X,getBackdropProps:ee,getTransitionProps:te,portalRef:ne,isTopModal:re,exited:oe,hasTransition:ie}=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=k,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:f}=e,b=i.useRef({}),w=i.useRef(null),E=i.useRef(null),x=(0,p.A)(E,f),[S,I]=i.useState(!h),_=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let R=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(R=!1);const C=()=>(b.current.modalRef=E.current,b.current.mount=w.current,b.current),T=()=>{s.mount(C(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},P=(0,g.A)((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||(0,m.A)(w.current).body;s.add(C(),e),E.current&&T()})),D=i.useCallback((()=>s.isTopModal(C())),[s]),O=(0,g.A)((e=>{w.current=e,e&&(h&&D()?T():E.current&&A(E.current,R))})),M=i.useCallback((()=>{s.remove(C(),R)}),[R,s]);i.useEffect((()=>()=>{M()}),[M]),i.useEffect((()=>{h?P():_&&a||M()}),[h,M,_,a,P]);const N=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&D()&&(n||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},B=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:(t={})=>{const n=(0,v.A)(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,o.A)({},n,t);return(0,o.A)({role:"presentation"},r,{onKeyDown:N(r),ref:x})},getBackdropProps:(e={})=>{const t=e;return(0,o.A)({"aria-hidden":!0},t,{onClick:B(t),open:h})},getTransitionProps:()=>({onEnter:y((()=>{I(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:y((()=>{I(!0),c&&c(),a&&M()}),null==u?void 0:u.props.onExited)}),rootRef:x,portalRef:O,isTopModal:D,exited:S,hasTransition:_}}((0,o.A)({},J,{rootRef:t})),se=(0,o.A)({},J,{exited:oe}),ae=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,a.A)(o,R,r)})(se),le={};if(void 0===M.props.tabIndex&&(le.tabIndex="-1"),ie){const{onEnter:e,onExited:t}=te();le.onEnter=e,le.onExited=t}const ce=null!=(n=null!=(d=null==Q?void 0:Q.root)?d:L.Root)?n:P,ue=null!=(f=null!=(b=null==Q?void 0:Q.backdrop)?b:L.Backdrop)?f:S,de=null!=(w=null==Y?void 0:Y.root)?w:F.root,he=null!=(E=null==Y?void 0:Y.backdrop)?E:F.backdrop,fe=(0,l.A)({elementType:ce,externalSlotProps:de,externalForwardedProps:Z,getSlotProps:X,additionalProps:{ref:t,as:B},ownerState:se,className:(0,s.A)(_,null==de?void 0:de.className,null==ae?void 0:ae.root,!se.open&&se.exited&&(null==ae?void 0:ae.hidden))}),pe=(0,l.A)({elementType:ue,externalSlotProps:he,additionalProps:I,getSlotProps:e=>ee((0,o.A)({},e,{onClick:t=>{K&&K(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,s.A)(null==he?void 0:he.className,null==I?void 0:I.className,null==ae?void 0:ae.backdrop),ownerState:se});return q||G||ie&&!oe?(0,C.jsx)(u.A,{ref:ne,container:N,disablePortal:z,children:(0,C.jsxs)(ce,(0,o.A)({},fe,{children:[!W&&S?(0,C.jsx)(ue,(0,o.A)({},pe)):null,(0,C.jsx)(c.A,{disableEnforceFocus:$,disableAutoFocus:U,disableRestoreFocus:V,isEnabled:re,open:G,children:i.cloneElement(M,le)})]}))}):null}))},538:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(1848);const u=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var d=n(5607),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiPaper",e)}(0,h.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var m=n(4848);const g=["className","component","elevation","square","variant"],y=(0,c.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return(0,o.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,o.A)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.X4)("#fff",u(t.elevation))}, ${(0,l.X4)("#fff",u(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))})),v=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiPaper"}),{className:i,component:l="div",elevation:c=1,square:u=!1,variant:h="elevation"}=n,f=(0,r.A)(n,g),v=(0,o.A)({},n,{component:l,elevation:c,square:u,variant:h}),b=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,a.A)(i,p,o)})(v);return(0,m.jsx)(y,(0,o.A)({as:l,ownerState:v,className:(0,s.A)(b.root,i),ref:t},f))}))},5061:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(6540),o=n(961),i=n(1523),s=n(1529),a=n(7365),l=n(4848);const c=r.forwardRef((function(e,t){const{children:n,container:c,disablePortal:u=!1}=e,[d,h]=r.useState(null),f=(0,i.A)(r.isValidElement(n)?n.ref:null,t);if((0,s.A)((()=>{u||h(function(e){return"function"==typeof e?e():e}(c)||document.body)}),[c,u]),(0,s.A)((()=>{if(d&&!u)return(0,a.A)(t,d),()=>{(0,a.A)(t,null)}}),[t,d,u]),u){if(r.isValidElement(n)){const e={ref:f};return r.cloneElement(n,e)}return(0,l.jsx)(r.Fragment,{children:n})}return(0,l.jsx)(r.Fragment,{children:d?o.createPortal(n,d):d})}))},4706:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(7437),l=n(5659);var c=n(4279),u=n(1848),d=n(5607),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiSkeleton",e)}(0,h.A)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var m=n(4848);const g=["animation","className","component","height","style","variant","width"];let y,v,b,w,A=e=>e;const E=(0,a.i7)(y||(y=A`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),x=(0,a.i7)(v||(v=A`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),S=(0,u.Ay)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((({theme:e,ownerState:t})=>{const n=(s=e.shape.borderRadius,String(s).match(/[\d.\-+]*\s*(.*)/)[1]||""||"px"),r=(i=e.shape.borderRadius,parseFloat(i));var i,s;return(0,o.A)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,c.X4)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,a.AH)(b||(b=A`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),E)),(({ownerState:e,theme:t})=>"wave"===e.animation&&(0,a.AH)(w||(w=A`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),x,(t.vars||t).palette.action.hover))),k=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:c="span",height:u,style:h,variant:f="text",width:y}=n,v=(0,r.A)(n,g),b=(0,o.A)({},n,{animation:i,component:c,variant:f,hasChildren:Boolean(v.children)}),w=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:s}=e,a={root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]};return(0,l.A)(a,p,t)})(b);return(0,m.jsx)(S,(0,o.A)({as:c,ref:t,className:(0,s.A)(w.root,a),ownerState:b},v,{style:(0,o.A)({width:y,height:u},h)}))}))},423:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(8850),c=n(8466),u=n(5607),d=n(1848),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiTab",e)}const m=(0,h.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]);var g=n(4848);const y=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],v=(0,d.Ay)(l.A,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,c.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${m.iconWrapper}`]:t.iconWrapper}]}})((({theme:e,ownerState:t})=>(0,o.A)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${m.iconWrapper}`]:(0,o.A)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${m.selected}`]:{opacity:1},[`&.${m.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${m.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${m.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${m.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${m.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)}))),b=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiTab"}),{className:l,disabled:d=!1,disableFocusRipple:h=!1,fullWidth:f,icon:m,iconPosition:b="top",indicator:w,label:A,onChange:E,onClick:x,onFocus:S,selected:k,selectionFollowsFocus:I,textColor:_="inherit",value:R,wrapped:C=!1}=n,T=(0,r.A)(n,y),P=(0,o.A)({},n,{disabled:d,disableFocusRipple:h,selected:k,icon:!!m,iconPosition:b,label:!!A,fullWidth:f,textColor:_,wrapped:C}),D=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:l,disabled:u}=e,d={root:["root",i&&s&&"labelIcon",`textColor${(0,c.A)(n)}`,r&&"fullWidth",o&&"wrapped",l&&"selected",u&&"disabled"],iconWrapper:["iconWrapper"]};return(0,a.A)(d,p,t)})(P),O=m&&A&&i.isValidElement(m)?i.cloneElement(m,{className:(0,s.A)(D.iconWrapper,m.props.className)}):m;return(0,g.jsxs)(v,(0,o.A)({focusRipple:!h,className:(0,s.A)(D.root,l),ref:t,role:"tab","aria-selected":k,disabled:d,onClick:e=>{!k&&E&&E(e,R),x&&x(e)},onFocus:e=>{I&&!k&&E&&E(e,R),S&&S(e)},ownerState:P,tabIndex:k?0:-1},T,{children:["top"===b||"start"===b?(0,g.jsxs)(i.Fragment,{children:[O,A]}):(0,g.jsxs)(i.Fragment,{children:[A,O]}),w]}))}))},3884:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(7256),c=n(5607),u=n(1848),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiTableBody",e)}(0,d.A)("MuiTableBody",["root"]);var p=n(4848);const m=["className","component"],g=(0,u.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),y={variant:"body"},v="tbody",b=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTableBody"}),{className:i,component:u=v}=n,d=(0,o.A)(n,m),h=(0,r.A)({},n,{component:u}),b=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},f,t)})(h);return(0,p.jsx)(l.A.Provider,{value:y,children:(0,p.jsx)(g,(0,r.A)({className:(0,s.A)(b.root,i),as:u,ref:t,role:u===v?null:"rowgroup",ownerState:h},d))})}))},4774:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(8466),u=n(2332),d=n(7256),h=n(5607),f=n(1848),p=n(8413),m=n(1609);function g(e){return(0,m.Ay)("MuiTableCell",e)}const y=(0,p.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var v=n(4848);const b=["align","className","component","padding","scope","size","sortDirection","variant"],w=(0,f.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,c.A)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,c.A)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,c.A)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>(0,o.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?(0,l.a)((0,l.X4)(e.palette.divider,1),.88):(0,l.e$)((0,l.X4)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${y.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}))),A=i.forwardRef((function(e,t){const n=(0,h.b)({props:e,name:"MuiTableCell"}),{align:l="inherit",className:f,component:p,padding:m,scope:y,size:A,sortDirection:E,variant:x}=n,S=(0,r.A)(n,b),k=i.useContext(u.A),I=i.useContext(d.A),_=I&&"head"===I.variant;let R;R=p||(_?"th":"td");let C=y;"td"===R?C=void 0:!C&&_&&(C="col");const T=x||I&&I.variant,P=(0,o.A)({},n,{align:l,component:R,padding:m||(k&&k.padding?k.padding:"normal"),size:A||(k&&k.size?k.size:"medium"),sortDirection:E,stickyHeader:"head"===T&&k&&k.stickyHeader,variant:T}),D=(e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:s}=e,l={root:["root",n,s&&"stickyHeader","inherit"!==r&&`align${(0,c.A)(r)}`,"normal"!==o&&`padding${(0,c.A)(o)}`,`size${(0,c.A)(i)}`]};return(0,a.A)(l,g,t)})(P);let O=null;return E&&(O="asc"===E?"ascending":"descending"),(0,v.jsx)(w,(0,o.A)({as:R,ref:t,className:(0,s.A)(D.root,f),"aria-sort":O,scope:C,ownerState:P},S))}))},3198:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(5607),c=n(1848),u=n(8413),d=n(1609);function h(e){return(0,d.Ay)("MuiTableContainer",e)}(0,u.A)("MuiTableContainer",["root"]);var f=n(4848);const p=["className","component"],m=(0,c.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),g=i.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiTableContainer"}),{className:i,component:c="div"}=n,u=(0,o.A)(n,p),d=(0,r.A)({},n,{component:c}),g=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},h,t)})(d);return(0,f.jsx)(m,(0,r.A)({ref:t,as:c,className:(0,s.A)(g.root,i),ownerState:d},u))}))},6627:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(7256),c=n(5607),u=n(1848),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiTableHead",e)}(0,d.A)("MuiTableHead",["root"]);var p=n(4848);const m=["className","component"],g=(0,u.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),y={variant:"head"},v="thead",b=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTableHead"}),{className:i,component:u=v}=n,d=(0,o.A)(n,m),h=(0,r.A)({},n,{component:u}),b=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},f,t)})(h);return(0,p.jsx)(l.A.Provider,{value:y,children:(0,p.jsx)(g,(0,r.A)({as:u,className:(0,s.A)(b.root,i),ref:t,role:u===v?null:"rowgroup",ownerState:h},d))})}))},6798:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(771),c=n(7256),u=n(5607),d=n(1848),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiTableRow",e)}const m=(0,h.A)("MuiTableRow",["root","selected","hover","head","footer"]);var g=n(4848);const y=["className","component","hover","selected"],v=(0,d.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${m.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${m.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),b="tr",w=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiTableRow"}),{className:l,component:d=b,hover:h=!1,selected:f=!1}=n,m=(0,o.A)(n,y),w=i.useContext(c.A),A=(0,r.A)({},n,{component:d,hover:h,selected:f,head:w&&"head"===w.variant,footer:w&&"footer"===w.variant}),E=(e=>{const{classes:t,selected:n,hover:r,head:o,footer:i}=e,s={root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]};return(0,a.A)(s,p,t)})(A);return(0,g.jsx)(v,(0,r.A)({as:d,ref:t,className:(0,s.A)(E.root,l),role:d===b?null:"row",ownerState:A},m))}))},4137:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(2332),c=n(5607),u=n(1848),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiTable",e)}(0,d.A)("MuiTable",["root","stickyHeader"]);var p=n(4848);const m=["className","component","padding","size","stickyHeader"],g=(0,u.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>(0,o.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,o.A)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"}))),y="table",v=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTable"}),{className:u,component:d=y,padding:h="normal",size:v="medium",stickyHeader:b=!1}=n,w=(0,r.A)(n,m),A=(0,o.A)({},n,{component:d,padding:h,size:v,stickyHeader:b}),E=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,a.A)(r,f,t)})(A),x=i.useMemo((()=>({padding:h,size:v,stickyHeader:b})),[h,v,b]);return(0,p.jsx)(l.A.Provider,{value:x,children:(0,p.jsx)(g,(0,o.A)({as:d,role:d===y?null:"table",ref:t,className:(0,s.A)(E.root,u),ownerState:A},w))})}))},2332:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext()},7256:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext()},8878:(e,t,n)=>{"use strict";n.d(t,{A:()=>G});var r=n(8587),o=n(8168),i=n(6540),s=(n(4363),n(4164)),a=n(5659),l=n(3788),c=n(9329),u=n(1848),d=n(5607),h=n(4675),f=n(1935);let p;function m(){if(p)return p;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),p="reverse",e.scrollLeft>0?p="default":(e.scrollLeft=1,0===e.scrollLeft&&(p="negative")),document.body.removeChild(e),p}function g(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(m()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function y(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var v=n(2778),b=n(3749),w=n(4848);const A=["onChange"],E={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var x=n(5003);const S=(0,x.A)((0,w.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),k=(0,x.A)((0,w.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var I=n(8850),_=n(8413),R=n(1609);function C(e){return(0,R.Ay)("MuiTabScrollButton",e)}const T=(0,_.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),P=["className","slots","slotProps","direction","orientation","disabled"],D=(0,u.Ay)(I.A,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((({ownerState:e})=>(0,o.A)({width:40,flexShrink:0,opacity:.8,[`&.${T.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}}))),O=i.forwardRef((function(e,t){var n,i;const u=(0,d.b)({props:e,name:"MuiTabScrollButton"}),{className:h,slots:f={},slotProps:p={},direction:m}=u,g=(0,r.A)(u,P),y=(0,l.I)(),v=(0,o.A)({isRtl:y},u),b=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,a.A)(o,C,t)})(v),A=null!=(n=f.StartScrollButtonIcon)?n:S,E=null!=(i=f.EndScrollButtonIcon)?i:k,x=(0,c.A)({elementType:A,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),I=(0,c.A)({elementType:E,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return(0,w.jsx)(D,(0,o.A)({component:"div",className:(0,s.A)(b.root,h),ref:t,role:null,ownerState:v,tabIndex:null},g,{children:"left"===m?(0,w.jsx)(A,(0,o.A)({},x)):(0,w.jsx)(E,(0,o.A)({},I))}))}));var M=n(3034);function N(e){return(0,R.Ay)("MuiTabs",e)}const B=(0,_.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var L=n(6248);const F=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],U=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,$=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,j=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},z=(0,u.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${B.scrollButtons}`]:t.scrollButtons},{[`& .${B.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((({ownerState:e,theme:t})=>(0,o.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${B.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}))),V=(0,u.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((({ownerState:e})=>(0,o.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"}))),H=(0,u.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((({ownerState:e})=>(0,o.A)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"}))),W=(0,u.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((({ownerState:e,theme:t})=>(0,o.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0}))),q=(0,u.Ay)((function(e){const{onChange:t}=e,n=(0,r.A)(e,A),s=i.useRef(),a=i.useRef(null),l=()=>{s.current=a.current.offsetHeight-a.current.clientHeight};return(0,v.A)((()=>{const e=(0,f.A)((()=>{const e=s.current;l(),e!==s.current&&t(s.current)})),n=(0,b.A)(a.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{l(),t(s.current)}),[t]),(0,w.jsx)("div",(0,o.A)({style:E,ref:a},n))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),K={},G=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiTabs"}),u=(0,h.A)(),p=(0,l.I)(),{"aria-label":v,"aria-labelledby":A,action:E,centered:x=!1,children:S,className:k,component:I="div",allowScrollButtonsMobile:_=!1,indicatorColor:R="primary",onChange:C,orientation:T="horizontal",ScrollButtonComponent:P=O,scrollButtons:D="auto",selectionFollowsFocus:B,slots:G={},slotProps:Y={},TabIndicatorProps:Q={},TabScrollButtonProps:Z={},textColor:J="primary",value:X,variant:ee="standard",visibleScrollbar:te=!1}=n,ne=(0,r.A)(n,F),re="scrollable"===ee,oe="vertical"===T,ie=oe?"scrollTop":"scrollLeft",se=oe?"top":"left",ae=oe?"bottom":"right",le=oe?"clientHeight":"clientWidth",ce=oe?"height":"width",ue=(0,o.A)({},n,{component:I,allowScrollButtonsMobile:_,indicatorColor:R,orientation:T,vertical:oe,scrollButtons:D,textColor:J,variant:ee,visibleScrollbar:te,fixed:!re,hideScrollbar:re&&!te,scrollableX:re&&!oe,scrollableY:re&&oe,centered:x&&!re,scrollButtonsHideMobile:!_}),de=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:l,classes:c}=e,u={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,a.A)(u,N,c)})(ue),he=(0,c.A)({elementType:G.StartScrollButtonIcon,externalSlotProps:Y.startScrollButtonIcon,ownerState:ue}),fe=(0,c.A)({elementType:G.EndScrollButtonIcon,externalSlotProps:Y.endScrollButtonIcon,ownerState:ue}),[pe,me]=i.useState(!1),[ge,ye]=i.useState(K),[ve,be]=i.useState(!1),[we,Ae]=i.useState(!1),[Ee,xe]=i.useState(!1),[Se,ke]=i.useState({overflow:"hidden",scrollbarWidth:0}),Ie=new Map,_e=i.useRef(null),Re=i.useRef(null),Ce=()=>{const e=_e.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:g(e,p?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==X){const e=Re.current.children;if(e.length>0){const t=e[Ie.get(X)];n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},Te=(0,M.A)((()=>{const{tabsMeta:e,tabMeta:t}=Ce();let n,r=0;if(oe)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=p?"right":"left",t&&e){const o=p?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(p?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[ce]:t?t[ce]:0};if(isNaN(ge[n])||isNaN(ge[ce]))ye(o);else{const e=Math.abs(ge[n]-o[n]),t=Math.abs(ge[ce]-o[ce]);(e>=1||t>=1)&&ye(o)}})),Pe=(e,{animation:t=!0}={})=>{t?function(e,t,n,r={},o=()=>{}){const{ease:i=y,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=r=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=r);const d=Math.min(1,(r-a)/s);t[e]=i(d)*(n-l)+l,d>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(u)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(u)}(ie,_e.current,e,{duration:u.transitions.duration.standard}):_e.current[ie]=e},De=e=>{let t=_e.current[ie];oe?t+=e:(t+=e*(p?-1:1),t*=p&&"reverse"===m()?-1:1),Pe(t)},Oe=()=>{const e=_e.current[le];let t=0;const n=Array.from(Re.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[le]>e){0===r&&(t=e);break}t+=o[le]}return t},Me=()=>{De(-1*Oe())},Ne=()=>{De(Oe())},Be=i.useCallback((e=>{ke({overflow:null,scrollbarWidth:e})}),[]),Le=(0,M.A)((e=>{const{tabsMeta:t,tabMeta:n}=Ce();if(n&&t)if(n[se]<t[se]){const r=t[ie]+(n[se]-t[se]);Pe(r,{animation:e})}else if(n[ae]>t[ae]){const r=t[ie]+(n[ae]-t[ae]);Pe(r,{animation:e})}})),Fe=(0,M.A)((()=>{re&&!1!==D&&xe(!Ee)}));i.useEffect((()=>{const e=(0,f.A)((()=>{_e.current&&Te()}));let t;const n=(0,b.A)(_e.current);let r;return n.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(Re.current.children).forEach((e=>{t.observe(e)}))),"undefined"!=typeof MutationObserver&&(r=new MutationObserver((n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),Fe()})),r.observe(Re.current,{childList:!0})),()=>{var o,i;e.clear(),n.removeEventListener("resize",e),null==(o=r)||o.disconnect(),null==(i=t)||i.disconnect()}}),[Te,Fe]),i.useEffect((()=>{const e=Array.from(Re.current.children),t=e.length;if("undefined"!=typeof IntersectionObserver&&t>0&&re&&!1!==D){const n=e[0],r=e[t-1],o={root:_e.current,threshold:.99},i=new IntersectionObserver((e=>{be(!e[0].isIntersecting)}),o);i.observe(n);const s=new IntersectionObserver((e=>{Ae(!e[0].isIntersecting)}),o);return s.observe(r),()=>{i.disconnect(),s.disconnect()}}}),[re,D,Ee,null==S?void 0:S.length]),i.useEffect((()=>{me(!0)}),[]),i.useEffect((()=>{Te()})),i.useEffect((()=>{Le(K!==ge)}),[Le,ge]),i.useImperativeHandle(E,(()=>({updateIndicator:Te,updateScrollButtons:Fe})),[Te,Fe]);const Ue=(0,w.jsx)(W,(0,o.A)({},Q,{className:(0,s.A)(de.indicator,Q.className),ownerState:ue,style:(0,o.A)({},ge,Q.style)}));let $e=0;const je=i.Children.map(S,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?$e:e.props.value;Ie.set(t,$e);const n=t===X;return $e+=1,i.cloneElement(e,(0,o.A)({fullWidth:"fullWidth"===ee,indicator:n&&!pe&&Ue,selected:n,selectionFollowsFocus:B,onChange:C,textColor:J,value:t},1!==$e||!1!==X||e.props.tabIndex?{}:{tabIndex:0}))})),ze=(()=>{const e={};e.scrollbarSizeListener=re?(0,w.jsx)(q,{onChange:Be,className:(0,s.A)(de.scrollableX,de.hideScrollbar)}):null;const t=re&&("auto"===D&&(ve||we)||!0===D);return e.scrollButtonStart=t?(0,w.jsx)(P,(0,o.A)({slots:{StartScrollButtonIcon:G.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:he},orientation:T,direction:p?"right":"left",onClick:Me,disabled:!ve},Z,{className:(0,s.A)(de.scrollButtons,Z.className)})):null,e.scrollButtonEnd=t?(0,w.jsx)(P,(0,o.A)({slots:{EndScrollButtonIcon:G.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:fe},orientation:T,direction:p?"left":"right",onClick:Ne,disabled:!we},Z,{className:(0,s.A)(de.scrollButtons,Z.className)})):null,e})();return(0,w.jsxs)(z,(0,o.A)({className:(0,s.A)(de.root,k),ownerState:ue,ref:t,as:I},ne,{children:[ze.scrollButtonStart,ze.scrollbarSizeListener,(0,w.jsxs)(V,{className:de.scroller,ownerState:ue,style:{overflow:Se.overflow,[oe?"margin"+(p?"Left":"Right"):"marginBottom"]:te?void 0:-Se.scrollbarWidth},ref:_e,children:[(0,w.jsx)(H,{"aria-label":v,"aria-labelledby":A,"aria-orientation":"vertical"===T?"vertical":null,className:de.flexContainer,ownerState:ue,onKeyDown:e=>{const t=Re.current,n=(0,L.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===T?"ArrowLeft":"ArrowUp",o="horizontal"===T?"ArrowRight":"ArrowDown";switch("horizontal"===T&&p&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),j(t,n,$);break;case o:e.preventDefault(),j(t,n,U);break;case"Home":e.preventDefault(),j(t,null,U);break;case"End":e.preventDefault(),j(t,null,$)}},ref:Re,role:"tablist",children:je}),pe&&Ue]}),ze.scrollButtonEnd]}))}))},7361:(e,t,n)=>{"use strict";n.d(t,{A:()=>it});var r=n(8168),o=n(8587),i=n(6540),s=n(4164),a=n(5659),l=n(4661),c=n(1848),u=n(5607),d=n(1317),h=n(9453),f=n(2197),p=n(1523),m=n(4877),g=n(1529),y=n(4705),v=n(4848);const b=["onChange","maxRows","minRows","style","value"];function w(e){return parseInt(e,10)||0}const A={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},E=i.forwardRef((function(e,t){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c}=e,u=(0,o.A)(e,b),{current:d}=i.useRef(null!=c),h=i.useRef(null),f=(0,p.A)(t,h),E=i.useRef(null),x=i.useRef(null),S=i.useCallback((()=>{const t=h.current,n=(0,m.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=x.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,i=w(n.paddingBottom)+w(n.paddingTop),l=w(n.borderBottomWidth)+w(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let d=c;return a&&(d=Math.max(Number(a)*u,d)),s&&(d=Math.min(Number(s)*u,d)),d=Math.max(d,u),{outerHeightStyle:d+("border-box"===o?i+l:0),overflowing:Math.abs(d-c)<=1}}),[s,a,e.placeholder]),k=i.useCallback((()=>{const e=S();if(null==(t=e)||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=h.current;E.current!==n&&(E.current=n,r.style.height=`${n}px`),r.style.overflow=e.overflowing?"hidden":""}),[S]);return(0,g.A)((()=>{const e=()=>{k()};const t=(0,y.A)(e),n=h.current,r=(0,m.A)(n);let o;return r.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(n)),()=>{t.clear(),cancelAnimationFrame(undefined),r.removeEventListener("resize",t),o&&o.disconnect()}}),[S,k]),(0,g.A)((()=>{k()})),(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)("textarea",(0,r.A)({value:c,onChange:e=>{d||k(),n&&n(e)},ref:f,rows:a,style:l},u)),(0,v.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:(0,r.A)({},A,l,{paddingTop:0,paddingBottom:0})})]})}));var x=n(8086),S=n(3800),k=n(9716),I=n(8466),_=n(6852),R=n(2778),C=n(9940),T=n(2858);const P=function({styles:e,themeId:t,defaultTheme:n={}}){const r=(0,T.A)(n),o="function"==typeof e?e(t&&r[t]||r):e;return(0,v.jsx)(C.A,{styles:o})};var D=n(2765),O=n(8312);const M=function(e){return(0,v.jsx)(P,(0,r.A)({},e,{defaultTheme:D.A,themeId:O.A}))};var N=n(2891),B=n(8413),L=n(1609);function F(e){return(0,L.Ay)("MuiInputBase",e)}const U=(0,B.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),$=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],j=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,I.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},z=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},V=(0,c.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:j})((({theme:e,ownerState:t})=>(0,r.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${U.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,r.A)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),H=(0,c.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:z})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,o=(0,r.A)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,r.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${U.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${U.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),W=(0,v.jsx)(M,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),q=i.forwardRef((function(e,t){var n;const l=(0,u.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:d,autoFocus:p,className:m,components:g={},componentsProps:y={},defaultValue:b,disabled:w,disableInjectingGlobalStyles:A,endAdornment:C,fullWidth:T=!1,id:P,inputComponent:D="input",inputProps:O={},inputRef:M,maxRows:B,minRows:L,multiline:U=!1,name:j,onBlur:z,onChange:q,onClick:K,onFocus:G,onKeyDown:Y,onKeyUp:Q,placeholder:Z,readOnly:J,renderSuffix:X,rows:ee,slotProps:te={},slots:ne={},startAdornment:re,type:oe="text",value:ie}=l,se=(0,o.A)(l,$),ae=null!=O.value?O.value:ie,{current:le}=i.useRef(null!=ae),ce=i.useRef(),ue=i.useCallback((e=>{}),[]),de=(0,_.A)(ce,M,O.ref,ue),[he,fe]=i.useState(!1),pe=(0,k.A)(),me=(0,x.A)({props:l,muiFormControl:pe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});me.focused=pe?pe.focused:he,i.useEffect((()=>{!pe&&w&&he&&(fe(!1),z&&z())}),[pe,w,he,z]);const ge=pe&&pe.onFilled,ye=pe&&pe.onEmpty,ve=i.useCallback((e=>{(0,N.lq)(e)?ge&&ge():ye&&ye()}),[ge,ye]);(0,R.A)((()=>{le&&ve({value:ae})}),[ae,ve,le]),i.useEffect((()=>{ve(ce.current)}),[]);let be=D,we=O;U&&"input"===be&&(we=ee?(0,r.A)({type:void 0,minRows:ee,maxRows:ee},we):(0,r.A)({type:void 0,maxRows:B,minRows:L},we),be=E),i.useEffect((()=>{pe&&pe.setAdornedStart(Boolean(re))}),[pe,re]);const Ae=(0,r.A)({},l,{color:me.color||"primary",disabled:me.disabled,endAdornment:C,error:me.error,focused:me.focused,formControl:pe,fullWidth:T,hiddenLabel:me.hiddenLabel,multiline:U,size:me.size,startAdornment:re,type:oe}),Ee=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:l,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:h,size:f,startAdornment:p,type:m}=e,g={root:["root",`color${(0,I.A)(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",l&&"formControl",f&&"medium"!==f&&`size${(0,I.A)(f)}`,d&&"multiline",p&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===f&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return(0,a.A)(g,F,t)})(Ae),xe=ne.root||g.Root||V,Se=te.root||y.root||{},ke=ne.input||g.Input||H;return we=(0,r.A)({},we,null!=(n=te.input)?n:y.input),(0,v.jsxs)(i.Fragment,{children:[!A&&W,(0,v.jsxs)(xe,(0,r.A)({},Se,!(0,f.A)(xe)&&{ownerState:(0,r.A)({},Ae,Se.ownerState)},{ref:t,onClick:e=>{ce.current&&e.currentTarget===e.target&&ce.current.focus(),K&&K(e)}},se,{className:(0,s.A)(Ee.root,Se.className,m,J&&"MuiInputBase-readOnly"),children:[re,(0,v.jsx)(S.A.Provider,{value:null,children:(0,v.jsx)(ke,(0,r.A)({ownerState:Ae,"aria-invalid":me.error,"aria-describedby":c,autoComplete:d,autoFocus:p,defaultValue:b,disabled:me.disabled,id:P,onAnimationStart:e=>{ve("mui-auto-fill-cancel"===e.animationName?ce.current:{value:"x"})},name:j,placeholder:Z,readOnly:J,required:me.required,rows:ee,value:ae,onKeyDown:Y,onKeyUp:Q,type:oe},we,!(0,f.A)(ke)&&{as:be,ownerState:(0,r.A)({},Ae,we.ownerState)},{ref:de,className:(0,s.A)(Ee.input,we.className,J&&"MuiInputBase-readOnly"),onBlur:e=>{z&&z(e),O.onBlur&&O.onBlur(e),pe&&pe.onBlur?pe.onBlur(e):fe(!1)},onChange:(e,...t)=>{if(!le){const t=e.target||ce.current;if(null==t)throw new Error((0,h.A)(1));ve({value:t.value})}O.onChange&&O.onChange(e,...t),q&&q(e,...t)},onFocus:e=>{me.disabled?e.stopPropagation():(G&&G(e),O.onFocus&&O.onFocus(e),pe&&pe.onFocus?pe.onFocus(e):fe(!0))}}))}),C,X?X((0,r.A)({},me,{startAdornment:re})):null]}))]})})),K=q;var G=n(9770);function Y(e){return(0,L.Ay)("MuiInput",e)}const Q=(0,r.A)({},U,(0,B.A)("MuiInput",["root","underline","input"])),Z=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],J=(0,c.Ay)(V,{shouldForwardProp:e=>(0,G.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...j(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,r.A)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Q.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Q.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Q.disabled}, .${Q.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Q.disabled}:before`]:{borderBottomStyle:"dotted"}})})),X=(0,c.Ay)(H,{name:"MuiInput",slot:"Input",overridesResolver:z})({}),ee=i.forwardRef((function(e,t){var n,i,s,l;const c=(0,u.b)({props:e,name:"MuiInput"}),{disableUnderline:h,components:f={},componentsProps:p,fullWidth:m=!1,inputComponent:g="input",multiline:y=!1,slotProps:b,slots:w={},type:A="text"}=c,E=(0,o.A)(c,Z),x=(e=>{const{classes:t,disableUnderline:n}=e,o={root:["root",!n&&"underline"],input:["input"]},i=(0,a.A)(o,Y,t);return(0,r.A)({},t,i)})(c),S={root:{ownerState:{disableUnderline:h}}},k=(null!=b?b:p)?(0,d.A)(null!=b?b:p,S):S,I=null!=(n=null!=(i=w.root)?i:f.Root)?n:J,_=null!=(s=null!=(l=w.input)?l:f.Input)?s:X;return(0,v.jsx)(K,(0,r.A)({slots:{root:I,input:_},slotProps:k,fullWidth:m,inputComponent:g,multiline:y,ref:t,type:A},E,{classes:x}))}));ee.muiName="Input";const te=ee;function ne(e){return(0,L.Ay)("MuiFilledInput",e)}const re=(0,r.A)({},U,(0,B.A)("MuiFilledInput",["root","underline","input"])),oe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ie=(0,c.Ay)(V,{shouldForwardProp:e=>(0,G.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...j(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{var n;const o="light"===e.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,r.A)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${re.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${re.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(n=(e.vars||e).palette[t.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${re.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${re.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${re.disabled}, .${re.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${re.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,r.A)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))})),se=(0,c.Ay)(H,{name:"MuiFilledInput",slot:"Input",overridesResolver:z})((({theme:e,ownerState:t})=>(0,r.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}))),ae=i.forwardRef((function(e,t){var n,i,s,l;const c=(0,u.b)({props:e,name:"MuiFilledInput"}),{components:h={},componentsProps:f,fullWidth:p=!1,inputComponent:m="input",multiline:g=!1,slotProps:y,slots:b={},type:w="text"}=c,A=(0,o.A)(c,oe),E=(0,r.A)({},c,{fullWidth:p,inputComponent:m,multiline:g,type:w}),x=(e=>{const{classes:t,disableUnderline:n}=e,o={root:["root",!n&&"underline"],input:["input"]},i=(0,a.A)(o,ne,t);return(0,r.A)({},t,i)})(c),S={root:{ownerState:E},input:{ownerState:E}},k=(null!=y?y:f)?(0,d.A)(S,null!=y?y:f):S,I=null!=(n=null!=(i=b.root)?i:h.Root)?n:ie,_=null!=(s=null!=(l=b.input)?l:h.Input)?s:se;return(0,v.jsx)(K,(0,r.A)({slots:{root:I,input:_},componentsProps:k,fullWidth:p,inputComponent:m,multiline:g,ref:t,type:w},A,{classes:x}))}));ae.muiName="Input";const le=ae;var ce;const ue=["children","classes","className","label","notched"],de=(0,c.Ay)("fieldset",{shouldForwardProp:G.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),he=(0,c.Ay)("legend",{shouldForwardProp:G.A})((({ownerState:e,theme:t})=>(0,r.A)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,r.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));function fe(e){return(0,L.Ay)("MuiOutlinedInput",e)}const pe=(0,r.A)({},U,(0,B.A)("MuiOutlinedInput",["root","notchedOutline","input"])),me=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ge=(0,c.Ay)(V,{shouldForwardProp:e=>(0,G.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:j})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.A)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${pe.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${pe.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${pe.focused} .${pe.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${pe.error} .${pe.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${pe.disabled} .${pe.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,r.A)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),ye=(0,c.Ay)((function(e){const{className:t,label:n,notched:i}=e,s=(0,o.A)(e,ue),a=null!=n&&""!==n,l=(0,r.A)({},e,{notched:i,withLabel:a});return(0,v.jsx)(de,(0,r.A)({"aria-hidden":!0,className:t,ownerState:l},s,{children:(0,v.jsx)(he,{ownerState:l,children:a?(0,v.jsx)("span",{children:n}):ce||(ce=(0,v.jsx)("span",{className:"notranslate",children:"​"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),ve=(0,c.Ay)(H,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:z})((({theme:e,ownerState:t})=>(0,r.A)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),be=i.forwardRef((function(e,t){var n,s,l,c,d;const h=(0,u.b)({props:e,name:"MuiOutlinedInput"}),{components:f={},fullWidth:p=!1,inputComponent:m="input",label:g,multiline:y=!1,notched:b,slots:w={},type:A="text"}=h,E=(0,o.A)(h,me),S=(e=>{const{classes:t}=e,n=(0,a.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fe,t);return(0,r.A)({},t,n)})(h),I=(0,k.A)(),_=(0,x.A)({props:h,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R=(0,r.A)({},h,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:I,fullWidth:p,hiddenLabel:_.hiddenLabel,multiline:y,size:_.size,type:A}),C=null!=(n=null!=(s=w.root)?s:f.Root)?n:ge,T=null!=(l=null!=(c=w.input)?c:f.Input)?l:ve;return(0,v.jsx)(K,(0,r.A)({slots:{root:C,input:T},renderSuffix:e=>(0,v.jsx)(ye,{ownerState:R,className:S.notchedOutline,label:null!=g&&""!==g&&_.required?d||(d=(0,v.jsxs)(i.Fragment,{children:[g," ","*"]})):g,notched:void 0!==b?b:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:p,inputComponent:m,multiline:y,ref:t,type:A},E,{classes:(0,r.A)({},S,{notchedOutline:null})}))}));be.muiName="Input";const we=be;var Ae=n(4433),Ee=n(779),xe=n(6347),Se=(n(4363),n(6248)),ke=n(9741);function Ie(e){return(0,L.Ay)("MuiNativeSelect",e)}const _e=(0,B.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Re=["className","disabled","error","IconComponent","inputRef","variant"],Ce=({ownerState:e,theme:t})=>(0,r.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,r.A)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${_e.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Te=(0,c.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:G.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${_e.multiple}`]:t.multiple}]}})(Ce),Pe=({ownerState:e,theme:t})=>(0,r.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${_e.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),De=(0,c.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,I.A)(n.variant)}`],n.open&&t.iconOpen]}})(Pe),Oe=i.forwardRef((function(e,t){const{className:n,disabled:l,error:c,IconComponent:u,inputRef:d,variant:h="standard"}=e,f=(0,o.A)(e,Re),p=(0,r.A)({},e,{disabled:l,variant:h,error:c}),m=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,l={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,I.A)(n)}`,i&&"iconOpen",r&&"disabled"]};return(0,a.A)(l,Ie,t)})(p);return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(Te,(0,r.A)({ownerState:p,className:(0,s.A)(m.select,n),disabled:l,ref:d||t},f)),e.multiple?null:(0,v.jsx)(De,{as:u,ownerState:p,className:m.icon})]})}));var Me=n(4438);const Ne=n(2501).A;function Be(e){return(0,L.Ay)("MuiSelect",e)}const Le=(0,B.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Fe;const Ue=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],$e=(0,c.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Le.select}`]:t.select},{[`&.${Le.select}`]:t[n.variant]},{[`&.${Le.error}`]:t.error},{[`&.${Le.multiple}`]:t.multiple}]}})(Ce,{[`&.${Le.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),je=(0,c.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,I.A)(n.variant)}`],n.open&&t.iconOpen]}})(Pe),ze=(0,c.Ay)("input",{shouldForwardProp:e=>(0,Me.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ve(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}function He(e){return null==e||"string"==typeof e&&!e.trim()}const We=i.forwardRef((function(e,t){var n;const{"aria-describedby":c,"aria-label":u,autoFocus:d,autoWidth:f,children:p,className:m,defaultOpen:g,defaultValue:y,disabled:b,displayEmpty:w,error:A=!1,IconComponent:E,inputRef:x,labelId:S,MenuProps:k={},multiple:R,name:C,onBlur:T,onChange:P,onClose:D,onFocus:O,onOpen:M,open:B,readOnly:L,renderValue:F,SelectDisplayProps:U={},tabIndex:$,value:j,variant:z="standard"}=e,V=(0,o.A)(e,Ue),[H,W]=Ne({controlled:j,default:y,name:"Select"}),[q,K]=Ne({controlled:B,default:g,name:"Select"}),G=i.useRef(null),Y=i.useRef(null),[Q,Z]=i.useState(null),{current:J}=i.useRef(null!=B),[X,ee]=i.useState(),te=(0,_.A)(t,x),ne=i.useCallback((e=>{Y.current=e,e&&Z(e)}),[]),re=null==Q?void 0:Q.parentNode;i.useImperativeHandle(te,(()=>({focus:()=>{Y.current.focus()},node:G.current,value:H})),[H]),i.useEffect((()=>{g&&q&&Q&&!J&&(ee(f?null:re.clientWidth),Y.current.focus())}),[Q,f]),i.useEffect((()=>{d&&Y.current.focus()}),[d]),i.useEffect((()=>{if(!S)return;const e=(0,Se.A)(Y.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&Y.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[S]);const oe=(e,t)=>{e?M&&M(t):D&&D(t),J||(ee(f?null:re.clientWidth),K(e))},ie=i.Children.toArray(p),se=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(R){n=Array.isArray(H)?H.slice():[];const t=H.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),H!==n&&(W(n),P)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:C}}),P(o,e)}R||oe(!1,t)}},ae=null!==Q&&q;let le,ce;delete V["aria-invalid"];const ue=[];let de=!1,he=!1;((0,N.lq)({value:H})||w)&&(F?le=F(H):de=!0);const fe=ie.map((e=>{if(!i.isValidElement(e))return null;let t;if(R){if(!Array.isArray(H))throw new Error((0,h.A)(2));t=H.some((t=>Ve(t,e.props.value))),t&&de&&ue.push(e.props.children)}else t=Ve(H,e.props.value),t&&de&&(ce=e.props.children);return t&&(he=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:se(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));de&&(le=R?0===ue.length?null:ue.reduce(((e,t,n)=>(e.push(t),n<ue.length-1&&e.push(", "),e)),[]):ce);let pe,me=X;!f&&J&&Q&&(me=re.clientWidth),pe=void 0!==$?$:b?null:0;const ge=U.id||(C?`mui-component-select-${C}`:void 0),ye=(0,r.A)({},e,{variant:z,value:H,open:ae,error:A}),ve=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,l={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,I.A)(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,a.A)(l,Be,t)})(ye),be=(0,r.A)({},k.PaperProps,null==(n=k.slotProps)?void 0:n.paper),we=(0,l.A)();return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)($e,(0,r.A)({ref:ne,tabIndex:pe,role:"combobox","aria-controls":we,"aria-disabled":b?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[S,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":c,onKeyDown:e=>{L||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))},onMouseDown:b||L?null:e=>{0===e.button&&(e.preventDefault(),Y.current.focus(),oe(!0,e))},onBlur:e=>{!ae&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:C}}),T(e))},onFocus:O},U,{ownerState:ye,className:(0,s.A)(U.className,ve.select,m),id:ge,children:He(le)?Fe||(Fe=(0,v.jsx)("span",{className:"notranslate",children:"​"})):le})),(0,v.jsx)(ze,(0,r.A)({"aria-invalid":A,value:Array.isArray(H)?H.join(","):H,name:C,ref:G,"aria-hidden":!0,onChange:e=>{const t=ie.find((t=>t.props.value===e.target.value));void 0!==t&&(W(t.props.value),P&&P(e,t))},tabIndex:-1,disabled:b,className:ve.nativeInput,autoFocus:d,ownerState:ye},V)),(0,v.jsx)(je,{as:E,className:ve.icon,ownerState:ye}),(0,v.jsx)(ke.A,(0,r.A)({id:`menu-${C||""}`,anchorEl:re,open:ae,onClose:e=>{oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:(0,r.A)({"aria-labelledby":S,role:"listbox","aria-multiselectable":R?"true":void 0,disableListWrap:!0,id:we},k.MenuListProps),slotProps:(0,r.A)({},k.slotProps,{paper:(0,r.A)({},be,{style:(0,r.A)({minWidth:me},null!=be?be.style:null)})}),children:fe}))]})})),qe=(0,n(5003).A)((0,v.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ke=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ge=["root"],Ye={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,G.A)(e)&&"variant"!==e,slot:"Root"},Qe=(0,c.Ay)(te,Ye)(""),Ze=(0,c.Ay)(we,Ye)(""),Je=(0,c.Ay)(le,Ye)(""),Xe=i.forwardRef((function(e,t){const n=(0,u.b)({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:l,classes:c={},className:h,defaultOpen:f=!1,displayEmpty:p=!1,IconComponent:m=qe,id:g,input:y,inputProps:b,label:w,labelId:A,MenuProps:E,multiple:S=!1,native:I=!1,onClose:R,onOpen:C,open:T,renderValue:P,SelectDisplayProps:D,variant:O="outlined"}=n,M=(0,o.A)(n,Ke),N=I?Oe:We,B=(0,k.A)(),L=(0,x.A)({props:n,muiFormControl:B,states:["variant","error"]}),F=L.variant||O,U=(0,r.A)({},n,{variant:F,classes:c}),$=(e=>{const{classes:t}=e;return t})(U),j=(0,o.A)($,Ge),z=y||{standard:(0,v.jsx)(Qe,{ownerState:U}),outlined:(0,v.jsx)(Ze,{label:w,ownerState:U}),filled:(0,v.jsx)(Je,{ownerState:U})}[F],V=(0,_.A)(t,z.ref);return(0,v.jsx)(i.Fragment,{children:i.cloneElement(z,(0,r.A)({inputComponent:N,inputProps:(0,r.A)({children:l,error:L.error,IconComponent:m,variant:F,type:void 0,multiple:S},I?{id:g}:{autoWidth:a,defaultOpen:f,displayEmpty:p,labelId:A,MenuProps:E,onClose:R,onOpen:C,open:T,renderValue:P,SelectDisplayProps:(0,r.A)({id:g},D)},b,{classes:b?(0,d.A)(j,b.classes):j},y?y.props.inputProps:{})},(S&&I||p)&&"outlined"===F?{notched:!0}:{},{ref:V,className:(0,s.A)(z.props.className,h,$.root)},!y&&{variant:F},M))})}));Xe.muiName="Select";const et=Xe;function tt(e){return(0,L.Ay)("MuiTextField",e)}(0,B.A)("MuiTextField",["root"]);const nt=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],rt={standard:te,filled:le,outlined:we},ot=(0,c.Ay)(Ee.A,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),it=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:c=!1,children:d,className:h,color:f="primary",defaultValue:p,disabled:m=!1,error:g=!1,FormHelperTextProps:y,fullWidth:b=!1,helperText:w,id:A,InputLabelProps:E,inputProps:x,InputProps:S,inputRef:k,label:I,maxRows:_,minRows:R,multiline:C=!1,name:T,onBlur:P,onChange:D,onFocus:O,placeholder:M,required:N=!1,rows:B,select:L=!1,SelectProps:F,type:U,value:$,variant:j="outlined"}=n,z=(0,o.A)(n,nt),V=(0,r.A)({},n,{autoFocus:c,color:f,disabled:m,error:g,fullWidth:b,multiline:C,required:N,select:L,variant:j}),H=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},tt,t)})(V),W={};"outlined"===j&&(E&&void 0!==E.shrink&&(W.notched=E.shrink),W.label=I),L&&(F&&F.native||(W.id=void 0),W["aria-describedby"]=void 0);const q=(0,l.A)(A),K=w&&q?`${q}-helper-text`:void 0,G=I&&q?`${q}-label`:void 0,Y=rt[j],Q=(0,v.jsx)(Y,(0,r.A)({"aria-describedby":K,autoComplete:i,autoFocus:c,defaultValue:p,fullWidth:b,multiline:C,name:T,rows:B,maxRows:_,minRows:R,type:U,value:$,id:q,inputRef:k,onBlur:P,onChange:D,onFocus:O,placeholder:M,inputProps:x},W,S));return(0,v.jsxs)(ot,(0,r.A)({className:(0,s.A)(H.root,h),disabled:m,error:g,fullWidth:b,ref:t,required:N,color:f,variant:j,ownerState:V},z,{children:[null!=I&&""!==I&&(0,v.jsx)(Ae.A,(0,r.A)({htmlFor:q,id:G},E,{children:I})),L?(0,v.jsx)(et,(0,r.A)({"aria-describedby":K,id:q,labelId:G,value:$,input:Q},F,{children:d})):Q,w&&(0,v.jsx)(xe.A,(0,r.A)({id:K},y,{children:w}))]}))}))},8532:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(5659),l=n(5607),c=n(1848),u=n(8413),d=n(1609);function h(e){return(0,d.Ay)("MuiToolbar",e)}(0,u.A)("MuiToolbar",["root","gutters","regular","dense"]);var f=n(4848);const p=["className","component","disableGutters","variant"],m=(0,c.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar)),g=i.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiToolbar"}),{className:i,component:c="div",disableGutters:u=!1,variant:d="regular"}=n,g=(0,r.A)(n,p),y=(0,o.A)({},n,{component:c,disableGutters:u,variant:d}),v=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,a.A)(o,h,t)})(y);return(0,f.jsx)(m,(0,o.A)({as:c,className:(0,s.A)(v.root,i),ref:t,ownerState:y},g))}))},4073:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(8587),o=n(8168),i=n(6540),s=n(4164),a=n(9599),l=n(5659),c=n(1848),u=n(5607),d=n(8466),h=n(8413),f=n(1609);function p(e){return(0,f.Ay)("MuiTypography",e)}(0,h.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(4848);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],y=(0,c.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,o.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiTypography"}),i=(e=>b[e]||e)(n.color),c=(0,a.A)((0,o.A)({},n,{color:i})),{align:h="inherit",className:f,component:w,gutterBottom:A=!1,noWrap:E=!1,paragraph:x=!1,variant:S="body1",variantMapping:k=v}=c,I=(0,r.A)(c,g),_=(0,o.A)({},c,{align:h,color:i,className:f,component:w,gutterBottom:A,noWrap:E,paragraph:x,variant:S,variantMapping:k}),R=w||(x?"p":k[S]||v[S])||"span",C=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,"inherit"!==e.align&&`align${(0,d.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,l.A)(a,p,s)})(_);return(0,m.jsx)(y,(0,o.A)({as:R,ref:t,ownerState:_,className:(0,s.A)(C.root,f)},I))}))},3524:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(6540),o=n(1523),i=n(2325),s=n(4848);const a=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function l(e){const t=[],n=[];return Array.from(e.querySelectorAll(a)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function c(){return!0}const u=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:a=!1,disableRestoreFocus:u=!1,getTabbable:d=l,isEnabled:h=c,open:f}=e,p=r.useRef(!1),m=r.useRef(null),g=r.useRef(null),y=r.useRef(null),v=r.useRef(null),b=r.useRef(!1),w=r.useRef(null),A=(0,o.A)(t.ref,w),E=r.useRef(null);r.useEffect((()=>{f&&w.current&&(b.current=!n)}),[n,f]),r.useEffect((()=>{if(!f||!w.current)return;const e=(0,i.A)(w.current);return w.current.contains(e.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),b.current&&w.current.focus()),()=>{u||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}),[f]),r.useEffect((()=>{if(!f||!w.current)return;const e=(0,i.A)(w.current),t=t=>{E.current=t,!a&&h()&&"Tab"===t.key&&e.activeElement===w.current&&t.shiftKey&&(p.current=!0,g.current&&g.current.focus())},n=()=>{const t=w.current;if(null===t)return;if(!e.hasFocus()||!h()||p.current)return void(p.current=!1);if(t.contains(e.activeElement))return;if(a&&e.activeElement!==m.current&&e.activeElement!==g.current)return;if(e.activeElement!==v.current)v.current=null;else if(null!==v.current)return;if(!b.current)return;let n=[];if(e.activeElement!==m.current&&e.activeElement!==g.current||(n=d(w.current)),n.length>0){var r,o;const e=Boolean((null==(r=E.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=E.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!=typeof t&&"string"!=typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,a,u,h,f,d]);const x=e=>{null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{tabIndex:f?0:-1,onFocus:x,ref:m,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:A,onFocus:e=>{null===y.current&&(y.current=e.relatedTarget),b.current=!0,v.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,s.jsx)("div",{tabIndex:f?0:-1,onFocus:x,ref:g,"data-testid":"sentinelEnd"})]})}},3478:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(8168),o=n(8587),i=n(9453),s=n(1317),a=n(4188),l=n(3571),c=n(8749),u=n(771);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},A={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,o):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}const x=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],S={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){const n="function"==typeof t?t(e):t,{fontFamily:i=k,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,o.A)(n,x),g=a/14,y=p||(e=>e/h*g+"rem"),v=(e,t,n,o,s)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:y(t),lineHeight:n},i===k?{letterSpacing:(a=o/t,Math.round(1e5*a)/1e5+"em")}:{},s,f);var a},b={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(c,48,1.167,0),h4:v(c,34,1.235,.25),h5:v(c,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(c,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(c,16,1.5,.15),body2:v(c,14,1.43,.15),button:v(u,14,1.75,.4,S),caption:v(c,12,1.66,.4),overline:v(c,12,2.66,1,S),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:y,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function _(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const R=["none",_(0,2,1,-1,0,1,1,0,0,1,3,0),_(0,3,1,-2,0,2,2,0,0,1,5,0),_(0,3,3,-2,0,3,4,0,0,1,8,0),_(0,2,4,-1,0,4,5,0,0,1,10,0),_(0,3,5,-1,0,5,8,0,0,1,14,0),_(0,3,5,-1,0,6,10,0,0,1,18,0),_(0,4,5,-2,0,7,10,1,0,2,16,1),_(0,5,5,-3,0,8,10,1,0,3,14,2),_(0,5,6,-3,0,9,12,1,0,3,16,2),_(0,6,6,-3,0,10,14,1,0,4,18,3),_(0,6,7,-4,0,11,15,1,0,4,20,3),_(0,7,8,-4,0,12,17,2,0,5,22,4),_(0,7,8,-4,0,13,19,2,0,5,24,4),_(0,7,9,-4,0,14,21,2,0,5,26,4),_(0,8,9,-5,0,15,22,2,0,6,28,5),_(0,8,10,-5,0,16,24,2,0,6,30,5),_(0,8,11,-5,0,17,26,2,0,6,32,5),_(0,9,11,-5,0,18,28,2,0,7,34,6),_(0,9,12,-6,0,19,29,2,0,7,36,6),_(0,10,13,-6,0,20,31,3,0,8,38,7),_(0,10,13,-6,0,21,33,3,0,8,40,7),_(0,10,14,-6,0,22,35,3,0,8,42,7),_(0,11,14,-7,0,23,36,3,0,9,44,8),_(0,11,15,-7,0,24,38,3,0,9,46,8)],C=["duration","easing","delay"],T={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return`${Math.round(e)}ms`}function O(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function M(e){const t=(0,r.A)({},T,e.easing),n=(0,r.A)({},P,e.duration);return(0,r.A)({getAutoHeightDuration:O,create:(e=["all"],r={})=>{const{duration:i=n.standard,easing:s=t.easeInOut,delay:a=0}=r;return(0,o.A)(r,C),(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"==typeof i?i:D(i)} ${s} ${"string"==typeof a?a:D(a)}`)).join(",")}},e,{easing:t,duration:n})}const N={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},B=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const L=function(e={},...t){const{mixins:n={},palette:x={},transitions:S={},typography:k={}}=e,_=(0,o.A)(e,B);if(e.vars)throw new Error((0,i.A)(18));const C=function(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(e="light"){return"dark"===e?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),x=e.secondary||function(e="light"){return"dark"===e?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),S=e.error||function(e="light"){return"dark"===e?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),k=e.info||function(e="light"){return"dark"===e?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(t),I=e.success||function(e="light"){return"dark"===e?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(t),_=e.warning||function(e="light"){return"dark"===e?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function R(e){return(0,u.eM)(e,A.text.primary)>=n?A.text.primary:w.text.primary}const C=({color:e,name:t,mainShade:n=500,lightShade:o=300,darkShade:s=700})=>{if(!(e=(0,r.A)({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error((0,i.A)(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw new Error((0,i.A)(12,t?` (${t})`:"",JSON.stringify(e.main)));return E(e,"light",o,a),E(e,"dark",s,a),e.contrastText||(e.contrastText=R(e.main)),e},T={dark:A,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:C({color:c,name:"primary"}),secondary:C({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:S,name:"error"}),warning:C({color:_,name:"warning"}),info:C({color:k,name:"info"}),success:C({color:I,name:"success"}),grey:h,contrastThreshold:n,getContrastText:R,augmentColor:C,tonalOffset:a},T[t]),l)}(x),T=(0,c.A)(e);let P=(0,s.A)(T,{mixins:(D=T.breakpoints,O=n,(0,r.A)({toolbar:{minHeight:56,[D.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[D.up("sm")]:{minHeight:64}}},O)),palette:C,shadows:R.slice(),typography:I(C,k),transitions:M(S),zIndex:(0,r.A)({},N)});var D,O;return P=(0,s.A)(P,_),P=t.reduce(((e,t)=>(0,s.A)(e,t)),P),P.unstable_sxConfig=(0,r.A)({},a.A,null==_?void 0:_.unstable_sxConfig),P.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},P}},2765:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(3478).A)()},8312:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},9770:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4438);const o=e=>(0,r.A)(e)&&"classes"!==e},4438:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},1848:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(6461),o=n(2765),i=n(8312),s=n(9770);const a=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},4675:(e,t,n)=>{"use strict";n.d(t,{A:()=>s}),n(6540);var r=n(2858),o=n(2765),i=n(8312);function s(){const e=(0,r.A)(o.A);return e[i.A]||e}},3541:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4467),o=n(2765),i=n(8312);function s({props:e,name:t}){return(0,r.A)({props:e,name:t,defaultTheme:o.A,themeId:i.A})}},5186:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,q:()=>r});const r=e=>e.scrollTop;function o(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"==typeof i?i[t.mode]:i,delay:s.transitionDelay}}},8466:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6348).A},5003:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(6540),i=n(8587),s=n(4164),a=n(5659),l=n(8466),c=n(5607),u=n(1848),d=n(8413),h=n(1609);function f(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(4848);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,r,o,i,s,a,l,c,u,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=e.typography)||null==(s=i.pxToRem)?void 0:s.call(i,20))||"1.25rem",medium:(null==(a=e.typography)||null==(l=a.pxToRem)?void 0:l.call(a,24))||"1.5rem",large:(null==(c=e.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:null!=(d=null==(h=(e.vars||e).palette)||null==(h=h[t.color])?void 0:h.main)?d:{action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[t.color]}})),y=o.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:y="svg",fontSize:v="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:A,viewBox:E="0 0 24 24"}=n,x=(0,i.A)(n,m),S=o.isValidElement(u)&&"svg"===u.type,k=(0,r.A)({},n,{color:h,component:y,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:E,hasSvgAsChild:S}),I={};w||(I.viewBox=E);const _=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(o,f,r)})(k);return(0,p.jsxs)(g,(0,r.A)({as:y,className:(0,s.A)(_.root,d),focusable:"false",color:b,"aria-hidden":!A||void 0,role:A?"img":void 0,ref:t},I,x,S&&u.props,{ownerState:k,children:[S?u.props.children:u,A?(0,p.jsx)("title",{children:A}):null]}))}));y.muiName="SvgIcon";const v=y;function b(e,t){function n(n,o){return(0,p.jsx)(v,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=v.muiName,o.memo(o.forwardRef(n))}},1935:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4705).A},8593:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6540);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},6248:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2325).A},3749:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4877).A},2778:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1529).A},3034:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1547).A},6852:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1523).A},1984:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(6540),o=n(3068);let i=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&s&&(i=!0)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},6025:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(8168),o=n(8587),i=n(1523),s=n(2879),a=n(6677),l=n(2505);const c=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],u=["component","slots","slotProps"],d=["component"];function h(e,t){const{className:n,elementType:h,ownerState:f,externalForwardedProps:p,getSlotOwnerState:m,internalForwardedProps:g}=t,y=(0,o.A)(t,c),{component:v,slots:b={[e]:void 0},slotProps:w={[e]:void 0}}=p,A=(0,o.A)(p,u),E=b[e]||h,x=(0,a.A)(w[e],f),S=(0,l.A)((0,r.A)({className:n},y,{externalForwardedProps:"root"===e?A:void 0,externalSlotProps:x})),{props:{component:k},internalRef:I}=S,_=(0,o.A)(S.props,d),R=(0,i.A)(I,null==x?void 0:x.ref,t.ref),C=m?m(_):{},T=(0,r.A)({},f,C),P="root"===e?k||v:k,D=(0,s.A)(E,(0,r.A)({},"root"===e&&!v&&!b[e]&&g,"root"!==e&&!b[e]&&g,_,P&&{as:P},{ref:R}),T);return Object.keys(C).forEach((e=>{delete D[e]})),[E,D]}},9940:(e,t,n)=>{"use strict";n.d(t,{A:()=>i}),n(6540);var r=n(7437),o=n(4848);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"==typeof t?e=>{return t(null==(r=e)||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},2532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>x.A,StyledEngineProvider:()=>E,ThemeContext:()=>l.T,css:()=>v.AH,default:()=>S,internal_processStyles:()=>k,keyframes:()=>v.i7});var r=n(8168),o=n(6540),i=n(8670),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,i.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(9214),c=n(41),u=n(3174),d=n(1287),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},y=function e(t,n){var i,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),y=!f("as");return function(){var v=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{b.push(v[0][0]);for(var w=v.length,A=1;A<w;A++)b.push(v[A],v[0][A])}var E=(0,l.w)((function(e,t,n){var r=y&&e.as||d,i="",a=[],m=e;if(null==e.theme){for(var v in m={},e)m[v]=e[v];m.theme=o.useContext(l.T)}"string"==typeof e.className?i=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var w=(0,u.J)(b.concat(a),t.registered,m);i+=t.key+"-"+w.name,void 0!==s&&(i+=" "+s);var A=y&&void 0===h?p(r):f,E={};for(var x in e)y&&"as"===x||A(x)&&(E[x]=e[x]);return E.className=i,n&&(E.ref=n),o.createElement(o.Fragment,null,o.createElement(g,{cache:t,serialized:w,isStringTag:"string"==typeof r}),o.createElement(r,E))}));return E.displayName=void 0!==i?i:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=d,E.__emotion_styles=b,E.__emotion_forwardProp=h,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:m(E,o,!0)})).apply(void 0,b)},E}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var v=n(7437),b=n(5655),w=n(4848);let A;function E(e){const{injectFirst:t,children:n}=e;return t&&A?(0,w.jsx)(l.C,{value:A,children:n}):n}"object"==typeof document&&(A=(0,b.A)({key:"css",prepend:!0}));var x=n(9940);function S(e,t){return y(e,t)}const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},771:(e,t,n)=>{"use strict";var r=n(4994);t.X4=function(e,t){return e=a(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,l(e)},t.e$=u,t.eM=function(e,t){const n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=d;var o=r(n(8944)),i=r(n(8586));function s(e,t=0,n=1){return(0,i.default)(e,t,n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function l(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function c(e){let t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){e=a(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=(e,t=(e+n/30)%12)=>o-i*Math.max(Math.min(t-3,9-t,1),-1);let c="rgb";const u=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),l({type:c,values:u})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){if(e=a(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return l(e)}function d(e,t){if(e=a(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return l(e)}},6461:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(e={}){const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,(e,c={})=>{(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:w,overridesResolver:A=v(g(f))}=c,E=(0,i.default)(c,h),x=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,S=w||!1;let k=p;"Root"===f||"root"===f?k=r:f?k=l:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const I=(0,s.default)(e,(0,o.default)({shouldForwardProp:k,label:void 0},E)),_=e=>"function"==typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,R=(r,...i)=>{let s=_(r);const a=i?i.map(_):[];d&&A&&a.push((e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach((([t,n])=>{s[t]=b(n,(0,o.default)({},e,{theme:r}))})),A(e,s)})),d&&!x&&a.push((e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),S||a.push(u);const l=a.length-i.length;if(Array.isArray(r)&&l>0){const e=new Array(l).fill("");s=[...r,...e],s.raw=[...r.raw,...e]}const c=I(s,...a);return e.muiName&&(c.muiName=e.muiName),c};return I.withConfig&&(R.withConfig=I.withConfig),R}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(2532)),a=n(4239),l=(r(n(7149)),r(n(7320)),r(n(3142))),c=r(n(3857));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y({defaultTheme:e,theme:t,themeId:n}){return r=t,0===Object.keys(r).length?e:t[n]||t;var r}function v(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const s="function"==typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(s&&"object"==typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,i.default)(s,d);return e.forEach((e=>{let i=!0;"function"==typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return s}},3788:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(6540);n(4848);const o=r.createContext(),i=()=>{const e=r.useContext(o);return null!=e&&e}},9452:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>i,vf:()=>a,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||o;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"==typeof t){const e=i.breakpoints||o;return Object.keys(t).reduce(((o,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i))o[e.up(i)]=n(t[i],i);else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function s(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},4279:(e,t,n)=>{"use strict";n.d(t,{X4:()=>s});var r=n(9453),o=n(725);function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.A)(9,e));let o,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),o=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error((0,r.A)(10,o))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:o}}function s(e,t){return e=i(e),t=function(e,t=0,n=1){return(0,o.A)(e,t,n)}(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,function(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}(e)}},5329:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>v,MC:()=>h});var r=n(8168),o=n(8587),i=n(2532),s=n(1317),a=n(8749),l=n(3571);const c=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const f=(0,a.A)(),p=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function m({defaultTheme:e,theme:t,themeId:n}){return r=t,0===Object.keys(r).length?e:t[n]||t;var r}function g(e){return e?(t,n)=>n[e]:null}function y(e,t){let{ownerState:n}=t,i=(0,o.A)(t,c);const s="function"==typeof e?e((0,r.A)({ownerState:n},i)):e;if(Array.isArray(s))return s.flatMap((e=>y(e,(0,r.A)({ownerState:n},i))));if(s&&"object"==typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.A)(s,u);return e.forEach((e=>{let o=!0;"function"==typeof e.props?o=e.props((0,r.A)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,r.A)({ownerState:n},i,n)):e.style))})),t}return s}function v(e={}){const{themeId:t,defaultTheme:n=f,rootShouldForwardProp:a=h,slotShouldForwardProp:c=h}=e,u=e=>(0,l.A)((0,r.A)({},e,{theme:m((0,r.A)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,(e,l={})=>{(0,i.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:f,slot:v,skipVariantsResolver:b,skipSx:w,overridesResolver:A=g(p(v))}=l,E=(0,o.A)(l,d),x=void 0!==b?b:v&&"Root"!==v&&"root"!==v||!1,S=w||!1;let k=h;"Root"===v||"root"===v?k=a:v?k=c:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const I=(0,i.default)(e,(0,r.A)({shouldForwardProp:k,label:void 0},E)),_=e=>"function"==typeof e&&e.__emotion_real!==e||(0,s.Q)(e)?o=>y(e,(0,r.A)({},o,{theme:m({theme:o.theme,defaultTheme:n,themeId:t})})):e,R=(o,...i)=>{let s=_(o);const a=i?i.map(_):[];f&&A&&a.push((e=>{const o=m((0,r.A)({},e,{defaultTheme:n,themeId:t}));if(!o.components||!o.components[f]||!o.components[f].styleOverrides)return null;const i=o.components[f].styleOverrides,s={};return Object.entries(i).forEach((([t,n])=>{s[t]=y(n,(0,r.A)({},e,{theme:o}))})),A(e,s)})),f&&!x&&a.push((e=>{var o;const i=m((0,r.A)({},e,{defaultTheme:n,themeId:t}));return y({variants:null==i||null==(o=i.components)||null==(o=o[f])?void 0:o.variants},(0,r.A)({},e,{theme:i}))})),S||a.push(u);const l=a.length-i.length;if(Array.isArray(o)&&l>0){const e=new Array(l).fill("");s=[...o,...e],s.raw=[...o.raw,...e]}const c=I(s,...a);return e.muiName&&(c.muiName=e.muiName),c};return I.withConfig&&(R.withConfig=I.withConfig),R}}},8336:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"==typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},8094:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-a/100}${n})`}function f(e,r){const o=u.indexOf(r);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"==typeof t[u[o]]?t[u[o]]:r)-a/100}${n})`}return(0,o.A)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8749:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),o=n(8587),i=n(1317),s=n(8094);const a={borderRadius:4};var l=n(8248),c=n(3571),u=n(4188),d=n(8336);const h=["breakpoints","palette","spacing","shape"],f=function(e={},...t){const{breakpoints:n={},palette:f={},spacing:p,shape:m={}}=e,g=(0,o.A)(e,h),y=(0,s.A)(n),v=function(e=8){if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(p);let b=(0,i.A)({breakpoints:y,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},f),spacing:v,shape:(0,r.A)({},a,m)},g);return b.applyStyles=d.A,b=t.reduce(((e,t)=>(0,i.A)(e,t)),b),b.unstable_sxConfig=(0,r.A)({},u.A,null==g?void 0:g.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},b}},3142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8749),o=n(8094),i=n(8336)},4620:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1317);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8248:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>f,_W:()=>m,Lc:()=>y,Ms:()=>v});var r=n(9452),o=n(6481),i=n(4620);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(){const e={};return t=>(void 0===e[t]&&(e[t]=(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})(t)),e[t])}(),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"==typeof s?e=>"string"==typeof e?e:s*e:Array.isArray(s)?e=>"string"==typeof e?e:s[e]:"function"==typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"==typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function g(e,t){const n=p(e.theme);return Object.keys(e).map((o=>function(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}(e,t,o,n))).reduce(i.A,{})}function y(e){return g(e,u)}function v(e){return g(e,d)}function b(e){return g(e,h)}y.propTypes={},y.filterProps=u,v.propTypes={},v.filterProps=d,b.propTypes={},b.filterProps=h},6481:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(6348),o=n(9452);function i(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n,r=n){let o;return o="function"==typeof e?e(n):Array.isArray(e)?e[n]||r:i(e,n)||r,t&&(o=t(o,r,e)),o}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(u,l,e);return e===o&&"string"==typeof e&&(o=s(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},4188:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r=n(8248),o=n(6481),i=n(4620);const s=function(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),n=e=>Object.keys(e).reduce(((n,r)=>t[r]?(0,i.A)(n,t[r](e)):n),{});return n.propTypes={},n.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),n};var a=n(9452);function l(e){return"number"!=typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),y=c("borderRightColor"),v=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),A=c("outlineColor"),E=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};E.propTypes={},E.filterProps=["borderRadius"],s(u,d,h,f,p,m,g,y,v,b,E,w,A);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};function I(e,t){return"grey"===t?t:e}function _(e){return e<=1&&0!==e?100*e+"%":e}k.propTypes={},k.filterProps=["rowGap"],s(x,S,k,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"})),s((0,o.Ay)({prop:"color",themeKey:"palette",transform:I}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:I}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:I}));const R=(0,o.Ay)({prop:"width",transform:_}),C=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:_(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};C.filterProps=["maxWidth"];const T=(0,o.Ay)({prop:"minWidth",transform:_}),P=(0,o.Ay)({prop:"height",transform:_}),D=(0,o.Ay)({prop:"maxHeight",transform:_}),O=(0,o.Ay)({prop:"minHeight",transform:_}),M=((0,o.Ay)({prop:"size",cssProperty:"width",transform:_}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:_}),s(R,C,T,P,D,O,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:E},color:{themeKey:"palette",transform:I},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:I},backgroundColor:{themeKey:"palette",transform:I},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:k},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:C},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},9599:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(1317),s=n(4188);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,i.Q)(n)?(0,r.A)({},s,n):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(3571),o=n(9599),i=n(4188)},3571:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(6348),o=n(4620),i=n(6481),s=n(9452),a=n(4188);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,i.Yn)(n,u)||{};return h?h(a):(0,s.NI)(a,t,(t=>{let n=(0,i.BO)(f,d,t);return t===n&&"string"==typeof t&&(n=(0,i.BO)(f,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"==typeof n)r=n(l);else if("object"!=typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i="function"==typeof(a=r[n])?a(l):a;var a;if(null!=i)if("object"==typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,s.NI)({theme:l},i,(e=>({[n]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),n=new Set(t);return e.every((e=>n.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,s.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},2858:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8749),o=n(3951);const i=(0,r.A)(),s=function(e=i){return(0,o.A)(e)}},7340:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7379);function o(e){const{theme:t,name:n,props:o}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.A)(t.components[n].defaultProps,o):o}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7340),o=n(2858);function i({props:e,name:t,defaultTheme:n,themeId:i}){let s=(0,o.A)(n);return i&&(s=s[i]||s),(0,r.A)({theme:s,name:t,props:e})}},3951:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540),o=n(9214);const i=function(e=null){const t=r.useContext(o.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2923:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(6540)),o=n(2532);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(e=null){const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},9071:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},2879:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8168),o=n(2197);const i=function(e,t,n){return void 0===e||(0,o.A)(e)?t:(0,r.A)({},t,{ownerState:(0,r.A)({},t.ownerState,n)})}},6348:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9453);function o(e){if("string"!=typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6348)},725:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}},8586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(725)},5659:(e,t,n)=>{"use strict";function r(e,t,n=void 0){const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},4705:(e,t,n)=>{"use strict";function r(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r}n.d(t,{A:()=>r})},1317:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>o});var r=n(8168);function o(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function i(e){if(!o(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function s(e,t,n={clone:!0}){const a=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((r=>{o(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&o(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=o(t[r])?i(t[r]):t[r]:a[r]=t[r]})),a}},4239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(1317)},4959:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}},9453:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},8944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(9453)},1609:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(9071);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t,n="Mui"){const i=o[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},8413:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1609);function o(e,t,n="Mui"){const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},7320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(4363);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function s(e,t=""){return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return s(e,"Component");if("object"==typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},3205:(e,t,n)=>{"use strict";function r(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}n.d(t,{A:()=>r})},2197:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"string"==typeof e}},2505:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8168),o=n(4164),i=n(4959);const s=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t},a=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:a,externalForwardedProps:l,className:c}=e;if(!t){const e=(0,o.A)(null==n?void 0:n.className,c,null==l?void 0:l.className,null==a?void 0:a.className),t=(0,r.A)({},null==n?void 0:n.style,null==l?void 0:l.style,null==a?void 0:a.style),i=(0,r.A)({},n,l,a);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const u=(0,i.A)((0,r.A)({},l,a)),d=s(a),h=s(l),f=t(u),p=(0,o.A)(null==f?void 0:f.className,null==n?void 0:n.className,c,null==l?void 0:l.className,null==a?void 0:a.className),m=(0,r.A)({},null==f?void 0:f.style,null==n?void 0:n.style,null==l?void 0:l.style,null==a?void 0:a.style),g=(0,r.A)({},f,n,h,d);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:f.ref}}},2325:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},4877:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2325);function o(e){return(0,r.A)(e).defaultView||window}},6677:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t,n){return"function"==typeof e?e(t,n):e}},7379:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[i]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[i][e]=o(s[e],a[e])}))):n[i]=a:n[i]=s}else void 0===n[i]&&(n[i]=e[i])})),n}},7365:(e,t,n)=>{"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},2501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6540);function o({controlled:e,default:t,name:n,state:o="value"}){const{current:i}=r.useRef(void 0!==e),[s,a]=r.useState(t);return[i?e:s,r.useCallback((e=>{i||a(e)}),[])]}},1529:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6540);const o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},1547:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540),o=n(1529);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef(((...e)=>(0,t.current)(...e))).current}},1523:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540),o=n(7365);function i(...e){return r.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{(0,o.A)(e,t)}))}),e)}},4661:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var o=n(6540);let i=0;const s=(r||(r=n.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},9329:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(8168),o=n(8587),i=n(1523),s=n(2879),a=n(2505),l=n(6677);const c=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"],u=function(e){var t;const{elementType:n,externalSlotProps:u,ownerState:d,skipResolvingSlotProps:h=!1}=e,f=(0,o.A)(e,c),p=h?{}:(0,l.A)(u,d),{props:m,internalRef:g}=(0,a.A)((0,r.A)({},f,{externalSlotProps:p})),y=(0,i.A)(g,null==p?void 0:p.ref,null==(t=e.additionalProps)?void 0:t.ref);return(0,s.A)(n,(0,r.A)({},m,{ref:y}),d)}},3068:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(6540);const o={},i=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e){const t=r.useRef(o);return t.current===o&&(t.current=e(void 0)),t}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},601:(e,t,n)=>{"use strict";n.d(t,{R:()=>E});var r=n(8168),o=n(4353),i=n.n(o),s=n(8134),a=n.n(s),l=n(445),c=n.n(l),u=n(5750),d=n.n(u),h=n(7872),f=n.n(h),p=n(7375),m=n.n(p),g=n(5079);i().extend(d()),i().extend(a()),i().extend(f()),i().extend(m());const y=(0,g.f)(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),v={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},b={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},w=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join("\n"),A=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join("\n");class E{constructor({locale:e,formats:t}={}){var n,o;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=v,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>void 0!==i().utc,this.hasTimezonePlugin=()=>void 0!==i().tz,this.isSame=(e,t,n)=>{const r=this.setTimezone(t,this.getTimezone(e));return e.format(n)===r.format(n)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return i().tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=i().tz.guess();return"UTC"!==t?i().tz(e,t):i()(e)}return i()(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(w);return i().utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(w);if(!this.hasTimezonePlugin())throw new Error(A);const n=void 0!==e&&!e.endsWith("Z");return i()(e).tz(this.cleanTimezone(t),n)},this.getLocaleFormats=()=>{const e=i().Ls;let t=e[this.locale||"en"];return void 0===t&&(y(),t=e.en),t.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if("UTC"!==t){const n=e.tz(this.cleanTimezone(t),!0);if((n.$offset??0)===(e.$offset??0))return e;e.$offset=n.$offset}return e},this.date=(e,t="default")=>{if(null===e)return null;let n;return n="UTC"===t?this.createUTCDate(e):"system"===t||"default"===t&&!this.hasTimezonePlugin()?this.createSystemDate(e):this.createTZDate(e,t),void 0===this.locale?n:n.locale(this.locale)},this.getInvalidDate=()=>i()(new Date("Invalid date")),this.getTimezone=e=>{if(this.hasTimezonePlugin()){const t=e.$x?.$timezone;if(t)return t}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if("UTC"===t){if(!this.hasUTCPlugin())throw new Error(w);return e.utc()}if("system"===t)return e.local();if(!this.hasTimezonePlugin()){if("default"===t)return e;throw new Error(A)}return i().tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>""===e?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats();return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,((e,n,r)=>{const o=r&&r.toUpperCase();return n||t[r]||t[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,((e,t,n)=>t||n.slice(1)))}))},this.isValid=e=>null!=e&&e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>null===e&&null===t||null!==e&&null!==t&&e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,[t,n])=>e>=t&&e<=n,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(e.startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(e.endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.setLocaleToValue(e),n=this.startOfWeek(this.startOfMonth(t)),r=this.endOfWeek(this.endOfMonth(t));let o=0,i=n;const s=[];for(;i<r;){const e=Math.floor(o/7);s[e]=s[e]||[],s[e].push(i),i=this.addDays(i,1),o+=1}return s},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,t])=>{const n=this.startOfYear(e),r=this.endOfYear(t),o=[];let i=n;for(;this.isBefore(i,r);)o.push(i),i=this.addYears(i,1);return o},this.dayjs=(n=i(),(o=e)?(...e)=>n(...e).locale(o):n),this.locale=e,this.formats=(0,r.A)({},b,t),i().extend(c())}getDayOfWeek(e){return e.day()+1}}},1168:(e,t,n)=>{"use strict";n.d(t,{l:()=>qs});var r=n(8168),o=n(8587),i=n(6540),s=n.t(i,2),a=n(1529),l=n(7340),c=n(3951);function u(e,t,n,r,o){const[s,l]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return(0,a.A)((()=>{let t=!0;if(!n)return;const r=n(e),o=()=>{t&&l(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n]),s}const d=s.useSyncExternalStore;function h(e,t,n,r,o){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,o,n]),[l,c]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return d(c,l,a)}function f(e,t={}){const n=(0,c.A)(),r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:o=!1,matchMedia:i=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=(0,l.A)({name:"MuiUseMediaQuery",props:t,theme:n});let f="function"==typeof e?e(n):e;return f=f.replace(/^@media( ?)/m,""),(void 0!==d?h:u)(f,o,i,s,a)}var p=n(3541),m=n(5556),g=n.n(m);function y(e,t,n){return"function"==typeof e?e(t,n):e}const v=g().oneOfType([g().func,g().object]),b=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),w=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},A=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:o,isDateDisabled:i,utils:s,timezone:a})=>{const l=w(s,s.date(void 0,a),e);n&&s.isBefore(o,l)&&(o=l),t&&s.isAfter(r,l)&&(r=l);let c=e,u=e;for(s.isBefore(e,o)&&(c=o,u=null),s.isAfter(e,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,o)&&(u=null),c){if(!i(c))return c;c=s.addDays(c,1)}if(u){if(!i(u))return u;u=s.addDays(u,-1)}}return null},E=(e,t,n)=>null!=t&&e.isValid(t)?t:n,x=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},S=(e,t,n)=>"date"===n?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),k=["year","month","day"],I=e=>k.includes(e),_=(e,{format:t,views:n},r)=>{if(null!=t)return t;const o=e.formats;return b(n,["year"])?o.year:b(n,["month"])?o.month:b(n,["day"])?o.dayOfMonth:b(n,["month","year"])?`${o.month} ${o.year}`:b(n,["day","month"])?`${o.month} ${o.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?o.normalDateWithWeekday:o.normalDate:o.keyboardDate},R=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},C=["hours","minutes","seconds"],T=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),P={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},D=(e,t,n)=>{if(t===P.year)return e.startOfYear(n);if(t===P.month)return e.startOfMonth(n);if(t===P.day)return e.startOfDay(n);let r=n;return t<P.minutes&&(r=e.setMinutes(r,0)),t<P.seconds&&(r=e.setSeconds(r,0)),t<P.milliseconds&&(r=e.setMilliseconds(r,0)),r},O=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"==typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},M=(e,t,n)=>{const r=[],o=e.date(void 0,t),i=e.startOfWeek(o),s=e.endOfWeek(o);let a=i;for(;e.isBefore(a,s);)r.push(a),a=e.addDays(a,1);return r.map((t=>e.formatByString(t,n)))},N=(e,t,n,r)=>{switch(n){case"month":return x(e,e.date(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return M(e,t,r);case"meridiem":{const n=e.date(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},B=["0","1","2","3","4","5","6","7","8","9"],L=(e,t)=>{if("0"===t[0])return e;const n=[];let r="";for(let o=0;o<e.length;o+=1){r+=e[o];const i=t.indexOf(r);i>-1&&(n.push(i.toString()),r="")}return n.join("")},F=(e,t)=>"0"===t[0]?e:e.split("").map((e=>t[Number(e)])).join(""),U=(e,t)=>{const n=L(e,t);return" "!==n&&!Number.isNaN(Number(n))},$=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n=`0${n}`;return n},j=(e,t,n,r,o)=>{if("day"===o.type&&"digit-with-letter"===o.contentType){const r=e.setDate(n.longestMonth,t);return e.formatByString(r,o.format)}let i=t.toString();return o.hasLeadingZerosInInput&&(i=$(i,o.maxLength)),F(i,r)},z=(e,t,n)=>{let r=e.value||e.placeholder;const o="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(L(r,n)).toString()),["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!o&&1===r.length&&(r=`${r}‎`),"input-rtl"===t&&(r=`⁨${r}⁩`),r},V=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),H=(e,t,n)=>4===e.formatByString(e.date(void 0,t),n).length,W=(e,t,n,r,o)=>{if("digit"!==n)return!1;const i=e.date(void 0,t);switch(r){case"year":return H(e,t,o)?"0001"===e.formatByString(e.setYear(i,1),o):"01"===e.formatByString(e.setYear(i,2001),o);case"month":return e.formatByString(e.startOfYear(i),o).length>1;case"day":return e.formatByString(e.startOfMonth(i),o).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),o).length>1;case"hours":return e.formatByString(e.setHours(i,1),o).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),o).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),o).length>1;default:throw new Error("Invalid section type")}},q={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},K=(e,t,n,r,o,i)=>[...r].sort(((e,t)=>q[e.type]-q[t.type])).reduce(((r,o)=>!i||o.modified?((e,t,n,r,o)=>{switch(n.type){case"year":return e.setYear(o,e.getYear(r));case"month":return e.setMonth(o,e.getMonth(r));case"weekDay":{const o=M(e,t,n.format),i=e.formatByString(r,n.format),s=o.indexOf(i),a=o.indexOf(n.value)-s;return e.addDays(r,a)}case"day":return e.setDate(o,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(o);return t&&n>=12?e.addHours(o,-12):!t&&n<12?e.addHours(o,12):o}case"hours":return e.setHours(o,e.getHours(r));case"minutes":return e.setMinutes(o,e.getMinutes(r));case"seconds":return e.setSeconds(o,e.getSeconds(r));default:return o}})(e,t,o,n,r):r),o),G=(e,t)=>null==e?null:"all"===e?"all":"string"==typeof e?t.findIndex((t=>t.type===e)):e,Y=(e,t)=>{if(e.value)switch(e.type){case"month":{if("digit"===e.contentType)return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return"digit"===e.contentType?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;default:return}},Q=(e,t)=>{if(e.value)switch(e.type){case"weekDay":if("letter"===e.contentType)return;return Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return"digit-with-letter"===e.contentType?parseInt(e.value,10):Number(e.value);case"month":{if("digit"===e.contentType)return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return"letter"!==e.contentType?Number(e.value):void 0}},Z=["value","referenceDate"],J={emptyValue:null,getTodayValue:S,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,o.A)(e,Z);return null!=t&&r.utils.isValid(t)?t:null!=n?n:(({props:e,utils:t,granularity:n,timezone:r,getTodayDate:o})=>{let i=o?o():D(t,n,S(t,r));null!=e.minDate&&t.isAfterDay(e.minDate,i)&&(i=D(t,n,e.minDate)),null!=e.maxDate&&t.isBeforeDay(e.maxDate,i)&&(i=D(t,n,e.maxDate));const s=((e,t)=>(n,r)=>e?t.isAfter(n,r):T(n,t)>T(r,t))(e.disableIgnoringDatePartForTimeValidation??!1,t);return null!=e.minTime&&s(e.minTime,i)&&(i=D(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:w(t,i,e.minTime))),null!=e.maxTime&&s(i,e.maxTime)&&(i=D(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:w(t,i,e.maxTime))),i})(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},X={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&n?n:r(t),getV7HiddenInputValueFromSections:e=>e.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),getV6InputValueFromSections:(e,t,n)=>{const r=e.map((e=>{const r=z(e,n?"input-rtl":"input-ltr",t);return`${e.startSeparator}${r}${e.endSeparator}`})).join("");return n?`⁦${r}⁩`:r},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)};var ee=n(5737);const te={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},ne=te;var re;re=te,(0,r.A)({},re);const oe=()=>{const e=i.useContext(ee.F);if(null===e)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=i.useMemo((()=>(0,r.A)({},ne,e.localeText)),[e.localeText]);return i.useMemo((()=>(0,r.A)({},e,{localeText:t})),[e,t])},ie=()=>oe().utils,se=()=>oe().defaultDates,ae=e=>{const t=ie(),n=i.useRef();return void 0===n.current&&(n.current=t.date(void 0,e)),n.current};var le=n(4164),ce=n(4073),ue=n(1848),de=n(5659),he=n(1609),fe=n(8413);function pe(e){return(0,he.Ay)("MuiPickersToolbar",e)}(0,fe.A)("MuiPickersToolbar",["root","content"]);var me=n(4848);const ge=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],ye=(0,ue.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]}))),ve=(0,ue.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),be=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:a,hidden:l,titleId:c}=n,u=(0,o.A)(n,ge),d=n,h=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]};return(0,de.A)(r,pe,t)})(d);return l?null:(0,me.jsxs)(ye,(0,r.A)({ref:t,className:(0,le.A)(h.root,s),ownerState:d},u,{children:[(0,me.jsx)(ce.A,{color:"text.secondary",variant:"overline",id:c,children:a}),(0,me.jsx)(ve,{className:h.content,ownerState:d,children:i})]}))})),we=()=>oe().localeText;function Ae(e){return(0,he.Ay)("MuiDatePickerToolbar",e)}(0,fe.A)("MuiDatePickerToolbar",["root","title"]);const Ee=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],xe=(0,ue.Ay)(be,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Se=(0,ue.Ay)(ce.A,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),ke=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:a,toolbarFormat:l,toolbarPlaceholder:c="––",views:u,className:d}=n,h=(0,o.A)(n,Ee),f=ie(),m=we(),g=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],title:["title"]},Ae,t)})(n),y=i.useMemo((()=>{if(!s)return c;const e=_(f,{format:l,views:u},!0);return f.formatByString(s,e)}),[s,l,c,f,u]),v=n;return(0,me.jsx)(xe,(0,r.A)({ref:t,toolbarTitle:m.datePickerToolbarTitle,isLandscape:a,className:(0,le.A)(g.root,d)},h,{children:(0,me.jsx)(Se,{variant:"h4",align:a?"left":"center",ownerState:v,className:g.title,children:y})}))}));function Ie(e,t){const n=ie(),o=se(),s=(0,p.A)({props:e,name:t}),a=i.useMemo((()=>null==s.localeText?.toolbarTitle?s.localeText:(0,r.A)({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle})),[s.localeText]);return(0,r.A)({},s,{localeText:a},(({openTo:e,defaultOpenTo:t,views:n,defaultViews:r})=>{const o=n??r;let i;if(null!=e)i=e;else if(o.includes(t))i=t;else{if(!(o.length>0))throw new Error("MUI X: The `views` prop must contain at least one view.");i=o[0]}return{views:o,openTo:i}})({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:s.disableFuture??!1,disablePast:s.disablePast??!1,minDate:E(n,s.minDate,o.minDate),maxDate:E(n,s.maxDate,o.maxDate),slots:(0,r.A)({toolbar:ke},s.slots)})}const _e=({props:e,value:t,adapter:n})=>{if(null===t)return null;const{shouldDisableDate:r,shouldDisableMonth:o,shouldDisableYear:i,disablePast:s,disableFuture:a,timezone:l}=e,c=n.utils.date(void 0,l),u=E(n.utils,e.minDate,n.defaultDates.minDate),d=E(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case Boolean(r&&r(t)):return"shouldDisableDate";case Boolean(o&&o(t)):return"shouldDisableMonth";case Boolean(i&&i(t)):return"shouldDisableYear";case Boolean(a&&n.utils.isAfterDay(t,c)):return"disableFuture";case Boolean(s&&n.utils.isBeforeDay(t,c)):return"disablePast";case Boolean(u&&n.utils.isBeforeDay(t,u)):return"minDate";case Boolean(d&&n.utils.isAfterDay(t,d)):return"maxDate";default:return null}};var Re=n(1523);function Ce(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const Te=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pe(e){var t;const{elementType:n,externalSlotProps:i,ownerState:s,skipResolvingSlotProps:a=!1}=e,l=(0,o.A)(e,Te),c=a?{}:y(i,s),{props:u,internalRef:d}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:i,className:s}=e;if(!t){const e=(0,le.A)(null==n?void 0:n.className,s,null==i?void 0:i.className,null==o?void 0:o.className),t=(0,r.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==o?void 0:o.style),a=(0,r.A)({},n,i,o);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=function(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}((0,r.A)({},i,o)),l=Ce(o),c=Ce(i),u=t(a),d=(0,le.A)(null==u?void 0:u.className,null==n?void 0:n.className,s,null==i?void 0:i.className,null==o?void 0:o.className),h=(0,r.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==o?void 0:o.style),f=(0,r.A)({},u,n,c,l);return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}((0,r.A)({},l,{externalSlotProps:c})),h=(0,Re.A)(d,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref),f=function(e,t,n){return void 0===e||"string"==typeof e?t:(0,r.A)({},t,{ownerState:(0,r.A)({},t.ownerState,n)})}(n,(0,r.A)({},u,{ref:h}),s);return f}var De=n(8466),Oe=n(3800),Me=n(9716);function Ne(e){return(0,he.Ay)("MuiInputAdornment",e)}const Be=(0,fe.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Le,Fe=n(5607);const Ue=["children","className","component","disablePointerEvents","disableTypography","position","variant"],$e=(0,ue.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,De.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,r.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${Be.positionStart}&:not(.${Be.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),je=i.forwardRef((function(e,t){const n=(0,Fe.b)({props:e,name:"MuiInputAdornment"}),{children:s,className:a,component:l="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:h}=n,f=(0,o.A)(n,Ue),p=(0,Me.A)()||{};let m=h;h&&p.variant,p&&!m&&(m=p.variant);const g=(0,r.A)({},n,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:c,position:d,variant:m}),y=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&`position${(0,De.A)(o)}`,s,r&&"hiddenLabel",i&&`size${(0,De.A)(i)}`]};return(0,de.A)(a,Ne,t)})(g);return(0,me.jsx)(Oe.A.Provider,{value:null,children:(0,me.jsx)($e,(0,r.A)({as:l,ownerState:g,className:(0,le.A)(y.root,a),ref:t},f,{children:"string"!=typeof s||u?(0,me.jsxs)(i.Fragment,{children:["start"===d?Le||(Le=(0,me.jsx)("span",{className:"notranslate",children:"​"})):null,s]}):(0,me.jsx)(ce.A,{color:"text.secondary",children:s})}))})}));var ze=n(1641),Ve=n(4661),He=n(7467),We=n(973),qe=n(538),Ke=n(2923),Ge=n(2325);function Ye(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qe(e){return e instanceof Ye(e).Element||e instanceof Element}function Ze(e){return e instanceof Ye(e).HTMLElement||e instanceof HTMLElement}function Je(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ye(e).ShadowRoot||e instanceof ShadowRoot)}var Xe=Math.max,et=Math.min,tt=Math.round;function nt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function rt(){return!/^((?!chrome|android).)*safari/i.test(nt())}function ot(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Ze(e)&&(o=e.offsetWidth>0&&tt(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&tt(r.height)/e.offsetHeight||1);var s=(Qe(e)?Ye(e):window).visualViewport,a=!rt()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function it(e){var t=Ye(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function st(e){return e?(e.nodeName||"").toLowerCase():null}function at(e){return((Qe(e)?e.ownerDocument:e.document)||window.document).documentElement}function lt(e){return ot(at(e)).left+it(e).scrollLeft}function ct(e){return Ye(e).getComputedStyle(e)}function ut(e){var t=ct(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function dt(e,t,n){void 0===n&&(n=!1);var r,o,i=Ze(t),s=Ze(t)&&function(e){var t=e.getBoundingClientRect(),n=tt(t.width)/e.offsetWidth||1,r=tt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=at(t),l=ot(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==st(t)||ut(a))&&(c=(r=t)!==Ye(r)&&Ze(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:it(r)),Ze(t)?((u=ot(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=lt(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function ht(e){var t=ot(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ft(e){return"html"===st(e)?e:e.assignedSlot||e.parentNode||(Je(e)?e.host:null)||at(e)}function pt(e){return["html","body","#document"].indexOf(st(e))>=0?e.ownerDocument.body:Ze(e)&&ut(e)?e:pt(ft(e))}function mt(e,t){var n;void 0===t&&(t=[]);var r=pt(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Ye(r),s=o?[i].concat(i.visualViewport||[],ut(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(mt(ft(s)))}function gt(e){return["table","td","th"].indexOf(st(e))>=0}function yt(e){return Ze(e)&&"fixed"!==ct(e).position?e.offsetParent:null}function vt(e){for(var t=Ye(e),n=yt(e);n&&gt(n)&&"static"===ct(n).position;)n=yt(n);return n&&("html"===st(n)||"body"===st(n)&&"static"===ct(n).position)?t:n||function(e){var t=/firefox/i.test(nt());if(/Trident/i.test(nt())&&Ze(e)&&"fixed"===ct(e).position)return null;var n=ft(e);for(Je(n)&&(n=n.host);Ze(n)&&["html","body"].indexOf(st(n))<0;){var r=ct(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var bt="top",wt="bottom",At="right",Et="left",xt="auto",St=[bt,wt,At,Et],kt="start",It="end",_t="viewport",Rt="popper",Ct=St.reduce((function(e,t){return e.concat([t+"-"+kt,t+"-"+It])}),[]),Tt=[].concat(St,[xt]).reduce((function(e,t){return e.concat([t,t+"-"+kt,t+"-"+It])}),[]),Pt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Dt(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function Mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Nt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Ot:o;return function(e,t,n){void 0===n&&(n=i);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var o="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:Qe(e)?mt(e):e.contextElement?mt(e.contextElement):[],popper:mt(t)};var s,c,h=function(e){var t=Dt(e);return Pt.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,a.options.modifiers),c=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:a,name:t,instance:u,options:r});l.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(Mt(t,n)){a.rects={reference:dt(t,vt(n),"fixed"===a.options.strategy),popper:ht(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,s=o.options,l=void 0===s?{}:s,d=o.name;"function"==typeof i&&(a=i({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),c=!0}};if(!Mt(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Bt={passive:!0};function Lt(e){return e.split("-")[0]}function Ft(e){return e.split("-")[1]}function Ut(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $t(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Lt(o):null,s=o?Ft(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case bt:t={x:a,y:n.y-r.height};break;case wt:t={x:a,y:n.y+n.height};break;case At:t={x:n.x+n.width,y:l};break;case Et:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Ut(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case kt:t[c]=t[c]-(n[u]/2-r[u]/2);break;case It:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var jt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zt(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=Et,w=bt,A=window;if(c){var E=vt(n),x="clientHeight",S="clientWidth";E===Ye(n)&&"static"!==ct(E=at(n)).position&&"absolute"===a&&(x="scrollHeight",S="scrollWidth"),(o===bt||(o===Et||o===At)&&i===It)&&(w=wt,m-=(d&&E===A&&A.visualViewport?A.visualViewport.height:E[x])-r.height,m*=l?1:-1),o!==Et&&(o!==bt&&o!==wt||i!==It)||(b=At,f-=(d&&E===A&&A.visualViewport?A.visualViewport.width:E[S])-r.width,f*=l?1:-1)}var k,I=Object.assign({position:a},c&&jt),_=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:tt(n*o)/o||0,y:tt(r*o)/o||0}}({x:f,y:m},Ye(n)):{x:f,y:m};return f=_.x,m=_.y,l?Object.assign({},I,((k={})[w]=v?"0":"",k[b]=y?"0":"",k.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},I,((t={})[w]=v?m+"px":"",t[b]=y?f+"px":"",t.transform="",t))}var Vt={left:"right",right:"left",bottom:"top",top:"bottom"};function Ht(e){return e.replace(/left|right|bottom|top/g,(function(e){return Vt[e]}))}var Wt={start:"end",end:"start"};function qt(e){return e.replace(/start|end/g,(function(e){return Wt[e]}))}function Kt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Je(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Yt(e,t,n){return t===_t?Gt(function(e,t){var n=Ye(e),r=at(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=rt();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+lt(e),y:l}}(e,n)):Qe(t)?function(e,t){var n=ot(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Gt(function(e){var t,n=at(e),r=it(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Xe(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Xe(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+lt(e),l=-r.scrollTop;return"rtl"===ct(o||n).direction&&(a+=Xe(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(at(e)))}function Qt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Zt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Jt(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?_t:c,d=n.elementContext,h=void 0===d?Rt:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,y=Qt("number"!=typeof g?g:Zt(g,St)),v=h===Rt?"reference":Rt,b=e.rects.popper,w=e.elements[p?v:h],A=function(e,t,n,r){var o="clippingParents"===t?function(e){var t=mt(ft(e)),n=["absolute","fixed"].indexOf(ct(e).position)>=0&&Ze(e)?vt(e):e;return Qe(n)?t.filter((function(e){return Qe(e)&&Kt(e,n)&&"body"!==st(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=Yt(e,n,r);return t.top=Xe(o.top,t.top),t.right=et(o.right,t.right),t.bottom=et(o.bottom,t.bottom),t.left=Xe(o.left,t.left),t}),Yt(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Qe(w)?w:w.contextElement||at(e.elements.popper),l,u,s),E=ot(e.elements.reference),x=$t({reference:E,element:b,strategy:"absolute",placement:o}),S=Gt(Object.assign({},b,x)),k=h===Rt?S:E,I={top:A.top-k.top+y.top,bottom:k.bottom-A.bottom+y.bottom,left:A.left-k.left+y.left,right:k.right-A.right+y.right},_=e.modifiersData.offset;if(h===Rt&&_){var R=_[o];Object.keys(I).forEach((function(e){var t=[At,wt].indexOf(e)>=0?1:-1,n=[bt,wt].indexOf(e)>=0?"y":"x";I[e]+=R[n]*t}))}return I}function Xt(e,t,n){return Xe(e,et(t,n))}function en(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tn(e){return[bt,At,wt,Et].some((function(t){return e[t]>=0}))}var nn=Nt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=Ye(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Bt)})),a&&l.addEventListener("resize",n.update,Bt),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Bt)})),a&&l.removeEventListener("resize",n.update,Bt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$t({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:Lt(t.placement),variation:Ft(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,zt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,zt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Ze(o)&&st(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ze(r)&&st(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=Tt.reduce((function(e,n){return e[n]=function(e,t,n){var r=Lt(e),o=[Et,bt].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Et,At].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,y=Lt(g),v=l||(y!==g&&p?function(e){if(Lt(e)===xt)return[];var t=Ht(e);return[qt(e),t,qt(t)]}(g):[Ht(g)]),b=[g].concat(v).reduce((function(e,n){return e.concat(Lt(n)===xt?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Tt:l,u=Ft(r),d=u?a?Ct:Ct.filter((function(e){return Ft(e)===u})):St,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Jt(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[Lt(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,A=t.rects.popper,E=new Map,x=!0,S=b[0],k=0;k<b.length;k++){var I=b[k],_=Lt(I),R=Ft(I)===kt,C=[bt,wt].indexOf(_)>=0,T=C?"width":"height",P=Jt(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),D=C?R?At:Et:R?wt:bt;w[T]>A[T]&&(D=Ht(D));var O=Ht(D),M=[];if(i&&M.push(P[_]<=0),a&&M.push(P[D]<=0,P[O]<=0),M.every((function(e){return e}))){S=I,x=!1;break}E.set(I,M)}if(x)for(var N=function(e){var t=b.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},B=p?3:1;B>0&&"break"!==N(B);B--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Jt(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Lt(t.placement),v=Ft(t.placement),b=!v,w=Ut(y),A="x"===w?"y":"x",E=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,k="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(E){if(i){var C,T="y"===w?bt:Et,P="y"===w?wt:At,D="y"===w?"height":"width",O=E[w],M=O+g[T],N=O-g[P],B=f?-S[D]/2:0,L=v===kt?x[D]:S[D],F=v===kt?-S[D]:-x[D],U=t.elements.arrow,$=f&&U?ht(U):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=j[T],V=j[P],H=Xt(0,x[D],$[D]),W=b?x[D]/2-B-H-z-I.mainAxis:L-H-z-I.mainAxis,q=b?-x[D]/2+B+H+V+I.mainAxis:F+H+V+I.mainAxis,K=t.elements.arrow&&vt(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(C=null==_?void 0:_[w])?C:0,Q=O+q-Y,Z=Xt(f?et(M,O+W-Y-G):M,O,f?Xe(N,Q):N);E[w]=Z,R[w]=Z-O}if(a){var J,X="x"===w?bt:Et,ee="x"===w?wt:At,te=E[A],ne="y"===A?"height":"width",re=te+g[X],oe=te-g[ee],ie=-1!==[bt,Et].indexOf(y),se=null!=(J=null==_?void 0:_[A])?J:0,ae=ie?re:te-x[ne]-S[ne]-se+I.altAxis,le=ie?te+x[ne]+S[ne]-se-I.altAxis:oe,ce=f&&ie?function(e,t,n){var r=Xt(e,t,n);return r>n?n:r}(ae,te,le):Xt(f?ae:re,te,f?le:oe);E[A]=ce,R[A]=ce-te}t.modifiersData[r]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Lt(n.placement),l=Ut(a),c=[Et,At].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return Qt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Zt(e,St))}(o.padding,n),d=ht(i),h="y"===l?bt:Et,f="y"===l?wt:At,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=vt(i),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=p/2-m/2,b=u[h],w=y-d[c]-u[f],A=y/2-d[c]/2+v,E=Xt(b,A,w),x=l;n.modifiersData[r]=((t={})[x]=E,t.centerOffset=E-A,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Kt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Jt(t,{elementContext:"reference"}),a=Jt(t,{altBoundary:!0}),l=en(s,r),c=en(a,o,i),u=tn(l),d=tn(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),rn=n(9329),on=n(5061);function sn(e){return(0,he.Ay)("MuiPopper",e)}(0,fe.A)("MuiPopper",["root"]);const an=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ln=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function cn(e){return"function"==typeof e?e():e}const un={},dn=i.forwardRef((function(e,t){var n;const{anchorEl:s,children:l,direction:c,disablePortal:u,modifiers:d,open:h,placement:f,popperOptions:p,popperRef:m,slotProps:g={},slots:y={},TransitionProps:v}=e,b=(0,o.A)(e,an),w=i.useRef(null),A=(0,Re.A)(w,t),E=i.useRef(null),x=(0,Re.A)(E,m),S=i.useRef(x);(0,a.A)((()=>{S.current=x}),[x]),i.useImperativeHandle(m,(()=>E.current),[]);const k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(f,c),[I,_]=i.useState(k),[R,C]=i.useState(cn(s));i.useEffect((()=>{E.current&&E.current.forceUpdate()})),i.useEffect((()=>{s&&C(cn(s))}),[s]),(0,a.A)((()=>{if(!R||!h)return;let e=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:e})=>{_(e.placement)}}];null!=d&&(e=e.concat(d)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=nn(R,w.current,(0,r.A)({placement:k},p,{modifiers:e}));return S.current(t),()=>{t.destroy(),S.current(null)}}),[R,u,d,h,p,k]);const T={placement:I};null!==v&&(T.TransitionProps=v);const P=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"]},sn,t)})(e),D=null!=(n=y.root)?n:"div",O=(0,rn.A)({elementType:D,externalSlotProps:g.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:P.root});return(0,me.jsx)(D,(0,r.A)({},O,{children:"function"==typeof l?l(T):l}))})),hn=i.forwardRef((function(e,t){const{anchorEl:n,children:s,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:f="bottom",popperOptions:p=un,popperRef:m,style:g,transition:y=!1,slotProps:v={},slots:b={}}=e,w=(0,o.A)(e,ln),[A,E]=i.useState(!0);if(!u&&!h&&(!y||A))return null;let x;if(a)x=a;else if(n){const e=cn(n);x=e&&void 0!==e.nodeType?(0,Ge.A)(e).body:(0,Ge.A)(null).body}const S=h||!u||y&&!A?void 0:"none",k=y?{in:h,onEnter:()=>{E(!1)},onExited:()=>{E(!0)}}:void 0;return(0,me.jsx)(on.A,{disablePortal:c,container:x,children:(0,me.jsx)(dn,(0,r.A)({anchorEl:n,direction:l,disablePortal:c,modifiers:d,ref:t,open:y?!A:h,placement:f,popperOptions:p,popperRef:m,slotProps:v,slots:b},w,{style:(0,r.A)({position:"fixed",top:0,left:0,display:S},g),TransitionProps:k,children:s}))})})),fn=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],pn=(0,ue.Ay)(hn,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mn=i.forwardRef((function(e,t){var n;const i=(0,Ke.A)(),s=(0,Fe.b)({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:y,popperRef:v,transition:b,slots:w,slotProps:A}=s,E=(0,o.A)(s,fn),x=null!=(n=null==w?void 0:w.root)?n:null==c?void 0:c.Root,S=(0,r.A)({anchorEl:a,container:d,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:y,popperRef:v,transition:b},E);return(0,me.jsx)(pn,(0,r.A)({as:l,direction:null==i?void 0:i.direction,slots:{root:x},slotProps:null!=A?A:u},S,{ref:t}))}));var gn=n(3524),yn=n(1547);function vn(e){return(0,he.Ay)("MuiPickersPopper",e)}(0,fe.A)("MuiPickersPopper",["root","paper"]);const bn=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?bn(t.shadowRoot):t:null},wn="@media (pointer: fine)",An="undefined"!=typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),En=An&&An[1]?parseInt(An[1],10):null,xn=An&&An[2]?parseInt(An[2],10):null,Sn=En&&En<10||xn&&xn<13||!1,kn=()=>f("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||Sn,In=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],_n=(0,ue.Ay)(mn,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({zIndex:e.zIndex.modal}))),Rn=(0,ue.Ay)(qe.A,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]}),Cn=i.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:i,ownerState:s,children:a,paperSlotProps:l,paperClasses:c,onPaperClick:u,onPaperTouchStart:d}=e,h=(0,o.A)(e,In),f=(0,r.A)({},s,{placement:i}),p=Pe({elementType:n,externalSlotProps:l,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:c,ownerState:f});return(0,me.jsx)(n,(0,r.A)({},h,p,{onClick:e=>{u(e),p.onClick?.(e)},onTouchStart:e=>{d(e),p.onTouchStart?.(e)},ownerState:f,children:a}))}));function Tn(e){const t=(0,p.A)({props:e,name:"MuiPickersPopper"}),{anchorEl:n,children:o,containerRef:s=null,shouldRestoreFocus:a,onBlur:l,onDismiss:c,open:u,role:d,placement:h,slots:f,slotProps:m,reduceAnimations:g}=t;i.useEffect((()=>{function e(e){u&&"Escape"===e.key&&c()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[c,u]);const y=i.useRef(null);i.useEffect((()=>{"tooltip"===d||a&&!a()||(u?y.current=bn(document):y.current&&y.current instanceof HTMLElement&&setTimeout((()=>{y.current instanceof HTMLElement&&y.current.focus()})))}),[u,d,a]);const[v,b,w]=function(e,t){const n=i.useRef(!1),r=i.useRef(!1),o=i.useRef(null),s=i.useRef(!1);i.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),s.current=!1};function t(){s.current=!0}}),[e]);const a=(0,yn.A)((e=>{if(!s.current)return;const i=r.current;r.current=!1;const a=(0,Ge.A)(o.current);if(!o.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(o.current)>-1:!a.documentElement.contains(e.target)||o.current.contains(e.target),l||i||t(e)})),l=()=>{r.current=!0};return i.useEffect((()=>{if(e){const e=(0,Ge.A)(o.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}}),[e,a]),i.useEffect((()=>{if(e){const e=(0,Ge.A)(o.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),r.current=!1}}}),[e,a]),[o,l,l]}(u,l??c),A=i.useRef(null),E=(0,Re.A)(A,s),x=(0,Re.A)(E,v),S=t,k=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],paper:["paper"]},vn,t)})(S),I=kn(),_=g??I,R=f?.desktopTransition??_?We.A:He.A,C=f?.desktopTrapFocus??gn.A,T=f?.desktopPaper??Rn,P=f?.popper??_n,D=Pe({elementType:P,externalSlotProps:m?.popper,additionalProps:{transition:!0,role:d,open:u,anchorEl:n,placement:h,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),c())}},className:k.root,ownerState:t});return(0,me.jsx)(P,(0,r.A)({},D,{children:({TransitionProps:e,placement:t})=>(0,me.jsx)(C,(0,r.A)({open:u,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===d,isEnabled:()=>!0},m?.desktopTrapFocus,{children:(0,me.jsx)(R,(0,r.A)({},e,m?.desktopTransition,{children:(0,me.jsx)(Cn,{PaperComponent:T,ownerState:S,popperPlacement:t,ref:x,onPaperClick:b,onPaperTouchStart:w,paperClasses:k.paper,paperSlotProps:m?.desktopPaper,children:o})}))}))}))}function Pn(e,t,n,r){const{value:o,onError:s}=e,a=oe(),l=i.useRef(r),c=t({adapter:a,value:o,props:e});return i.useEffect((()=>{s&&!n(c,l.current)&&s(c,o),l.current=c}),[n,s,l,c,o]),c}var Dn=n(2501);const On=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:o})=>{const s=ie(),a=i.useRef(n),l=t??a.current??o.emptyValue,c=i.useMemo((()=>o.getTimezone(s,l)),[s,o,l]),u=(0,yn.A)((e=>null==c?e:o.setTimezone(s,c,e))),d=e??c??"default";return{value:i.useMemo((()=>o.setTimezone(s,d,l)),[o,s,d,l]),handleValueChange:(0,yn.A)(((e,...t)=>{const n=u(e);r?.(n,...t)})),timezone:d}},Mn=({name:e,timezone:t,value:n,defaultValue:r,onChange:o,valueManager:i})=>{const[s,a]=(0,Dn.A)({name:e,state:"value",controlled:n,default:r??i.emptyValue}),l=(0,yn.A)(((e,...t)=>{a(e),o?.(e,...t)}));return On({timezone:t,value:s,defaultValue:void 0,onChange:l,valueManager:i})};function Nn({onChange:e,onViewChange:t,openTo:n,view:r,views:o,autoFocus:s,focusedView:a,onFocusedViewChange:l}){const c=i.useRef(n),u=i.useRef(o),d=i.useRef(o.includes(n)?n:o[0]),[h,f]=(0,Dn.A)({name:"useViews",state:"view",controlled:r,default:d.current}),p=i.useRef(s?h:null),[m,g]=(0,Dn.A)({name:"useViews",state:"focusedView",controlled:a,default:p.current});i.useEffect((()=>{(c.current&&c.current!==n||u.current&&u.current.some((e=>!o.includes(e))))&&(f(o.includes(n)?n:o[0]),u.current=o,c.current=n)}),[n,f,h,o]);const y=o.indexOf(h),v=o[y-1]??null,b=o[y+1]??null,w=(0,yn.A)(((e,t)=>{g(t?e:t=>e===t?null:t),l?.(e,t)})),A=(0,yn.A)((e=>{w(e,!0),e!==h&&(f(e),t&&t(e))})),E=(0,yn.A)((()=>{b&&A(b)})),x=(0,yn.A)(((t,n,r)=>{const i="finish"===n,s=r?o.indexOf(r)<o.length-1:Boolean(b);if(e(t,i&&s?"partial":n,r),r&&r!==h){const e=o[o.indexOf(r)+1];e&&A(e)}else i&&E()}));return{view:h,setView:A,focusedView:m,setFocusedView:w,nextView:b,previousView:v,defaultView:o.includes(n)?n:o[0],goToNextView:E,setValueAndGoToNextView:x}}const Bn=["className","sx"];var Ln=n(3788);function Fn(){return"undefined"==typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}(0,n(5079).f)(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Un=({props:e,valueManager:t,valueType:n,wrapperVariant:s,additionalViewProps:l,validator:c,autoFocusView:u,rendererInterceptor:d,fieldRef:h})=>{const f=(({props:e,valueManager:t,valueType:n,wrapperVariant:o,validator:s})=>{const{onAccept:a,onChange:l,value:c,defaultValue:u,closeOnSelect:d="desktop"===o,timezone:h}=e,{current:f}=i.useRef(u),{current:p}=i.useRef(void 0!==c),m=ie(),g=oe(),{isOpen:y,setIsOpen:v}=(({open:e,onOpen:t,onClose:n})=>{const r=i.useRef("boolean"==typeof e).current,[o,s]=i.useState(!1);return i.useEffect((()=>{if(r){if("boolean"!=typeof e)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(e)}}),[r,e]),{isOpen:o,setIsOpen:i.useCallback((e=>{r||s(e),e&&t&&t(),!e&&n&&n()}),[r,t,n])}})(e),{timezone:b,value:w,handleValueChange:A}=On({timezone:h,value:c,defaultValue:f,onChange:l,valueManager:t}),[E,x]=i.useState((()=>{let e;return e=void 0!==w?w:void 0!==f?f:t.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:w,hasBeenModifiedSinceMount:!1}}));Pn((0,r.A)({},e,{value:E.draft,timezone:b}),s,t.isSameError,t.defaultErrorState);const S=(0,yn.A)((n=>{const o={action:n,dateState:E,hasChanged:e=>!t.areValuesEqual(m,n.value,e),isControlled:p,closeOnSelect:d},i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o}=e,i=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!i||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!i||n(r.lastPublishedValue)))})(o),l=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:i}=e,s=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&i?!!s||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(o),c=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(o);x((e=>(0,r.A)({},e,{draft:n.value,lastPublishedValue:i?n.value:e.lastPublishedValue,lastCommittedValue:l?n.value:e.lastCommittedValue,hasBeenModifiedSinceMount:!0})));let u=null;const h=()=>{if(!u){const t="setValueFromField"===n.name?n.context.validationError:s({adapter:g,value:n.value,props:(0,r.A)({},e,{value:n.value,timezone:b})});u={validationError:t},"setValueFromShortcut"===n.name&&(u.shortcut=n.shortcut)}return u};i&&A(n.value,h()),l&&a&&a(n.value,h()),c&&v(!1)}));if(void 0!==w&&(void 0===E.lastControlledValue||!t.areValuesEqual(m,E.lastControlledValue,w))){const e=t.areValuesEqual(m,E.draft,w);x((t=>(0,r.A)({},t,{lastControlledValue:w},e?{}:{lastCommittedValue:w,lastPublishedValue:w,draft:w,hasBeenModifiedSinceMount:!0})))}const k=(0,yn.A)((()=>{S({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),I=(0,yn.A)((()=>{S({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),_=(0,yn.A)((()=>{S({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),R=(0,yn.A)((()=>{S({value:E.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),C=(0,yn.A)((()=>{S({value:t.getTodayValue(m,b,n),name:"setValueFromAction",pickerAction:"today"})})),T=(0,yn.A)((e=>{e.preventDefault(),v(!0)})),P=(0,yn.A)((e=>{e?.preventDefault(),v(!1)})),D=(0,yn.A)(((e,t="partial")=>S({name:"setValueFromView",value:e,selectionState:t}))),O=(0,yn.A)(((e,t,n)=>S({name:"setValueFromShortcut",value:e,changeImportance:t,shortcut:n}))),M=(0,yn.A)(((e,t)=>S({name:"setValueFromField",value:e,context:t}))),N={onClear:k,onAccept:I,onDismiss:_,onCancel:R,onSetToday:C,onOpen:T,onClose:P},B={value:E.draft,onChange:M},L=i.useMemo((()=>t.cleanValue(m,E.draft)),[m,t,E.draft]);return{open:y,fieldProps:B,viewProps:{value:L,onChange:D,onClose:P,open:y},layoutProps:(0,r.A)({},N,{value:L,onChange:D,onSelectShortcut:O,isValid:n=>{const o=s({adapter:g,value:n,props:(0,r.A)({},e,{value:n,timezone:b})});return!t.hasError(o)}}),actions:N}})({props:e,valueManager:t,valueType:n,wrapperVariant:s,validator:c}),p=(({props:e,propsFromPickerValue:t,additionalViewProps:n,autoFocusView:s,rendererInterceptor:l,fieldRef:c})=>{const{onChange:u,open:d,onClose:h}=t,{view:f,views:p,openTo:m,onViewChange:g,viewRenderers:y,timezone:v}=e,b=(0,o.A)(e,Bn),{view:w,setView:A,defaultView:E,focusedView:x,setFocusedView:S,setValueAndGoToNextView:k}=Nn({view:f,views:p,openTo:m,onChange:u,onViewChange:g,autoFocus:s}),{hasUIView:I,viewModeLookup:_}=i.useMemo((()=>p.reduce(((e,t)=>{let n;return n=null!=y[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[y,p]),R=i.useMemo((()=>p.reduce(((e,t)=>null!=y[t]&&(e=>C.includes(e))(t)?e+1:e),0)),[y,p]),T=_[w],P=(0,yn.A)((()=>"UI"===T)),[D,O]=i.useState("UI"===T?w:null);return D!==w&&"UI"===_[w]&&O(w),(0,a.A)((()=>{"field"===T&&d&&(h(),setTimeout((()=>{c?.current?.setSelectedSections(w),c?.current?.focusField(w)})))}),[w]),(0,a.A)((()=>{if(!d)return;let e=w;"field"===T&&null!=D&&(e=D),e!==E&&"UI"===_[e]&&"UI"===_[E]&&(e=E),e!==w&&A(e),S(e,!0)}),[d]),{hasUIView:I,shouldRestoreFocus:P,layoutProps:{views:p,view:D,onViewChange:A},renderCurrentView:()=>{if(null==D)return null;const e=y[D];if(null==e)return null;const o=(0,r.A)({},b,n,t,{views:p,timezone:v,onChange:k,view:D,onViewChange:A,focusedView:x,onFocusedViewChange:S,showViewSwitcher:R>1,timeViewsCount:R});return l?l(y,D,o):e(o)}}})({props:e,additionalViewProps:l,autoFocusView:u,fieldRef:h,propsFromPickerValue:f.viewProps,rendererInterceptor:d}),m=(({props:e,propsFromPickerValue:t,propsFromPickerViews:n,wrapperVariant:o})=>{const{orientation:s}=e,l=((e,t)=>{const[n,r]=i.useState(Fn);return(0,a.A)((()=>{const e=()=>{r(Fn())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),o=e,s=["hours","minutes","seconds"],!(Array.isArray(s)?s.every((e=>-1!==o.indexOf(e))):-1!==o.indexOf(s))&&"landscape"===(t||n);var o,s})(n.views,s),c=(0,Ln.I)();return{layoutProps:(0,r.A)({},n,t,{isLandscape:l,isRtl:c,wrapperVariant:o,disabled:e.disabled,readOnly:e.readOnly})}})({props:e,wrapperVariant:s,propsFromPickerValue:f.layoutProps,propsFromPickerViews:p.layoutProps});return{open:f.open,actions:f.actions,fieldProps:f.fieldProps,renderCurrentView:p.renderCurrentView,hasUIView:p.hasUIView,shouldRestoreFocus:p.shouldRestoreFocus,layoutProps:m.layoutProps}};function $n(e){return(0,he.Ay)("MuiPickersLayout",e)}const jn=(0,fe.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);var zn=n(8139),Vn=n(8763);const Hn=["onAccept","onClear","onCancel","onSetToday","actions"];function Wn(e){const{onAccept:t,onClear:n,onCancel:i,onSetToday:s,actions:a}=e,l=(0,o.A)(e,Hn),c=we();if(null==a||0===a.length)return null;const u=a?.map((e=>{switch(e){case"clear":return(0,me.jsx)(zn.A,{onClick:n,children:c.clearButtonLabel},e);case"cancel":return(0,me.jsx)(zn.A,{onClick:i,children:c.cancelButtonLabel},e);case"accept":return(0,me.jsx)(zn.A,{onClick:t,children:c.okButtonLabel},e);case"today":return(0,me.jsx)(zn.A,{onClick:s,children:c.todayButtonLabel},e);default:return null}}));return(0,me.jsx)(Vn.A,(0,r.A)({},l,{children:u}))}var qn=n(9799),Kn=n(771),Gn=n(2197),Yn=n(8850),Qn=n(8593),Zn=n(2778),Jn=n(6852),Xn=n(2850);function er(e){return(0,he.Ay)("MuiListItem",e)}const tr=(0,fe.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),nr=(0,fe.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function rr(e){return(0,he.Ay)("MuiListItemSecondaryAction",e)}(0,fe.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const or=["className"],ir=(0,ue.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((({ownerState:e})=>(0,r.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0}))),sr=i.forwardRef((function(e,t){const n=(0,Fe.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:s}=n,a=(0,o.A)(n,or),l=i.useContext(Xn.A),c=(0,r.A)({},n,{disableGutters:l.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,de.A)(r,rr,n)})(c);return(0,me.jsx)(ir,(0,r.A)({className:(0,le.A)(u.root,s),ownerState:c,ref:t},a))}));sr.muiName="ListItemSecondaryAction";const ar=sr,lr=["className"],cr=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ur=(0,ue.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((({theme:e,ownerState:t})=>(0,r.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,r.A)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${nr.root}`]:{paddingRight:48}},{[`&.${tr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${tr.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${tr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${tr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tr.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48}))),dr=(0,ue.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),hr=i.forwardRef((function(e,t){const n=(0,Fe.b)({props:e,name:"MuiListItem"}),{alignItems:s="center",autoFocus:a=!1,button:l=!1,children:c,className:u,component:d,components:h={},componentsProps:f={},ContainerComponent:p="li",ContainerProps:{className:m}={},dense:g=!1,disabled:y=!1,disableGutters:v=!1,disablePadding:b=!1,divider:w=!1,focusVisibleClassName:A,secondaryAction:E,selected:x=!1,slotProps:S={},slots:k={}}=n,I=(0,o.A)(n.ContainerProps,lr),_=(0,o.A)(n,cr),R=i.useContext(Xn.A),C=i.useMemo((()=>({dense:g||R.dense||!1,alignItems:s,disableGutters:v})),[s,R.dense,g,v]),T=i.useRef(null);(0,Zn.A)((()=>{a&&T.current&&T.current.focus()}),[a]);const P=i.Children.toArray(c),D=P.length&&(0,Qn.A)(P[P.length-1],["ListItemSecondaryAction"]),O=(0,r.A)({},n,{alignItems:s,autoFocus:a,button:l,dense:C.dense,disabled:y,disableGutters:v,disablePadding:b,divider:w,hasSecondaryAction:D,selected:x}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,de.A)(d,er,r)})(O),N=(0,Jn.A)(T,t),B=k.root||h.Root||ur,L=S.root||f.root||{},F=(0,r.A)({className:(0,le.A)(M.root,L.className,u),disabled:y},_);let U=d||"li";return l&&(F.component=d||"div",F.focusVisibleClassName=(0,le.A)(tr.focusVisible,A),U=Yn.A),D?(U=F.component||d?U:"div","li"===p&&("li"===U?U="div":"li"===F.component&&(F.component="div")),(0,me.jsx)(Xn.A.Provider,{value:C,children:(0,me.jsxs)(dr,(0,r.A)({as:p,className:(0,le.A)(M.container,m),ref:N,ownerState:O},I,{children:[(0,me.jsx)(B,(0,r.A)({},L,!(0,Gn.A)(B)&&{as:U,ownerState:(0,r.A)({},O,L.ownerState)},F,{children:P})),P.pop()]}))})):(0,me.jsx)(Xn.A.Provider,{value:C,children:(0,me.jsxs)(B,(0,r.A)({},L,{as:U,ref:N},!(0,Gn.A)(B)&&{ownerState:(0,r.A)({},O,L.ownerState)},F,{children:[P,E&&(0,me.jsx)(ar,{children:E})]}))})}));var fr=n(5003);const pr=(0,fr.A)((0,me.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function mr(e){return(0,he.Ay)("MuiChip",e)}const gr=(0,fe.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),yr=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],vr=(0,ue.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{[`& .${gr.avatar}`]:t.avatar},{[`& .${gr.avatar}`]:t[`avatar${(0,De.A)(a)}`]},{[`& .${gr.avatar}`]:t[`avatarColor${(0,De.A)(r)}`]},{[`& .${gr.icon}`]:t.icon},{[`& .${gr.icon}`]:t[`icon${(0,De.A)(a)}`]},{[`& .${gr.icon}`]:t[`iconColor${(0,De.A)(o)}`]},{[`& .${gr.deleteIcon}`]:t.deleteIcon},{[`& .${gr.deleteIcon}`]:t[`deleteIcon${(0,De.A)(a)}`]},{[`& .${gr.deleteIcon}`]:t[`deleteIconColor${(0,De.A)(r)}`]},{[`& .${gr.deleteIcon}`]:t[`deleteIcon${(0,De.A)(l)}Color${(0,De.A)(r)}`]},t.root,t[`size${(0,De.A)(a)}`],t[`color${(0,De.A)(r)}`],i&&t.clickable,i&&"default"!==r&&t[`clickableColor${(0,De.A)(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${(0,De.A)(r)}`],t[l],t[`${l}${(0,De.A)(r)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300];return(0,r.A)({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${gr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${gr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${gr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${gr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${gr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${gr.icon}`]:(0,r.A)({marginLeft:5,marginRight:-6},"small"===t.size&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&(0,r.A)({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},"default"!==t.color&&{color:"inherit"})),[`& .${gr.deleteIcon}`]:(0,r.A)({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:(0,Kn.X4)(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:(0,Kn.X4)(e.palette.text.primary,.4)}},"small"===t.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==t.color&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:(0,Kn.X4)(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},"small"===t.size&&{height:24},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${gr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Kn.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&"default"!==t.color&&{[`&.${gr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})}),(({theme:e,ownerState:t})=>(0,r.A)({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,Kn.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${gr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,Kn.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&"default"!==t.color&&{[`&:hover, &.${gr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})),(({theme:e,ownerState:t})=>(0,r.A)({},"outlined"===t.variant&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${gr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${gr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${gr.avatar}`]:{marginLeft:4},[`& .${gr.avatarSmall}`]:{marginLeft:2},[`& .${gr.icon}`]:{marginLeft:4},[`& .${gr.iconSmall}`]:{marginLeft:2},[`& .${gr.deleteIcon}`]:{marginRight:5},[`& .${gr.deleteIconSmall}`]:{marginRight:3}},"outlined"===t.variant&&"default"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,Kn.X4)(e.palette[t.color].main,.7)}`,[`&.${gr.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,Kn.X4)(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${gr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:(0,Kn.X4)(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${gr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,Kn.X4)(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}}))),br=(0,ue.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,De.A)(r)}`]]}})((({ownerState:e})=>(0,r.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===e.variant&&{paddingLeft:11,paddingRight:11},"small"===e.size&&{paddingLeft:8,paddingRight:8},"small"===e.size&&"outlined"===e.variant&&{paddingLeft:7,paddingRight:7})));function wr(e){return"Backspace"===e.key||"Delete"===e.key}const Ar=i.forwardRef((function(e,t){const n=(0,Fe.b)({props:e,name:"MuiChip"}),{avatar:s,className:a,clickable:l,color:c="default",component:u,deleteIcon:d,disabled:h=!1,icon:f,label:p,onClick:m,onDelete:g,onKeyDown:y,onKeyUp:v,size:b="medium",variant:w="filled",tabIndex:A,skipFocusWhenDisabled:E=!1}=n,x=(0,o.A)(n,yr),S=i.useRef(null),k=(0,Jn.A)(S,t),I=e=>{e.stopPropagation(),g&&g(e)},_=!(!1===l||!m)||l,R=_||g?Yn.A:u||"div",C=(0,r.A)({},n,{component:R,disabled:h,size:b,color:c,iconColor:i.isValidElement(f)&&f.props.color||c,onDelete:!!g,clickable:_,variant:w}),T=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${(0,De.A)(r)}`,`color${(0,De.A)(o)}`,a&&"clickable",a&&`clickableColor${(0,De.A)(o)}`,s&&"deletable",s&&`deletableColor${(0,De.A)(o)}`,`${l}${(0,De.A)(o)}`],label:["label",`label${(0,De.A)(r)}`],avatar:["avatar",`avatar${(0,De.A)(r)}`,`avatarColor${(0,De.A)(o)}`],icon:["icon",`icon${(0,De.A)(r)}`,`iconColor${(0,De.A)(i)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,De.A)(r)}`,`deleteIconColor${(0,De.A)(o)}`,`deleteIcon${(0,De.A)(l)}Color${(0,De.A)(o)}`]};return(0,de.A)(c,mr,t)})(C),P=R===Yn.A?(0,r.A)({component:u||"div",focusVisibleClassName:T.focusVisible},g&&{disableRipple:!0}):{};let D=null;g&&(D=d&&i.isValidElement(d)?i.cloneElement(d,{className:(0,le.A)(d.props.className,T.deleteIcon),onClick:I}):(0,me.jsx)(pr,{className:(0,le.A)(T.deleteIcon),onClick:I}));let O=null;s&&i.isValidElement(s)&&(O=i.cloneElement(s,{className:(0,le.A)(T.avatar,s.props.className)}));let M=null;return f&&i.isValidElement(f)&&(M=i.cloneElement(f,{className:(0,le.A)(T.icon,f.props.className)})),(0,me.jsxs)(vr,(0,r.A)({as:R,className:(0,le.A)(T.root,a),disabled:!(!_||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&wr(e)&&e.preventDefault(),y&&y(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&wr(e)?g(e):"Escape"===e.key&&S.current&&S.current.blur()),v&&v(e)},ref:k,tabIndex:E&&h?-1:A,ownerState:C},P,x,{children:[O||M,(0,me.jsx)(br,{className:(0,le.A)(T.label),ownerState:C,children:p}),D]}))})),Er=320,xr=["items","changeImportance","isLandscape","onChange","isValid"],Sr=["getValue"];function kr(e){const{items:t,changeImportance:n="accept",onChange:i,isValid:s}=e,a=(0,o.A)(e,xr);if(null==t||0===t.length)return null;const l=t.map((e=>{let{getValue:t}=e,a=(0,o.A)(e,Sr);const l=t({isValid:s});return(0,r.A)({},a,{label:a.label,onClick:()=>{i(l,n,a)},disabled:!s(l)})}));return(0,me.jsx)(qn.A,(0,r.A)({dense:!0,sx:[{maxHeight:336,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:l.map((e=>(0,me.jsx)(hr,{children:(0,me.jsx)(Ar,(0,r.A)({},e))},e.id??e.label)))}))}const Ir=(0,ue.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${jn.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${jn.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${jn.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${jn.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${jn.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${jn.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${jn.shortcuts}`]:{gridColumn:3}}}]}),_r=(0,ue.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Rr=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersLayout"}),{toolbar:o,content:s,tabs:a,actionBar:l,shortcuts:c}=(e=>{const{wrapperVariant:t,onAccept:n,onClear:o,onCancel:i,onSetToday:s,view:a,views:l,onViewChange:c,value:u,onChange:d,onSelectShortcut:h,isValid:f,isLandscape:p,disabled:m,readOnly:g,children:y,slots:v,slotProps:b}=e,w=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,de.A)(r,$n,t)})(e),A=v?.actionBar??Wn,E=Pe({elementType:A,externalSlotProps:b?.actionBar,additionalProps:{onAccept:n,onClear:o,onCancel:i,onSetToday:s,actions:"desktop"===t?[]:["cancel","accept"]},className:w.actionBar,ownerState:(0,r.A)({},e,{wrapperVariant:t})}),x=(0,me.jsx)(A,(0,r.A)({},E)),S=v?.toolbar,k=Pe({elementType:S,externalSlotProps:b?.toolbar,additionalProps:{isLandscape:p,onChange:d,value:u,view:a,onViewChange:c,views:l,disabled:m,readOnly:g},className:w.toolbar,ownerState:(0,r.A)({},e,{wrapperVariant:t})}),I=function(e){return null!==e.view}(k)&&S?(0,me.jsx)(S,(0,r.A)({},k)):null,_=y,R=v?.tabs,C=a&&R?(0,me.jsx)(R,(0,r.A)({view:a,onViewChange:c,className:w.tabs},b?.tabs)):null,T=v?.shortcuts??kr,P=Pe({elementType:T,externalSlotProps:b?.shortcuts,additionalProps:{isValid:f,isLandscape:p,onChange:h},className:w.shortcuts,ownerState:{isValid:f,isLandscape:p,onChange:h,wrapperVariant:t}});return{toolbar:I,content:_,tabs:C,actionBar:x,shortcuts:a&&T?(0,me.jsx)(T,(0,r.A)({},P)):null}})(n),{sx:u,className:d,isLandscape:h,wrapperVariant:f}=n,m=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,de.A)(r,$n,n)})(n);return(0,me.jsxs)(Ir,{ref:t,sx:u,className:(0,le.A)(d,m.root),ownerState:n,children:[h?c:o,h?o:c,(0,me.jsx)(_r,{className:m.contentWrapper,children:"desktop"===f?(0,me.jsxs)(i.Fragment,{children:[s,a]}):(0,me.jsxs)(i.Fragment,{children:[a,s]})}),l]})})),Cr=["props","getOpenDialogAriaText"],Tr=["ownerState"],Pr=["ownerState"],Dr=(0,fr.A)((0,me.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Or=(0,fr.A)((0,me.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Mr=(0,fr.A)((0,me.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Nr=(0,fr.A)((0,me.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Br=((0,fr.A)((0,me.jsxs)(i.Fragment,{children:[(0,me.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,me.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),(0,fr.A)((0,me.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),(0,fr.A)((0,me.jsxs)(i.Fragment,{children:[(0,me.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,me.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),(0,fr.A)((0,me.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"));var Lr=n(7361);const Fr=(e,t,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,t),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},Ur=({utils:e,timezone:t,date:n,shouldRespectLeadingZeros:o,localeText:i,localizedDigits:s,now:a,token:l,startSeparator:c})=>{if(""===l)throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=O(e,l),d=W(e,t,u.contentType,u.type,l),h=o?d:"digit"===u.contentType,f=null!=n&&e.isValid(n);let p=f?e.formatByString(n,l):"",m=null;if(h)if(d)m=""===p?e.formatByString(a,l).length:p.length;else{if(null==u.maxLength)throw new Error(`MUI X: The token ${l} should have a 'maxDigitNumber' property on it's adapter`);m=u.maxLength,f&&(p=F($(L(p,s),m),s))}return(0,r.A)({},u,{format:l,maxLength:m,value:p,placeholder:Fr(e,t,i,u,l),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:h,startSeparator:c,endSeparator:"",modified:!1})},$r=e=>{let t=(({utils:e,format:t})=>{let n=10,r=t,o=e.expandFormat(t);for(;o!==r;)if(r=o,o=e.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return o})(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=(({utils:e,expandedFormat:t})=>{const n=[],{start:r,end:o}=e.escapedCharacters,i=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let s=null;for(;s=i.exec(t);)n.push({start:s.index,end:i.lastIndex-1});return n})((0,r.A)({},e,{expandedFormat:t})),o=(e=>{const{utils:t,expandedFormat:n,escapedParts:o}=e,i=t.date(void 0),s=[];let a="";const l=Object.keys(t.formatTokenMap).sort(((e,t)=>t.length-e.length)),c=/^([a-zA-Z]+)/,u=new RegExp(`^(${l.join("|")})*$`),d=new RegExp(`^(${l.join("|")})`),h=e=>o.find((t=>t.start<=e&&t.end>=e));let f=0;for(;f<n.length;){const t=h(f),o=null!=t,l=c.exec(n.slice(f))?.[1];if(!o&&null!=l&&u.test(l)){let t=l;for(;t.length>0;){const n=d.exec(t)[1];t=t.slice(n.length),s.push(Ur((0,r.A)({},e,{now:i,token:n,startSeparator:a}))),a=""}f+=l.length}else{const e=n[f];o&&t?.start===f||t?.end===f||(0===s.length?a+=e:s[s.length-1].endSeparator+=e),f+=1}}return 0===s.length&&a.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),s})((0,r.A)({},e,{expandedFormat:t,escapedParts:n}));return(({isRtl:e,formatDensity:t,sections:n})=>n.map((n=>{const r=n=>{let r=n;return e&&null!==r&&r.includes(" ")&&(r=`⁩${r}⁦`),"spacious"===t&&["/",".","-"].includes(r)&&(r=` ${r} `),r};return n.startSeparator=r(n.startSeparator),n.endSeparator=r(n.endSeparator),n})))((0,r.A)({},e,{sections:o}))},jr=e=>null!=e.saveQuery,zr=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:s,onFocus:l,onInput:c,onPaste:u,focused:d,autoFocus:h=!1},fieldValueManager:f,applyCharacterEditing:p,resetCharacterQuery:m,setSelectedSections:g,parsedSelectedSections:y,state:v,clearActiveSection:b,clearValue:w,updateSectionValue:A,updateValueFromValueStr:E,sectionOrder:x,areAllSectionsEmpty:S,sectionsValueBoundaries:k}=e,I=i.useRef(null),_=(0,Re.A)(r,I),R=we(),C=ie(),T=(0,Ve.A)(),[P,D]=i.useState(!1),O=i.useMemo((()=>({syncSelectionToDOM:()=>{if(!I.current)return;const e=document.getSelection();if(!e)return;if(null==y)return e.rangeCount>0&&I.current.getRoot().contains(e.getRangeAt(0).startContainer)&&e.removeAllRanges(),void(P&&I.current.getRoot().blur());if(!I.current.getRoot().contains(bn(document)))return;const t=new window.Range;let n;n="all"===y?I.current.getRoot():"empty"===v.sections[y].type?I.current.getSectionContainer(y):I.current.getSectionContent(y),t.selectNodeContents(n),n.focus(),e.removeAllRanges(),e.addRange(t)},getActiveSectionIndexFromDOM:()=>{const e=bn(document);return e&&I.current&&I.current.getRoot().contains(e)?I.current.getSectionIndexFromDOMElement(e):null},focusField:(e=0)=>{if(!I.current)return;const t=G(e,v.sections);D(!0),I.current.getSectionContent(t).focus()},setSelectedSections:e=>{if(!I.current)return;const t=G(e,v.sections);D(null!==("all"===t?0:t)),g(e)},isFieldFocused:()=>{const e=bn(document);return!!I.current&&I.current.getRoot().contains(e)}})),[y,g,v.sections,P]),M=(0,yn.A)((e=>{if(!I.current)return;const t=v.sections[e];I.current.getSectionContent(e).innerHTML=t.value||t.placeholder,O.syncSelectionToDOM()})),N=(0,yn.A)(((e,...t)=>{!e.isDefaultPrevented()&&I.current&&(D(!0),s?.(e,...t),"all"===y?setTimeout((()=>{const e=document.getSelection().getRangeAt(0).startOffset;if(0===e)return void g(x.startIndex);let t=0,n=0;for(;n<e&&t<v.sections.length;){const e=v.sections[t];t+=1,n+=`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`.length}g(t-1)})):P?I.current.getRoot().contains(e.target)||g(x.startIndex):(D(!0),g(x.startIndex)))})),B=(0,yn.A)((e=>{if(c?.(e),!I.current||"all"!==y)return;const t=e.target.textContent??"";I.current.getRoot().innerHTML=v.sections.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),O.syncSelectionToDOM(),0===t.length||10===t.charCodeAt(0)?(m(),w(),g("all")):t.length>1?E(t):p({keyPressed:t,sectionIndex:0})})),L=(0,yn.A)((e=>{if(u?.(e),n||"all"!==y)return void e.preventDefault();const t=e.clipboardData.getData("text");e.preventDefault(),m(),E(t)})),F=(0,yn.A)(((...e)=>{l?.(...e),!P&&I.current&&(D(!0),null!=I.current.getSectionIndexFromDOMElement(bn(document))||g(x.startIndex))})),U=(0,yn.A)(((...e)=>{o?.(...e),setTimeout((()=>{if(!I.current)return;const e=bn(document);!I.current.getRoot().contains(e)&&(D(!1),g(null))}))})),$=(0,yn.A)((e=>t=>{t.isDefaultPrevented()||g(e)})),j=(0,yn.A)((e=>{e.preventDefault()})),z=(0,yn.A)((e=>()=>{g(e)})),V=(0,yn.A)((e=>{if(e.preventDefault(),n||"number"!=typeof y)return;const t=v.sections[y],r=e.clipboardData.getData("text"),o=/^[a-zA-Z]+$/.test(r),i=/^[0-9]+$/.test(r),s=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(r);"letter"===t.contentType&&o||"digit"===t.contentType&&i||"digit-with-letter"===t.contentType&&s?(m(),A({activeSection:t,newSectionValue:r,shouldGoToNextSection:!0})):o||i||(m(),E(r))})),H=(0,yn.A)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"})),W=(0,yn.A)((e=>{if(!I.current)return;const t=e.target,r=t.textContent??"",o=I.current.getSectionIndexFromDOMElement(t),i=v.sections[o];if(!n&&I.current){if(0===r.length){if(""===i.value)return void M(o);const t=e.nativeEvent.inputType;return"insertParagraph"===t||"insertLineBreak"===t?void M(o):(m(),void b())}p({keyPressed:r,sectionIndex:o}),M(o)}else M(o)}));(0,a.A)((()=>{if(P&&I.current)if("all"===y)I.current.getRoot().focus();else if("number"==typeof y){const e=I.current.getSectionContent(y);e&&e.focus()}}),[y,P]);const q=i.useMemo((()=>v.sections.reduce(((e,t)=>(e[t.type]=k[t.type]({currentDate:null,contentType:t.contentType,format:t.format}),e)),{})),[k,v.sections]),K="all"===y,Z=i.useMemo((()=>v.sections.map(((e,r)=>{const o=!K&&!t&&!n;return{container:{"data-sectionindex":r,onClick:$(r)},content:{tabIndex:K||r>0?-1:0,contentEditable:!K&&!t&&!n,role:"spinbutton",id:`${T}-${e.type}`,"aria-labelledby":`${T}-${e.type}`,"aria-readonly":n,"aria-valuenow":Q(e,C),"aria-valuemin":q[e.type].minimum,"aria-valuemax":q[e.type].maximum,"aria-valuetext":e.value?Y(e,C):R.empty,"aria-label":R[e.type],"aria-disabled":t,spellCheck:!o&&void 0,autoCapitalize:o?"off":void 0,autoCorrect:o?"off":void 0,[parseInt(i.version,10)>=17?"enterKeyHint":"enterkeyhint"]:o?"next":void 0,children:e.value||e.placeholder,onInput:W,onPaste:V,onFocus:z(r),onDragOver:H,onMouseUp:j,inputMode:"letter"===e.contentType?"text":"numeric"},before:{children:e.startSeparator},after:{children:e.endSeparator}}}))),[v.sections,z,V,H,W,$,j,t,n,K,R,C,q,T]),J=(0,yn.A)((e=>{E(e.target.value)})),X=i.useMemo((()=>S?"":f.getV7HiddenInputValueFromSections(v.sections)),[S,v.sections,f]);return i.useEffect((()=>{if(null==I.current)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join("\n"));h&&I.current&&I.current.getSectionContent(x.startIndex).focus()}),[]),{interactions:O,returnedValue:{autoFocus:h,readOnly:n,focused:d??P,sectionListRef:_,onBlur:U,onClick:N,onFocus:F,onInput:B,onPaste:L,enableAccessibleFieldDOMStructure:!0,elements:Z,tabIndex:0===y?-1:0,contentEditable:K,value:X,onChange:J,areAllSectionsEmpty:S}}},Vr=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Hr=e=>{const t=(0,Ln.I)(),n=i.useRef(),o=i.useRef(),{forwardedProps:{onFocus:s,onClick:a,onPaste:l,onBlur:c,inputRef:u,placeholder:d},internalProps:{readOnly:h=!1},parsedSelectedSections:f,activeSectionIndex:p,state:m,fieldValueManager:g,valueManager:y,applyCharacterEditing:v,resetCharacterQuery:b,updateSectionValue:w,updateValueFromValueStr:A,clearActiveSection:E,clearValue:x,setTempAndroidValueStr:S,setSelectedSections:k,getSectionsFromValue:I,areAllSectionsEmpty:_,localizedDigits:R}=e,C=i.useRef(null),T=(0,Re.A)(u,C),P=i.useMemo((()=>((e,t,n)=>{let o=0,i=n?1:0;const s=[];for(let a=0;a<e.length;a+=1){const l=e[a],c=z(l,n?"input-rtl":"input-ltr",t),u=`${l.startSeparator}${c}${l.endSeparator}`,d=Vr(u).length,h=u.length,f=Vr(c),p=i+(""===f?0:c.indexOf(f[0]))+l.startSeparator.length,m=p+f.length;s.push((0,r.A)({},l,{start:o,end:o+d,startInInput:p,endInInput:m})),o+=d,i+=h}return s})(m.sections,R,t)),[m.sections,R,t]),D=i.useMemo((()=>({syncSelectionToDOM:()=>{if(!C.current)return;if(null==f)return void(C.current.scrollLeft&&(C.current.scrollLeft=0));if(C.current!==bn(document))return;const e=C.current.scrollTop;if("all"===f)C.current.select();else{const e=P[f],t="empty"===e.type?e.startInInput-e.startSeparator.length:e.startInInput,n="empty"===e.type?e.endInInput+e.endSeparator.length:e.endInInput;t===C.current.selectionStart&&n===C.current.selectionEnd||C.current===bn(document)&&C.current.setSelectionRange(t,n),clearTimeout(o.current),o.current=setTimeout((()=>{!C.current||C.current!==bn(document)||C.current.selectionStart!==C.current.selectionEnd||C.current.selectionStart===t&&C.current.selectionEnd===n||D.syncSelectionToDOM()}))}C.current.scrollTop=e},getActiveSectionIndexFromDOM:()=>{const e=C.current.selectionStart??0,t=C.current.selectionEnd??0;if(0===e&&0===t)return null;const n=e<=P[0].startInInput?1:P.findIndex((t=>t.startInInput-t.startSeparator.length>e));return-1===n?P.length-1:n-1},focusField:(e=0)=>{C.current?.focus(),k(e)},setSelectedSections:e=>k(e),isFieldFocused:()=>C.current===bn(document)})),[C,f,P,k]),O=()=>{const e=C.current.selectionStart??0;let t;t=e<=P[0].startInInput||e>=P[P.length-1].endInInput?1:P.findIndex((t=>t.startInInput-t.startSeparator.length>e));const n=-1===t?P.length-1:t-1;k(n)},M=(0,yn.A)(((...e)=>{s?.(...e);const t=C.current;clearTimeout(n.current),n.current=setTimeout((()=>{t&&t===C.current&&null==p&&(t.value.length&&Number(t.selectionEnd)-Number(t.selectionStart)===t.value.length?k("all"):O())}))})),N=(0,yn.A)(((e,...t)=>{e.isDefaultPrevented()||(a?.(e,...t),O())})),B=(0,yn.A)((e=>{if(l?.(e),e.preventDefault(),h)return;const t=e.clipboardData.getData("text");if("number"==typeof f){const e=m.sections[f],n=/^[a-zA-Z]+$/.test(t),r=/^[0-9]+$/.test(t),o=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===e.contentType&&n||"digit"===e.contentType&&r||"digit-with-letter"===e.contentType&&o)return b(),void w({activeSection:e,newSectionValue:t,shouldGoToNextSection:!0});if(n||r)return}b(),A(t)})),L=(0,yn.A)(((...e)=>{c?.(...e),k(null)})),F=(0,yn.A)((e=>{if(h)return;const n=e.target.value;if(""===n)return b(),void x();const r=e.nativeEvent.data,o=r&&r.length>1,i=o?r:n,s=Vr(i);if(null==p||o)return void A(o?r:s);let a;if("all"===f&&1===s.length)a=s;else{const e=Vr(g.getV6InputValueFromSections(P,R,t));let n=-1,r=-1;for(let t=0;t<e.length;t+=1)-1===n&&e[t]!==s[t]&&(n=t),-1===r&&e[e.length-t-1]!==s[s.length-t-1]&&(r=t);const o=P[p];if(n<o.start||e.length-r-1>o.end)return;const i=s.length-e.length+o.end-Vr(o.endSeparator||"").length;a=s.slice(o.start+Vr(o.startSeparator||"").length,i)}if(0===a.length)return navigator.userAgent.toLowerCase().indexOf("android")>-1&&S(i),b(),void E();v({keyPressed:a,sectionIndex:p})})),U=i.useMemo((()=>void 0!==d?d:g.getV6InputValueFromSections(I(y.emptyValue),R,t)),[d,g,I,y.emptyValue,R,t]),$=i.useMemo((()=>m.tempValueStrAndroid??g.getV6InputValueFromSections(m.sections,R,t)),[m.sections,g,m.tempValueStrAndroid,R,t]);i.useEffect((()=>(C.current&&C.current===bn(document)&&k("all"),()=>{clearTimeout(n.current),clearTimeout(o.current)})),[]);const j=i.useMemo((()=>null==p||"letter"===m.sections[p].contentType?"text":"numeric"),[p,m.sections]),V=C.current&&C.current===bn(document);return{interactions:D,returnedValue:{readOnly:h,onBlur:L,onClick:N,onFocus:M,onPaste:B,inputRef:T,enableAccessibleFieldDOMStructure:!1,placeholder:U,inputMode:j,autoComplete:"off",value:!V&&_?"":$,onChange:F}}},Wr=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],qr=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Kr=["minDateTime","maxDateTime"],Gr=[...Wr,...qr,...Kr],Yr=e=>Gr.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),Qr=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Zr=e=>{const t=(e=>{const t=ie(),n=se();return(0,r.A)({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??t.formats.keyboardDate,minDate:E(t,e.minDate,n.minDate),maxDate:E(t,e.maxDate,n.maxDate)})})(e),{forwardedProps:n,internalProps:o}=(e=>{const t=(0,r.A)({},e),n={},o=e=>{t.hasOwnProperty(e)&&(n[e]=t[e],delete t[e])};return Qr.forEach(o),Wr.forEach(o),{forwardedProps:t,internalProps:n}})(t);return(e=>{const t=ie(),{internalProps:n,internalProps:{unstableFieldRef:o,minutesStep:s,enableAccessibleFieldDOMStructure:l=!1,disabled:c=!1,readOnly:u=!1},forwardedProps:{onKeyDown:d,error:h,clearable:f,onClear:p},fieldValueManager:m,valueManager:g,validator:y}=e,v=(0,Ln.I)(),b=(e=>{const t=ie(),n=we(),o=oe(),s=(0,Ln.I)(),{valueManager:a,fieldValueManager:l,valueType:c,validator:u,internalProps:d,internalProps:{value:h,defaultValue:f,referenceDate:p,onChange:m,format:g,formatDensity:y="dense",selectedSections:v,onSelectedSectionsChange:b,shouldRespectLeadingZeros:w=!1,timezone:A,enableAccessibleFieldDOMStructure:E=!1}}=e,{timezone:S,value:k,handleValueChange:I}=On({timezone:A,value:h,defaultValue:f,onChange:m,valueManager:a}),_=i.useMemo((()=>(e=>{const t=e.date(void 0);return"0"===e.formatByString(e.setSeconds(t,0),"s")?B:Array.from({length:10}).map(((n,r)=>e.formatByString(e.setSeconds(t,r),"s")))})(t)),[t]),R=i.useMemo((()=>((e,t,n)=>{const r=e.date(void 0,n),o=e.endOfYear(r),i=e.endOfDay(r),{maxDaysInMonth:s,longestMonth:a}=x(e,r).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:({format:t})=>({minimum:0,maximum:H(e,n,t)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:t})=>({minimum:1,maximum:null!=t&&e.isValid(t)?e.getDaysInMonth(t):s,longestMonth:a}),weekDay:({format:t,contentType:r})=>{if("digit"===r){const r=M(e,n,t).map(Number);return{minimum:Math.min(...r),maximum:Math.max(...r)}}return{minimum:1,maximum:7}},hours:({format:n})=>{const o=e.getHours(i);return L(e.formatByString(e.endOfDay(r),n),t)!==o.toString()?{minimum:1,maximum:Number(L(e.formatByString(e.startOfDay(r),n),t))}:{minimum:0,maximum:o}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}})(t,_,S)),[t,_,S]),C=i.useCallback(((e,r=null)=>l.getSectionsFromValue(t,e,r,(e=>$r({utils:t,timezone:S,localeText:n,localizedDigits:_,format:g,date:e,formatDensity:y,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:E,isRtl:s})))),[l,g,n,_,s,w,t,y,S,E]),[T,D]=i.useState((()=>{const e=C(k),n={sections:e,value:k,referenceValue:a.emptyValue,tempValueStrAndroid:null},o=(e=>Math.max(...e.map((e=>P[e.type]??1))))(e),i=a.getInitialReferenceValue({referenceDate:p,value:k,utils:t,props:d,granularity:o,timezone:S});return(0,r.A)({},n,{referenceValue:i})})),[O,N]=(0,Dn.A)({controlled:v,default:null,name:"useField",state:"selectedSections"}),F=e=>{N(e),b?.(e)},U=i.useMemo((()=>G(O,T.sections)),[O,T.sections]),$="all"===U?0:U,j=({value:e,referenceValue:n,sections:i})=>{if(D((t=>(0,r.A)({},t,{sections:i,value:e,referenceValue:n,tempValueStrAndroid:null}))),a.areValuesEqual(t,T.value,e))return;const s={validationError:u({adapter:o,value:e,props:(0,r.A)({},d,{value:e,timezone:S})})};I(e,s)},V=(e,t)=>{const n=[...T.sections];return n[e]=(0,r.A)({},n[e],{value:t,modified:!0}),n};return i.useEffect((()=>{const e=C(T.value);D((t=>(0,r.A)({},t,{sections:e})))}),[g,t.locale,s]),i.useEffect((()=>{let e;e=!a.areValuesEqual(t,T.value,k)||a.getTimezone(t,T.value)!==a.getTimezone(t,k),e&&D((e=>(0,r.A)({},e,{value:k,referenceValue:l.updateReferenceValue(t,k,e.referenceValue),sections:C(k)})))}),[k]),{state:T,activeSectionIndex:$,parsedSelectedSections:U,setSelectedSections:F,clearValue:()=>{j({value:a.emptyValue,referenceValue:T.referenceValue,sections:C(a.emptyValue)})},clearActiveSection:()=>{if(null==$)return;const e=T.sections[$],n=l.getActiveDateManager(t,T,e),o=n.getSections(T.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),i=V($,""),s=o?null:t.getInvalidDate(),a=n.getNewValuesFromNewActiveDate(s);j((0,r.A)({},a,{sections:i}))},updateSectionValue:({activeSection:e,newSectionValue:n,shouldGoToNextSection:o})=>{o&&$<T.sections.length-1&&F($+1);const i=l.getActiveDateManager(t,T,e),s=V($,n),a=i.getSections(s),c=((e,t,n)=>{const r=t.some((e=>"day"===e.type)),o=[],i=[];for(let e=0;e<t.length;e+=1){const s=t[e];r&&"weekDay"===s.type||(o.push(s.format),i.push(z(s,"non-input",n)))}const s=o.join(" "),a=i.join(" ");return e.parse(a,s)})(t,a,_);let u,d;if(null!=c&&t.isValid(c)){const e=K(t,S,c,a,i.referenceDate,!0);u=i.getNewValuesFromNewActiveDate(e),d=!0}else u=i.getNewValuesFromNewActiveDate(c),d=(null!=c&&!t.isValid(c))!=(null!=i.date&&!t.isValid(i.date));return d?j((0,r.A)({},u,{sections:s})):D((e=>(0,r.A)({},e,u,{sections:s,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=l.parseValueStr(e,T.referenceValue,((e,r)=>{const o=t.parse(e,g);if(null==o||!t.isValid(o))return null;const i=$r({utils:t,timezone:S,localeText:n,localizedDigits:_,format:g,date:o,formatDensity:y,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:E,isRtl:s});return K(t,S,o,i,r,!1)})),o=l.updateReferenceValue(t,r,T.referenceValue);j({value:r,referenceValue:o,sections:C(r,T.sections)})},setTempAndroidValueStr:e=>D((t=>(0,r.A)({},t,{tempValueStrAndroid:e}))),getSectionsFromValue:C,sectionsValueBoundaries:R,localizedDigits:_,timezone:S}})(e),{state:w,activeSectionIndex:A,parsedSelectedSections:E,setSelectedSections:S,clearValue:k,clearActiveSection:I,updateSectionValue:_,setTempAndroidValueStr:R,sectionsValueBoundaries:C,localizedDigits:T,timezone:D}=b,$=(({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,localizedDigits:o,setTempAndroidValueStr:s,timezone:a})=>{const l=ie(),[c,u]=i.useState(null),d=(0,yn.A)((()=>u(null)));i.useEffect((()=>{null!=c&&e[c.sectionIndex]?.type!==c.sectionType&&d()}),[e,c,d]),i.useEffect((()=>{if(null!=c){const e=setTimeout((()=>d()),5e3);return()=>{clearTimeout(e)}}return()=>{}}),[c,d]);const h=({keyPressed:t,sectionIndex:n},r,o)=>{const i=t.toLowerCase(),s=e[n];if(null!=c&&(!o||o(c.value))&&c.sectionIndex===n){const e=`${c.value}${i}`,t=r(e,s);if(!jr(t))return u({sectionIndex:n,value:e,sectionType:s.type}),t}const a=r(i,s);return jr(a)&&!a.saveQuery?(d(),null):(u({sectionIndex:n,value:i,sectionType:s.type}),jr(a)?null:a)};return{applyCharacterEditing:(0,yn.A)((i=>{const c=e[i.sectionIndex],u=U(i.keyPressed,o)?(e=>{const t=(e,t)=>{const r=L(e,o),i=Number(r),s=n[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(i>s.maximum)return{saveQuery:!1};if(i<s.minimum)return{saveQuery:!0};const a=10*i>s.maximum||r.length===s.maximum.toString().length;return{sectionValue:j(l,i,s,o,t),shouldGoToNextSection:a}};return h(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const o=W(l,a,"digit","month","MM"),i=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:o,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(jr(i))return i;const s=V(l,i.sectionValue,"MM",n.format);return(0,r.A)({},i,{sectionValue:s})}if("weekDay"===n.type){const o=t(e,n);if(jr(o))return o;const i=M(l,a,n.format)[Number(o.sectionValue)-1];return(0,r.A)({},o,{sectionValue:i})}return{saveQuery:!1}}),(e=>U(e,o)))})((0,r.A)({},i,{keyPressed:F(i.keyPressed,o)})):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,o,i)=>{const s=e=>N(l,a,n.type,e);if("letter"===n.contentType)return t(n.format,s(n.format),e);if(o&&null!=i&&"letter"===O(l,o).contentType){const n=s(o),a=t(0,n,e);return jr(a)?{saveQuery:!1}:(0,r.A)({},a,{sectionValue:i(a.sectionValue,n)})}return{saveQuery:!1}};return h(e,((e,t)=>{switch(t.type){case"month":{const r=e=>V(l,e,l.formats.month,t.format);return n(e,t,l.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,l.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(i);null!=u?t({activeSection:c,newSectionValue:u.sectionValue,shouldGoToNextSection:u.shouldGoToNextSection}):s(null)})),resetCharacterQuery:d}})({sections:w.sections,updateSectionValue:_,sectionsValueBoundaries:C,localizedDigits:T,setTempAndroidValueStr:R,timezone:D}),{resetCharacterQuery:q}=$,Y=g.areValuesEqual(t,w.value,g.emptyValue),Q=l?zr:Hr,Z=i.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const o=0===r?null:r-1,i=r===e.length-1?null:r+1;n[r]={leftIndex:o,rightIndex:i}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},o={};let i=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex(((e,t)=>t>=i&&e.endSeparator?.includes(" ")&&" / "!==e.endSeparator)),-1===s&&(s=e.length-1);for(let e=s;e>=i;e-=1)o[e]=a,r[a]=e,a-=1;i=s+1}return e.forEach(((t,i)=>{const s=o[i],a=0===s?null:r[s-1],l=s===e.length-1?null:r[s+1];n[i]={leftIndex:a,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(w.sections,v&&!l)),[w.sections,v,l]),{returnedValue:J,interactions:X}=Q((0,r.A)({},e,b,$,{areAllSectionsEmpty:Y,sectionOrder:Z})),ee=(0,yn.A)((e=>{switch(d?.(e),!0){case(e.ctrlKey||e.metaKey)&&"a"===e.key.toLowerCase()&&!e.shiftKey&&!e.altKey:e.preventDefault(),S("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==E)S(Z.startIndex);else if("all"===E)S(Z.endIndex);else{const e=Z.neighbors[E].rightIndex;null!==e&&S(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==E)S(Z.endIndex);else if("all"===E)S(Z.startIndex);else{const e=Z.neighbors[E].leftIndex;null!==e&&S(e)}break;case"Delete"===e.key:if(e.preventDefault(),u)break;null==E||"all"===E?k():I(),q();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),u||null==A)break;const n=w.sections[A],r=m.getActiveDateManager(t,w,n),o=((e,t,n,r,o,i,s,a)=>{const l=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),c="Home"===r,u="End"===r,d=""===n.value||c||u;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=o[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),h=t=>j(e,t,r,i,n),f="minutes"===n.type&&a?.minutesStep?a.minutesStep:1;let p=parseInt(L(n.value,i),10)+l*f;if(d){if("year"===n.type&&!u&&!c)return e.formatByString(e.date(void 0,t),n.format);p=l>0||c?r.minimum:r.maximum}return p%f!=0&&((l<0||c)&&(p+=f-(f+p)%f),(l>0||u)&&(p-=p%f)),p>r.maximum?h(r.minimum+(p-r.maximum-1)%(r.maximum-r.minimum+1)):p<r.minimum?h(r.maximum-(r.minimum-p-1)%(r.maximum-r.minimum+1)):h(p)})():(()=>{const r=N(e,t,n.type,n.format);if(0===r.length)return n.value;if(d)return l>0||c?r[0]:r[r.length-1];const o=r.indexOf(n.value);return r[((o+l)%r.length+r.length)%r.length]})()})(t,D,n,e.key,C,T,r.date,{minutesStep:s});_({activeSection:n,newSectionValue:o,shouldGoToNextSection:!1});break}}}));(0,a.A)((()=>{X.syncSelectionToDOM()}));const te=Pn((0,r.A)({},n,{value:w.value,timezone:D}),y,g.isSameError,g.defaultErrorState),ne=i.useMemo((()=>void 0!==h?h:g.hasError(te)),[g,te,h]);i.useEffect((()=>{ne||null!=A||q()}),[w.referenceValue,A,ne]),i.useEffect((()=>{null!=w.tempValueStrAndroid&&null!=A&&(q(),I())}),[w.sections]),i.useImperativeHandle(o,(()=>({getSections:()=>w.sections,getActiveSectionIndex:X.getActiveSectionIndexFromDOM,setSelectedSections:X.setSelectedSections,focusField:X.focusField,isFieldFocused:X.isFieldFocused})));const re={onKeyDown:ee,onClear:(0,yn.A)(((e,...t)=>{e.preventDefault(),p?.(e,...t),k(),X.isFieldFocused()?S(Z.startIndex):X.focusField(0)})),error:ne,clearable:Boolean(f&&!Y&&!u&&!c)},se={disabled:c,readOnly:u};return(0,r.A)({},e.forwardedProps,re,se,J)})({forwardedProps:n,internalProps:o,valueManager:J,fieldValueManager:X,validator:_e,valueType:"date"})},Jr=["clearable","onClear","InputProps","sx","slots","slotProps"],Xr=["ownerState"];var eo=n(4433),to=n(6347),no=n(779);function ro(e){return(0,he.Ay)("MuiPickersTextField",e)}function oo(e){return(0,he.Ay)("MuiPickersInputBase",e)}(0,fe.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);const io=(0,fe.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function so(e){return(0,he.Ay)("MuiPickersOutlinedInput",e)}const ao=(0,r.A)({},io,(0,fe.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),lo=["children","className","label","notched","shrink"],co=(0,ue.Ay)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),uo=(0,ue.Ay)("span")((({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"}))),ho=(0,ue.Ay)("legend")((({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function fo(e){const{className:t,label:n}=e,i=(0,o.A)(e,lo),s=null!=n&&""!==n,a=(0,r.A)({},e,{withLabel:s});return(0,me.jsx)(co,(0,r.A)({"aria-hidden":!0,className:t},i,{ownerState:a,children:(0,me.jsx)(ho,{ownerState:a,children:s?(0,me.jsx)(uo,{children:n}):(0,me.jsx)(uo,{className:"notranslate",children:"​"})})}))}var po=n(6348);function mo(e){return(0,he.Ay)("MuiPickersSectionList",e)}const go=(0,fe.A)("MuiPickersSectionList",["root","section","sectionContent"]),yo=["slots","slotProps","elements","sectionListRef"],vo=(0,ue.Ay)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),bo=(0,ue.Ay)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),wo=(0,ue.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),Ao=(0,ue.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"});function Eo(e){const{slots:t,slotProps:n,element:o,classes:i}=e,s=t?.section??bo,a=Pe({elementType:s,externalSlotProps:n?.section,externalForwardedProps:o.container,className:i.section,ownerState:{}}),l=t?.sectionContent??Ao,c=Pe({elementType:l,externalSlotProps:n?.sectionContent,externalForwardedProps:o.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),u=t?.sectionSeparator??wo,d=Pe({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:o.before,ownerState:{position:"before"}}),h=Pe({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:o.after,ownerState:{position:"after"}});return(0,me.jsxs)(s,(0,r.A)({},a,{children:[(0,me.jsx)(u,(0,r.A)({},d)),(0,me.jsx)(l,(0,r.A)({},c)),(0,me.jsx)(u,(0,r.A)({},h))]}))}const xo=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersSectionList"}),{slots:s,slotProps:a,elements:l,sectionListRef:c}=n,u=(0,o.A)(n,yo),d=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],section:["section"],sectionContent:["sectionContent"]},mo,t)})(n),h=i.useRef(null),f=(0,Re.A)(t,h),m=e=>{if(!h.current)throw new Error(`MUI X: Cannot call sectionListRef.${e} before the mount of the component.`);return h.current};i.useImperativeHandle(c,(()=>({getRoot:()=>m("getRoot"),getSectionContainer:e=>m("getSectionContainer").querySelector(`.${go.section}[data-sectionindex="${e}"]`),getSectionContent:e=>m("getSectionContent").querySelector(`.${go.section}[data-sectionindex="${e}"] .${go.sectionContent}`),getSectionIndexFromDOMElement(e){const t=m("getSectionIndexFromDOMElement");if(null==e||!t.contains(e))return null;let n=null;return e.classList.contains(go.section)?n=e:e.classList.contains(go.sectionContent)&&(n=e.parentElement),null==n?null:Number(n.dataset.sectionindex)}})));const g=s?.root??vo,y=Pe({elementType:g,externalSlotProps:a?.root,externalForwardedProps:u,additionalProps:{ref:f,suppressContentEditableWarning:!0},className:d.root,ownerState:{}});return(0,me.jsx)(g,(0,r.A)({},y,{children:y.contentEditable?l.map((({content:e,before:t,after:n})=>`${t.children}${e.children}${n.children}`)).join(""):(0,me.jsx)(i.Fragment,{children:l.map(((e,t)=>(0,me.jsx)(Eo,{slots:s,slotProps:a,element:e,classes:d},t)))})}))})),So=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],ko=(0,ue.Ay)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>(0,r.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:Math.round(937.5)/1e5+"em",variants:[{props:{fullWidth:!0},style:{width:"100%"}}]}))),Io=(0,ue.Ay)(vo,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})((({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:t,filled:n,label:r})=>!e&&!t&&!n&&null==r,style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:"light"===e.palette.mode?.42:.5}}]}))),_o=(0,ue.Ay)(bo,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})((({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"}))),Ro=(0,ue.Ay)(Ao,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})((({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"}))),Co=(0,ue.Ay)(wo,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})((()=>({whiteSpace:"pre",letterSpacing:"inherit"}))),To=(0,ue.Ay)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})((0,r.A)({},{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"})),Po=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:a,value:l,onChange:c,id:u,endAdornment:d,startAdornment:h,renderSuffix:f,slots:m,slotProps:g,contentEditable:y,tabIndex:v,onInput:b,onPaste:w,onKeyDown:A,name:E,readOnly:x,inputProps:S,inputRef:k,sectionListRef:I}=n,_=(0,o.A)(n,So),R=i.useRef(null),C=(0,Re.A)(t,R),T=(0,Re.A)(S?.ref,k),P=(0,Ln.I)(),D=(0,Me.A)();if(!D)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");i.useEffect((()=>{D&&D.setAdornedStart(Boolean(h))}),[D,h]),i.useEffect((()=>{D&&(a?D.onEmpty():D.onFilled())}),[D,a]);const O=(0,r.A)({},n,D,{isRtl:P}),M=(e=>{const{focused:t,disabled:n,error:r,classes:o,fullWidth:i,readOnly:s,color:a,size:l,endAdornment:c,startAdornment:u}=e,d={root:["root",t&&!n&&"focused",n&&"disabled",s&&"readOnly",r&&"error",i&&"fullWidth",`color${(0,po.A)(a)}`,"small"===l&&"inputSizeSmall",Boolean(u)&&"adornedStart",Boolean(c)&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,de.A)(d,oo,o)})(O),N=m?.root||ko,B=Pe({elementType:N,externalSlotProps:g?.root,externalForwardedProps:_,additionalProps:{"aria-invalid":D.error,ref:C},className:M.root,ownerState:O}),L=m?.input||Io;return(0,me.jsxs)(N,(0,r.A)({},B,{children:[h,(0,me.jsx)(xo,{sectionListRef:I,elements:s,contentEditable:y,tabIndex:v,className:M.sectionsContainer,onFocus:e=>{D.disabled?e.stopPropagation():D.onFocus?.(e)},onBlur:D.onBlur,onInput:b,onPaste:w,onKeyDown:A,slots:{root:L,section:_o,sectionContent:Ro,sectionSeparator:Co},slotProps:{root:{ownerState:O},sectionContent:{className:io.sectionContent},sectionSeparator:({position:e})=>({className:"before"===e?io.sectionBefore:io.sectionAfter})}}),d,f?f((0,r.A)({},D)):null,(0,me.jsx)(To,(0,r.A)({name:E,className:M.input,value:l,onChange:c,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:x,required:D.required,disabled:D.disabled},S,{ref:T}))]}))})),Do=["label","autoFocus","ownerState","notched"],Oo=(0,ue.Ay)(ko,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ao.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${ao.focused} .${ao.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ao.disabled}`]:{[`& .${ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${ao.error} .${ao.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter((t=>(e.vars??e).palette[t]?.main??!1)).map((t=>({props:{color:t},style:{[`&.${ao.focused}:not(.${ao.error}) .${ao.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}})))}})),Mo=(0,ue.Ay)(Io,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),No=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersOutlinedInput"}),{label:s,ownerState:a,notched:l}=n,c=(0,o.A)(n,Do),u=(0,Me.A)(),d=(0,r.A)({},n,a,u,{color:u?.color||"primary"}),h=(e=>{const{classes:t}=e,n=(0,de.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},so,t);return(0,r.A)({},t,n)})(d);return(0,me.jsx)(Po,(0,r.A)({slots:{root:Oo,input:Mo},renderSuffix:e=>(0,me.jsx)(fo,{shrink:Boolean(l||e.adornedStart||e.focused||e.filled),notched:Boolean(l||e.adornedStart||e.focused||e.filled),className:h.notchedOutline,label:null!=s&&""!==s&&u?.required?(0,me.jsxs)(i.Fragment,{children:[s," ","*"]}):s,ownerState:d})},c,{label:s,classes:h,ref:t}))}));No.muiName="Input";var Bo=n(5329);function Lo(e){return(0,he.Ay)("MuiPickersFilledInput",e)}const Fo=(0,r.A)({},io,(0,fe.A)("MuiPickersFilledInput",["root","underline","input"])),Uo=["label","autoFocus","disableUnderline","ownerState"],$o=(0,ue.Ay)(ko,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,Bo.MC)(e)&&"disableUnderline"!==e})((({theme:e})=>{const t="light"===e.palette.mode,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Fo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Fo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((e.vars??e).palette).filter((t=>(e.vars??e).palette[t].main)).map((t=>({props:{color:t,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t]?.main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fo.disabled}, .${Fo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Fo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:e})=>!!e,style:{paddingLeft:12}},{props:({endAdornment:e})=>!!e,style:{paddingRight:12}}]}})),jo=(0,ue.Ay)(Io,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:e})=>!!e,style:{paddingLeft:0}},{props:({endAdornment:e})=>!!e,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),zo=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,l=(0,o.A)(n,Uo),c=(0,Me.A)(),u=(e=>{const{classes:t,disableUnderline:n}=e,o={root:["root",!n&&"underline"],input:["input"]},i=(0,de.A)(o,Lo,t);return(0,r.A)({},t,i)})((0,r.A)({},n,a,c,{color:c?.color||"primary"}));return(0,me.jsx)(Po,(0,r.A)({slots:{root:$o,input:jo},slotProps:{root:{disableUnderline:s}}},l,{label:i,classes:u,ref:t}))}));function Vo(e){return(0,he.Ay)("MuiPickersFilledInput",e)}zo.muiName="Input";const Ho=(0,r.A)({},io,(0,fe.A)("MuiPickersInput",["root","input"])),Wo=["label","autoFocus","disableUnderline","ownerState"],qo=(0,ue.Ay)(ko,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter((t=>(e.vars??e).palette[t].main)).map((t=>({props:{color:t},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t].main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ho.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ho.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ho.disabled}, .${Ho.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Ho.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}})),Ko=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,l=(0,o.A)(n,Wo),c=(0,Me.A)(),u=(e=>{const{classes:t,disableUnderline:n}=e,o={root:["root",!n&&"underline"],input:["input"]},i=(0,de.A)(o,Vo,t);return(0,r.A)({},t,i)})((0,r.A)({},n,a,c,{disableUnderline:s,color:c?.color||"primary"}));return(0,me.jsx)(Po,(0,r.A)({slots:{root:qo}},l,{label:i,classes:u,ref:t}))}));Ko.muiName="Input";const Go=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Yo={standard:Ko,filled:zo,outlined:No},Qo=(0,ue.Ay)(no.A,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Zo=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersTextField"}),{onFocus:s,onBlur:a,className:l,color:c="primary",disabled:u=!1,error:d=!1,variant:h="outlined",required:f=!1,InputProps:m,inputProps:g,inputRef:y,sectionListRef:v,elements:b,areAllSectionsEmpty:w,onClick:A,onKeyDown:E,onPaste:x,onInput:S,endAdornment:k,startAdornment:I,tabIndex:_,contentEditable:R,focused:C,value:T,onChange:P,fullWidth:D,id:O,name:M,helperText:N,FormHelperTextProps:B,label:L,InputLabelProps:F}=n,U=(0,o.A)(n,Go),$=i.useRef(null),j=(0,Re.A)(t,$),z=(0,Ve.A)(O),V=N&&z?`${z}-helper-text`:void 0,H=L&&z?`${z}-label`:void 0,W=(0,r.A)({},n,{color:c,disabled:u,error:d,focused:C,required:f,variant:h}),q=(e=>{const{focused:t,disabled:n,classes:r,required:o}=e,i={root:["root",t&&!n&&"focused",n&&"disabled",o&&"required"]};return(0,de.A)(i,ro,r)})(W),K=Yo[h];return(0,me.jsxs)(Qo,(0,r.A)({className:(0,le.A)(q.root,l),ref:j,focused:C,onFocus:s,onBlur:a,disabled:u,variant:h,error:d,color:c,fullWidth:D,required:f,ownerState:W},U,{children:[(0,me.jsx)(eo.A,(0,r.A)({htmlFor:z,id:H},F,{children:L})),(0,me.jsx)(K,(0,r.A)({elements:b,areAllSectionsEmpty:w,onClick:A,onKeyDown:E,onInput:S,onPaste:x,endAdornment:k,startAdornment:I,tabIndex:_,contentEditable:R,value:T,onChange:P,id:z,fullWidth:D,inputProps:g,inputRef:y,sectionListRef:v,label:L,name:M,role:"group","aria-labelledby":H},m)),N&&(0,me.jsx)(to.A,(0,r.A)({id:V},B,{children:N}))]}))})),Jo=["enableAccessibleFieldDOMStructure"],Xo=["InputProps","readOnly"],ei=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],ti=["slots","slotProps","InputProps","inputProps"],ni=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiDateField"}),{slots:s,slotProps:a,InputProps:l,inputProps:c}=n,u=(0,o.A)(n,ti),d=n,h=s?.textField??(e.enableAccessibleFieldDOMStructure?Zo:Lr.A),f=Pe({elementType:h,externalSlotProps:a?.textField,externalForwardedProps:u,additionalProps:{ref:t},ownerState:d});f.inputProps=(0,r.A)({},c,f.inputProps),f.InputProps=(0,r.A)({},l,f.InputProps);const m=(e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=(0,o.A)(e,Jo);if(t){const{InputProps:e,readOnly:t}=n,i=(0,o.A)(n,Xo);return(0,r.A)({},i,{InputProps:(0,r.A)({},e??{},{readOnly:t})})}const{onPaste:i,onKeyDown:s,inputMode:a,readOnly:l,InputProps:c,inputProps:u,inputRef:d}=n,h=(0,o.A)(n,ei);return(0,r.A)({},h,{InputProps:(0,r.A)({},c??{},{readOnly:l}),inputProps:(0,r.A)({},u??{},{inputMode:a,onPaste:i,onKeyDown:s,ref:d})})})(Zr(f)),g=(e=>{const t=we(),{clearable:n,onClear:s,InputProps:a,sx:l,slots:c,slotProps:u}=e,d=(0,o.A)(e,Jr),h=c?.clearButton??ze.A,f=Pe({elementType:h,externalSlotProps:u?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),p=(0,o.A)(f,Xr),m=c?.clearIcon??Br,g=Pe({elementType:m,externalSlotProps:u?.clearIcon,ownerState:{}});return(0,r.A)({},d,{InputProps:(0,r.A)({},a,{endAdornment:(0,me.jsxs)(i.Fragment,{children:[n&&(0,me.jsx)(je,{position:"end",sx:{marginRight:a?.endAdornment?-1:-1.5},children:(0,me.jsx)(h,(0,r.A)({},p,{onClick:s,children:(0,me.jsx)(m,(0,r.A)({fontSize:"small"},g))}))}),a?.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(l)?l:[l]]})})((0,r.A)({},m,{slots:s,slotProps:a}));return(0,me.jsx)(h,(0,r.A)({},g))})),ri=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:a,timezone:l})=>{const c=oe();return i.useCallback((i=>null!==_e({adapter:c,value:i,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:a,timezone:l}})),[c,e,t,n,r,o,s,a,l])};var oi=n(4038),ii=n(4675);const si=e=>(0,he.Ay)("MuiPickersFadeTransitionGroup",e),ai=((0,fe.A)("MuiPickersFadeTransitionGroup",["root"]),(0,ue.Ay)(oi.A,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function li(e){const t=(0,p.A)({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:i}=t,s=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"]},si,t)})(t),a=(0,ii.A)();return o?n:(0,me.jsx)(ai,{className:(0,le.A)(s.root,r),children:(0,me.jsx)(We.A,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},i)})}var ci=n(4279);function ui(e){return(0,he.Ay)("MuiPickersDay",e)}const di=(0,fe.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),hi=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],fi=({theme:e})=>(0,r.A)({},e.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,ci.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:(0,ci.X4)(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${di.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${di.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${di.disabled}:not(.${di.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${di.disabled}&.${di.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 2px"}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${di.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),pi=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},mi=(0,ue.Ay)(Yn.A,{name:"MuiPickersDay",slot:"Root",overridesResolver:pi})(fi),gi=(0,ue.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:pi})((({theme:e})=>(0,r.A)({},fi({theme:e}),{opacity:0,pointerEvents:"none"}))),yi=()=>{},vi=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:l,day:c,disabled:u=!1,disableHighlightToday:d=!1,disableMargin:h=!1,isAnimating:f,onClick:m,onDaySelect:g,onFocus:y=yi,onBlur:v=yi,onKeyDown:b=yi,onMouseDown:w=yi,onMouseEnter:A=yi,outsideCurrentMonth:E,selected:x=!1,showDaysOutsideCurrentMonth:S=!1,children:k,today:I=!1}=n,_=(0,o.A)(n,hi),R=(0,r.A)({},n,{autoFocus:s,disabled:u,disableHighlightToday:d,disableMargin:h,selected:x,showDaysOutsideCurrentMonth:S,today:I}),C=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:o,disabled:i,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c=s&&!a,u={root:["root",t&&!c&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,de.A)(u,ui,l)})(R),T=ie(),P=i.useRef(null),D=(0,Re.A)(P,t);return(0,a.A)((()=>{!s||u||f||E||P.current.focus()}),[s,u,f,E]),E&&!S?(0,me.jsx)(gi,{className:(0,le.A)(C.root,C.hiddenDaySpacingFiller,l),ownerState:R,role:_.role}):(0,me.jsx)(mi,(0,r.A)({className:(0,le.A)(C.root,l),ref:D,centerRipple:!0,disabled:u,tabIndex:x?0:-1,onKeyDown:e=>b(e,c),onFocus:e=>y(e,c),onBlur:e=>v(e,c),onMouseEnter:e=>A(e,c),onClick:e=>{u||g(c),E&&e.currentTarget.focus(),m&&m(e)},onMouseDown:e=>{w(e),E&&e.preventDefault()}},_,{ownerState:R,children:k||T.format(c,"dayOfMonth")}))})),bi=i.memo(vi);var wi=n(5540);function Ai(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ei=n(851),xi=n(2403),Si=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Ai(n.className,r):n.setAttribute("class",Ai(n.className&&n.className.baseVal||"",r)));var n,r}))},ki=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,wi.A)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&(0,xi.F)(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&Si(e,r),o&&Si(e,o),i&&Si(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.A)(e,["classNames"]));return i.createElement(Ei.Ay,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.Component);ki.defaultProps={classNames:""},ki.propTypes={};const Ii=ki,_i=e=>(0,he.Ay)("MuiPickersSlideTransition",e),Ri=(0,fe.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Ci=["children","className","reduceAnimations","slideDirection","transKey","classes"],Ti=(0,ue.Ay)(oi.A,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ri["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ri["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ri.slideEnterActive}`]:t.slideEnterActive},{[`.${Ri.slideExit}`]:t.slideExit},{[`.${Ri["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ri["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ri["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ri["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ri.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ri.slideExit}`]:{transform:"translate(0%)"},[`& .${Ri["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ri["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}})),Pi=e=>(0,he.Ay)("MuiDayCalendar",e),Di=((0,fe.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),Oi=["ownerState"],Mi=(0,ue.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ni=(0,ue.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Bi=(0,ue.Ay)(ce.A,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary}))),Li=(0,ue.Ay)(ce.A,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled}))),Fi=(0,ue.Ay)(ce.A,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((({theme:e})=>(0,r.A)({},e.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"}))),Ui=(0,ue.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),$i=(0,ue.Ay)((function(e){const t=(0,p.A)({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:s,reduceAnimations:a,transKey:l}=t,c=(0,o.A)(t,Ci),u=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return(0,de.A)(r,_i,t)})(t),d=(0,ii.A)();if(a)return(0,me.jsx)("div",{className:(0,le.A)(u.root,s),children:n});const h={exit:u.exit,enterActive:u.enterActive,enter:u.enter,exitActive:u.exitActive};return(0,me.jsx)(Ti,{className:(0,le.A)(u.root,s),childFactory:e=>i.cloneElement(e,{classNames:h}),role:"presentation",children:(0,me.jsx)(Ii,(0,r.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:d.transitions.duration.complex,classNames:h},c,{children:n}),l)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),ji=(0,ue.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),zi=(0,ue.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function Vi(e){let{parentProps:t,day:n,focusableDay:s,selectedDays:a,isDateDisabled:l,currentMonthNumber:c,isViewFocused:u}=e,d=(0,o.A)(e,Di);const{disabled:h,disableHighlightToday:f,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:m,slots:g,slotProps:y,timezone:v}=t,b=ie(),w=ae(v),A=null!==s&&b.isSameDay(n,s),E=a.some((e=>b.isSameDay(e,n))),x=b.isSameDay(n,w),S=g?.day??bi,k=Pe({elementType:S,externalSlotProps:y?.day,additionalProps:(0,r.A)({disableHighlightToday:f,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:p,"data-timestamp":b.toJsDate(n).valueOf()},d),ownerState:(0,r.A)({},t,{day:n,selected:E})}),I=(0,o.A)(k,Oi),_=i.useMemo((()=>h||l(n)),[h,l,n]),R=i.useMemo((()=>b.getMonth(n)!==c),[b,n,c]),C=i.useMemo((()=>{const e=b.startOfMonth(b.setMonth(n,c));return m?b.isSameDay(n,b.startOfWeek(e)):b.isSameDay(n,e)}),[c,n,m,b]),T=i.useMemo((()=>{const e=b.endOfMonth(b.setMonth(n,c));return m?b.isSameDay(n,b.endOfWeek(e)):b.isSameDay(n,e)}),[c,n,m,b]);return(0,me.jsx)(S,(0,r.A)({},I,{day:n,disabled:_,autoFocus:u&&A,today:x,outsideCurrentMonth:R,isFirstVisibleCell:C,isLastVisibleCell:T,selected:E,tabIndex:A?0:-1,"aria-selected":E,"aria-current":x?"date":void 0}))}function Hi(e){const t=(0,p.A)({props:e,name:"MuiDayCalendar"}),n=ie(),{onFocusedDayChange:o,className:s,currentMonth:a,selectedDays:l,focusedDay:c,loading:u,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:h,readOnly:f,reduceAnimations:m,renderLoading:g=()=>(0,me.jsx)("span",{children:"..."}),slideDirection:y,TransitionProps:v,disablePast:b,disableFuture:w,minDate:E,maxDate:x,shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:I,dayOfWeekFormatter:_=e=>n.format(e,"weekdayShort").charAt(0).toUpperCase(),hasFocus:C,onFocusedViewChange:T,gridLabelId:P,displayWeekNumber:D,fixedWeekNumber:O,autoFocus:M,timezone:N}=t,B=ae(N),L=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Pi,t)})(t),F=(0,Ln.I)(),U=ri({shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:I,minDate:E,maxDate:x,disablePast:b,disableFuture:w,timezone:N}),$=we(),[j,z]=(0,Dn.A)({name:"DayCalendar",state:"hasFocus",controlled:C,default:M??!1}),[V,H]=i.useState((()=>c||B)),W=(0,yn.A)((e=>{f||d(e)})),q=e=>{U(e)||(o(e),H(e),T?.(!0),z(!0))},K=(0,yn.A)(((e,t)=>{switch(e.key){case"ArrowUp":q(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":q(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=n.addDays(t,F?1:-1),o=n.addMonths(t,F?1:-1),i=A({utils:n,date:r,minDate:F?r:n.startOfMonth(o),maxDate:F?n.endOfMonth(o):r,isDateDisabled:U,timezone:N});q(i||r),e.preventDefault();break}case"ArrowRight":{const r=n.addDays(t,F?-1:1),o=n.addMonths(t,F?-1:1),i=A({utils:n,date:r,minDate:F?n.startOfMonth(o):r,maxDate:F?r:n.endOfMonth(o),isDateDisabled:U,timezone:N});q(i||r),e.preventDefault();break}case"Home":q(n.startOfWeek(t)),e.preventDefault();break;case"End":q(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":q(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":q(n.addMonths(t,-1)),e.preventDefault()}})),G=(0,yn.A)(((e,t)=>q(t))),Y=(0,yn.A)(((e,t)=>{j&&n.isSameDay(V,t)&&T?.(!1)})),Q=n.getMonth(a),Z=n.getYear(a),J=i.useMemo((()=>l.filter((e=>!!e)).map((e=>n.startOfDay(e)))),[n,l]),X=`${Z}-${Q}`,ee=i.useMemo((()=>i.createRef()),[X]),te=n.startOfWeek(B),ne=i.useMemo((()=>{const e=n.startOfMonth(a),t=n.endOfMonth(a);return U(V)||n.isAfterDay(V,t)||n.isBeforeDay(V,e)?A({utils:n,date:V,minDate:e,maxDate:t,disablePast:b,disableFuture:w,isDateDisabled:U,timezone:N}):V}),[a,w,b,V,U,n,N]),re=i.useMemo((()=>{const e=n.setTimezone(a,N),t=n.getWeekArray(e);let r=n.addMonths(e,1);for(;O&&t.length<O;){const e=n.getWeekArray(r),o=n.isSameDay(t[t.length-1][0],e[0][0]);e.slice(o?1:0).forEach((e=>{t.length<O&&t.push(e)})),r=n.addMonths(r,1)}return t}),[a,O,n,N]);return(0,me.jsxs)(Mi,{role:"grid","aria-labelledby":P,className:L.root,children:[(0,me.jsxs)(Ni,{role:"row",className:L.header,children:[D&&(0,me.jsx)(Li,{variant:"caption",role:"columnheader","aria-label":$.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:$.calendarWeekNumberHeaderText}),R(n,B).map(((e,t)=>(0,me.jsx)(Bi,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(te,t),"weekday"),className:L.weekDayLabel,children:_(e)},t.toString())))]}),u?(0,me.jsx)(Ui,{className:L.loadingContainer,children:g()}):(0,me.jsx)($i,(0,r.A)({transKey:X,onExited:h,reduceAnimations:m,slideDirection:y,className:(0,le.A)(s,L.slideTransition)},v,{nodeRef:ee,children:(0,me.jsx)(ji,{ref:ee,role:"rowgroup",className:L.monthContainer,children:re.map(((e,r)=>(0,me.jsxs)(zi,{role:"row",className:L.weekContainer,"aria-rowindex":r+1,children:[D&&(0,me.jsx)(Fi,{className:L.weekNumber,role:"rowheader","aria-label":$.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:$.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,me.jsx)(Vi,{parentProps:t,day:e,selectedDays:J,focusableDay:ne,onKeyDown:K,onFocus:G,onBlur:Y,onDaySelect:W,isDateDisabled:U,currentMonthNumber:Q,isViewFocused:j,"aria-colindex":n+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function Wi(e){return(0,he.Ay)("MuiPickersMonth",e)}const qi=(0,fe.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Ki=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Gi=(0,ue.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Yi=(0,ue.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${qi.disabled}`]:t.disabled},{[`&.${qi.selected}`]:t.selected}]})((({theme:e})=>(0,r.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,ci.X4)(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,ci.X4)(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${qi.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${qi.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}}))),Qi=i.memo((function(e){const t=(0,p.A)({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:s,children:l,disabled:c,selected:u,value:d,tabIndex:h,onClick:f,onKeyDown:m,onFocus:g,onBlur:y,"aria-current":v,"aria-label":b,slots:w,slotProps:A}=t,E=(0,o.A)(t,Ki),x=i.useRef(null),S=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,de.A)(o,Wi,r)})(t);(0,a.A)((()=>{n&&x.current?.focus()}),[n]);const k=w?.monthButton??Yi,I=Pe({elementType:k,externalSlotProps:A?.monthButton,additionalProps:{children:l,disabled:c,tabIndex:h,ref:x,type:"button",role:"radio","aria-current":v,"aria-checked":u,"aria-label":b,onClick:e=>f(e,d),onKeyDown:e=>m(e,d),onFocus:e=>g(e,d),onBlur:e=>y(e,d)},ownerState:t,className:S.monthButton});return(0,me.jsx)(Gi,(0,r.A)({className:(0,le.A)(S.root,s),ownerState:t},E,{children:(0,me.jsx)(k,(0,r.A)({},I))}))}));function Zi(e){return(0,he.Ay)("MuiMonthCalendar",e)}(0,fe.A)("MuiMonthCalendar",["root"]);const Ji=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Xi=(0,ue.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Er,boxSizing:"border-box"}),es=i.forwardRef((function(e,t){const n=function(e){const t=ie(),n=se(),o=(0,p.A)({props:e,name:"MuiMonthCalendar"});return(0,r.A)({disableFuture:!1,disablePast:!1},o,{minDate:E(t,o.minDate,n.minDate),maxDate:E(t,o.maxDate,n.maxDate)})}(e),{className:s,value:a,defaultValue:l,referenceDate:c,disabled:u,disableFuture:d,disablePast:h,maxDate:f,minDate:m,onChange:g,shouldDisableMonth:y,readOnly:v,autoFocus:b=!1,onMonthFocus:w,hasFocus:A,onFocusedViewChange:S,monthsPerRow:k=3,timezone:I,gridLabelId:_,slots:R,slotProps:C}=n,T=(0,o.A)(n,Ji),{value:D,handleValueChange:O,timezone:M}=Mn({name:"MonthCalendar",timezone:I,value:a,defaultValue:l,onChange:g,valueManager:J}),N=ae(M),B=(0,Ln.I)(),L=ie(),F=i.useMemo((()=>J.getInitialReferenceValue({value:D,utils:L,props:n,timezone:M,referenceDate:c,granularity:P.month})),[]),U=n,$=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"]},Zi,t)})(U),j=i.useMemo((()=>L.getMonth(N)),[L,N]),z=i.useMemo((()=>null!=D?L.getMonth(D):null),[D,L]),[V,H]=i.useState((()=>z||L.getMonth(F))),[W,q]=(0,Dn.A)({name:"MonthCalendar",state:"hasFocus",controlled:A,default:b??!1}),K=(0,yn.A)((e=>{q(e),S&&S(e)})),G=i.useCallback((e=>{const t=L.startOfMonth(h&&L.isAfter(N,m)?N:m),n=L.startOfMonth(d&&L.isBefore(N,f)?N:f),r=L.startOfMonth(e);return!!L.isBefore(r,t)||!!L.isAfter(r,n)||!!y&&y(r)}),[d,h,f,m,N,y,L]),Y=(0,yn.A)(((e,t)=>{if(v)return;const n=L.setMonth(D??F,t);O(n)})),Q=(0,yn.A)((e=>{G(L.setMonth(D??F,e))||(H(e),K(!0),w&&w(e))}));i.useEffect((()=>{H((e=>null!==z&&e!==z?z:e))}),[z]);const Z=(0,yn.A)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":Q((n+t-3)%n),e.preventDefault();break;case"ArrowDown":Q((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":Q((n+t+(B?1:-1))%n),e.preventDefault();break;case"ArrowRight":Q((n+t+(B?-1:1))%n),e.preventDefault()}})),X=(0,yn.A)(((e,t)=>{Q(t)})),ee=(0,yn.A)(((e,t)=>{V===t&&K(!1)}));return(0,me.jsx)(Xi,(0,r.A)({ref:t,className:(0,le.A)($.root,s),ownerState:U,role:"radiogroup","aria-labelledby":_},T,{children:x(L,D??F).map((e=>{const t=L.getMonth(e),n=L.format(e,"monthShort"),r=L.format(e,"month"),o=t===z,i=u||G(e);return(0,me.jsx)(Qi,{selected:o,value:t,onClick:Y,onKeyDown:Z,autoFocus:W&&t===V,disabled:i,tabIndex:t!==V||i?-1:0,onFocus:X,onBlur:ee,"aria-current":j===t?"date":void 0,"aria-label":r,monthsPerRow:k,slots:R,slotProps:C,children:n},n)}))}))}));function ts(e){return(0,he.Ay)("MuiPickersYear",e)}const ns=(0,fe.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),rs=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],os=(0,ue.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),is=(0,ue.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${ns.disabled}`]:t.disabled},{[`&.${ns.selected}`]:t.selected}]})((({theme:e})=>(0,r.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:(0,ci.X4)(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,ci.X4)(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ns.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ns.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}}))),ss=i.memo((function(e){const t=(0,p.A)({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:s,children:l,disabled:c,selected:u,value:d,tabIndex:h,onClick:f,onKeyDown:m,onFocus:g,onBlur:y,"aria-current":v,slots:b,slotProps:w}=t,A=(0,o.A)(t,rs),E=i.useRef(null),x=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,de.A)(o,ts,r)})(t);(0,a.A)((()=>{n&&E.current?.focus()}),[n]);const S=b?.yearButton??is,k=Pe({elementType:S,externalSlotProps:w?.yearButton,additionalProps:{children:l,disabled:c,tabIndex:h,ref:E,type:"button",role:"radio","aria-current":v,"aria-checked":u,onClick:e=>f(e,d),onKeyDown:e=>m(e,d),onFocus:e=>g(e,d),onBlur:e=>y(e,d)},ownerState:t,className:x.yearButton});return(0,me.jsx)(os,(0,r.A)({className:(0,le.A)(x.root,s),ownerState:t},A,{children:(0,me.jsx)(S,(0,r.A)({},k))}))}));function as(e){return(0,he.Ay)("MuiYearCalendar",e)}(0,fe.A)("MuiYearCalendar",["root"]);const ls=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],cs=(0,ue.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Er,maxHeight:280,boxSizing:"border-box",position:"relative"}),us=i.forwardRef((function(e,t){const n=function(e){const t=ie(),n=se(),o=(0,p.A)({props:e,name:"MuiYearCalendar"});return(0,r.A)({disablePast:!1,disableFuture:!1},o,{yearsPerRow:o.yearsPerRow??3,minDate:E(t,o.minDate,n.minDate),maxDate:E(t,o.maxDate,n.maxDate)})}(e),{autoFocus:s,className:a,value:l,defaultValue:c,referenceDate:u,disabled:d,disableFuture:h,disablePast:f,maxDate:m,minDate:g,onChange:y,readOnly:v,shouldDisableYear:b,onYearFocus:w,hasFocus:A,onFocusedViewChange:x,yearsPerRow:S,timezone:k,gridLabelId:I,slots:_,slotProps:R}=n,C=(0,o.A)(n,ls),{value:T,handleValueChange:D,timezone:O}=Mn({name:"YearCalendar",timezone:k,value:l,defaultValue:c,onChange:y,valueManager:J}),M=ae(O),N=(0,Ln.I)(),B=ie(),L=i.useMemo((()=>J.getInitialReferenceValue({value:T,utils:B,props:n,timezone:O,referenceDate:u,granularity:P.year})),[]),F=n,U=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"]},as,t)})(F),$=i.useMemo((()=>B.getYear(M)),[B,M]),j=i.useMemo((()=>null!=T?B.getYear(T):null),[T,B]),[z,V]=i.useState((()=>j||B.getYear(L))),[H,W]=(0,Dn.A)({name:"YearCalendar",state:"hasFocus",controlled:A,default:s??!1}),q=(0,yn.A)((e=>{W(e),x&&x(e)})),K=i.useCallback((e=>{if(f&&B.isBeforeYear(e,M))return!0;if(h&&B.isAfterYear(e,M))return!0;if(g&&B.isBeforeYear(e,g))return!0;if(m&&B.isAfterYear(e,m))return!0;if(!b)return!1;const t=B.startOfYear(e);return b(t)}),[h,f,m,g,M,b,B]),G=(0,yn.A)(((e,t)=>{if(v)return;const n=B.setYear(T??L,t);D(n)})),Y=(0,yn.A)((e=>{K(B.setYear(T??L,e))||(V(e),q(!0),w?.(e))}));i.useEffect((()=>{V((e=>null!==j&&e!==j?j:e))}),[j]);const Q=(0,yn.A)(((e,t)=>{switch(e.key){case"ArrowUp":Y(t-S),e.preventDefault();break;case"ArrowDown":Y(t+S),e.preventDefault();break;case"ArrowLeft":Y(t+(N?1:-1)),e.preventDefault();break;case"ArrowRight":Y(t+(N?-1:1)),e.preventDefault()}})),Z=(0,yn.A)(((e,t)=>{Y(t)})),X=(0,yn.A)(((e,t)=>{z===t&&q(!1)})),ee=i.useRef(null),te=(0,Re.A)(t,ee);return i.useEffect((()=>{if(s||null===ee.current)return;const e=ee.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,r=ee.current.clientHeight,o=ee.current.scrollTop,i=n+t;t>r||n<o||(ee.current.scrollTop=i-r/2-t/2)}),[s]),(0,me.jsx)(cs,(0,r.A)({ref:te,className:(0,le.A)(U.root,a),ownerState:F,role:"radiogroup","aria-labelledby":I},C,{children:B.getYearRange([g,m]).map((e=>{const t=B.getYear(e),n=t===j,r=d||K(e);return(0,me.jsx)(ss,{selected:n,value:t,onClick:G,onKeyDown:Q,autoFocus:H&&t===z,disabled:r,tabIndex:t!==z||r?-1:0,onFocus:Z,onBlur:X,"aria-current":$===t?"date":void 0,yearsPerRow:S,slots:_,slotProps:R,children:B.format(e,"year")},B.format(e,"year"))}))}))}));function ds(e){return(0,he.Ay)("MuiPickersArrowSwitcher",e)}(0,fe.A)("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const hs=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],fs=["ownerState"],ps=["ownerState"],ms=(0,ue.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),gs=(0,ue.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((({theme:e})=>({width:e.spacing(3)}))),ys=(0,ue.Ay)(ze.A,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),vs=i.forwardRef((function(e,t){const n=(0,Ln.I)(),i=(0,p.A)({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:a,slots:l,slotProps:c,isNextDisabled:u,isNextHidden:d,onGoToNext:h,nextLabel:f,isPreviousDisabled:m,isPreviousHidden:g,onGoToPrevious:y,previousLabel:v,labelId:b}=i,w=(0,o.A)(i,hs),A=i,E=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},ds,t)})(A),x={isDisabled:u,isHidden:d,goTo:h,label:f},S={isDisabled:m,isHidden:g,goTo:y,label:v},k=l?.previousIconButton??ys,I=Pe({elementType:k,externalSlotProps:c?.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:(0,r.A)({},A,{hidden:S.isHidden}),className:(0,le.A)(E.button,E.previousIconButton)}),_=l?.nextIconButton??ys,R=Pe({elementType:_,externalSlotProps:c?.nextIconButton,additionalProps:{size:"medium",title:x.label,"aria-label":x.label,disabled:x.isDisabled,edge:"start",onClick:x.goTo},ownerState:(0,r.A)({},A,{hidden:x.isHidden}),className:(0,le.A)(E.button,E.nextIconButton)}),C=l?.leftArrowIcon??Or,T=Pe({elementType:C,externalSlotProps:c?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:A,className:E.leftArrowIcon}),P=(0,o.A)(T,fs),D=l?.rightArrowIcon??Mr,O=Pe({elementType:D,externalSlotProps:c?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:A,className:E.rightArrowIcon}),M=(0,o.A)(O,ps);return(0,me.jsxs)(ms,(0,r.A)({ref:t,className:(0,le.A)(E.root,a),ownerState:A},w,{children:[(0,me.jsx)(k,(0,r.A)({},I,{children:n?(0,me.jsx)(D,(0,r.A)({},M)):(0,me.jsx)(C,(0,r.A)({},P))})),s?(0,me.jsx)(ce.A,{variant:"subtitle1",component:"span",id:b,children:s}):(0,me.jsx)(gs,{className:E.spacer,ownerState:A}),(0,me.jsx)(_,(0,r.A)({},R,{children:n?(0,me.jsx)(C,(0,r.A)({},P)):(0,me.jsx)(D,(0,r.A)({},M))}))]}))})),bs=e=>(0,he.Ay)("MuiPickersCalendarHeader",e),ws=(0,fe.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),As=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Es=["ownerState"],xs=(0,ue.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Ss=(0,ue.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((({theme:e})=>(0,r.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium}))),ks=(0,ue.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Is=(0,ue.Ay)(ze.A,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${ws.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),_s=(0,ue.Ay)(Dr,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"}))),Rs=i.forwardRef((function(e,t){const n=we(),s=ie(),a=(0,p.A)({props:e,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:c,currentMonth:u,disabled:d,disableFuture:h,disablePast:f,maxDate:m,minDate:g,onMonthChange:y,onViewChange:v,view:b,reduceAnimations:w,views:A,labelId:E,className:x,timezone:S,format:k=`${s.formats.month} ${s.formats.year}`}=a,I=(0,o.A)(a,As),_=a,R=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},bs,t)})(a),C=l?.switchViewButton??Is,T=Pe({elementType:C,externalSlotProps:c?.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(b)},ownerState:_,className:R.switchViewButton}),P=l?.switchViewIcon??_s,D=Pe({elementType:P,externalSlotProps:c?.switchViewIcon,ownerState:_,className:R.switchViewIcon}),O=(0,o.A)(D,Es),M=function(e,{disableFuture:t,maxDate:n,timezone:r}){const o=ie();return i.useMemo((()=>{const i=o.date(void 0,r),s=o.startOfMonth(t&&o.isBefore(i,n)?i:n);return!o.isAfter(s,e)}),[t,n,e,o,r])}(u,{disableFuture:h,maxDate:m,timezone:S}),N=function(e,{disablePast:t,minDate:n,timezone:r}){const o=ie();return i.useMemo((()=>{const i=o.date(void 0,r),s=o.startOfMonth(t&&o.isAfter(i,n)?i:n);return!o.isBefore(s,e)}),[t,n,e,o,r])}(u,{disablePast:f,minDate:g,timezone:S});if(1===A.length&&"year"===A[0])return null;const B=s.formatByString(u,k);return(0,me.jsxs)(xs,(0,r.A)({},I,{ownerState:_,className:(0,le.A)(x,R.root),ref:t,children:[(0,me.jsxs)(Ss,{role:"presentation",onClick:()=>{if(1!==A.length&&v&&!d)if(2===A.length)v(A.find((e=>e!==b))||A[0]);else{const e=0!==A.indexOf(b)?0:1;v(A[e])}},ownerState:_,"aria-live":"polite",className:R.labelContainer,children:[(0,me.jsx)(li,{reduceAnimations:w,transKey:B,children:(0,me.jsx)(ks,{id:E,ownerState:_,className:R.label,children:B})}),A.length>1&&!d&&(0,me.jsx)(C,(0,r.A)({},T,{children:(0,me.jsx)(P,(0,r.A)({},O))}))]}),(0,me.jsx)(We.A,{in:"day"===b,children:(0,me.jsx)(vs,{slots:l,slotProps:c,onGoToPrevious:()=>y(s.addMonths(u,-1),"right"),isPreviousDisabled:N,previousLabel:n.previousMonth,onGoToNext:()=>y(s.addMonths(u,1),"left"),isNextDisabled:M,nextLabel:n.nextMonth})})]}))})),Cs=(0,ue.Ay)("div")({overflow:"hidden",width:Er,maxHeight:336,display:"flex",flexDirection:"column",margin:"0 auto"}),Ts=e=>(0,he.Ay)("MuiDateCalendar",e),Ps=((0,fe.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]),Ds=(0,ue.Ay)(Cs,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:336}),Os=(0,ue.Ay)(li,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Ms=i.forwardRef((function(e,t){const n=ie(),s=(0,Ve.A)(),a=function(e){const t=ie(),n=se(),o=kn(),i=(0,p.A)({props:e,name:"MuiDateCalendar"});return(0,r.A)({},i,{loading:i.loading??!1,disablePast:i.disablePast??!1,disableFuture:i.disableFuture??!1,openTo:i.openTo??"day",views:i.views??["year","day"],reduceAnimations:i.reduceAnimations??o,renderLoading:i.renderLoading??(()=>(0,me.jsx)("span",{children:"..."})),minDate:E(t,i.minDate,n.minDate),maxDate:E(t,i.maxDate,n.maxDate)})}(e),{autoFocus:l,onViewChange:c,value:u,defaultValue:d,referenceDate:h,disableFuture:f,disablePast:m,onChange:g,onYearChange:y,onMonthChange:v,reduceAnimations:b,shouldDisableDate:x,shouldDisableMonth:S,shouldDisableYear:k,view:I,views:_,openTo:R,className:C,disabled:T,readOnly:D,minDate:O,maxDate:M,disableHighlightToday:N,focusedView:B,onFocusedViewChange:L,showDaysOutsideCurrentMonth:F,fixedWeekNumber:U,dayOfWeekFormatter:$,slots:j,slotProps:z,loading:V,renderLoading:H,displayWeekNumber:W,yearsPerRow:q,monthsPerRow:K,timezone:G}=a,Y=(0,o.A)(a,Ps),{value:Q,handleValueChange:Z,timezone:X}=Mn({name:"DateCalendar",timezone:G,value:u,defaultValue:d,onChange:g,valueManager:J}),{view:ee,setView:te,focusedView:ne,setFocusedView:re,goToNextView:oe,setValueAndGoToNextView:ae}=Nn({view:I,views:_,openTo:R,onChange:Z,onViewChange:c,autoFocus:l,focusedView:B,onFocusedViewChange:L}),{referenceDate:ce,calendarState:ue,changeFocusedDay:he,changeMonth:fe,handleChangeMonth:pe,isDateDisabled:ge,onMonthSwitchingAnimationEnd:ye}=(e=>{const{value:t,referenceDate:n,disableFuture:o,disablePast:s,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:h,timezone:f}=e,p=ie(),m=i.useRef(((e,t,n)=>(o,i)=>{switch(i.type){case"changeMonth":return(0,r.A)({},o,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,r.A)({},o,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=o.focusedDay&&null!=i.focusedDay&&n.isSameDay(i.focusedDay,o.focusedDay))return o;const s=null!=i.focusedDay&&!t&&!n.isSameMonth(o.currentMonth,i.focusedDay);return(0,r.A)({},o,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(i.focusedDay):o.currentMonth,slideDirection:null!=i.focusedDay&&n.isAfterDay(i.focusedDay,o.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(d),a,p)).current,g=i.useMemo((()=>J.getInitialReferenceValue({value:t,utils:p,timezone:f,props:e,referenceDate:n,granularity:P.day})),[]),[y,v]=i.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:p.startOfMonth(g),slideDirection:"left"}),b=i.useCallback((e=>{v((0,r.A)({type:"changeMonth"},e)),u&&u(e.newMonth)}),[u]),w=i.useCallback((e=>{const t=e;p.isSameMonth(t,y.currentMonth)||b({newMonth:p.startOfMonth(t),direction:p.isAfterDay(t,y.currentMonth)?"left":"right"})}),[y.currentMonth,b,p]),A=ri({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:o,disablePast:s,timezone:f}),E=i.useCallback((()=>{v({type:"finishMonthSwitchingAnimation"})}),[]),x=(0,yn.A)(((e,t)=>{A(e)||v({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:g,calendarState:y,changeMonth:w,changeFocusedDay:x,isDateDisabled:A,onMonthSwitchingAnimationEnd:E,handleChangeMonth:b}})({value:Q,referenceDate:h,reduceAnimations:b,onMonthChange:v,minDate:O,maxDate:M,shouldDisableDate:x,disablePast:m,disableFuture:f,timezone:X}),ve=T&&Q||O,be=T&&Q||M,we=`${s}-grid-label`,Ae=null!==ne,Ee=j?.calendarHeader??Rs,xe=Pe({elementType:Ee,externalSlotProps:z?.calendarHeader,additionalProps:{views:_,view:ee,currentMonth:ue.currentMonth,onViewChange:te,onMonthChange:(e,t)=>pe({newMonth:e,direction:t}),minDate:ve,maxDate:be,disabled:T,disablePast:m,disableFuture:f,reduceAnimations:b,timezone:X,labelId:we},ownerState:a}),Se=(0,yn.A)((e=>{const t=n.startOfMonth(e),r=n.endOfMonth(e),o=ge(e)?A({utils:n,date:e,minDate:n.isBefore(O,t)?t:O,maxDate:n.isAfter(M,r)?r:M,disablePast:m,disableFuture:f,isDateDisabled:ge,timezone:X}):e;o?(ae(o,"finish"),v?.(t)):(oe(),fe(t)),he(o,!0)})),ke=(0,yn.A)((e=>{const t=n.startOfYear(e),r=n.endOfYear(e),o=ge(e)?A({utils:n,date:e,minDate:n.isBefore(O,t)?t:O,maxDate:n.isAfter(M,r)?r:M,disablePast:m,disableFuture:f,isDateDisabled:ge,timezone:X}):e;o?(ae(o,"finish"),y?.(o)):(oe(),fe(t)),he(o,!0)})),Ie=(0,yn.A)((e=>Z(e?w(n,e,Q??ce):e,"finish",ee)));i.useEffect((()=>{null!=Q&&n.isValid(Q)&&fe(Q)}),[Q]);const _e=a,Re=(e=>{const{classes:t}=e;return(0,de.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Ts,t)})(_e),Ce={disablePast:m,disableFuture:f,maxDate:M,minDate:O},Te={disableHighlightToday:N,readOnly:D,disabled:T,timezone:X,gridLabelId:we,slots:j,slotProps:z},De=i.useRef(ee);i.useEffect((()=>{De.current!==ee&&(ne===De.current&&re(ee,!0),De.current=ee)}),[ne,re,ee]);const Oe=i.useMemo((()=>[Q]),[Q]);return(0,me.jsxs)(Ds,(0,r.A)({ref:t,className:(0,le.A)(Re.root,C),ownerState:_e},Y,{children:[(0,me.jsx)(Ee,(0,r.A)({},xe,{slots:j,slotProps:z})),(0,me.jsx)(Os,{reduceAnimations:b,className:Re.viewTransitionContainer,transKey:ee,ownerState:_e,children:(0,me.jsxs)("div",{children:["year"===ee&&(0,me.jsx)(us,(0,r.A)({},Ce,Te,{value:Q,onChange:ke,shouldDisableYear:k,hasFocus:Ae,onFocusedViewChange:e=>re("year",e),yearsPerRow:q,referenceDate:ce})),"month"===ee&&(0,me.jsx)(es,(0,r.A)({},Ce,Te,{hasFocus:Ae,className:C,value:Q,onChange:Se,shouldDisableMonth:S,onFocusedViewChange:e=>re("month",e),monthsPerRow:K,referenceDate:ce})),"day"===ee&&(0,me.jsx)(Hi,(0,r.A)({},ue,Ce,Te,{onMonthSwitchingAnimationEnd:ye,onFocusedDayChange:he,reduceAnimations:b,selectedDays:Oe,onSelectedDaysChange:Ie,shouldDisableDate:x,shouldDisableMonth:S,shouldDisableYear:k,hasFocus:Ae,onFocusedViewChange:e=>re("day",e),showDaysOutsideCurrentMonth:F,fixedWeekNumber:U,dayOfWeekFormatter:$,displayWeekNumber:W,loading:V,renderLoading:H}))]})})]}))})),Ns=({view:e,onViewChange:t,views:n,focusedView:r,onFocusedViewChange:o,value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:p,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:v,onMonthChange:b,monthsPerRow:w,onYearChange:A,yearsPerRow:E,slots:x,slotProps:S,loading:k,renderLoading:_,disableHighlightToday:R,readOnly:C,disabled:T,showDaysOutsideCurrentMonth:P,dayOfWeekFormatter:D,sx:O,autoFocus:M,fixedWeekNumber:N,displayWeekNumber:B,timezone:L})=>(0,me.jsx)(Ms,{view:e,onViewChange:t,views:n.filter(I),focusedView:r&&I(r)?r:null,onFocusedViewChange:o,value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:p,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:v,onMonthChange:b,monthsPerRow:w,onYearChange:A,yearsPerRow:E,slots:x,slotProps:S,loading:k,renderLoading:_,disableHighlightToday:R,readOnly:C,disabled:T,showDaysOutsideCurrentMonth:P,dayOfWeekFormatter:D,sx:O,autoFocus:M,fixedWeekNumber:N,displayWeekNumber:B,timezone:L}),Bs=i.forwardRef((function(e,t){const n=we(),s=ie(),a=Ie(e,"MuiDesktopDatePicker"),l=(0,r.A)({day:Ns,month:Ns,year:Ns},a.viewRenderers),c=(0,r.A)({},a,{viewRenderers:l,format:_(s,a,!1),yearsPerRow:a.yearsPerRow??4,slots:(0,r.A)({openPickerIcon:Nr,field:ni},a.slots),slotProps:(0,r.A)({},a.slotProps,{field:e=>(0,r.A)({},y(a.slotProps?.field,e),Yr(a),{ref:t}),toolbar:(0,r.A)({hidden:!0},a.slotProps?.toolbar)})}),{renderPicker:u}=(e=>{let{props:t,getOpenDialogAriaText:n}=e,s=(0,o.A)(e,Cr);const{slots:a,slotProps:l,className:c,sx:u,format:d,formatDensity:h,enableAccessibleFieldDOMStructure:f,selectedSections:p,onSelectedSectionsChange:m,timezone:g,name:y,label:v,inputRef:b,readOnly:w,disabled:A,autoFocus:E,localeText:x,reduceAnimations:S}=t,k=ie(),I=i.useRef(null),_=i.useRef(null),R=(0,Ve.A)(),C=l?.toolbar?.hidden??!1,{open:T,actions:P,hasUIView:D,layoutProps:O,renderCurrentView:M,shouldRestoreFocus:N,fieldProps:B}=Un((0,r.A)({},s,{props:t,fieldRef:_,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),L=a.inputAdornment??je,F=Pe({elementType:L,externalSlotProps:l?.inputAdornment,additionalProps:{position:"end"},ownerState:t}),U=(0,o.A)(F,Tr),$=a.openPickerButton??ze.A,j=Pe({elementType:$,externalSlotProps:l?.openPickerButton,additionalProps:{disabled:A||w,onClick:T?P.onClose:P.onOpen,"aria-label":n(B.value,k),edge:U.position},ownerState:t}),z=(0,o.A)(j,Pr),V=a.openPickerIcon,H=a.field,W=Pe({elementType:H,externalSlotProps:l?.field,additionalProps:(0,r.A)({},B,C&&{id:R},{readOnly:w,disabled:A,className:c,sx:u,format:d,formatDensity:h,enableAccessibleFieldDOMStructure:f,selectedSections:p,onSelectedSectionsChange:m,timezone:g,label:v,name:y,autoFocus:E&&!t.open,focused:!!T||void 0},b?{inputRef:b}:{}),ownerState:t});D&&(W.InputProps=(0,r.A)({},W.InputProps,{ref:I},!t.disableOpenPicker&&{[`${U.position}Adornment`]:(0,me.jsx)(L,(0,r.A)({},U,{children:(0,me.jsx)($,(0,r.A)({},z,{children:(0,me.jsx)(V,(0,r.A)({},l?.openPickerIcon))}))}))}));const q=(0,r.A)({textField:a.textField,clearIcon:a.clearIcon,clearButton:a.clearButton},W.slots),K=a.layout??Rr;let G=R;C&&(G=v?`${R}-label`:void 0);const Y=(0,r.A)({},l,{toolbar:(0,r.A)({},l?.toolbar,{titleId:R}),popper:(0,r.A)({"aria-labelledby":G},l?.popper)}),Q=(0,Re.A)(_,W.unstableFieldRef);return{renderPicker:()=>(0,me.jsxs)(ee.$,{localeText:x,children:[(0,me.jsx)(H,(0,r.A)({},W,{slots:q,slotProps:Y,unstableFieldRef:Q})),(0,me.jsx)(Tn,(0,r.A)({role:"dialog",placement:"bottom-start",anchorEl:I.current},P,{open:T,slots:a,slotProps:Y,shouldRestoreFocus:N,reduceAnimations:S,children:(0,me.jsx)(K,(0,r.A)({},O,Y?.layout,{slots:a,slotProps:Y,children:M()}))}))]})}})({props:c,valueManager:J,valueType:"date",getOpenDialogAriaText:c.localeText?.openDatePickerDialogue??n.openDatePickerDialogue,validator:_e});return u()}));Bs.propTypes={autoFocus:g().bool,className:g().string,closeOnSelect:g().bool,dayOfWeekFormatter:g().func,defaultValue:g().object,disabled:g().bool,disableFuture:g().bool,disableHighlightToday:g().bool,disableOpenPicker:g().bool,disablePast:g().bool,displayWeekNumber:g().bool,enableAccessibleFieldDOMStructure:g().any,fixedWeekNumber:g().number,format:g().string,formatDensity:g().oneOf(["dense","spacious"]),inputRef:v,label:g().node,loading:g().bool,localeText:g().object,maxDate:g().object,minDate:g().object,monthsPerRow:g().oneOf([3,4]),name:g().string,onAccept:g().func,onChange:g().func,onClose:g().func,onError:g().func,onMonthChange:g().func,onOpen:g().func,onSelectedSectionsChange:g().func,onViewChange:g().func,onYearChange:g().func,open:g().bool,openTo:g().oneOf(["day","month","year"]),orientation:g().oneOf(["landscape","portrait"]),readOnly:g().bool,reduceAnimations:g().bool,referenceDate:g().object,renderLoading:g().func,selectedSections:g().oneOfType([g().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),g().number]),shouldDisableDate:g().func,shouldDisableMonth:g().func,shouldDisableYear:g().func,showDaysOutsideCurrentMonth:g().bool,slotProps:g().object,slots:g().object,sx:g().oneOfType([g().arrayOf(g().oneOfType([g().func,g().object,g().bool])),g().func,g().object]),timezone:g().string,value:g().object,view:g().oneOf(["day","month","year"]),viewRenderers:g().shape({day:g().func,month:g().func,year:g().func}),views:g().arrayOf(g().oneOf(["day","month","year"]).isRequired),yearsPerRow:g().oneOf([3,4])};var Ls=n(2477),Fs=n(7037),Us=n(8997);const $s=(0,ue.Ay)(Fs.A)({[`& .${Us.A.container}`]:{outline:0},[`& .${Us.A.paper}`]:{outline:0,minWidth:Er}}),js=(0,ue.Ay)(Ls.A)({"&:first-of-type":{padding:0}});function zs(e){const{children:t,onDismiss:n,open:o,slots:i,slotProps:s}=e,a=i?.dialog??$s,l=i?.mobileTransition??We.A;return(0,me.jsx)(a,(0,r.A)({open:o,onClose:n},s?.dialog,{TransitionComponent:l,TransitionProps:s?.mobileTransition,PaperComponent:i?.mobilePaper,PaperProps:s?.mobilePaper,children:(0,me.jsx)(js,{children:t})}))}const Vs=["props","getOpenDialogAriaText"],Hs=i.forwardRef((function(e,t){const n=we(),s=ie(),a=Ie(e,"MuiMobileDatePicker"),l=(0,r.A)({day:Ns,month:Ns,year:Ns},a.viewRenderers),c=(0,r.A)({},a,{viewRenderers:l,format:_(s,a,!1),slots:(0,r.A)({field:ni},a.slots),slotProps:(0,r.A)({},a.slotProps,{field:e=>(0,r.A)({},y(a.slotProps?.field,e),Yr(a),{ref:t}),toolbar:(0,r.A)({hidden:!1},a.slotProps?.toolbar)})}),{renderPicker:u}=(e=>{let{props:t,getOpenDialogAriaText:n}=e,s=(0,o.A)(e,Vs);const{slots:a,slotProps:l,className:c,sx:u,format:d,formatDensity:h,enableAccessibleFieldDOMStructure:f,selectedSections:p,onSelectedSectionsChange:m,timezone:g,name:y,label:v,inputRef:b,readOnly:w,disabled:A,localeText:E}=t,x=ie(),S=i.useRef(null),k=(0,Ve.A)(),I=l?.toolbar?.hidden??!1,{open:_,actions:R,layoutProps:C,renderCurrentView:T,fieldProps:P}=Un((0,r.A)({},s,{props:t,fieldRef:S,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),D=a.field,O=Pe({elementType:D,externalSlotProps:l?.field,additionalProps:(0,r.A)({},P,I&&{id:k},!(A||w)&&{onClick:R.onOpen,onKeyDown:(M=R.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(M(e),e.preventDefault(),e.stopPropagation())})},{readOnly:w??!0,disabled:A,className:c,sx:u,format:d,formatDensity:h,enableAccessibleFieldDOMStructure:f,selectedSections:p,onSelectedSectionsChange:m,timezone:g,label:v,name:y},b?{inputRef:b}:{}),ownerState:t});var M;O.inputProps=(0,r.A)({},O.inputProps,{"aria-label":n(P.value,x)});const N=(0,r.A)({textField:a.textField},O.slots),B=a.layout??Rr;let L=k;I&&(L=v?`${k}-label`:void 0);const F=(0,r.A)({},l,{toolbar:(0,r.A)({},l?.toolbar,{titleId:k}),mobilePaper:(0,r.A)({"aria-labelledby":L},l?.mobilePaper)}),U=(0,Re.A)(S,O.unstableFieldRef);return{renderPicker:()=>(0,me.jsxs)(ee.$,{localeText:E,children:[(0,me.jsx)(D,(0,r.A)({},O,{slots:N,slotProps:F,unstableFieldRef:U})),(0,me.jsx)(zs,(0,r.A)({},R,{open:_,slots:a,slotProps:F,children:(0,me.jsx)(B,(0,r.A)({},C,F?.layout,{slots:a,slotProps:F,children:T()}))}))]})}})({props:c,valueManager:J,valueType:"date",getOpenDialogAriaText:c.localeText?.openDatePickerDialogue??n.openDatePickerDialogue,validator:_e});return u()}));Hs.propTypes={autoFocus:g().bool,className:g().string,closeOnSelect:g().bool,dayOfWeekFormatter:g().func,defaultValue:g().object,disabled:g().bool,disableFuture:g().bool,disableHighlightToday:g().bool,disableOpenPicker:g().bool,disablePast:g().bool,displayWeekNumber:g().bool,enableAccessibleFieldDOMStructure:g().any,fixedWeekNumber:g().number,format:g().string,formatDensity:g().oneOf(["dense","spacious"]),inputRef:v,label:g().node,loading:g().bool,localeText:g().object,maxDate:g().object,minDate:g().object,monthsPerRow:g().oneOf([3,4]),name:g().string,onAccept:g().func,onChange:g().func,onClose:g().func,onError:g().func,onMonthChange:g().func,onOpen:g().func,onSelectedSectionsChange:g().func,onViewChange:g().func,onYearChange:g().func,open:g().bool,openTo:g().oneOf(["day","month","year"]),orientation:g().oneOf(["landscape","portrait"]),readOnly:g().bool,reduceAnimations:g().bool,referenceDate:g().object,renderLoading:g().func,selectedSections:g().oneOfType([g().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),g().number]),shouldDisableDate:g().func,shouldDisableMonth:g().func,shouldDisableYear:g().func,showDaysOutsideCurrentMonth:g().bool,slotProps:g().object,slots:g().object,sx:g().oneOfType([g().arrayOf(g().oneOfType([g().func,g().object,g().bool])),g().func,g().object]),timezone:g().string,value:g().object,view:g().oneOf(["day","month","year"]),viewRenderers:g().shape({day:g().func,month:g().func,year:g().func}),views:g().arrayOf(g().oneOf(["day","month","year"]).isRequired),yearsPerRow:g().oneOf([3,4])};const Ws=["desktopModeMediaQuery"],qs=i.forwardRef((function(e,t){const n=(0,p.A)({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=wn}=n,s=(0,o.A)(n,Ws);return f(i,{defaultMatches:!0})?(0,me.jsx)(Bs,(0,r.A)({ref:t},s)):(0,me.jsx)(Hs,(0,r.A)({ref:t},s))}))},5737:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,F:()=>c});var r=n(8168),o=n(8587),i=n(6540),s=n(3541),a=n(4848);const l=["localeText"],c=i.createContext(null),u=function(e){const{localeText:t}=e,n=(0,o.A)(e,l),{utils:u,localeText:d}=i.useContext(c)??{utils:void 0,localeText:void 0},h=(0,s.A)({props:n,name:"MuiLocalizationProvider"}),{children:f,dateAdapter:p,dateFormats:m,dateLibInstance:g,adapterLocale:y,localeText:v}=h,b=i.useMemo((()=>(0,r.A)({},v,d,t)),[v,d,t]),w=i.useMemo((()=>{if(!p)return u||null;const e=new p({locale:y,formats:m,instance:g});if(!e.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[p,y,m,g,u]),A=i.useMemo((()=>w?{minDate:w.date("1900-01-01T00:00:00.000"),maxDate:w.date("2099-12-31T00:00:00.000")}:null),[w]),E=i.useMemo((()=>({utils:w,defaultDates:A,localeText:b})),[A,w,b]);return(0,a.jsx)(c.Provider,{value:E,children:f})}},5079:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join("\n"):e;return()=>{n||(n=!0,"error"===t?console.error(r):console.warn(r))}}},5084:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,o=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*l+1>>>0,c=new Uint8Array(i);e[n];){var u=t[e.charCodeAt(n)];if(255===u)return;for(var d=0,h=i-1;(0!==u||d<o)&&-1!==h;h--,d++)u+=s*c[h]>>>0,c[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=d,n++}if(" "!==e[n]){for(var f=i-o;f!==i&&0===c[f];)f++;for(var p=new Uint8Array(r+(i-f)),m=r;f!==i;)p[m++]=c[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var l=(i-o)*c+1>>>0,u=new Uint8Array(l);o!==i;){for(var d=t[o],h=0,f=l-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*u[f]>>>0,u[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,o++}for(var p=l-r;p!==l&&0===u[p];)p++;for(var m=a.repeat(n);p<l;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},5588:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o;n.d(t,{Gh:()=>N,HS:()=>B,Oi:()=>a,Rr:()=>h,V2:()=>j,VV:()=>z,aE:()=>ne,pX:()=>V,pb:()=>P,rc:()=>o,tH:()=>$,ue:()=>g,yD:()=>M,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const i="popstate";function s(e){return void 0===e&&(e={}),function(e,t,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:h=!1}=s,f=l.history,p=o.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=o.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"==typeof e?e:d(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(i,v),m=e,()=>{l.removeEventListener(i,v),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=o.Push;let r=u(w.location,e,t);n&&n(r,e),g=y()+1;let i=c(r,g),s=w.createHref(r);try{f.pushState(i,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;l.location.assign(s)}h&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=o.Replace;let r=u(w.location,e,t);n&&n(r,e),g=y();let i=c(r,g),s=w.createHref(r);f.replaceState(i,"",s),h&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:d(t)}),null,e)}function a(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,o){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?h(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));const p=new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n,o){return void 0===n&&(n=[]),void 0===o&&(o={}),e.map(((e,i)=>{let s=[...n,String(i)],l="string"==typeof e.id?e.id:s.join("-");if(a(!0!==e.index||!e.children,"Cannot specify children on an index route"),a(!o[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=r({},e,t(e),{id:l});return o[l]=n,n}{let n=r({},e,t(e),{id:l,children:void 0});return o[l]=n,e.children&&(n.children=m(e.children,t,s,o)),n}}))}function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let o=P(("string"==typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let e=0;null==s&&e<i.length;++e){let t=T(o);s=R(i[e],t,r)}return s}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=B([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of b(e.path))o(e,t,n);else o(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,A=3,E=2,x=1,S=10,k=-2,I=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=k),t&&(r+=E),n.filter((e=>!I(e))).reduce(((e,t)=>e+(w.test(t)?A:""===t?x:S)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",s=[];for(let e=0;e<r.length;++e){let a=r[e],l=e===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=C({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c),d=a.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:B([i,u.pathname]),pathnameBase:L(B([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=B([i,u.pathnameBase]))}return s}function C(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=O(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function N(e,t,n,o){let i;void 0===o&&(o=!1),"string"==typeof e?i=h(e):(i=r({},e),a(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!o&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:U(o)}}(i,s),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const B=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class $ extends Error{}const j=function(e,t){void 0===t&&(t=302);let n=t;"number"==typeof n?n={status:n}:void 0===n.status&&(n.status=302);let o=new Headers(n.headers);return o.set("Location",e),new Response(null,r({},n,{headers:o}))};class z{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function V(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=new Set(H),q=["get",...H],K=new Set(q),G=new Set([301,302,303,307,308]),Y=new Set([307,308]),Q={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},X=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),te="remix-router-transitions";function ne(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,i=!n;let s;if(a(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;s=e=>({hasErrorBoundary:t(e)})}else s=ee;let c,d,h,p={},v=m(e.routes,s,void 0,p),b=e.basename||"/",w=e.unstable_dataStrategy||de,A=e.unstable_patchRoutesOnMiss,E=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),x=null,S=new Set,k=null,I=null,_=null,R=null!=e.hydrationData,C=g(v,e.history.location,b),T=null;if(null==C&&!A){let t=Ee(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ae(v);C=n,T={[r.id]:t}}if(C&&A&&!e.hydrationData&&ut(C,v,e.history.location.pathname).active&&(C=null),C)if(C.some((e=>e.route.lazy)))d=!1;else if(C.some((e=>e.route.loader)))if(E.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!=typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=C.findIndex((e=>void 0!==n[e.route.id]));d=C.slice(0,e+1).every(r)}else d=C.every(r)}else d=null!=e.hydrationData;else d=!0;else d=!1,C=[];let D,O={historyAction:e.history.action,location:e.history.location,matches:C,initialized:d,navigation:Q,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},M=o.Pop,N=!1,B=!1,L=new Map,F=null,U=!1,$=!1,j=[],H=[],W=new Map,q=0,K=-1,ne=new Map,se=new Set,ae=new Map,me=new Map,ge=new Set,Se=new Map,De=new Map,Fe=new Map,Ue=!1;function $e(e,t){void 0===t&&(t={}),O=r({},O,e);let n=[],o=[];E.v7_fetcherPersist&&O.fetchers.forEach(((e,t)=>{"idle"===e.state&&(ge.has(t)?o.push(t):n.push(t))})),[...S].forEach((e=>e(O,{deletedFetchers:o,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),E.v7_fetcherPersist&&(n.forEach((e=>O.fetchers.delete(e))),o.forEach((e=>Ze(e))))}function je(t,n,i){var s,a;let l,{flushSync:u}=void 0===i?{}:i,d=null!=O.actionData&&null!=O.navigation.formMethod&&Ce(O.navigation.formMethod)&&"loading"===O.navigation.state&&!0!==(null==(s=t.state)?void 0:s._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?O.actionData:null;let h=n.loaderData?ve(O.loaderData,n.loaderData,n.matches||[],n.errors):O.loaderData,f=O.blockers;f.size>0&&(f=new Map(f),f.forEach(((e,t)=>f.set(t,J))));let p,m=!0===N||null!=O.navigation.formMethod&&Ce(O.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(c&&(v=c,c=void 0),U||M===o.Pop||(M===o.Push?e.history.push(t,t.state):M===o.Replace&&e.history.replace(t,t.state)),M===o.Pop){let e=L.get(O.location.pathname);e&&e.has(t.pathname)?p={currentLocation:O.location,nextLocation:t}:L.has(t.pathname)&&(p={currentLocation:t,nextLocation:O.location})}else if(B){let e=L.get(O.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(O.location.pathname,e)),p={currentLocation:O.location,nextLocation:t}}$e(r({},n,{actionData:l,loaderData:h,historyAction:M,location:t,initialized:!0,navigation:Q,revalidation:"idle",restoreScrollPosition:ct(t,n.matches||O.matches),preventScrollReset:m,blockers:f}),{viewTransitionOpts:p,flushSync:!0===u}),M=o.Pop,N=!1,B=!1,U=!1,$=!1,j=[],H=[]}async function ze(t,n,i){D&&D.abort(),D=null,M=t,U=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(k&&_){let n=lt(e,t);k[n]=_()}}(O.location,O.matches),N=!0===(i&&i.preventScrollReset),B=!0===(i&&i.enableViewTransition);let s=c||v,a=i&&i.overrideNavigation,l=g(s,n,b),u=!0===(i&&i.flushSync),d=ut(l,s,n.pathname);if(d.active&&d.matches&&(l=d.matches),!l){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return void je(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:u})}if(O.initialized&&!$&&(h=O.location,p=n,h.pathname===p.pathname&&h.search===p.search&&(""===h.hash?""!==p.hash:h.hash===p.hash||""!==p.hash))&&!(i&&i.submission&&Ce(i.submission.formMethod)))return void je(n,{matches:l},{flushSync:u});var h,p;D=new AbortController;let m,y=pe(e.history,n,D.signal,i&&i.submission);if(i&&i.pendingError)m=[we(l).route.id,{type:f.error,error:i.pendingError}];else if(i&&i.submission&&Ce(i.submission.formMethod)){let t=await async function(e,t,n,r,i,s){void 0===s&&(s={}),Ke();let a,l=function(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}(t,n);if($e({navigation:l},{flushSync:!0===s.flushSync}),i){let n=await dt(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{boundaryId:e,error:r}=st(t.pathname,n);return{matches:n.partialMatches,pendingActionResult:[e,{type:f.error,error:r}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=it(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:f.error,error:n}]}}r=n.matches}let c=Oe(r,t);if(c.route.action||c.route.lazy){if(a=(await We("action",e,[c],r))[0],e.signal.aborted)return{shortCircuited:!0}}else a={type:f.error,error:Ee(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(_e(a)){let t;return t=s&&null!=s.replace?s.replace:fe(a.response.headers.get("Location"),new URL(e.url),b)===O.location.pathname+O.location.search,await He(e,a,{submission:n,replace:t}),{shortCircuited:!0}}if(ke(a))throw Ee(400,{type:"defer-action"});if(Ie(a)){let e=we(r,c.route.id);return!0!==(s&&s.replace)&&(M=o.Push),{matches:r,pendingActionResult:[e.route.id,a]}}return{matches:r,pendingActionResult:[c.route.id,a]}}(y,n,i.submission,l,d.active,{replace:i.replace,flushSync:u});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Ie(r)&&V(r.error)&&404===r.error.status)return D=null,void je(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}l=t.matches||l,m=t.pendingActionResult,a=Ne(n,i.submission),u=!1,d.active=!1,y=pe(e.history,y.url,y.signal)}let{shortCircuited:w,matches:A,loaderData:x,errors:S}=await async function(t,n,o,i,s,a,l,u,d,h,f){let p=s||Ne(n,a),m=a||l||Me(p),g=!(U||E.v7_partialHydration&&d);if(i){if(g){let e=Ve(f);$e(r({navigation:p},void 0!==e?{actionData:e}:{}),{flushSync:h})}let e=await dt(o,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:r}=st(n.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:r}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}o=e.matches}let y=c||v,[w,A]=ie(e.history,O,o,m,n,E.v7_partialHydration&&!0===d,E.v7_skipActionErrorRevalidation,$,j,H,ge,ae,se,y,b,f);if(at((e=>!(o&&o.some((t=>t.route.id===e)))||w&&w.some((t=>t.route.id===e)))),K=++q,0===w.length&&0===A.length){let e=et();return je(n,r({matches:o,loaderData:{},errors:f&&Ie(f[1])?{[f[0]]:f[1].error}:null},be(f),e?{fetchers:new Map(O.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(g){let e={};if(!i){e.navigation=p;let t=Ve(f);void 0!==t&&(e.actionData=t)}A.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=O.fetchers.get(e.key),n=Be(void 0,t?t.data:void 0);O.fetchers.set(e.key,n)})),new Map(O.fetchers)}(A)),$e(e,{flushSync:h})}A.forEach((e=>{W.has(e.key)&&Je(e.key),e.controller&&W.set(e.key,e.controller)}));let x=()=>A.forEach((e=>Je(e.key)));D&&D.signal.addEventListener("abort",x);let{loaderResults:S,fetcherResults:k}=await qe(O.matches,o,w,A,t);if(t.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",x),A.forEach((e=>W.delete(e.key)));let I=xe([...S,...k]);if(I){if(I.idx>=w.length){let e=A[I.idx-w.length].key;se.add(e)}return await He(t,I.result,{replace:u}),{shortCircuited:!0}}let{loaderData:_,errors:R}=ye(O,o,w,S,f,A,k,Se);Se.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&Se.delete(t)}))})),E.v7_partialHydration&&d&&O.errors&&Object.entries(O.errors).filter((e=>{let[t]=e;return!w.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;R=Object.assign(R||{},{[t]:n})}));let C=et(),T=tt(K),P=C||T||A.length>0;return r({matches:o,loaderData:_,errors:R},P?{fetchers:new Map(O.fetchers)}:{})}(y,n,l,d.active,a,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,u,m);w||(D=null,je(n,r({matches:A||l},be(m),{loaderData:x,errors:S})))}function Ve(e){return e&&!Ie(e[1])?{[e[0]]:e[1].data}:O.actionData?0===Object.keys(O.actionData).length?null:O.actionData:void 0}async function He(i,s,l){let{submission:c,fetcherSubmission:d,replace:h}=void 0===l?{}:l;s.response.headers.has("X-Remix-Revalidate")&&($=!0);let f=s.response.headers.get("Location");a(f,"Expected a Location header on the redirect Response"),f=fe(f,new URL(i.url),b);let p=u(O.location,f,{_isRedirect:!0});if(n){let n=!1;if(s.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(X.test(f)){const r=e.history.createURL(f);n=r.origin!==t.location.origin||null==P(r.pathname,b)}if(n)return void(h?t.location.replace(f):t.location.assign(f))}D=null;let m=!0===h?o.Replace:o.Push,{formMethod:g,formAction:y,formEncType:v}=O.navigation;!c&&!d&&g&&y&&v&&(c=Me(O.navigation));let w=c||d;if(Y.has(s.response.status)&&w&&Ce(w.formMethod))await ze(m,p,{submission:r({},w,{formAction:f}),preventScrollReset:N});else{let e=Ne(p,c);await ze(m,p,{overrideNavigation:e,fetcherSubmission:d,preventScrollReset:N})}}async function We(e,t,n,o){try{let i=await async function(e,t,n,o,i,s,l,c){let u=o.reduce(((e,t)=>e.add(t.route.id)),new Set),d=new Set,h=await e({matches:i.map((e=>{let o=u.has(e.route.id);return r({},e,{shouldLoad:o,resolve:r=>(d.add(e.route.id),o?async function(e,t,n,r,o,i,s){let l,c,u=r=>{let o,a=new Promise(((e,t)=>o=t));c=()=>o(),t.signal.addEventListener("abort",c);let l,u=o=>"function"!=typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:s},...void 0!==o?[o]:[]);return l=i?i((e=>u(e))):(async()=>{try{return{type:"data",result:await u()}}catch(e){return{type:"error",result:e}}})(),Promise.race([l,a])};try{let i=n.route[e];if(n.route.lazy)if(i){let e,[t]=await Promise.all([u(i).catch((t=>{e=t})),ue(n.route,o,r)]);if(void 0!==e)throw e;l=t}else{if(await ue(n.route,o,r),i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Ee(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:f.data,result:void 0}}l=await u(i)}else{if(!i){let e=new URL(t.url);throw Ee(404,{pathname:e.pathname+e.search})}l=await u(i)}a(void 0!==l.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){return{type:f.error,result:e}}finally{c&&t.signal.removeEventListener("abort",c)}return l}(t,n,e,s,l,r,c):Promise.resolve({type:f.data,result:void 0}))})})),request:n,params:i[0].params,context:c});return i.forEach((e=>a(d.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),h.filter(((e,t)=>u.has(i[t].route.id)))}(w,e,t,n,o,p,s);return await Promise.all(i.map(((e,r)=>{if(function(e){return Re(e.result)&&G.has(e.result.status)}(e)){let i=e.result;return{type:f.redirect,response:he(i,t,n[r].route.id,o,b,E.v7_relativeSplatPath)}}return async function(e){let{result:t,type:n,status:r}=e;if(Re(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(e){return{type:f.error,error:e}}return n===f.error?{type:f.error,error:new z(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:f.data,data:e,statusCode:t.status,headers:t.headers}}return n===f.error?{type:f.error,error:t,statusCode:V(t)?t.status:r}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(t)?{type:f.deferred,deferredData:t,statusCode:null==(o=t.init)?void 0:o.status,headers:(null==(i=t.init)?void 0:i.headers)&&new Headers(t.init.headers)}:{type:f.data,data:t,statusCode:r};var o,i}(e)})))}catch(e){return n.map((()=>({type:f.error,error:e})))}}async function qe(t,n,r,o,i){let[s,...a]=await Promise.all([r.length?We("loader",i,r,n):[],...o.map((t=>t.matches&&t.match&&t.controller?We("loader",pe(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0])):Promise.resolve({type:f.error,error:Ee(404,{pathname:t.path})})))]);return await Promise.all([Te(t,r,s,s.map((()=>i.signal)),!1,O.loaderData),Te(t,o.map((e=>e.match)),a,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:s,fetcherResults:a}}function Ke(){$=!0,j.push(...at()),ae.forEach(((e,t)=>{W.has(t)&&(H.push(t),Je(t))}))}function Ge(e,t,n){void 0===n&&(n={}),O.fetchers.set(e,t),$e({fetchers:new Map(O.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Ye(e,t,n,r){void 0===r&&(r={});let o=we(O.matches,t);Ze(e),$e({errors:{[o.route.id]:n},fetchers:new Map(O.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Qe(e){return E.v7_fetcherPersist&&(me.set(e,(me.get(e)||0)+1),ge.has(e)&&ge.delete(e)),O.fetchers.get(e)||Z}function Ze(e){let t=O.fetchers.get(e);!W.has(e)||t&&"loading"===t.state&&ne.has(e)||Je(e),ae.delete(e),ne.delete(e),se.delete(e),ge.delete(e),O.fetchers.delete(e)}function Je(e){let t=W.get(e);a(t,"Expected fetch controller: "+e),t.abort(),W.delete(e)}function Xe(e){for(let t of e){let e=Le(Qe(t).data);O.fetchers.set(t,e)}}function et(){let e=[],t=!1;for(let n of se){let r=O.fetchers.get(n);a(r,"Expected fetcher: "+n),"loading"===r.state&&(se.delete(n),e.push(n),t=!0)}return Xe(e),t}function tt(e){let t=[];for(let[n,r]of ne)if(r<e){let e=O.fetchers.get(n);a(e,"Expected fetcher: "+n),"loading"===e.state&&(Je(n),ne.delete(n),t.push(n))}return Xe(t),t.length>0}function nt(e){O.blockers.delete(e),De.delete(e)}function rt(e,t){let n=O.blockers.get(e)||J;a("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(O.blockers);r.set(e,t),$e({blockers:r})}function ot(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===De.size)return;De.size>1&&l(!1,"A router only supports one blocker at a time");let o=Array.from(De.entries()),[i,s]=o[o.length-1],a=O.blockers.get(i);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?i:void 0}function it(e){let t=Ee(404,{pathname:e}),n=c||v,{matches:r,route:o}=Ae(n);return at(),{notFoundMatches:r,route:o,error:t}}function st(e,t){return{boundaryId:we(t.partialMatches).route.id,error:Ee(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function at(e){let t=[];return Se.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),Se.delete(r))})),t}function lt(e,t){return I&&I(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}(e,O.loaderData))))||e.key}function ct(e,t){if(k){let n=lt(e,t),r=k[n];if("number"==typeof r)return r}return null}function ut(e,t,n){if(A){if(!e)return{active:!0,matches:y(t,n,b,!0)||[]};{let r=e[e.length-1].route;if(r.path&&("*"===r.path||r.path.endsWith("/*")))return{active:!0,matches:y(t,n,b,!0)}}}return{active:!1,matches:null}}async function dt(e,t,n){let r=e,o=r.length>0?r[r.length-1].route:null;for(;;){let e=null==c,i=c||v;try{await le(A,t,r,i,p,s,Fe,n)}catch(e){return{type:"error",error:e,partialMatches:r}}finally{e&&(v=[...v])}if(n.aborted)return{type:"aborted"};let a=g(i,t,b),l=!1;if(a){let e=a[a.length-1].route;if(e.index)return{type:"success",matches:a};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:a};l=!0}}let u=y(i,t,b,!0);if(!u||r.map((e=>e.route.id)).join("-")===u.map((e=>e.route.id)).join("-"))return{type:"success",matches:l?a:null};if(r=u,o=r[r.length-1].route,"*"===o.path)return{type:"success",matches:r}}}return h={get basename(){return b},get future(){return E},get state(){return O},get routes(){return v},get window(){return t},initialize:function(){if(x=e.history.listen((t=>{let{action:n,location:r,delta:o}=t;if(Ue)return void(Ue=!1);l(0===De.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let i=ot({currentLocation:O.location,nextLocation:r,historyAction:n});return i&&null!=o?(Ue=!0,e.history.go(-1*o),void rt(i,{state:"blocked",location:r,proceed(){rt(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset(){let e=new Map(O.blockers);e.set(i,J),$e({blockers:e})}})):ze(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(te);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(e){}}(t,L);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(te,JSON.stringify(n))}catch(e){l(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}}(t,L);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return O.initialized||ze(o.Pop,O.location,{initialHydration:!0}),h},subscribe:function(e){return S.add(e),()=>S.delete(e)},enableScrollRestoration:function(e,t,n){if(k=e,_=t,I=n||null,!R&&O.navigation===Q){R=!0;let e=ct(O.location,O.matches);null!=e&&$e({restoreScrollPosition:e})}return()=>{k=null,_=null,I=null}},navigate:async function t(n,i){if("number"==typeof n)return void e.history.go(n);let s=re(O.location,O.matches,b,E.v7_prependBasename,n,E.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:a,submission:l,error:c}=oe(E.v7_normalizeFormMethod,!1,s,i),d=O.location,h=u(O.location,a,i&&i.state);h=r({},h,e.history.encodeLocation(h));let f=i&&null!=i.replace?i.replace:void 0,p=o.Push;!0===f?p=o.Replace:!1===f||null!=l&&Ce(l.formMethod)&&l.formAction===O.location.pathname+O.location.search&&(p=o.Replace);let m=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,g=!0===(i&&i.unstable_flushSync),y=ot({currentLocation:d,nextLocation:h,historyAction:p});if(!y)return await ze(p,h,{submission:l,pendingError:c,preventScrollReset:m,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:g});rt(y,{state:"blocked",location:h,proceed(){rt(y,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,i)},reset(){let e=new Map(O.blockers);e.set(y,J),$e({blockers:e})}})},fetch:function(t,n,r,o){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(t)&&Je(t);let s=!0===(o&&o.unstable_flushSync),l=c||v,u=re(O.location,O.matches,b,E.v7_prependBasename,r,E.v7_relativeSplatPath,n,null==o?void 0:o.relative),d=g(l,u,b),h=ut(d,l,u);if(h.active&&h.matches&&(d=h.matches),!d)return void Ye(t,n,Ee(404,{pathname:u}),{flushSync:s});let{path:f,submission:p,error:m}=oe(E.v7_normalizeFormMethod,!0,u,o);if(m)return void Ye(t,n,m,{flushSync:s});let y=Oe(d,f);N=!0===(o&&o.preventScrollReset),p&&Ce(p.formMethod)?async function(t,n,r,o,i,s,l,u){function d(e){if(!e.route.action&&!e.route.lazy){let e=Ee(405,{method:u.formMethod,pathname:r,routeId:n});return Ye(t,n,e,{flushSync:l}),!0}return!1}if(Ke(),ae.delete(t),!s&&d(o))return;let h=O.fetchers.get(t);Ge(t,function(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}(u,h),{flushSync:l});let f=new AbortController,p=pe(e.history,r,f.signal,u);if(s){let e=await dt(i,r,p.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=st(r,e);return void Ye(t,n,o,{flushSync:l})}if(!e.matches)return void Ye(t,n,Ee(404,{pathname:r}),{flushSync:l});if(d(o=Oe(i=e.matches,r)))return}W.set(t,f);let m=q,y=(await We("action",p,[o],i))[0];if(p.signal.aborted)return void(W.get(t)===f&&W.delete(t));if(E.v7_fetcherPersist&&ge.has(t)){if(_e(y)||Ie(y))return void Ge(t,Le(void 0))}else{if(_e(y))return W.delete(t),K>m?void Ge(t,Le(void 0)):(se.add(t),Ge(t,Be(u)),He(p,y,{fetcherSubmission:u}));if(Ie(y))return void Ye(t,n,y.error)}if(ke(y))throw Ee(400,{type:"defer-action"});let w=O.navigation.location||O.location,A=pe(e.history,w,f.signal),x=c||v,S="idle"!==O.navigation.state?g(x,O.navigation.location,b):O.matches;a(S,"Didn't find any matches after fetcher action");let k=++q;ne.set(t,k);let I=Be(u,y.data);O.fetchers.set(t,I);let[_,R]=ie(e.history,O,S,u,w,!1,E.v7_skipActionErrorRevalidation,$,j,H,ge,ae,se,x,b,[o.route.id,y]);R.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=O.fetchers.get(t),r=Be(void 0,n?n.data:void 0);O.fetchers.set(t,r),W.has(t)&&Je(t),e.controller&&W.set(t,e.controller)})),$e({fetchers:new Map(O.fetchers)});let C=()=>R.forEach((e=>Je(e.key)));f.signal.addEventListener("abort",C);let{loaderResults:T,fetcherResults:P}=await qe(O.matches,S,_,R,A);if(f.signal.aborted)return;f.signal.removeEventListener("abort",C),ne.delete(t),W.delete(t),R.forEach((e=>W.delete(e.key)));let N=xe([...T,...P]);if(N){if(N.idx>=_.length){let e=R[N.idx-_.length].key;se.add(e)}return He(A,N.result)}let{loaderData:B,errors:L}=ye(O,O.matches,_,T,void 0,R,P,Se);if(O.fetchers.has(t)){let e=Le(y.data);O.fetchers.set(t,e)}tt(k),"loading"===O.navigation.state&&k>K?(a(M,"Expected pending action"),D&&D.abort(),je(O.navigation.location,{matches:S,loaderData:B,errors:L,fetchers:new Map(O.fetchers)})):($e({errors:L,loaderData:ve(O.loaderData,B,S,L),fetchers:new Map(O.fetchers)}),$=!1)}(t,n,f,y,d,h.active,s,p):(ae.set(t,{routeId:n,path:f}),async function(t,n,r,o,i,s,l,c){let u=O.fetchers.get(t);Ge(t,Be(c,u?u.data:void 0),{flushSync:l});let d=new AbortController,h=pe(e.history,r,d.signal);if(s){let e=await dt(i,r,h.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=st(r,e);return void Ye(t,n,o,{flushSync:l})}if(!e.matches)return void Ye(t,n,Ee(404,{pathname:r}),{flushSync:l});o=Oe(i=e.matches,r)}W.set(t,d);let f=q,p=(await We("loader",h,[o],i))[0];if(ke(p)&&(p=await Pe(p,h.signal,!0)||p),W.get(t)===d&&W.delete(t),!h.signal.aborted){if(!ge.has(t))return _e(p)?K>f?void Ge(t,Le(void 0)):(se.add(t),void await He(h,p)):void(Ie(p)?Ye(t,n,p.error):(a(!ke(p),"Unhandled fetcher deferred data"),Ge(t,Le(p.data))));Ge(t,Le(void 0))}}(t,n,f,y,d,h.active,s,p))},revalidate:function(){Ke(),$e({revalidation:"loading"}),"submitting"!==O.navigation.state&&("idle"!==O.navigation.state?ze(M||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation}):ze(O.historyAction,O.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Qe,deleteFetcher:function(e){if(E.v7_fetcherPersist){let t=(me.get(e)||0)-1;t<=0?(me.delete(e),ge.add(e)):me.set(e,t)}else Ze(e);$e({fetchers:new Map(O.fetchers)})},dispose:function(){x&&x(),F&&F(),S.clear(),D&&D.abort(),O.fetchers.forEach(((e,t)=>Ze(t))),O.blockers.forEach(((e,t)=>nt(t)))},getBlocker:function(e,t){let n=O.blockers.get(e)||J;return De.get(e)!==t&&De.set(e,t),n},deleteBlocker:nt,patchRoutes:function(e,t){let n=null==c;ce(e,t,c||v,p,s),n&&(v=[...v],$e({}))},_internalFetchControllers:W,_internalActiveDeferreds:Se,_internalSetRoutes:function(e){p={},c=m(e,s,void 0,p)}},h}function re(e,t,n,r,o,i,s,a){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let u=N(o||".",M(l,i),P(e.pathname,n)||e.pathname,"path"===a);return null==o&&(u.search=e.search,u.hash=e.hash),null!=o&&""!==o&&"."!==o||!c||!c.route.index||De(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:B([n,u.pathname])),d(u)}function oe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(o=r.formMethod,!K.has(o.toLowerCase())))return{path:n,error:Ee(405,{method:r.formMethod})};var o;let i,s,l=()=>({path:n,error:Ee(400,{type:"invalid-body"})}),c=r.formMethod||"get",u=e?c.toUpperCase():c.toLowerCase(),f=Se(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ce(u))return l();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ce(u))return l();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return l()}}}if(a("function"==typeof FormData,"FormData is not available in this environment"),r.formData)i=me(r.formData),s=r.formData;else if(r.body instanceof FormData)i=me(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=ge(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=ge(i)}catch(e){return l()}let p={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ce(p.formMethod))return{path:n,submission:p};let m=h(n);return t&&m.search&&De(m.search)&&i.append("index",""),m.search="?"+i,{path:d(m),submission:p}}function ie(e,t,n,o,i,s,a,l,c,u,d,h,f,p,m,y){let v=y?Ie(y[1])?y[1].error:y[1].data:void 0,b=e.createURL(t.location),w=e.createURL(i),A=y&&Ie(y[1])?y[0]:void 0,E=A?function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(n,A):n,x=y?y[1].statusCode:void 0,S=a&&x&&x>=400,k=E.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!("function"==typeof i.loader&&!i.loader.hydrate&&(void 0!==t.loaderData[i.id]||t.errors&&void 0!==t.errors[i.id]));if(function(e,t,n){let r=!t||n.route.id!==t.route.id,o=void 0===e[n.route.id];return r||o}(t.loaderData,t.matches[n],e)||c.some((t=>t===e.route.id)))return!0;let a=t.matches[n],u=e;return ae(e,r({currentUrl:b,currentParams:a.params,nextUrl:w,nextParams:u.params},o,{actionResult:v,actionStatus:x,defaultShouldRevalidate:!S&&(l||b.pathname+b.search===w.pathname+w.search||b.search!==w.search||se(a,u))}))})),I=[];return h.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||d.has(i))return;let a=g(p,e.path,m);if(!a)return void I.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(i),h=Oe(a,e.path),y=!1;y=!f.has(i)&&(!!u.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?l:ae(h,r({currentUrl:b,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},o,{actionResult:v,actionStatus:x,defaultShouldRevalidate:!S&&l})))),y&&I.push({key:i,routeId:e.routeId,path:e.path,matches:a,match:h,controller:new AbortController})})),[k,I]}function se(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ae(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function le(e,t,n,r,o,i,s,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let u=s.get(l);u||(u=e({path:t,matches:n,patch:(e,t)=>{a.aborted||ce(e,t,r,o,i)}}),s.set(l,u)),u&&"object"==typeof(c=u)&&null!=c&&"then"in c&&await u}finally{s.delete(l)}var c}function ce(e,t,n,r,o){if(e){var i;let n=r[e];a(n,"No route found to patch children into: routeId = "+e);let s=m(t,o,[e,"patch",String((null==(i=n.children)?void 0:i.length)||"0")],r);n.children?n.children.push(...s):n.children=s}else{let e=m(t,o,["patch",String(n.length||"0")],r);n.push(...e)}}async function ue(e,t,n){if(!e.lazy)return;let o=await e.lazy();if(!e.lazy)return;let i=n[e.id];a(i,"No route found in manifest");let s={};for(let e in o){let t=void 0!==i[e]&&"hasErrorBoundary"!==e;l(!t,'Route "'+i.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||p.has(e)||(s[e]=o[e])}Object.assign(i,s),Object.assign(i,r({},t(i),{lazy:void 0}))}function de(e){return Promise.all(e.matches.map((e=>e.resolve())))}function he(e,t,n,r,o,i){let s=e.headers.get("Location");if(a(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!X.test(s)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);s=re(new URL(t.url),a,o,!0,s,i),e.headers.set("Location",s)}return e}function fe(e,t,n){if(X.test(e)){let r=e,o=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=null!=P(o.pathname,n);if(o.origin===t.origin&&i)return o.pathname+o.search+o.hash}return e}function pe(e,t,n,r){let o=e.createURL(Se(t)).toString(),i={signal:n};if(r&&Ce(r.formMethod)){let{formMethod:e,formEncType:t}=r;i.method=e.toUpperCase(),"application/json"===t?(i.headers=new Headers({"Content-Type":t}),i.body=JSON.stringify(r.json)):"text/plain"===t?i.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?i.body=me(r.formData):i.body=r.formData}return new Request(o,i)}function me(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function ge(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function ye(e,t,n,o,i,s,l,c){let{loaderData:u,errors:d}=function(e,t,n,r,o,i){let s,l={},c=null,u=!1,d={},h=r&&Ie(r[1])?r[1].error:void 0;return n.forEach(((n,r)=>{let f=t[r].route.id;if(a(!_e(n),"Cannot handle redirect results in processLoaderData"),Ie(n)){let t=n.error;if(void 0!==h&&(t=h,h=void 0),c=c||{},i)c[f]=t;else{let n=we(e,f);null==c[n.route.id]&&(c[n.route.id]=t)}l[f]=void 0,u||(u=!0,s=V(n.error)?n.error.status:500),n.headers&&(d[f]=n.headers)}else ke(n)?(o.set(f,n.deferredData),l[f]=n.deferredData.data,null==n.statusCode||200===n.statusCode||u||(s=n.statusCode),n.headers&&(d[f]=n.headers)):(l[f]=n.data,n.statusCode&&200!==n.statusCode&&!u&&(s=n.statusCode),n.headers&&(d[f]=n.headers))})),void 0!==h&&r&&(c={[r[0]]:h},l[r[0]]=void 0),{loaderData:l,errors:c,statusCode:s||200,loaderHeaders:d}}(t,n,o,i,c,!1);for(let t=0;t<s.length;t++){let{key:n,match:o,controller:i}=s[t];a(void 0!==l&&void 0!==l[t],"Did not find corresponding fetcher result");let c=l[t];if(!i||!i.signal.aborted)if(Ie(c)){let t=we(e.matches,null==o?void 0:o.route.id);d&&d[t.route.id]||(d=r({},d,{[t.route.id]:c.error})),e.fetchers.delete(n)}else if(_e(c))a(!1,"Unhandled fetcher revalidation redirect");else if(ke(c))a(!1,"Unhandled fetcher deferred data");else{let t=Le(c.data);e.fetchers.set(n,t)}}return{loaderData:u,errors:d}}function ve(e,t,n,o){let i=r({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&r.route.loader&&(i[n]=e[n]),o&&o.hasOwnProperty(n))break}return i}function be(e){return e?Ie(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function we(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ae(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ee(e,t){let{pathname:n,routeId:r,method:o,type:i,message:s}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===i?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` function threw the following error:\n'+s:o&&n&&r?l="You made a "+o+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===i?l="defer() is not supported in actions":"invalid-body"===i&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new z(e||500,a,new Error(l),!0)}function xe(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(_e(n))return{result:n,idx:t}}}function Se(e){return d(r({},"string"==typeof e?h(e):e,{hash:""}))}function ke(e){return e.type===f.deferred}function Ie(e){return e.type===f.error}function _e(e){return(e&&e.type)===f.redirect}function Re(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function Ce(e){return W.has(e.toLowerCase())}async function Te(e,t,n,r,o,i){for(let s=0;s<n.length;s++){let l=n[s],c=t[s];if(!c)continue;let u=e.find((e=>e.route.id===c.route.id)),d=null!=u&&!se(u,c)&&void 0!==(i&&i[c.route.id]);if(ke(l)&&(o||d)){let e=r[s];a(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Pe(l,e,o).then((e=>{e&&(n[s]=e||n[s])}))}}}async function Pe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:f.data,data:e.deferredData.unwrappedData}}catch(e){return{type:f.error,error:e}}return{type:f.data,data:e.deferredData.data}}}function De(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Oe(e,t){let n="string"==typeof t?h(t).search:t.search;if(e[e.length-1].route.index&&De(n||""))return e[e.length-1];let r=O(e);return r[r.length-1]}function Me(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:s}=e;if(t&&n&&r)return null!=o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o}:null!=i?{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Ne(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Be(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}Symbol("deferred")},972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4512);function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function l(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e/4294967296>>>0,t,n),u(e>>>0,t,n+4),t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),d(e>>>0,t,n),d(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=o,t.writeInt16BE=o,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=l,t.readUint32LE=c,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=d,t.writeInt32LE=d,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n},t.writeUint64BE=h,t.writeInt64BE=h,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,i=e/8+n-1;i>=n;i--)r+=t[i]*o,o*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,i=n;i<n+e/8;i++)r+=t[i]*o,o*=256;return r},t.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+o-1;s>=o;s--)n[s]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=o;s<o+e/8;s++)n[s]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},4512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},7052:(e,t,n)=>{"use strict";t.po=t.yE=void 0;const r=n(5492);n(972),n(6228);function o(e,n=t.yE){return n.randomBytes(e)}t.yE=new r.SystemRandomSource,t.po=o},7029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},5821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(6228);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(9432);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},5492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(7029),o=n(5821);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},6228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},2341:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");return null===t||"object"!=typeof t?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce(((t,n,r)=>`${t}${0===r?"":","}${e(void 0===n||"symbol"==typeof n?null:n)}`),"")}]`:`{${Object.keys(t).sort().reduce(((n,r)=>void 0===t[r]||"symbol"==typeof t[r]?n:`${n}${0===n.length?"":","}${e(r)}:${e(t[r])}`),"")}}`}},2566:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,o="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)o[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=o[t]=n>>>8^e[255&n];var i=[];for(r=1;16!=r;++r)i[r-1]="undefined"!=typeof Int32Array?o.subarray(256*r,256*r+256):o.slice(256*r,256*r+256);return i}(t),r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],y=n[14];e.table=t,e.bstr=function(e,n){for(var r=~n,o=0,i=e.length;o<i;)r=r>>>8^t[255&(r^e.charCodeAt(o++))];return~r},e.buf=function(e,n){for(var v=~n,b=e.length-15,w=0;w<b;)v=y[e[w++]^255&v]^g[e[w++]^v>>8&255]^m[e[w++]^v>>16&255]^p[e[w++]^v>>>24]^f[e[w++]]^h[e[w++]]^d[e[w++]]^u[e[w++]]^c[e[w++]]^l[e[w++]]^a[e[w++]]^s[e[w++]]^i[e[w++]]^o[e[w++]]^r[e[w++]]^t[e[w++]];for(b+=15;w<b;)v=v>>>8^t[255&(v^e[w++])];return~v},e.str=function(e,n){for(var r=~n,o=0,i=e.length,s=0,a=0;o<i;)(s=e.charCodeAt(o++))<128?r=r>>>8^t[255&(r^s)]:s<2048?r=(r=r>>>8^t[255&(r^(192|s>>6&31))])>>>8^t[255&(r^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),a=1023&e.charCodeAt(o++),r=(r=(r=(r=r>>>8^t[255&(r^(240|s>>8&7))])>>>8^t[255&(r^(128|s>>2&63))])>>>8^t[255&(r^(128|a>>6&15|(3&s)<<4))])>>>8^t[255&(r^(128|63&a))]):r=(r=(r=r>>>8^t[255&(r^(224|s>>12&15))])>>>8^t[255&(r^(128|s>>6&63))])>>>8^t[255&(r^(128|63&s))];return~r}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},4945:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n&&n,r="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,a="ArrayBuffer"in n;if(a)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=d(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(o,s){var l=new w(e,r);if(l.signal&&l.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var r="response"in c?c.response:c.responseText;setTimeout((function(){o(new E(r,n))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},c.open(l.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(i?c.responseType="blob":a&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof f?l.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){c.setRequestHeader(e,d(r.headers[e]))})),l.signal&&(l.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",u)}),c.send(void 0===l._bodyInit?null:l._bodyInit)}))}S.polyfill=!0,n.fetch||(n.fetch=S,n.Headers=f,n.Request=w,n.Response=E),t.Headers=f,t.Request=w,t.Response=E,t.fetch=S}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=r.fetch?r:o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},8750:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(1601),o=n.n(r),i=n(6314),s=n.n(i)()(o());s.push([e.id,':root {\n  --toastify-color-light: #fff;\n  --toastify-color-dark: #121212;\n  --toastify-color-info: #3498db;\n  --toastify-color-success: #07bc0c;\n  --toastify-color-warning: #f1c40f;\n  --toastify-color-error: #e74c3c;\n  --toastify-color-transparent: rgba(255, 255, 255, 0.7);\n  --toastify-icon-color-info: var(--toastify-color-info);\n  --toastify-icon-color-success: var(--toastify-color-success);\n  --toastify-icon-color-warning: var(--toastify-color-warning);\n  --toastify-icon-color-error: var(--toastify-color-error);\n  --toastify-toast-width: 320px;\n  --toastify-toast-offset: 16px;\n  --toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));\n  --toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));\n  --toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));\n  --toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));\n  --toastify-toast-background: #fff;\n  --toastify-toast-min-height: 64px;\n  --toastify-toast-max-height: 800px;\n  --toastify-toast-bd-radius: 6px;\n  --toastify-font-family: sans-serif;\n  --toastify-z-index: 9999;\n  --toastify-text-color-light: #757575;\n  --toastify-text-color-dark: #fff;\n  --toastify-text-color-info: #fff;\n  --toastify-text-color-success: #fff;\n  --toastify-text-color-warning: #fff;\n  --toastify-text-color-error: #fff;\n  --toastify-spinner-color: #616161;\n  --toastify-spinner-color-empty-area: #e0e0e0;\n  --toastify-color-progress-light: linear-gradient(\n    to right,\n    #4cd964,\n    #5ac8fa,\n    #007aff,\n    #34aadc,\n    #5856d6,\n    #ff2d55\n  );\n  --toastify-color-progress-dark: #bb86fc;\n  --toastify-color-progress-info: var(--toastify-color-info);\n  --toastify-color-progress-success: var(--toastify-color-success);\n  --toastify-color-progress-warning: var(--toastify-color-warning);\n  --toastify-color-progress-error: var(--toastify-color-error);\n  --toastify-color-progress-bgo: 0.2;\n}\n\n.Toastify__toast-container {\n  z-index: var(--toastify-z-index);\n  -webkit-transform: translate3d(0, 0, var(--toastify-z-index));\n  position: fixed;\n  padding: 4px;\n  width: var(--toastify-toast-width);\n  box-sizing: border-box;\n  color: #fff;\n}\n.Toastify__toast-container--top-left {\n  top: var(--toastify-toast-top);\n  left: var(--toastify-toast-left);\n}\n.Toastify__toast-container--top-center {\n  top: var(--toastify-toast-top);\n  left: 50%;\n  transform: translateX(-50%);\n}\n.Toastify__toast-container--top-right {\n  top: var(--toastify-toast-top);\n  right: var(--toastify-toast-right);\n}\n.Toastify__toast-container--bottom-left {\n  bottom: var(--toastify-toast-bottom);\n  left: var(--toastify-toast-left);\n}\n.Toastify__toast-container--bottom-center {\n  bottom: var(--toastify-toast-bottom);\n  left: 50%;\n  transform: translateX(-50%);\n}\n.Toastify__toast-container--bottom-right {\n  bottom: var(--toastify-toast-bottom);\n  right: var(--toastify-toast-right);\n}\n\n@media only screen and (max-width : 480px) {\n  .Toastify__toast-container {\n    width: 100vw;\n    padding: 0;\n    left: env(safe-area-inset-left);\n    margin: 0;\n  }\n  .Toastify__toast-container--top-left, .Toastify__toast-container--top-center, .Toastify__toast-container--top-right {\n    top: env(safe-area-inset-top);\n    transform: translateX(0);\n  }\n  .Toastify__toast-container--bottom-left, .Toastify__toast-container--bottom-center, .Toastify__toast-container--bottom-right {\n    bottom: env(safe-area-inset-bottom);\n    transform: translateX(0);\n  }\n  .Toastify__toast-container--rtl {\n    right: env(safe-area-inset-right);\n    left: initial;\n  }\n}\n.Toastify__toast {\n  --y: 0;\n  position: relative;\n  -ms-touch-action: none;\n      touch-action: none;\n  min-height: var(--toastify-toast-min-height);\n  box-sizing: border-box;\n  margin-bottom: 1rem;\n  padding: 8px;\n  border-radius: var(--toastify-toast-bd-radius);\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  max-height: var(--toastify-toast-max-height);\n  font-family: var(--toastify-font-family);\n  cursor: default;\n  direction: ltr;\n  /* webkit only issue #791 */\n  z-index: 0;\n  overflow: hidden;\n}\n.Toastify__toast--stacked {\n  position: absolute;\n  width: 100%;\n  transform: translate3d(0, var(--y), 0) scale(var(--s));\n  transition: transform 0.3s;\n}\n.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body, .Toastify__toast--stacked[data-collapsed] .Toastify__close-button {\n  transition: opacity 0.1s;\n}\n.Toastify__toast--stacked[data-collapsed=false] {\n  overflow: visible;\n}\n.Toastify__toast--stacked[data-collapsed=true]:not(:last-child) > * {\n  opacity: 0;\n}\n.Toastify__toast--stacked:after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: calc(var(--g) * 1px);\n  bottom: 100%;\n}\n.Toastify__toast--stacked[data-pos=top] {\n  top: 0;\n}\n.Toastify__toast--stacked[data-pos=bot] {\n  bottom: 0;\n}\n.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before {\n  transform-origin: top;\n}\n.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before {\n  transform-origin: bottom;\n}\n.Toastify__toast--stacked:before {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  transform: scaleY(3);\n  z-index: -1;\n}\n.Toastify__toast--rtl {\n  direction: rtl;\n}\n.Toastify__toast--close-on-click {\n  cursor: pointer;\n}\n.Toastify__toast-body {\n  margin: auto 0;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  padding: 6px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.Toastify__toast-body > div:last-child {\n  word-break: break-word;\n  -ms-flex: 1;\n      flex: 1;\n}\n.Toastify__toast-icon {\n  -webkit-margin-end: 10px;\n          margin-inline-end: 10px;\n  width: 20px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.Toastify--animate {\n  animation-fill-mode: both;\n  animation-duration: 0.5s;\n}\n\n.Toastify--animate-icon {\n  animation-fill-mode: both;\n  animation-duration: 0.3s;\n}\n\n@media only screen and (max-width : 480px) {\n  .Toastify__toast {\n    margin-bottom: 0;\n    border-radius: 0;\n  }\n}\n.Toastify__toast-theme--dark {\n  background: var(--toastify-color-dark);\n  color: var(--toastify-text-color-dark);\n}\n.Toastify__toast-theme--light {\n  background: var(--toastify-color-light);\n  color: var(--toastify-text-color-light);\n}\n.Toastify__toast-theme--colored.Toastify__toast--default {\n  background: var(--toastify-color-light);\n  color: var(--toastify-text-color-light);\n}\n.Toastify__toast-theme--colored.Toastify__toast--info {\n  color: var(--toastify-text-color-info);\n  background: var(--toastify-color-info);\n}\n.Toastify__toast-theme--colored.Toastify__toast--success {\n  color: var(--toastify-text-color-success);\n  background: var(--toastify-color-success);\n}\n.Toastify__toast-theme--colored.Toastify__toast--warning {\n  color: var(--toastify-text-color-warning);\n  background: var(--toastify-color-warning);\n}\n.Toastify__toast-theme--colored.Toastify__toast--error {\n  color: var(--toastify-text-color-error);\n  background: var(--toastify-color-error);\n}\n\n.Toastify__progress-bar-theme--light {\n  background: var(--toastify-color-progress-light);\n}\n.Toastify__progress-bar-theme--dark {\n  background: var(--toastify-color-progress-dark);\n}\n.Toastify__progress-bar--info {\n  background: var(--toastify-color-progress-info);\n}\n.Toastify__progress-bar--success {\n  background: var(--toastify-color-progress-success);\n}\n.Toastify__progress-bar--warning {\n  background: var(--toastify-color-progress-warning);\n}\n.Toastify__progress-bar--error {\n  background: var(--toastify-color-progress-error);\n}\n.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--success, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning, .Toastify__progress-bar-theme--colored.Toastify__progress-bar--error {\n  background: var(--toastify-color-transparent);\n}\n\n.Toastify__close-button {\n  color: #fff;\n  background: transparent;\n  outline: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: 0.3s ease;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  z-index: 1;\n}\n.Toastify__close-button--light {\n  color: #000;\n  opacity: 0.3;\n}\n.Toastify__close-button > svg {\n  fill: currentColor;\n  height: 16px;\n  width: 14px;\n}\n.Toastify__close-button:hover, .Toastify__close-button:focus {\n  opacity: 1;\n}\n\n@keyframes Toastify__trackProgress {\n  0% {\n    transform: scaleX(1);\n  }\n  100% {\n    transform: scaleX(0);\n  }\n}\n.Toastify__progress-bar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--toastify-z-index);\n  opacity: 0.7;\n  transform-origin: left;\n  border-bottom-left-radius: var(--toastify-toast-bd-radius);\n}\n.Toastify__progress-bar--animated {\n  animation: Toastify__trackProgress linear 1 forwards;\n}\n.Toastify__progress-bar--controlled {\n  transition: transform 0.2s;\n}\n.Toastify__progress-bar--rtl {\n  right: 0;\n  left: initial;\n  transform-origin: right;\n  border-bottom-left-radius: initial;\n  border-bottom-right-radius: var(--toastify-toast-bd-radius);\n}\n.Toastify__progress-bar--wrp {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 5px;\n  border-bottom-left-radius: var(--toastify-toast-bd-radius);\n}\n.Toastify__progress-bar--wrp[data-hidden=true] {\n  opacity: 0;\n}\n.Toastify__progress-bar--bg {\n  opacity: var(--toastify-color-progress-bgo);\n  width: 100%;\n  height: 100%;\n}\n\n.Toastify__spinner {\n  width: 20px;\n  height: 20px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: var(--toastify-spinner-color-empty-area);\n  border-right-color: var(--toastify-spinner-color);\n  animation: Toastify__spin 0.65s linear infinite;\n}\n\n@keyframes Toastify__bounceInRight {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  from {\n    opacity: 0;\n    transform: translate3d(3000px, 0, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(-25px, 0, 0);\n  }\n  75% {\n    transform: translate3d(10px, 0, 0);\n  }\n  90% {\n    transform: translate3d(-5px, 0, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutRight {\n  20% {\n    opacity: 1;\n    transform: translate3d(-20px, var(--y), 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(2000px, var(--y), 0);\n  }\n}\n@keyframes Toastify__bounceInLeft {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    transform: translate3d(-3000px, 0, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(25px, 0, 0);\n  }\n  75% {\n    transform: translate3d(-10px, 0, 0);\n  }\n  90% {\n    transform: translate3d(5px, 0, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutLeft {\n  20% {\n    opacity: 1;\n    transform: translate3d(20px, var(--y), 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(-2000px, var(--y), 0);\n  }\n}\n@keyframes Toastify__bounceInUp {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  from {\n    opacity: 0;\n    transform: translate3d(0, 3000px, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0);\n  }\n  75% {\n    transform: translate3d(0, 10px, 0);\n  }\n  90% {\n    transform: translate3d(0, -5px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes Toastify__bounceOutUp {\n  20% {\n    transform: translate3d(0, calc(var(--y) - 10px), 0);\n  }\n  40%, 45% {\n    opacity: 1;\n    transform: translate3d(0, calc(var(--y) + 20px), 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(0, -2000px, 0);\n  }\n}\n@keyframes Toastify__bounceInDown {\n  from, 60%, 75%, 90%, to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    transform: translate3d(0, -3000px, 0);\n  }\n  60% {\n    opacity: 1;\n    transform: translate3d(0, 25px, 0);\n  }\n  75% {\n    transform: translate3d(0, -10px, 0);\n  }\n  90% {\n    transform: translate3d(0, 5px, 0);\n  }\n  to {\n    transform: none;\n  }\n}\n@keyframes Toastify__bounceOutDown {\n  20% {\n    transform: translate3d(0, calc(var(--y) - 10px), 0);\n  }\n  40%, 45% {\n    opacity: 1;\n    transform: translate3d(0, calc(var(--y) + 20px), 0);\n  }\n  to {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0);\n  }\n}\n.Toastify__bounce-enter--top-left, .Toastify__bounce-enter--bottom-left {\n  animation-name: Toastify__bounceInLeft;\n}\n.Toastify__bounce-enter--top-right, .Toastify__bounce-enter--bottom-right {\n  animation-name: Toastify__bounceInRight;\n}\n.Toastify__bounce-enter--top-center {\n  animation-name: Toastify__bounceInDown;\n}\n.Toastify__bounce-enter--bottom-center {\n  animation-name: Toastify__bounceInUp;\n}\n\n.Toastify__bounce-exit--top-left, .Toastify__bounce-exit--bottom-left {\n  animation-name: Toastify__bounceOutLeft;\n}\n.Toastify__bounce-exit--top-right, .Toastify__bounce-exit--bottom-right {\n  animation-name: Toastify__bounceOutRight;\n}\n.Toastify__bounce-exit--top-center {\n  animation-name: Toastify__bounceOutUp;\n}\n.Toastify__bounce-exit--bottom-center {\n  animation-name: Toastify__bounceOutDown;\n}\n\n@keyframes Toastify__zoomIn {\n  from {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes Toastify__zoomOut {\n  from {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n    transform: translate3d(0, var(--y), 0) scale3d(0.3, 0.3, 0.3);\n  }\n  to {\n    opacity: 0;\n  }\n}\n.Toastify__zoom-enter {\n  animation-name: Toastify__zoomIn;\n}\n\n.Toastify__zoom-exit {\n  animation-name: Toastify__zoomOut;\n}\n\n@keyframes Toastify__flipIn {\n  from {\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    animation-timing-function: ease-in;\n  }\n  60% {\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    transform: perspective(400px);\n  }\n}\n@keyframes Toastify__flipOut {\n  from {\n    transform: translate3d(0, var(--y), 0) perspective(400px);\n  }\n  30% {\n    transform: translate3d(0, var(--y), 0) perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    transform: translate3d(0, var(--y), 0) perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n.Toastify__flip-enter {\n  animation-name: Toastify__flipIn;\n}\n\n.Toastify__flip-exit {\n  animation-name: Toastify__flipOut;\n}\n\n@keyframes Toastify__slideInRight {\n  from {\n    transform: translate3d(110%, 0, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideInLeft {\n  from {\n    transform: translate3d(-110%, 0, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideInUp {\n  from {\n    transform: translate3d(0, 110%, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideInDown {\n  from {\n    transform: translate3d(0, -110%, 0);\n    visibility: visible;\n  }\n  to {\n    transform: translate3d(0, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideOutRight {\n  from {\n    transform: translate3d(0, var(--y), 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(110%, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideOutLeft {\n  from {\n    transform: translate3d(0, var(--y), 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(-110%, var(--y), 0);\n  }\n}\n@keyframes Toastify__slideOutDown {\n  from {\n    transform: translate3d(0, var(--y), 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(0, 500px, 0);\n  }\n}\n@keyframes Toastify__slideOutUp {\n  from {\n    transform: translate3d(0, var(--y), 0);\n  }\n  to {\n    visibility: hidden;\n    transform: translate3d(0, -500px, 0);\n  }\n}\n.Toastify__slide-enter--top-left, .Toastify__slide-enter--bottom-left {\n  animation-name: Toastify__slideInLeft;\n}\n.Toastify__slide-enter--top-right, .Toastify__slide-enter--bottom-right {\n  animation-name: Toastify__slideInRight;\n}\n.Toastify__slide-enter--top-center {\n  animation-name: Toastify__slideInDown;\n}\n.Toastify__slide-enter--bottom-center {\n  animation-name: Toastify__slideInUp;\n}\n\n.Toastify__slide-exit--top-left, .Toastify__slide-exit--bottom-left {\n  animation-name: Toastify__slideOutLeft;\n  animation-timing-function: ease-in;\n  animation-duration: 0.3s;\n}\n.Toastify__slide-exit--top-right, .Toastify__slide-exit--bottom-right {\n  animation-name: Toastify__slideOutRight;\n  animation-timing-function: ease-in;\n  animation-duration: 0.3s;\n}\n.Toastify__slide-exit--top-center {\n  animation-name: Toastify__slideOutUp;\n  animation-timing-function: ease-in;\n  animation-duration: 0.3s;\n}\n.Toastify__slide-exit--bottom-center {\n  animation-name: Toastify__slideOutDown;\n  animation-timing-function: ease-in;\n  animation-duration: 0.3s;\n}\n\n@keyframes Toastify__spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}',""]);const a=s},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&s[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},1601:e=>{"use strict";e.exports=function(e){return e[1]}},4353:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",o="minute",i="hour",s="day",a="week",l="month",c="quarter",u="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,l),i=n-o<0,s=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-o)/(i?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:a,d:s,D:d,h:i,m:o,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=m;var w="$isDayjsObject",A=function(e){return e instanceof k||!(!e||!e[w])},E=function e(t,n,r){var o;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(o=i),n&&(b[i]=n,o=i);var s=t.split("-");if(!o&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,o=a}return!r&&o&&(v=o),o||!r&&v},x=function(e,t){if(A(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},S=y;S.l=E,S.i=A,S.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return x(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<x(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,c=!!S.u(t)||t,h=S.p(e),f=function(e,t){var r=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?r:r.endOf(s)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case u:return c?f(1,0):f(31,11);case l:return c?f(1,g):f(0,g+1);case a:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(c?y-w:y+(6-w),g);case s:case d:return p(v+"Hours",0);case i:return p(v+"Minutes",1);case o:return p(v+"Seconds",2);case r:return p(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,c=S.p(e),h="set"+(this.$u?"UTC":""),f=(a={},a[s]=h+"Date",a[d]=h+"Date",a[l]=h+"Month",a[u]=h+"FullYear",a[i]=h+"Hours",a[o]=h+"Minutes",a[r]=h+"Seconds",a[n]=h+"Milliseconds",a)[c],p=c===s?this.$D+(t-this.$W):t;if(c===l||c===u){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(n,c){var d,h=this;n=Number(n);var f=S.p(c),p=function(e){var t=x(h);return S.w(t.date(t.date()+Math.round(e*n)),h)};if(f===l)return this.set(l,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===s)return p(1);if(f===a)return p(7);var m=(d={},d[o]=e,d[i]=t,d[r]=1e3,d)[f]||1,g=this.$d.getTime()+n*m;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},f=function(e){return S.s(i%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(i,s,!0);case"A":return m(i,s,!1);case"m":return String(s);case"mm":return S.s(s,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,d,h){var f,p=this,m=S.p(d),g=x(n),y=(g.utcOffset()-this.utcOffset())*e,v=this-g,b=function(){return S.m(p,g)};switch(m){case u:f=b()/12;break;case l:f=b();break;case c:f=b()/3;break;case a:f=(v-y)/6048e5;break;case s:f=(v-y)/864e5;break;case i:f=v/t;break;case o:f=v/e;break;case r:f=v/1e3;break;default:f=v}return h?f:S.a(f)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),I=k.prototype;return x.prototype=I,[["$ms",n],["$s",r],["$m",o],["$H",i],["$W",s],["$M",l],["$y",u],["$D",d]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,k,x),e.$i=!0),x},x.locale=E,x.isDayjs=A,x.unix=function(e){return x(1e3*e)},x.en=b[v],x.Ls=b,x.p={},x}()},7375:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(i)}}}()},445:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,i={},s=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=i.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[o,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[o,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function h(n){var r,o;r=n,o=i&&i.formats;for(var s=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=s.length,l=0;l<a;l+=1){var c=s[l],u=d[c],h=u&&u[0],f=u&&u[1];s[l]=f?{regex:h,parser:f}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var o=s[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,l=o.parser,c=e.slice(r),u=i.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,s=e.args;this.$u=r;var a=s[1];if("string"==typeof a){var l=!0===s[2],c=!0===s[3],u=l||c,d=s[2];c&&(d=s[2]),i=this.$locale(),!l&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),o=r.year,i=r.month,s=r.day,a=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,f=new Date,p=s||(o||i?1:f.getDate()),m=o||f.getFullYear(),g=0;o&&!i||(g=i>0?i-1:f.getMonth());var y=a||0,v=l||0,b=c||0,w=u||0;return d?new Date(Date.UTC(m,g,p,y,v,b,w+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,p,y,v,b,w)):new Date(m,g,p,y,v,b,w)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),i={}}else if(a instanceof Array)for(var f=a.length,p=1;p<=f;p+=1){s[1]=a[p-1];var m=n.apply(this,s);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===f&&(this.$d=new Date(""))}else o.call(this,e)}}}()},7872:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,o){var i=n(e),s=n(t),a="("===(o=o||"()")[0],l=")"===o[1];return(a?this.isAfter(i,r):!this.isBefore(i,r))&&(l?this.isBefore(s,r):!this.isAfter(s,r))||(a?this.isBefore(i,r):!this.isAfter(i,r))&&(l?this.isAfter(s,r):!this.isBefore(s,r))}}}()},5750:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var o=n.prototype,i=o.format;r.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,o){var i=o&&o.toUpperCase();return r||n[o]||e[o]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return i.call(this,r)}}}()},8134:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,o){var i=r.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(t).add(1,t).date(r),s=o(this).endOf(e);if(i.isBefore(s))return 1}var a=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(a,e,!0);return l<0?o(this).startOf("week").week():Math.ceil(l)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},214:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];n=i.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},6310:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof n&&(r=n,n=""),n&&(r.code=n);try{return t(e,r)}catch(n){r.message=e.message,r.stack=e.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),t(new o,r)}}},544:(e,t,n)=>{"use strict";const r=n(9939);t.PP=r.EventIterator,r.EventIterator},9939:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(e){if(this.isStopped)return;const t={value:e,done:!1};if(this.pullQueue.length){const e=this.pullQueue.shift();e&&e.resolve(t)}else this.pushQueue.push(Promise.resolve(t)),void 0!==this.highWaterMark&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const e of this.pullQueue)e.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(e){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const t of this.pullQueue)t.reject(e);this.pullQueue.length=0}else{const t=Promise.reject(e);t.catch((()=>{})),this.pushQueue.push(t)}}remove(){Promise.resolve().then((()=>{this.removeCallback&&this.removeCallback()}))}[Symbol.asyncIterator](){return{next:e=>{const t=this.pushQueue.shift();return t?(void 0!==this.lowWaterMark&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),t):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise(((e,t)=>{this.pullQueue.push({resolve:e,reject:t})}))},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class r{constructor(e,{highWaterMark:t=100,lowWaterMark:r=1}={}){const o=new n;o.highWaterMark=t,o.lowWaterMark=r,o.removeCallback=e({push:e=>o.push(e),stop:()=>o.stop(),fail:e=>o.fail(e),on:(e,t)=>{o.eventHandlers[e]=t}})||(()=>{}),this[Symbol.asyncIterator]=()=>o[Symbol.asyncIterator](),Object.freeze(this)}}t.EventIterator=r,t.default=r},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||o&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},2492:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(t)-1,l=Object.keys(t).sort(o&&o(t));for(s="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);u&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u)}return i.splice(a,1),"{"+s+"}"}}(e)}},194:e=>{e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(o,i){n[o]=i,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return void 0!==n[e]||void 0!==r[e]},remove:function(e){void 0!==n[e]&&(n[e]=void 0),void 0!==r[e]&&(r[e]=void 0)},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(o(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:o(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}},4146:(e,t,n)=>{"use strict";var r=n(3404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=f(n);o&&o!==p&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!(i[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=h(n,y);try{c(t,y,v)}catch(e){}}}}return t}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function E(e){return A(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||A(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return A(e)===c},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===i},t.isLazy=function(e){return A(e)===g},t.isMemo=function(e){return A(e)===m},t.isPortal=function(e){return A(e)===o},t.isProfiler=function(e){return A(e)===a},t.isStrictMode=function(e){return A(e)===s},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=A},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},4866:e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},6368:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},6864:function(e,t,n){"use strict";const r=n(6368),{hasOwnProperty:o}=Object.prototype,{propertyIsEnumerable:i}=Object,s=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),a=this,l={concatArrays:!1,ignoreUndefined:!1},c=e=>{const t=[];for(const n in e)o.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)i.call(e,r)&&t.push(r)}return t};function u(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach((n=>{s(t,n,u(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach((n=>{s(t,n,u(e[n]))})),t}(e):e}const d=(e,t,n,r)=>(n.forEach((n=>{void 0===t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?s(e,n,f(e[n],t[n],r)):s(e,n,u(t[n])))})),e),h=(e,t,n)=>{let r=e.slice(0,0),i=0;return[e,t].forEach((t=>{const a=[];for(let n=0;n<t.length;n++)o.call(t,n)&&(a.push(String(n)),s(r,i++,t===e?t[n]:u(t[n])));r=d(r,t,c(t).filter((e=>!a.includes(e))),n)})),r};function f(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?h(e,t,n):r(t)&&r(e)?d(e,t,c(t),n):u(t)}e.exports=function(...e){const t=f(u(l),this!==a&&this||{},l);let n={_:{}};for(const o of e)if(void 0!==o){if(!r(o))throw new TypeError("`"+o+"` is not an Option Object");n=f(n,{_:o},t)}return n._}},6585:e=>{var t=1e3,n=60*t,r=60*n,o=24*r,i=7*o;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,a){a=a||{};var l,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(l=e,(c=Math.abs(l))>=o?s(l,c,o,"day"):c>=r?s(l,c,r,"hour"):c>=n?s(l,c,n,"minute"):c>=t?s(l,c,t,"second"):l+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8633:(e,t,n)=>{"use strict";const{encodeText:r}=n(4084);e.exports=class{constructor(e,t,n,o){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},7579:(e,t,n)=>{"use strict";const r=n(5084),o=n(8633),{rfc4648:i}=n(9417),{decodeText:s,encodeText:a}=n(4084),l=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=l.reduce(((e,t)=>(e[t[0]]=new o(t[0],t[1],t[2],t[3]),e)),{}),u=l.reduce(((e,t)=>(e[t[1]]=c[t[0]],e)),{});e.exports={names:c,codes:u}},1466:(e,t,n)=>{"use strict";const r=n(7579),{encodeText:o,decodeText:i,concat:s}=n(4084);function a(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=a(e);return function(e,t){a(e).decode(i(t))}(n,t),s([r,t],r.length+t.length)}).encode=function(e,t){const n=a(e),r=o(n.encode(t));return s([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=i(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=i(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(e){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=i(e)),a(e[0])};const l=Object.freeze(r.names),c=Object.freeze(r.codes);t.names=l,t.codes=c},9417:e=>{"use strict";e.exports={rfc4648:e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let e=0;e<t.length;++e)r[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const i=new Uint8Array(o*n/8|0);let s=0,a=0,l=0;for(let t=0;t<o;++t){const o=r[e[t]];if(void 0===o)throw new SyntaxError("Invalid character "+e[t]);a=a<<n|o,s+=n,s>=8&&(s-=8,i[l++]=255&a>>s)}if(s>=n||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return i})(n,t,e)})}},4084:e=>{"use strict";const t=new TextDecoder,n=new TextEncoder;e.exports={decodeText:e=>t.decode(e),encodeText:e=>n.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}}},8437:(e,t,n)=>{e.exports=n(4327)},4327:function(e,t){!function(n,r){"use strict";var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function l(e){return e=s(e^=e>>>16,2246822507),(e=s(e^=e>>>13,3266489909))^e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=u(e,[4283543511,3981806797]),[0,e[0]>>>1]),f(e=u(e,[3301882366,444984403]),[0,e[0]>>>1])}o.x86.hash32=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%4,c=e.length-n,u=t,d=0,h=3432918353,f=461845907,p=0;p<c;p+=4)d=s(d=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,h),d=s(d=a(d,15),f),u=s(u=a(u^=d,13),5)+3864292196;switch(d=0,n){case 3:d^=e[p+2]<<16;case 2:d^=e[p+1]<<8;case 1:d=s(d^=e[p],h),u^=d=s(d=a(d,15),f)}return(u=l(u^=e.length))>>>0},o.x86.hash128=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%16,c=e.length-n,u=t,d=t,h=t,f=t,p=0,m=0,g=0,y=0,v=597399067,b=2869860233,w=951274213,A=2716044179,E=0;E<c;E+=16)p=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,m=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,g=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,y=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,p=a(p=s(p,v),15),u=a(u^=p=s(p,b),19),u=s(u+=d,5)+1444728091,m=a(m=s(m,b),16),d=a(d^=m=s(m,w),17),d=s(d+=h,5)+197830471,g=a(g=s(g,w),17),h=a(h^=g=s(g,A),15),h=s(h+=f,5)+2530024501,y=a(y=s(y,A),18),f=a(f^=y=s(y,v),13),f=s(f+=u,5)+850148119;switch(p=0,m=0,g=0,y=0,n){case 15:y^=e[E+14]<<16;case 14:y^=e[E+13]<<8;case 13:y=s(y^=e[E+12],A),f^=y=s(y=a(y,18),v);case 12:g^=e[E+11]<<24;case 11:g^=e[E+10]<<16;case 10:g^=e[E+9]<<8;case 9:g=s(g^=e[E+8],w),h^=g=s(g=a(g,17),A);case 8:m^=e[E+7]<<24;case 7:m^=e[E+6]<<16;case 6:m^=e[E+5]<<8;case 5:m=s(m^=e[E+4],b),d^=m=s(m=a(m,16),w);case 4:p^=e[E+3]<<24;case 3:p^=e[E+2]<<16;case 2:p^=e[E+1]<<8;case 1:p=s(p^=e[E],v),u^=p=s(p=a(p,15),b)}return u^=e.length,u+=d^=e.length,u+=h^=e.length,d+=u+=f^=e.length,h+=u,f+=u,u=l(u),u+=d=l(d),u+=h=l(h),d+=u+=f=l(f),h+=u,f+=u,("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},o.x64.hash128=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%16,s=e.length-n,a=[0,t],l=[0,t],m=[0,0],g=[0,0],y=[2277735313,289559509],v=[1291169091,658871167],b=0;b<s;b+=16)m=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],g=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],m=d(m=u(m,y),31),a=c(a=d(a=f(a,m=u(m,v)),27),l),a=c(u(a,[0,5]),[0,1390208809]),g=d(g=u(g,v),33),l=c(l=d(l=f(l,g=u(g,y)),31),a),l=c(u(l,[0,5]),[0,944331445]);switch(m=[0,0],g=[0,0],n){case 15:g=f(g,h([0,e[b+14]],48));case 14:g=f(g,h([0,e[b+13]],40));case 13:g=f(g,h([0,e[b+12]],32));case 12:g=f(g,h([0,e[b+11]],24));case 11:g=f(g,h([0,e[b+10]],16));case 10:g=f(g,h([0,e[b+9]],8));case 9:g=u(g=f(g,[0,e[b+8]]),v),l=f(l,g=u(g=d(g,33),y));case 8:m=f(m,h([0,e[b+7]],56));case 7:m=f(m,h([0,e[b+6]],48));case 6:m=f(m,h([0,e[b+5]],40));case 5:m=f(m,h([0,e[b+4]],32));case 4:m=f(m,h([0,e[b+3]],24));case 3:m=f(m,h([0,e[b+2]],16));case 2:m=f(m,h([0,e[b+1]],8));case 1:m=u(m=f(m,[0,e[b]]),y),a=f(a,m=u(m=d(m,31),v))}return a=c(a=f(a,[0,e.length]),l=f(l,[0,e.length])),l=c(l,a),a=c(a=p(a),l=p(l)),l=c(l,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=o),t.murmurHash3=o}()},5507:function(e,t){(function(){var e,n,r,o,i,s,a,l;l=function(e){return[(e&255<<24)>>>24,(e&255<<16)>>>16,(65280&e)>>>8,255&e].join(".")},a=function(e){var t,r,o,i,s,a;for(t=[],o=i=0;i<=3&&0!==e.length;o=++i){if(o>0){if("."!==e[0])throw new Error("Invalid IP");e=e.substring(1)}s=(a=n(e))[0],r=a[1],e=e.substring(r),t.push(s)}if(0!==e.length)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},o=(r=function(e){return e.charCodeAt(0)})("0"),s=r("a"),i=r("A"),n=function(e){var t,n,a,l,c;for(l=0,t=10,n="9",a=0,e.length>1&&"0"===e[a]&&("x"===e[a+1]||"X"===e[a+1]?(a+=2,t=16):"0"<=e[a+1]&&e[a+1]<="9"&&(a++,t=8,n="7")),c=a;a<e.length;){if("0"<=e[a]&&e[a]<=n)l=l*t+(r(e[a])-o)>>>0;else{if(16!==t)break;if("a"<=e[a]&&e[a]<="f")l=l*t+(10+r(e[a])-s)>>>0;else{if(!("A"<=e[a]&&e[a]<="F"))break;l=l*t+(10+r(e[a])-i)>>>0}}if(l>4294967295)throw new Error("too large");a++}if(a===c)throw new Error("empty octet");return[l,a]},e=function(){function e(e,t){var n,r,o;if("string"!=typeof e)throw new Error("Missing `net' parameter");if(t||(o=e.split("/",2),e=o[0],t=o[1]),t||(t=32),"string"==typeof t&&t.indexOf(".")>-1){try{this.maskLong=a(t)}catch(e){throw new Error("Invalid mask: "+t)}for(n=r=32;r>=0;n=--r)if(this.maskLong===4294967295<<32-n>>>0){this.bitmask=n;break}}else{if(!t&&0!==t)throw new Error("Invalid mask: empty");this.bitmask=parseInt(t,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0)}try{this.netLong=(a(e)&this.maskLong)>>>0}catch(t){throw new Error("Invalid net address: "+e)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+t);this.size=Math.pow(2,32-this.bitmask),this.base=l(this.netLong),this.mask=l(this.maskLong),this.hostmask=l(~this.maskLong),this.first=this.bitmask<=30?l(this.netLong+1):this.base,this.last=this.bitmask<=30?l(this.netLong+this.size-2):l(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?l(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return"string"==typeof t&&(t.indexOf("/")>0||4!==t.split(".").length)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(a(t)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return null==t&&(t=1),new e(l(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(e){var t,n,r;for(r=a(this.first),n=a(this.last),t=0;r<=n;)e(l(r),r,t),t++,r++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),t.ip2long=a,t.long2ip=l,t.Netmask=e}).call(this)},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5556:(e,t,n)=>{e.exports=n(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},152:(e,t)=>{"use strict";class n{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=n.toUint8Array(e),o=n.toUint8Array(t);if(r.length!==o.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==o[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let n=0;for(const e of t)n+=e.byteLength;const r=new Uint8Array(n);let o=0;for(const e of t){const t=this.toUint8Array(e);r.set(t,o),o+=t.length}return e[e.length-1]instanceof Function?this.toView(r,e[e.length-1]):r.buffer}}const r="string",o=/^[0-9a-f]+$/i,i=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,s=/^[a-zA-Z0-9-_]+$/;class a{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer}static toString(e){const t=n.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class l{static toString(e,t=!1){const r=n.toArrayBuffer(e),o=new DataView(r);let i="";for(let e=0;e<r.byteLength;e+=2){const n=o.getUint16(e,t);i+=String.fromCharCode(n)}return i}static fromString(e,t=!1){const n=new ArrayBuffer(2*e.length),r=new DataView(n);for(let n=0;n<e.length;n++)r.setUint16(2*n,e.charCodeAt(n),t);return n}}class c{static isHex(e){return typeof e===r&&o.test(e)}static isBase64(e){return typeof e===r&&i.test(e)}static isBase64Url(e){return typeof e===r&&s.test(e)}static ToString(e,t="utf8"){const r=n.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return l.toString(r,!0);case"utf16":case"utf16be":return l.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return l.fromString(e,!0);case"utf16":case"utf16be":return l.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=n.toUint8Array(e);if("undefined"!=typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=c.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return a.fromString(e);case"utf16":case"utf16be":return l.fromString(e);case"utf16le":case"usc2":return l.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=c.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return a.toString(e);case"utf16":case"utf16be":return l.toString(e);case"utf16le":case"usc2":return l.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}static ToBinary(e){const t=n.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){const t=n.toUint8Array(e);let r="";const o=t.length;for(let e=0;e<o;e++){const n=t[e];n<16&&(r+="0"),r+=n.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const r=t.slice(e,e+2);n[e/2]=parseInt(r,16)}return n.buffer}static ToUtf16String(e,t=!1){return l.toString(e,t)}static FromUtf16String(e,t=!1){return l.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}c.DEFAULT_UTF8_ENCODING="utf8",t._H=n,t.U$=c},2551:(e,t,n)=>{"use strict";var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var B,L=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function $(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Se=null;function ke(e){if(e=wo(e)){if("function"!=typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function _e(){if(xe){var e=xe,t=Se;if(Se=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Re(e,t){return e(t)}function Ce(){}var Te=!1;function Pe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Re(e,t,n)}finally{Te=!1,(null!==xe||null!==Se)&&(Ce(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function Ne(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,Le=null,Fe=!1,Ue=null,$e={onError:function(e){Be=!0,Le=e}};function je(e,t,n,r,o,i,s,a,l){Be=!1,Le=null,Ne.apply($e,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ze=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!=(i&=s)&&(r=dt(i))}else 0!=(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var At,Et,xt,St,kt,It=!1,_t=[],Rt=null,Ct=null,Tt=null,Pt=new Map,Dt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Bt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=wo(t))&&Et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function $t(){It=!1,null!==Rt&&Ft(Rt)&&(Rt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Tt&&Ft(Tt)&&(Tt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function zt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&jt(Rt,e),null!==Ct&&jt(Ct,e),null!==Tt&&jt(Tt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function qt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function Kt(e,t,n,r){if(Ht){var o=Yt(e,t,n,r);if(null===o)Hr(e,t,r,Gt,n),Nt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Rt=Bt(Rt,e,t,n,r,o),!0;case"dragenter":return Ct=Bt(Ct,e,t,n,r,o),!0;case"mouseover":return Tt=Bt(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Bt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Dt.set(i,Bt(Dt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&At(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Gt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=bo(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Sn}var In=L({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(In),Rn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Pn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Bn=u&&"TextEvent"in window&&!Nn,Ln=u&&(!Mn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Un=!1;function $n(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Fr(e,0)}function Yn(e){if(K(Ao(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Jn=Xn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,Ae(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},xr={},Sr={};function kr(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=kr("animationend"),_r=kr("animationiteration"),Rr=kr("animationstart"),Cr=kr("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Mr=Pr[Or];Dr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(Rr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(je.apply(this,arguments),Be){if(!Be)throw Error(i(198));var u=Le;Be=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,$r("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var o=Wt;break;case 4:o=qt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,o=Ae(n),s=[];e:{var a=Tr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ir:case _r:case Rr:l=yn;break;case Cr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=De(p,h))&&u.push(Wr(p,m,f))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:Ao(l),f=null==c?a:Ao(c),(a=new u(m,p+"leave",l,n,o)).target=d,a.relatedTarget=f,m=null,bo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(s,a,l,u,!1),null!==c&&null!==d&&Gr(s,d,c,u,!0)}if("select"===(l=(a=r?Ao(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Hn(a))if(Zn)g=sr;else{g=or;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(s,g,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Ao(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in(Zt=o)?Zt.value:Zt.textContent,zn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:y}),(v||null!==(v=jn(n)))&&(b.data=v))),(v=Bn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&$n(e,t)?(e=en(),Xt=Jt=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=v)}Fr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=De(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=De(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=De(n,i))&&s.unshift(Wr(n,l,a)):o||null!=(l=De(n,i))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);zt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ao(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Eo(e){return e[po]||null}var xo=[],So=-1;function ko(e){return{current:e}}function Io(e){0>So||(e.current=xo[So],xo[So]=null,So--)}function _o(e,t){So++,xo[So]=e.current,e.current=t}var Ro={},Co=ko(Ro),To=ko(!1),Po=Ro;function Do(e,t){var n=e.type.contextTypes;if(!n)return Ro;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!=e.childContextTypes}function Mo(){Io(To),Io(Co)}function No(e,t,n){if(Co.current!==Ro)throw Error(i(168));_o(Co,t),_o(To,n)}function Bo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,Po=Co.current,_o(Co,e),_o(To,To.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Bo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Io(To),Io(Co),_o(Co,e)):Io(To),_o(To,n)}var Uo=null,$o=!1,jo=!1;function zo(e){null===Uo?Uo=[e]:Uo.push(e)}function Vo(){if(!jo&&null!==Uo){jo=!0;var e=0,t=bt;try{var n=Uo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Uo=null,$o=!1}catch(t){throw null!==Uo&&(Uo=Uo.slice(e+1)),Ke(Xe,Vo),t}finally{bt=t,jo=!1}}return null}var Ho=[],Wo=0,qo=null,Ko=0,Go=[],Yo=0,Qo=null,Zo=1,Jo="";function Xo(e,t){Ho[Wo++]=Ko,Ho[Wo++]=qo,qo=e,Ko=t}function ei(e,t,n){Go[Yo++]=Zo,Go[Yo++]=Jo,Go[Yo++]=Qo,Qo=e;var r=Zo;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|r,Jo=i+e}else Zo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Xo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Ho[--Wo],Ho[Wo]=null,Ko=Ho[--Wo],Ho[Wo]=null;for(;e===Qo;)Qo=Go[--Yo],Go[Yo]=null,Jo=Go[--Yo],Go[Yo]=null,Zo=Go[--Yo],Go[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Zo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===D&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===o?c(e,t,n,r):null;case E:return n.key===o?u(e,t,n,r):null;case D:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||N(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case D:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(o,d),ii&&Xo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Xo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=p(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Xo(o,m),c}function g(o,a,l,c){var u=N(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ii&&Xo(o,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(o,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return ii&&Xo(o,g),u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=p(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Xo(o,g),u}return function e(r,i,s,l){if("object"==typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case A:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=yi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((i=Nc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=yi(r,i,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case D:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(N(s))return g(r,i,s,l);vi(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var Ai=wi(!0),Ei=wi(!1),xi=ko(null),Si=null,ki=null,Ii=null;function _i(){Ii=ki=Si=null}function Ri(e){var t=xi.current;Io(xi),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Si=e,Ii=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Si)throw Error(i(308));ki=e,Si.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Di=null;function Oi(e){null===Di?Di=[e]:Di.push(e)}function Mi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ni(e,r)}function Ni(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Rl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ni(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ni(e,n)}function ji(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var o=e.updateQueue;Bi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=L({},d,h);break e;case 2:Bi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Bl|=s,e.lanes=s,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},qi=ko(Wi),Ki=ko(Wi),Gi=ko(Wi);function Yi(e){if(e===Wi)throw Error(i(174));return e}function Qi(e,t){switch(_o(Gi,t),_o(Ki,e),_o(qi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(qi),_o(qi,t)}function Zi(){Io(qi),Io(Ki),Io(Gi)}function Ji(e){Yi(Gi.current);var t=Yi(qi.current),n=le(t,e.type);t!==n&&(_o(Ki,e),_o(qi,n))}function Xi(e){Ki.current===e&&(Io(qi),Io(Ki))}var es=ko(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Xs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function ys(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"==typeof t?t(e):t}function As(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Bl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Bl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function Ss(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Bs(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,Is.bind(null,n,r,o,t),void 0,null),null===Cl)throw Error(i(349));30&ss||ks(n,t,o)}return o}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Cs(e)}function _s(e,t,n){return n((function(){Rs(t)&&Cs(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Cs(e){var t=Ni(e,1);null!==t&&nc(t,e,1,-1)}function Ts(e){var t=vs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return bs().memoizedState}function Os(e,t,n,r){var o=vs();as.flags|=e,o.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ps(t,n,i,r))}as.flags|=e,o.memoizedState=Ps(1|t,n,i,r)}function Ns(e,t){return Os(8390656,8,e,t)}function Bs(e,t){return Ms(2048,8,e,t)}function Ls(e,t){return Ms(4,2,e,t)}function Fs(e,t){return Ms(4,4,e,t)}function Us(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!=n?n.concat([e]):null,Ms(4,4,Us.bind(null,t,e),n)}function js(){}function zs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 21&ss?(ar(n,t)||(n=mt(),as.lanes|=n,Bl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n)}function Ws(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function qs(){return bs().memoizedState}function Ks(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e)?Qs(t,n):null!==(n=Mi(e,t,n,r))&&(nc(n,e,r,ec()),Zs(n,t,r))}function Gs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Oi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Mi(e,t,o,r))&&(nc(n,e,r,o=ec()),Zs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Js={readContext:Pi,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Xs={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ts,useDebugValue:js,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=vs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));30&ss||ks(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ns(_s.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Cl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pi,useCallback:zs,useContext:Pi,useEffect:Bs,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Vs,useReducer:As,useRef:Ds,useState:function(){return As(ws)},useDebugValue:js,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[As(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Pi,useCallback:zs,useContext:Pi,useEffect:Bs,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Vs,useReducer:Es,useRef:Ds,useState:function(){return Es(ws)},useDebugValue:js,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Ui(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),ji(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Ui(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Ui(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=$i(e,o,r))&&(nc(t,e,r,n),ji(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function sa(e,t,n){var r=!1,o=Ro,i=t.contextType;return"object"==typeof i&&null!==i?i=Pi(i):(o=Oo(t)?Po:Co.current,i=(r=null!=(r=t.contextTypes))?Do(e,o):Ro),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Pi(i):(i=Oo(t)?Po:Co.current,o.context=Do(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Vi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ha="function"==typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),da(0,t)},n}function pa(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Ei(t,null,n,r):Ai(t,e.child,n,r)}function Aa(e,t,n,r,o){n=n.render;var i=t.ref;return Ti(t,o),r=gs(e,t,n,r,i,o),n=ys(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function Ea(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xa(e,t,i,r,o))}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,o)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,!(e.lanes&o))return t.lanes=e.lanes,Ha(e,t,o);131072&e.flags&&(ba=!0)}}return Ia(e,t,n,r,o)}function Sa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_o(Ol,Dl),Dl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Ol,Dl),Dl|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_o(Ol,Dl),Dl|=r;return wa(e,t,o,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,o){var i=Oo(n)?Po:Co.current;return i=Do(t,i),Ti(t,o),n=gs(e,t,n,r,i,o),r=ys(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function _a(e,t,n,r,o){if(Oo(n)){var i=!0;Lo(t)}else i=!1;if(Ti(t,o),null===t.stateNode)Va(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Pi(c):Do(t,c=Oo(n)?Po:Co.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Bi=!1;var h=t.memoizedState;s.state=h,Vi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||To.current||Bi?("function"==typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Bi||ia(t,n,a,r,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Pi(l):Do(t,l=Oo(n)?Po:Co.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Bi=!1,h=t.memoizedState,s.state=h,Vi(t,r,s,o);var p=t.memoizedState;a!==d||h!==p||To.current||Bi?("function"==typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Bi||ia(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,i,o)}function Ra(e,t,n,r,o,i){ka(e,t);var s=!!(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Ha(e,t,i);r=t.stateNode,va.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ai(t,e.child,null,i),t.child=Ai(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ca(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Qi(e,t.containerInfo)}function Ta(e,t,n,r,o){return pi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Da,Oa,Ma,Na={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_o(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},1&o||null===a?a=Bc(l,o,0,null):(a.childLanes=0,a.pendingProps=l),e=Nc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ba(n),t.memoizedState=Na,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Bc({mode:"visible",children:r.children},o,0,null),(s=Nc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&Ai(t,e.child,null,a),t.child.memoizedState=Ba(a),t.memoizedState=Na,s);if(!(1&t.mode))return Ua(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=!!(a&e.childLanes),ba||l){if(null!==(r=Cl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|a)?0:o)&&o!==s.retryLane&&(s.retryLane=o,Ni(e,o),nc(r,e,o,-1))}return mc(),Ua(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Go[Yo++]=Zo,Go[Yo++]=Jo,Go[Yo++]=Qo,Zo=e.id,Jo=e.overflow,Qo=t),(t=Fa(t,r.children)).flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===s?(o=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?a=Oc(r,a):(a=Nc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ba(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Na,o}return e=(a=e.child).sibling,o=Oc(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mi(r),Ai(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function ja(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function za(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),2&(r=es.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(es,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ja(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ja(t,!0,n,null,i);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Va(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Oo(t.type)&&Mo(),qa(t),null;case 3:return r=t.stateNode,Zi(),Io(To),Io(Co),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Da(e,t),qa(t),null;case 5:Xi(t);var o=Yi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=Yi(qi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[po]=s,e=!!(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(o=0;o<Nr.length;o++)Ur(Nr[o],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":oe(r,s),Ur("invalid",r)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),X(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[po]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),o=r;break;case"iframe":case"object":case"embed":Ur("load",e),o=r;break;case"video":case"audio":for(o=0;o<Nr.length;o++)Ur(Nr[o],e);o=r;break;case"source":Ur("error",e),o=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),o=r;break;case"details":Ur("toggle",e),o=r;break;case"input":Q(e,r),o=Y(e,r),Ur("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Ur("invalid",e)}for(s in ve(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),X(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Gi.current),Yi(qi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return qa(t),null;case 13:if(Io(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))fi(),pi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fo]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&es.current?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Zi(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),qa(t),null;case 10:return Ri(t.type._context),qa(t),null;case 19:if(Io(es),null===(s=t.memoizedState))return qa(t),null;if(r=!!(128&t.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==Ml||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>zl&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return qa(t),null}else 2*Ze()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,_o(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Dl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ga(e,t){switch(ni(t),t.tag){case 1:return Oo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Io(To),Io(Co),rs(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Io(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(es),null;case 4:return Zi(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(qi.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Za="function"==typeof WeakSet?WeakSet:Set,Ja=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Sc(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Sc(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[yo],delete t[vo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Qa||Xa(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),zt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Qa&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(2&i||4&i)&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Xa(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Sc(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Sc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Sc(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Sc(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(t){Sc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(t){Sc(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(t){Sc(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){Sc(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(jl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||d,ml(t,e),Qa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Sc(r,n,e)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){Al(h);continue}}null!==p?(p.return=f,Ja=p):Al(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(t){Sc(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Sc(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(t){Sc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?El(o):null!==l?(l.return=s,Ja=l):El(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Ya=a,Qa=c}wl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Ja=i):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Qa||512&t.flags&&ol(t)}catch(e){Sc(t,t.return,e)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function Al(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Sc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Sc(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Sc(t,i,e)}break;case 5:var s=t.return;try{ol(t)}catch(e){Sc(t,s,e)}}}catch(e){Sc(t,t.return,e)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var xl,Sl=Math.ceil,kl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Rl=0,Cl=null,Tl=null,Pl=0,Dl=0,Ol=ko(0),Ml=0,Nl=null,Bl=0,Ll=0,Fl=0,Ul=null,$l=null,jl=0,zl=1/0,Vl=null,Hl=!1,Wl=null,ql=null,Kl=!1,Gl=null,Yl=0,Ql=0,Zl=null,Jl=-1,Xl=0;function ec(){return 6&Rl?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 1&e.mode?2&Rl&&0!==Pl?Pl&-Pl:null!==gi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(i(185));yt(e,n,r),2&Rl&&e===Cl||(e===Cl&&(!(2&Rl)&&(Ll|=n),4===Ml&&ac(e,Pl)),rc(e,r),1===n&&0===Rl&&!(1&t.mode)&&(zl=Ze()+500,$o&&Vo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?a&n&&!(a&r)||(o[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Cl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$o=!0,zo(e)}(lc.bind(null,e)):zo(lc.bind(null,e)),so((function(){!(6&Rl)&&Vo()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Xl=0,6&Rl)throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Pl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gc(e,r);else{t=r;var o=Rl;Rl|=2;var s=pc();for(Cl===e&&Pl===t||(Vl=null,zl=Ze()+500,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}_i(),kl.current=s,Rl=o,null!==Tl?t=0:(Cl=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&0!==(o=pt(e))&&(r=o,t=ic(e,o)),1===t)throw n=Nl,hc(e,0),ac(e,r),rc(e,Ze()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,r),2===t&&(s=pt(e),0!==s&&(r=s,t=ic(e,s))),1!==t)))throw n=Nl,hc(e,0),ac(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ac(e,$l,Vl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=jl+500-Ze())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Ac.bind(null,e,$l,Vl),t);break}Ac(e,$l,Vl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(Ac.bind(null,e,$l,Vl),r);break}Ac(e,$l,Vl);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$l,$l=n,null!==t&&sc(t)),e}function sc(e){null===$l?$l=e:$l.push.apply($l,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Rl)throw Error(i(327));Ec();var t=ht(e,0);if(!(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Nl,hc(e,0),ac(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,$l,Vl),rc(e,Ze()),null}function cc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(zl=Ze()+500,$o&&Vo())}}function uc(e){null!==Gl&&0===Gl.tag&&!(6&Rl)&&Ec();var t=Rl;Rl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,!(6&(Rl=t))&&Vo()}}function dc(){Dl=Ol.current,Io(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mo();break;case 3:Zi(),Io(To),Io(Co),rs();break;case 5:Xi(r);break;case 4:Zi();break;case 13:case 19:Io(es);break;case 10:Ri(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Tl=e=Oc(e.current,null),Pl=Dl=t,Ml=0,Nl=null,Fl=Ll=Bl=0,$l=Ul=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Di=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(_i(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Il.current=null,null===n||null===n.return){Ml=1,Nl=t,Tl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=ga(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Ml&&(Ml=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zi(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ql&&ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zi(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(e){t=e,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Js,null===e?Js:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Cl||!(268435455&Bl)&&!(268435455&Ll)||ac(Cl,Pl)}function gc(e,t){var n=Rl;Rl|=2;var r=pc();for(Cl===e&&Pl===t||(Vl=null,hc(e,t));;)try{yc();break}catch(t){fc(e,t)}if(_i(),Rl=n,kl.current=r,null!==Tl)throw Error(i(261));return Cl=null,Pl=0,Ml}function yc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Ye();)bc(Tl)}function bc(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Tl=t,Il.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ml=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ka(n,t,Dl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ac(e,t,n){var r=bt,o=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Gl);if(6&Rl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Cl&&(Tl=Cl=null,Pl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,Cc(tt,(function(){return Ec(),null}))),s=!!(15990&n.flags),15990&n.subtreeFlags||s){s=_l.transition,_l.transition=null;var a=bt;bt=1;var l=Rl;Rl|=4,Il.current=null,function(e,t){if(eo=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){Sc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(to),Ht=!!eo,to=eo=null,e.current=n,vl(n,e,o),Qe(),Rl=l,bt=a,_l.transition=s}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Yl=o),0===(s=e.pendingLanes)&&(ql=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;!!(1&Yl)&&0!==e.tag&&Ec(),1&(s=e.pendingLanes)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Vo()}(e,t,n,r)}finally{_l.transition=o,bt=r}return null}function Ec(){if(null!==Gl){var e=wt(Yl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,6&Rl)throw Error(i(331));var o=Rl;for(Rl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(16&Ja.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(il(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(2048&(s=Ja).flags)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ja=v;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(2064&a.subtreeFlags&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(2048&(l=Ja).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Sc(l,l.return,e)}if(l===a){Ja=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,Ja=A;break e}Ja=l.return}}if(Rl=o,Vo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function xc(e,t,n){e=$i(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=$i(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Ze()-jl?hc(e,0):Fl|=n),rc(e,t)}function Ic(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ni(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Tc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,o,s){var a=2;if(r=e,"function"==typeof e)Dc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case x:return Nc(n.children,o,s,t);case S:a=8,o|=8;break;case k:return(e=Pc(12,n,t,2|o)).elementType=k,e.lanes=s,e;case C:return(e=Pc(13,n,t,o)).elementType=C,e.lanes=s,e;case T:return(e=Pc(19,n,t,o)).elementType=T,e.lanes=s,e;case O:return Bc(n,o,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case _:a=9;break e;case R:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Nc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,o,i,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function jc(e){if(!e)return Ro;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Bo(e,n,t)}return t}function zc(e,t,n,r,o,i,s,a,l){return(e=$c(n,r,!0,e,0,i,0,a,l)).context=jc(null),n=e.current,(i=Ui(r=ec(),o=tc(n))).callback=null!=t?t:null,$i(n,i,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(o,t,s))&&(nc(e,o,s,i),ji(e,o,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)ba=!0;else{if(!(e.lanes&n||128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ca(t),pi();break;case 5:Ji(t);break;case 1:Oo(t.type)&&Lo(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(xi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(es,1&es.current),t.flags|=128,null):n&t.child.childLanes?La(e,t,n):(_o(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);_o(es,1&es.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return za(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=!!(131072&e.flags)}else ba=!1,ii&&1048576&t.flags&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var o=Do(t,Co.current);Ti(t,n),o=gs(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ia(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,_a(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ca(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),Vi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ta(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Ta(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),ka(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return La(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ai(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Aa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,_o(xi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!To.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ui(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ci(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ti(t,n),r=r(o=Pi(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Ea(e,t,r,o=na(r.type,o),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Va(e,t),t.tag=1,Oo(r)?(e=!0,Lo(t)):e=!1,Ti(t,n),sa(t,r,o),la(t,r,o,n),Ra(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Sa(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"==typeof o){var a=o;o=function(){var e=Hc(s);a.call(e)}}Vc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,zr(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(s)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),!(6&Rl)&&(zl=Ze()+500,Vo()))}break;case 13:uc((function(){var t=Ni(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},Et=function(e){if(13===e.tag){var t=Ni(e,134217728);null!==t&&nc(t,e,134217728,ec()),qc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ni(e,t);null!==n&&nc(n,e,t,ec()),qc(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Eo(r);if(!o)throw Error(i(90));K(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[wo,Ao,Eo,Ie,_e,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},2799:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context");var n=Symbol.for("react.forward_ref"),r=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"));Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=n,t.Memo=r},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},4976:(e,t,n)=>{"use strict";var r,o;n.d(t,{Ys:()=>u,pg:()=>b});var i=n(6540),s=n(961),a=n(7767),l=n(5588);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(e){}function u(e,t){return(0,l.aE)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.zR)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||d(),routes:e,mapRouteProperties:a.wE,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize()}function d(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=c({},t,{errors:h(t.errors)})),t}function h(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new l.VV(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let t=window[r.__subType];if("function"==typeof t)try{let o=new t(r.message);o.stack="",n[e]=o}catch(e){}}if(null==n[e]){let t=new Error(r.message);t.stack="",n[e]=t}}else n[e]=r;return n}const f=i.createContext({isTransitioning:!1}),p=i.createContext(new Map),m=(r||(r=n.t(i,2))).startTransition,g=(o||(o=n.t(s,2))).flushSync;function y(e){g?g(e):e()}(r||(r=n.t(i,2))).useId;class v{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function b(e){let{fallbackElement:t,router:n,future:r}=e,[o,s]=i.useState(n.state),[l,c]=i.useState(),[u,d]=i.useState({isTransitioning:!1}),[h,g]=i.useState(),[b,A]=i.useState(),[E,x]=i.useState(),S=i.useRef(new Map),{v7_startTransition:k}=r||{},I=i.useCallback((e=>{k?function(e){m?m(e):e()}(e):e()}),[k]),_=i.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:o,unstable_viewTransitionOpts:i}=t;r.forEach((e=>S.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&S.current.set(t,e.data)}));let a=null==n.window||null==n.window.document||"function"!=typeof n.window.document.startViewTransition;if(i&&!a){if(o){y((()=>{b&&(h&&h.resolve(),b.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:i.currentLocation,nextLocation:i.nextLocation})}));let t=n.window.document.startViewTransition((()=>{y((()=>s(e)))}));return t.finished.finally((()=>{y((()=>{g(void 0),A(void 0),c(void 0),d({isTransitioning:!1})}))})),void y((()=>A(t)))}b?(h&&h.resolve(),b.skipTransition(),x({state:e,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):(c(e),d({isTransitioning:!0,flushSync:!1,currentLocation:i.currentLocation,nextLocation:i.nextLocation}))}else o?y((()=>s(e))):I((()=>s(e)))}),[n.window,b,h,S,I]);i.useLayoutEffect((()=>n.subscribe(_)),[n,_]),i.useEffect((()=>{u.isTransitioning&&!u.flushSync&&g(new v)}),[u]),i.useEffect((()=>{if(h&&l&&n.window){let e=l,t=h.promise,r=n.window.document.startViewTransition((async()=>{I((()=>s(e))),await t}));r.finished.finally((()=>{g(void 0),A(void 0),c(void 0),d({isTransitioning:!1})})),A(r)}}),[I,l,h,n.window]),i.useEffect((()=>{h&&l&&o.location.key===l.location.key&&h.resolve()}),[h,b,o.location,l]),i.useEffect((()=>{!u.isTransitioning&&E&&(c(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),x(void 0))}),[u.isTransitioning,E]),i.useEffect((()=>{}),[]);let R=i.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),C=n.basename||"/",T=i.useMemo((()=>({router:n,navigator:R,static:!1,basename:C})),[n,R,C]),P=i.useMemo((()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath})),[n.future.v7_relativeSplatPath]);return i.createElement(i.Fragment,null,i.createElement(a.sp.Provider,{value:T},i.createElement(a.Rq.Provider,{value:o},i.createElement(p.Provider,{value:S.current},i.createElement(f.Provider,{value:u},i.createElement(a.Ix,{basename:C,location:o.location,navigationType:o.historyAction,navigator:R,future:P},o.initialized||n.future.v7_partialHydration?i.createElement(w,{routes:n.routes,future:n.future,state:o}):t))))),null)}const w=i.memo(A);function A(e){let{routes:t,future:n,state:r}=e;return(0,a.ph)(t,void 0,r,n)}var E,x;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"}(E||(E={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(x||(x={}))},7767:(e,t,n)=>{"use strict";var r;n.d(t,{Ix:()=>R,Rq:()=>l,Zp:()=>g,ph:()=>v,sp:()=>a,sv:()=>_,wE:()=>C});var o=n(6540),i=n(5588);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const a=o.createContext(null),l=o.createContext(null),c=o.createContext(null),u=o.createContext(null),d=o.createContext({outlet:null,matches:[],isDataRoute:!1}),h=o.createContext(null);function f(){return null!=o.useContext(u)}function p(){return f()||(0,i.Oi)(!1),o.useContext(u).location}function m(e){o.useContext(c).static||o.useLayoutEffect(e)}function g(){let{isDataRoute:e}=o.useContext(d);return e?function(){let{router:e}=function(){let e=o.useContext(a);return e||(0,i.Oi)(!1),e}(x.UseNavigateStable),t=k(S.UseNavigateStable),n=o.useRef(!1);return m((()=>{n.current=!0})),o.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,s({fromRouteId:t},o)))}),[e,t])}():function(){f()||(0,i.Oi)(!1);let e=o.useContext(a),{basename:t,future:n,navigator:r}=o.useContext(c),{matches:s}=o.useContext(d),{pathname:l}=p(),u=JSON.stringify((0,i.yD)(s,n.v7_relativeSplatPath)),h=o.useRef(!1);return m((()=>{h.current=!0})),o.useCallback((function(n,o){if(void 0===o&&(o={}),!h.current)return;if("number"==typeof n)return void r.go(n);let s=(0,i.Gh)(n,JSON.parse(u),l,"path"===o.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,i.HS)([t,s.pathname])),(o.replace?r.replace:r.push)(s,o.state,o)}),[t,r,u,l,e])}()}const y=o.createContext(null);function v(e,t,n,r){f()||(0,i.Oi)(!1);let{navigator:a}=o.useContext(c),{matches:l}=o.useContext(d),h=l[l.length-1],m=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let y,v=p();if(t){var b;let e="string"==typeof t?(0,i.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,i.Oi)(!1),y=e}else y=v;let x=y.pathname||"/",S=x;if("/"!==g){let e=g.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=(0,i.ue)(e,{pathname:S}),_=function(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,i.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:r}=n,o=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||o){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,i)=>{let s,a=!1,h=null,f=null;var p;n&&(s=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||w,u&&(d<0&&0===i?(I[p="route-fallback"]||(I[p]=!0),a=!0,f=null):d===i&&(a=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,i+1)),g=()=>{let t;return t=s?h:a?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(E,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(A,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}(k&&k.map((e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:(0,i.HS)([g,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,i.HS)([g,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&_?o.createElement(u.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:i.rc.Pop}},_):_}function b(){let e=function(){var e;let t=o.useContext(h),n=function(){let e=o.useContext(l);return e||(0,i.Oi)(!1),e}(S.UseRouteError),r=k(S.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=(0,i.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:r},n):null,null)}const w=o.createElement(b,null);class A extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(d.Provider,{value:this.props.routeContext},o.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(a);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(d.Provider,{value:t},r)}var x=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x||{}),S=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(S||{});function k(e){let t=function(){let e=o.useContext(d);return e||(0,i.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}const I={};function _(e){return function(e){let t=o.useContext(d).outlet;return t?o.createElement(y.Provider,{value:e},t):t}(e.context)}function R(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.rc.Pop,navigator:l,static:d=!1,future:h}=e;f()&&(0,i.Oi)(!1);let p=t.replace(/^\/*/,"/"),m=o.useMemo((()=>({basename:p,navigator:l,static:d,future:s({v7_relativeSplatPath:!1},h)})),[p,h,l,d]);"string"==typeof r&&(r=(0,i.Rr)(r));let{pathname:g="/",search:y="",hash:v="",state:b=null,key:w="default"}=r,A=o.useMemo((()=>{let e=(0,i.pb)(g,p);return null==e?null:{location:{pathname:e,search:y,hash:v,state:b,key:w},navigationType:a}}),[p,g,y,v,b,w,a]);return null==A?null:o.createElement(c.Provider,{value:m},o.createElement(u.Provider,{children:n,value:A}))}function C(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:o.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:o.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:o.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}(r||(r=n.t(o,2))).startTransition,new Promise((()=>{})),o.Component},851:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g});var r=n(8587),o=n(5540),i=n(6540),s=n(961);var a=n(7241),l=n(2403),c="unmounted",u="exited",d="entering",h="entered",f="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=u,r.appearStatus=d):o=h:o=t.unmountOnExit||t.mountOnEnter?c:u,r.state={status:o},r.nextCallback=null,r}(0,o.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==h&&(t=d):n!==d&&n!==h||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&(0,l.F)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[s.findDOMNode(this),r],i=o[0],a=o[1],l=this.getTimeouts(),c=r?l.appear:l.enter;e||n?(this.props.onEnter(i,a),this.safeSetState({status:d},(function(){t.props.onEntering(i,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(i,a)}))}))}))):this.safeSetState({status:h},(function(){t.props.onEntered(i)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:f},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(a.A.Provider,{value:null},"function"==typeof n?n(e,o):i.cloneElement(i.Children.only(n),o))},t}(i.Component);function m(){}p.contextType=a.A,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},p.UNMOUNTED=c,p.EXITED=u,p.ENTERING=d,p.ENTERED=h,p.EXITING=f;const g=p},4038:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8587),o=n(8168),i=n(5540),s=n(6540),a=n(7241);function l(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function c(e,t,n){return null!=n[t]?n[t]:e.props[t]}function u(e,t,n){var r=l(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,r);return Object.keys(o).forEach((function(i){var a=o[i];if((0,s.isValidElement)(a)){var l=i in t,u=i in r,d=t[i],h=(0,s.isValidElement)(d)&&!d.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,s.isValidElement)(d)&&(o[i]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:c(a,"exit",e),enter:c(a,"enter",e)})):o[i]=(0,s.cloneElement)(a,{in:!1}):o[i]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:c(a,"exit",e),enter:c(a,"enter",e)})}})),o}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}(0,i.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,l(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:c(e,"appear",n),enter:c(e,"enter",n),exit:c(e,"exit",n)})}))):u(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=l(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,r.A)(e,["component","childFactory"]),i=this.state.contextValue,l=d(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?s.createElement(a.A.Provider,{value:i},l):s.createElement(a.A.Provider,{value:i},s.createElement(t,o,l))},t}(s.Component);h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};const f=h},7241:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6540).createContext(null)},2403:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r=function(e){return e.scrollTop}},1020:(e,t,n)=>{"use strict";var r=n(6540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:x.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+R(l,0):i,A(s)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),C(s,t,o,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",A(e))for(var c=0;c<e.length;c++){var u=i+R(a=e[c],c);l+=C(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=C(a=a.value,t,o,u=i+R(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return C(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=N,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},2424:(e,t,n)=>{"use strict";var r=n(6743),o=/[\/\?<>\\:\*\|"]/g,i=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,l=/[\. ]+$/;function c(e,t){if("string"!=typeof e)throw new Error("Input must be string");var n=e.replace(o,t).replace(i,t).replace(s,t).replace(a,t).replace(l,t);return r(n,255)}e.exports=function(e,t){var n=t&&t.replacement||"",r=c(e,n);return""===n?r:c(r,"")}},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&M(A,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var i=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var s=h.callback;if("function"==typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?h.callback=a:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(A,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,k=null,I=-1,_=5,R=-1;function C(){return!(t.unstable_now()-R<_)}function T(){if(null!==k){var e=t.unstable_now();R=e;var n=!0;try{n=k(!0,e)}finally{n?x():(S=!1,k=null)}}else S=!1}if("function"==typeof b)x=function(){b(T)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=T,x=function(){D.postMessage(null)}}else x=function(){y(T,0)};function O(e){k=e,S||(S=!0,x())}function M(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,M(A,i-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},2791:function(e,t,n){!function(e){"use strict";if(!e.setImmediate){var t,n,r,o,i,s=1,a={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?t=function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",i=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),t=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){h(e.data)},t=function(e){r.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,t=function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):t=function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];var o={callback:e,args:n};return a[s]=o,t(s),s++},u.clearImmediate=d}function d(e){delete a[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=a[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},2669:e=>{"use strict";function t(e,t){return e+n(t)}function n(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function r(e,t){return e[0]-t[0]}function o(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let n=this._internalPositionFor(e,!1);if(void 0===t)-1!==n&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let r=!1;-1===n?(n=this._data.length,this._setBit(e),this._changedData=!0):r=!0,this._setInternalPos(n,e,t,r),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,n=new Array(this.length);for(;t<this.length;)n[t]=e(this.get(t),t,this),t++;return n}reduce(e,t){let n=0,r=t;for(;n<this.length;)r=e(r,this.get(n),n),n++;return r}find(e){let t,n,r=0;for(;r<this.length&&!t;)n=this.get(r),t=e(n),r++;return t?n:void 0}_internalPositionFor(e,r){const o=this._bytePosFor(e,r);if(o>=this._bitArrays.length)return-1;const i=this._bitArrays[o],s=e-7*o;return(i&1<<s)>0?this._bitArrays.slice(0,o).reduce(t,0)+n(i&~(4294967295<<s+1))-1:-1}_bytePosFor(e,t){const n=Math.floor(e/7),r=n+1;for(;!t&&this._bitArrays.length<r;)this._bitArrays.push(0);return n}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,n,r){const o=this._data,i=[t,n];if(r)this._sortData(),o[e]=i;else{if(o.length)if(o[o.length-1][0]>=t)o.push(i);else if(o[0][0]<=t)o.unshift(i);else{const e=Math.round(o.length/2);this._data=o.slice(0,e).concat(i).concat(o.slice(e))}else this._data.push(i);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(r),this._changedData=!1}bitField(){const e=[];let t,n=8,r=0,o=0;const i=this._bitArrays.slice();for(;i.length||r;){0===r&&(t=i.shift(),r=7);const s=Math.min(r,n);o|=(t&~(255<<s))<<8-n,t>>>=s,r-=s,n-=s,n&&(r||i.length)||(e.push(o),o=0,n=8)}for(var s=e.length-1;s>0&&0===e[s];s--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(o)}}},3967:(e,t,n)=>{"use strict";var r=n(5072),o=n.n(r),i=n(7825),s=n.n(i),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),f=n(1113),p=n.n(f),m=n(8750),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var h=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6743:(e,t,n)=>{"use strict";var r=n(5045),o=n(8446);e.exports=r.bind(null,o)},5045:e=>{"use strict";function t(e){return e>=55296&&e<=56319}function n(e){return e>=56320&&e<=57343}e.exports=function(e,r,o){if("string"!=typeof r)throw new Error("Input must be string");for(var i,s,a=r.length,l=0,c=0;c<a;c+=1){if(i=r.charCodeAt(c),s=r[c],t(i)&&n(r.charCodeAt(c+1))&&(s+=r[c+=1]),(l+=e(s))===o)return r.slice(0,c+1);if(l>o)return r.slice(0,c-s.length+1)}return r}},8446:e=>{"use strict";function t(e){return e>=55296&&e<=56319}function n(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var r=e.length,o=0,i=null,s=null,a=0;a<r;a++)n(i=e.charCodeAt(a))?null!=s&&t(s)?o+=1:o+=3:i<=127?o+=1:i>=128&&i<=2047?o+=2:i>=2048&&i<=65535&&(o+=3),s=i;return o}},6797:e=>{e.exports=function e(r,o){var i,s=0,a=0,l=o=o||0,c=r.length;do{if(l>=c||a>49)throw e.bytes=0,new RangeError("Could not decode varint");i=r[l++],s+=a<28?(i&n)<<a:(i&n)*Math.pow(2,a),a+=7}while(i>=t);return e.bytes=l-o,s};var t=128,n=127},1877:e=>{e.exports=function e(o,i,s){if(Number.MAX_SAFE_INTEGER&&o>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");i=i||[];for(var a=s=s||0;o>=r;)i[s++]=255&o|t,o/=128;for(;o&n;)i[s++]=255&o|t,o>>>=7;return i[s]=0|o,e.bytes=s-a+1,i};var t=128,n=-128,r=Math.pow(2,31)},1203:(e,t,n)=>{e.exports={encode:n(1877),decode:n(6797),encodingLength:n(7867)}},7867:e=>{var t=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),o=Math.pow(2,28),i=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),l=Math.pow(2,56),c=Math.pow(2,63);e.exports=function(e){return e<t?1:e<n?2:e<r?3:e<o?4:e<i?5:e<s?6:e<a?7:e<l?8:e<c?9:10}},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},5454:e=>{!function(){e.exports=g;var t=86400,n=3200,r=146097*n/400,o=t*r,i=1e3*o,s=864e13,a=4294967296,l=1e6,c="000000000",u=Math.trunc||function(e){var t=e-e%1;return 0==t&&(e<0||0===e&&1/e!=1/0)?-0:t},d=g.prototype,h=(g.fromDate=function(e){return new g(+e)},g.fromInt64BE=A(0,1,2,3,0,4),g.fromInt64LE=A(3,2,1,0,4,0),g.fromString=function(e){var t,n=new g;if(e=(e+="").replace(/^\s*[+\-]?\d+/,(function(e){var t=1970+((e=+e)-1970)%400;return n.year=e-t,t})).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,(function(e,n,r){return n<0&&(r*=-1),t=6e4*(60*+n+ +r),""})).replace(/\.\d+$/,(function(e){return n.nano=+(e+c).substr(1,9),""})).split(/\D+/),1<e.length?e[1]--:e[1]=0,n.time=t=Date.UTC.apply(Date,e)-(t||0),isNaN(t))throw new TypeError("Invalid Date");return y(n)},g.fromTimeT=function(e){return b(e,0)},d.year=0,d.time=0,d.nano=0,d.addNano=function(e){return this.nano+=+e||0,this},d.getNano=function(){var e=y(this);return(e.time%1e3*l+ +e.nano+1e9)%1e9},d.getTimeT=function(){var e=y(this),o=Math.floor(e.time/1e3);return(e=e.year)&&(o+=e*r*t/n),o},d.getYear=function(){return this.toDate().getUTCFullYear()+this.year},d.toDate=function(){return v(y(this).time)},d.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},d.toString=function(e){var t=this,n=t.toDate(),r={H:function(){return x(n.getUTCHours())},L:function(){return S(n.getUTCMilliseconds(),3)},M:function(){return x(n.getUTCMinutes())},N:function(){return S(t.getNano(),9)},S:function(){return x(n.getUTCSeconds())},Y:function(){var e=t.getYear();return 999999<e?"+"+e:9999<e?"+"+S(e,6):0<=e?S(e,4):-999999<=e?"-"+S(-e,6):e},a:function(){return p[n.getUTCDay()]},b:function(){return f[n.getUTCMonth()]},d:function(){return x(n.getUTCDate())},e:function(){return function(e){return(9<e?"":" ")+(0|e)}(n.getUTCDate())},m:function(){return x(n.getUTCMonth()+1)}};return function e(t){return t.replace(/%./g,(function(t){var n=t[1],o=m[n];return n=r[n],o?e(o):n?n():t}))}(e||h)},d.writeInt64BE=w(0,1,2,3,0,4),d.writeInt64LE=w(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m={"%":"%",F:"%Y-%m-%d",n:"\n",R:"%H:%M",T:"%H:%M:%S",t:"\t",X:"%T",Z:"GMT",z:"+0000"};return g;function g(e,t,n){var r=this;if(!(r instanceof g))return new g(e,t,n);r.time=+e||0,r.nano=+t||0,r.year=+n||0,y(r)}function y(e){var t,r,o,a=e.year,c=e.time,d=e.nano,h=((d<0||l<=d)&&(d-=(r=Math.floor(d/l))*l,c+=r,r=1),a%n);return(c<-s||s<c||h)&&((t=u(c/i))&&(a+=t*n,c-=t*i),(o=v(c)).setUTCFullYear(h+o.getUTCFullYear()),o=(c=+o)+(t=u((a-=h)/n))*i,t&&-s<=o&&o<=s&&(a-=t*n,c=o),r=1),r&&(e.year=a,e.time=c,e.nano=d),e}function v(e){var t=new Date(0);return t.setTime(e),t}function b(e,t){e=+e||0;var r=u((t=(0|t)*a)/o)+u(e/o);return(e=u((t=t%o+e%o)/o))&&(r+=e,t-=e*o),new g(1e3*t,0,r*n)}function w(e,o,i,s,l,c){return function(e,o){var i=y(this);E(e=e||new Array(8),o|=0);var s=Math.floor(i.time/1e3),h=(i=i.year*(r*t/n),u(i/a)+u(s/a));return i=i%a+s%a,(s=Math.floor(i/a))&&(h+=s,i-=s*a),d(e,o+l,h),d(e,o+c,i),e};function d(t,n,r){t[n+e]=r>>24&255,t[n+o]=r>>16&255,t[n+i]=r>>8&255,t[n+s]=255&r}}function A(e,t,n,r,o,i){return function(e,t){E(e,t|=0);var n=s(e,t+o);return b(s(e,t+i),n)};function s(o,i){return 16777216*o[i+e]+(o[i+t]<<16|o[i+n]<<8|o[i+r])}}function E(e,t){if(null==(e=e&&e.length))throw new TypeError("Invalid Buffer");if(e<t+8)throw new RangeError("Out of range")}function x(e){return(9<e?"":"0")+(0|e)}function S(e,t){return(c+(0|e)).substr(-t)}}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},5540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>o})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},2878:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(9061),o=n(515),i=n(8653);class s{components;constructor(e){this.components=e}async add(e,t={}){const n=o.encode(e),s=await(t.hasher??i.sha256).digest(n),a=r.TO.createV1(o.code,s);return await this.components.blockstore.put(a,n,t),a}async get(e,t={}){const n=await this.components.blockstore.get(e,t);return o.decode(n)}}function a(e){return new s(e)}},5886:(e,t,n)=>{"use strict";n.d(t,{Si:()=>un});var r=n(6310),o=n(9230);const i=function(e,t=1){return t=Number(t),null!=e[Symbol.asyncIterator]?async function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for await(const r of e)for(n.push(r);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const r of e)for(n.push(r);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};async function*s(e,t=1){for await(const n of i(e,t)){const e=n.map((async e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const n=await e[t];if(!n.ok)throw n.err;yield n.value}}}var a=n(859);const l=(e={})=>{const t=e.chunkSize??262144;return async function*(e){let n=new a.I,r=0,o=!1;for await(const i of e)for(n.append(i),r+=i.length;r>=t;)if(yield n.slice(0,t),o=!0,t===n.length)n=new a.I,r=0;else{const e=new a.I;e.append(n.sublist(t)),n=e,r-=t}(!o||r>0)&&(yield n.subarray(0,r))}};var c,u,d,h=n(4400),f=n(289);!function(e){let t,n,r;!function(e){e.Raw="Raw",e.Directory="Directory",e.File="File",e.Metadata="Metadata",e.Symlink="Symlink",e.HAMTShard="HAMTShard"}(t=e.DataType||(e.DataType={})),function(e){e[e.Raw=0]="Raw",e[e.Directory=1]="Directory",e[e.File=2]="File",e[e.Metadata=3]="Metadata",e[e.Symlink=4]="Symlink",e[e.HAMTShard=5]="HAMTShard"}(n||(n={})),function(e){e.codec=()=>(0,f.eG)(n)}(t=e.DataType||(e.DataType={})),e.codec=()=>(null==r&&(r=(0,f.iU)(((t,n,r={})=>{if(!1!==r.lengthDelimited&&n.fork(),null!=t.Type&&(n.uint32(8),e.DataType.codec().encode(t.Type,n)),null!=t.Data&&(n.uint32(18),n.bytes(t.Data)),null!=t.filesize&&(n.uint32(24),n.uint64(t.filesize)),null!=t.blocksizes)for(const e of t.blocksizes)n.uint32(32),n.uint64(e);null!=t.hashType&&(n.uint32(40),n.uint64(t.hashType)),null!=t.fanout&&(n.uint32(48),n.uint64(t.fanout)),null!=t.mode&&(n.uint32(56),n.uint32(t.mode)),null!=t.mtime&&(n.uint32(66),u.codec().encode(t.mtime,n)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={blocksizes:[]},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.Type=e.DataType.codec().decode(t);break;case 2:r.Data=t.bytes();break;case 3:r.filesize=t.uint64();break;case 4:r.blocksizes.push(t.uint64());break;case 5:r.hashType=t.uint64();break;case 6:r.fanout=t.uint64();break;case 7:r.mode=t.uint32();break;case 8:r.mtime=u.codec().decode(t,t.uint32());break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,f.mH)(t,e.codec()),e.decode=t=>(0,f.Y8)(t,e.codec())}(c||(c={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,f.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.Seconds&&(t.uint32(8),t.int64(e.Seconds)),null!=e.FractionalNanoseconds&&(t.uint32(21),t.fixed32(e.FractionalNanoseconds)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,f.mH)(t,e.codec()),e.decode=t=>(0,f.Y8)(t,e.codec())}(u||(u={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,f.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.MimeType&&(t.uint32(10),t.string(e.MimeType)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();t>>>3==1?n.MimeType=e.string():e.skipType(7&t)}return n}))),t),e.encode=t=>(0,f.mH)(t,e.codec()),e.decode=t=>(0,f.Y8)(t,e.codec())}(d||(d={}));const p={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},m=["directory","hamt-sharded-directory"],g=parseInt("0644",8),y=parseInt("0755",8);class v{static unmarshal(e){const t=c.decode(e),n=new v({type:p[null!=t.Type?t.Type.toString():"File"],data:t.Data,blockSizes:t.blocksizes,mode:t.mode,mtime:null!=t.mtime?{secs:t.mtime.Seconds??0n,nsecs:t.mtime.FractionalNanoseconds}:void 0,fanout:t.fanout});return n._originalMode=t.mode??0,n}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){const{type:t,data:n,blockSizes:o,hashType:i,fanout:s,mtime:a,mode:l}=e;if(null!=t&&!Object.values(p).includes(t))throw r(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t??"file",this.data=n,this.hashType=i,this.fanout=s,this.blockSizes=o??[],this._originalMode=0,this.mode=l,this.mtime=a}set mode(e){this._mode=null==e?this.isDirectory()?y:g:4095&e}get mode(){return this._mode}isDirectory(){return m.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach((t=>{e+=t})),null!=this.data&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=c.DataType.Raw;break;case"directory":e=c.DataType.Directory;break;case"file":e=c.DataType.File;break;case"metadata":e=c.DataType.Metadata;break;case"symlink":e=c.DataType.Symlink;break;case"hamt-sharded-directory":e=c.DataType.HAMTShard;break;default:throw r(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let t,n,o=this.data;return null!=this.data&&0!==this.data.length||(o=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(this.mode??0),t!==g||this.isDirectory()||(t=void 0),t===y&&this.isDirectory()&&(t=void 0)),null!=this.mtime&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),c.encode({Type:e,Data:o,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:n})}}var b=n(7833),w=n(5433),A=n(9061),E=n(8653);const x=async(e,t,n)=>{null==n.codec&&(n.codec=h);const r=await E.sha256.digest(e),o=A.TO.create(n.cidVersion,n.codec.code,r);return await t.put(o,e,n),o};function S(e){return async function*(t,n){let r=0n;for await(let o of t.content)yield async()=>{let i;const s={codec:h,cidVersion:e.cidVersion,onProgress:e.onProgress};e.rawLeaves?(s.codec=b,s.cidVersion=1):(i=new v({type:e.leafType,data:o}),o=h.encode({Data:i.marshal(),Links:[]}));const a=await x(o,n,s);return r+=BigInt(o.byteLength),e.onProgress?.(new w.j("unixfs:importer:progress:file:write",{bytesWritten:r,cid:a,path:t.path})),{cid:a,unixfs:i,size:BigInt(o.length),block:o}}}}const k=async(e,t,n)=>{const r=new v({type:"directory",mtime:e.mtime,mode:e.mode}),o=(0,h.encode)((0,h.prepare)({Data:r.marshal()}));return{cid:await x(o,t,n),path:e.path,unixfs:r,size:BigInt(o.length),originalPath:e.originalPath,block:o}};function I(e){return!0===e.single}const _=async(e,t,n)=>n.layout(async function*(e,t,n){let r,o=-1;for await(const i of s(n.bufferImporter(e,t),n.blockWriteConcurrency))o++,0!==o?(1===o&&null!=r&&(yield{...r,block:void 0,single:void 0},r=void 0),yield{...i,block:void 0}):r={...i,single:!0};null!=r&&(yield r)}(e,t,n),((e,t,n)=>async function(r){if(1===r.length&&I(r[0])&&n.reduceSingleLeafToSelf){const o=r[0];let i=o.block;return!I(o)||void 0===e.mtime&&void 0===e.mode||(o.unixfs=new v({type:"file",mtime:e.mtime,mode:e.mode,data:o.block}),i={Data:o.unixfs.marshal(),Links:[]},o.block=(0,h.encode)((0,h.prepare)(i)),o.cid=await x(o.block,t,{...n,cidVersion:n.cidVersion}),o.size=BigInt(o.block.length)),n.onProgress?.(new w.j("unixfs:importer:progress:file:layout",{cid:o.cid,path:o.originalPath})),{cid:o.cid,path:e.path,unixfs:o.unixfs,size:o.size,originalPath:o.originalPath}}const o=new v({type:"file",mtime:e.mtime,mode:e.mode}),i=r.filter((e=>e.cid.code===b.code&&e.size>0||null!=e.unixfs&&null==e.unixfs.data&&e.unixfs.fileSize()>0n||Boolean(e.unixfs?.data?.length))).map((e=>e.cid.code===b.code?(o.addBlockSize(e.size),{Name:"",Tsize:Number(e.size),Hash:e.cid}):(null==e.unixfs||null==e.unixfs.data?o.addBlockSize(e.unixfs?.fileSize()??0n):o.addBlockSize(BigInt(e.unixfs.data.length)),{Name:"",Tsize:Number(e.size),Hash:e.cid}))),s={Data:o.marshal(),Links:i},a=(0,h.encode)((0,h.prepare)(s)),l=await x(a,t,n);return n.onProgress?.(new w.j("unixfs:importer:progress:file:layout",{cid:l,path:e.originalPath})),{cid:l,path:e.path,unixfs:o,size:BigInt(a.length+s.Links.reduce(((e,t)=>e+(t.Tsize??0)),0)),originalPath:e.originalPath,block:a}})(e,t,n));function R(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(t=e,Symbol.iterator in t)return async function*(){yield*e}();if(function(e){return Symbol.asyncIterator in e}(e))return e}catch{throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}var t;throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function C(e){return null!=e.content}var T=n(6676);const P=()=>async function*(e){for await(const t of e){if(void 0===t.length)throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield(0,T.s)(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}},D=174;function O(e){const t=e?.maxChildrenPerNode??D;return async function e(n,r){const o=[];for await(const e of i(n,t))o.push(await r(e));return o.length>1?e(o,r):o[0]}}class M{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,t){this.options=t??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}}const N=A.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),B=A.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class L extends M{_children;constructor(e,t){super(e,t),this._children=new Map}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,t)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(const[e,t]of this._children.entries())yield{key:e,child:t}}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[e,t]of this._children.entries())null!=t.size&&null!=t.cid&&(this.nodeSize+=e.length+(1===this.options.cidVersion?B.bytes.byteLength:N.bytes.byteLength));return this.nodeSize}async*flush(e){const t=[];for(const[n,r]of this._children.entries()){let o=r;if(r instanceof M)for await(const t of r.flush(e))o=t,yield t;null!=o.size&&null!=o.cid&&t.push({Name:n,Tsize:Number(o.size),Hash:o.cid})}const n=new v({type:"directory",mtime:this.mtime,mode:this.mode}),r={Data:n.marshal(),Links:t},o=(0,h.encode)((0,h.prepare)(r)),i=await x(o,e,this.options),s=o.length+r.Links.reduce(((e,t)=>e+(null==t.Tsize?0:t.Tsize)),0);this.cid=i,this.size=s,yield{cid:i,unixfs:n,path:this.path,size:BigInt(s)}}}var F=n(8429),U=n(411),$=n(8437);(0,U.H)({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&e,e>>=8;return new Uint8Array(t)}($.x86.hash32(e))});const j=(0,U.H)({name:"murmur3-128",code:34,encode:e=>F.ee.fromHex($.x64.hash128(e))});(0,U.H)({name:"murmur3-x64-64",code:34,encode:e=>F.ee.fromHex($.x64.hash128(e)).subarray(0,8)});var z=n(2669);class V{_options;_popCount;_parent;_posAtParent;_children;key;constructor(e,t,n=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=n,this._children=new z,this.key=null}async put(e,t){const n=await this._findNewBucketAndPos(e);n.bucket._putAt(n,e,t)}async get(e){const t=await this._findChild(e);if(null!=t)return t.value}async del(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);null!=n&&n.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof V?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof V?yield*t.eachLeafSeries():yield t}serialize(e,t){return t(this._children.reduce(((n,r,o)=>(null!=r&&(r instanceof V?n.push(r.serialize(e,t)):n.push(e(r,o))),n)),[]))}async asyncTransform(e,t){return K(this,e,t)}toJSON(){return this.serialize(W,q)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(!(n instanceof V))return null!=n&&n.key===e?n:void 0}async _findPlace(e){const t=this._options.hash("string"==typeof e?(0,T.s)(e):e),n=await t.take(this._options.bits),r=this._children.get(n);return r instanceof V?r._findPlace(t):{bucket:this,pos:n,hash:t,existingChild:r}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(null!=t.existingChild&&t.existingChild.key!==e){const e=new V(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const n=await e._findPlace(t.existingChild.hash);return n.bucket._putAt(n,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,n){this._putObjectAt(e.pos,{key:t,value:n,hash:e.hash})}_putObjectAt(e,t){null==this._children.get(e)&&this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");null!=this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(H);if(null!=e&&!(e instanceof V)){const t=e.hash;t.untake(this._options.bits);const n={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function H(e){return Boolean(e)}function W(e,t){return e.key}function q(e){return e}async function K(e,t,n){const r=[];for(const o of e._children.compactArray())if(o instanceof V)await K(o,t,n);else{const n=await t(o);r.push({bitField:e._children.bitField(),children:n})}return n(r)}var G=n(4008);const Y=[255,254,252,248,240,224,192,128],Q=[1,3,7,15,31,63,127,255];class Z{_value;_currentBytePos;_currentBitPos;constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,n=0;for(;t>0&&this._haveBits();){const e=this._value[this._currentBytePos],r=this._currentBitPos+1,o=Math.min(r,t);n=(n<<o)+J(e,r-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function J(e,t,n){const r=function(e,t){return Y[e]&Q[Math.min(t+e-1,7)]}(t,n);return(e&r)>>>t}function X(e){return function(t){return t instanceof ee?t:new ee(t,e)}}class ee{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.availableBits(),t);n=(n<<r)+e.take(r),t-=r,this._availableBits-=r,0===e.availableBits()&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.totalBits()-e.availableBits(),t);e.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth>0?(0,G.x)([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),n=new Z(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}function te(e){if(null==e||null==e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits??8,hash:X(e.hashFn)};return new V(t)}async function ne(e){return(await j.encode(e)).slice(0,8).reverse()}const re=BigInt(34),oe=class extends M{_bucket;constructor(e,t){super(e,t),this._bucket=te({hashFn:ne,bits:t.shardFanoutBits??8})}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,t)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=se(this._bucket,this,this.options)),this.nodeSize}async*flush(e){for await(const t of ie(this._bucket,e,this,this.options))yield{...t,path:this.path}}};async function*ie(e,t,n,r){const o=e._children,i=(e.tableSize()-1).toString(16).length,s=[];let a=0n;for(let e=0;e<o.length;e++){const n=o.get(e);if(null==n)continue;const l=e.toString(16).toUpperCase().padStart(i,"0");if(n instanceof V){let e;for await(const o of ie(n,t,null,r))e=o;if(null==e)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:l,Tsize:Number(e.size),Hash:e.cid}),a+=e.size}else if("function"==typeof n.value.flush){const e=n.value;let r;for await(const n of e.flush(t))r=n,yield r;if(null==r)throw new Error("Did not flush dir");const o=l+n.key;s.push({Name:o,Tsize:Number(r.size),Hash:r.cid}),a+=r.size}else{const e=n.value;if(null==e.cid)continue;const t=l+n.key,r=e.size;s.push({Name:t,Tsize:Number(r),Hash:e.cid}),a+=BigInt(r??0)}}const l=Uint8Array.from(o.bitField().reverse()),c=new v({type:"hamt-sharded-directory",data:l,fanout:BigInt(e.tableSize()),hashType:re,mtime:n?.mtime,mode:n?.mode}),u={Data:c.marshal(),Links:s},d=(0,h.encode)((0,h.prepare)(u)),f=await x(d,t,r),p=BigInt(d.byteLength)+a;yield{cid:f,unixfs:c,size:p}}function se(e,t,n){const r=e._children,o=(e.tableSize()-1).toString(16).length,i=[];for(let e=0;e<r.length;e++){const t=r.get(e);if(null==t)continue;const s=e.toString(16).toUpperCase().padStart(o,"0");if(t instanceof V){const e=se(t,null,n);i.push({Name:s,Tsize:Number(e),Hash:0===n.cidVersion?N:B})}else if("function"==typeof t.value.flush){const e=t.value.nodeSize();i.push({Name:s+t.key,Tsize:Number(e),Hash:0===n.cidVersion?N:B})}else{const e=t.value;if(null==e.cid)continue;const n=s+t.key,r=e.size;i.push({Name:n,Tsize:Number(r),Hash:e.cid})}}const s=Uint8Array.from(r.bitField().reverse()),a=new v({type:"hamt-sharded-directory",data:s,fanout:BigInt(e.tableSize()),hashType:re,mtime:t?.mtime,mode:t?.mode});return(0,h.encode)((0,h.prepare)({Data:a.marshal(),Links:i})).length}async function ae(e,t,n,r){let o=t;t instanceof L&&t.estimateNodeSize()>n&&(o=await async function(e,t){const n=new oe({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:t,child:r}of e.eachChildSeries())await n.put(t,r);return n}(t,r));const i=o.parent;if(null!=i){if(o!==t){if(null!=e&&(e.parent=o),null==o.parentKey)throw new Error("No parent key found");await i.put(o.parentKey,o)}return ae(o,i,n,r)}return o}const le=(e="")=>e.split(/(?<!\\)\//).filter(Boolean);async function ce(e,t,n){const r=le(e.path??""),o=r.length-1;let i=t,s="";for(let a=0;a<r.length;a++){const l=r[a];s+=`${""!==s?"/":""}${l}`;const c=a===o;if(i.dirty=!0,i.cid=void 0,i.size=void 0,c)await i.put(l,e),t=await ae(null,i,n.shardSplitThresholdBytes,n);else{let e=await i.get(l);null!=e&&e instanceof M||(e=new L({root:!1,dir:!0,parent:i,parentKey:l,path:s,dirty:!0,flat:!0,mtime:e?.unixfs?.mtime,mode:e?.unixfs?.mode},n)),await i.put(l,e),i=e}}return t}async function*ue(e,t){e instanceof M?yield*e.flush(t):!0===e.unixfs?.isDirectory()&&(yield e)}async function*de(e,t,n={}){let r;r=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];const o=n.wrapWithDirectory??!1,i=n.shardSplitThresholdBytes??262144,a=n.shardFanoutBits??8,c=n.cidVersion??1,u=n.rawLeaves??!0,d=n.leafType??"file",h=n.fileImportConcurrency??50,f=n.blockWriteConcurrency??10,p=n.reduceSingleLeafToSelf??!0,m=n.chunker??l(),g=n.chunkValidator??P(),y=n.dagBuilder??function(e){return async function*(t,n){for await(const r of t){let t;if(null!=r.path&&(t=r.path,r.path=r.path.split("/").filter((e=>null!=e&&"."!==e)).join("/")),C(r)){const o={path:r.path,mtime:r.mtime,mode:r.mode,content:async function*(){let t=0n;for await(const n of e.chunker(e.chunkValidator(R(r.content)))){const o=BigInt(n.byteLength);t+=o,e.onProgress?.(new w.j("unixfs:importer:progress:file:read",{bytesRead:t,chunkSize:o,path:r.path})),yield n}}(),originalPath:t};yield async()=>_(o,n,e)}else{if(null==r.path)throw new Error("Import candidate must have content or path or both");{const o={path:r.path,mtime:r.mtime,mode:r.mode,originalPath:t};yield async()=>k(o,n,e)}}}}}({chunker:m,chunkValidator:g,wrapWithDirectory:o,layout:n.layout??O(),bufferImporter:n.bufferImporter??S({cidVersion:c,rawLeaves:u,leafType:d,onProgress:n.onProgress}),blockWriteConcurrency:f,reduceSingleLeafToSelf:p,cidVersion:c,onProgress:n.onProgress}),v=n.treeBuilder??function(e){return async function*(t,n){let r,o=new L({root:!0,dir:!0,path:"",dirty:!0,flat:!0},e),i=!1;for await(const n of t){if(null==n)continue;const t=`${n.originalPath??""}`.split("/")[0];null!=t&&""!==t&&(null==r?(r=t,i=!0):r!==t&&(i=!1)),o=await ce(n,o,e),null!=n.unixfs&&n.unixfs.isDirectory()||(yield n)}if(e.wrapWithDirectory||i&&o.childCount()>1)yield*ue(o,n);else for await(const e of o.eachChildSeries())null!=e&&(yield*ue(e.child,n))}}({wrapWithDirectory:o,shardSplitThresholdBytes:i,shardFanoutBits:a,cidVersion:c,onProgress:n.onProgress});for await(const e of v(s(y(r,t),h),t))yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}async function he(e,t,n={}){const i=await(0,o.A)(de([e],t,n));if(null==i)throw r(new Error("Nothing imported"),"ERR_INVALID_PARAMS");return i}const fe={cidVersion:1,rawLeaves:!0,layout:O({maxChildrenPerNode:1024}),chunker:l({chunkSize:1048576})};const pe=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{let t;for await(const n of e)t=n;return t})();let t;for(const n of e)t=n;return t};var me=n(4868),ge=n(5294),ye=n(515),ve=n(8650);function be(e,t,n,o,i,s,a){let l=e,c=i;for(;s.length>0;){const u=s[0];if(!(u in l))throw r(new Error(`No property named ${u} found in node ${n}`),"ERR_NO_PROP");{s.shift(),c=`${c}/${u}`;const r=A.TO.asCID(l[u]);if(null!=r)return{entry:{type:"object",name:o,path:i,cid:n,node:t,depth:a,size:BigInt(t.length),content:async function*(){yield e}},next:{cid:r,name:u,path:c,toResolve:s}};l=l[u]}}return{entry:{type:"object",name:o,path:i,cid:n,node:t,depth:a,size:BigInt(t.length),content:async function*(){yield e}}}}var we=n(8580);const Ae=function(e,t,n,r){const o=BigInt(e.length),i=BigInt(t+o);return n>=i||r<t?new Uint8Array(0):(r>=t&&r<i&&(e=e.subarray(0,Number(r-t))),n>=t&&n<i&&(e=e.subarray(Number(n-t))),e)},Ee=(e,t=0,n=e)=>{const o=BigInt(e),i=BigInt(t??0);let s=BigInt(n);if(s!==o&&(s=i+s),s>o&&(s=o),i<0n)throw r(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(i>o)throw r(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(s<0n)throw r(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(s>o)throw r(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:i,end:s}},xe=async function(e){return(await j.encode(e)).slice(0,8).reverse()},Se=(e,t)=>e.toString(16).toUpperCase().padStart(t,"0").substring(0,t),ke=async(e,t,n,o,i)=>{if(null==o){if(null==e.Data)throw r(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let t;try{t=v.unmarshal(e.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if("hamt-sharded-directory"!==t.type)throw r(new Error("not a HAMT"),"ERR_NOT_UNIXFS");if(null==t.fanout)throw r(new Error("missing fanout"),"ERR_NOT_UNIXFS");const n=te({hashFn:xe,bits:Math.log2(Number(t.fanout))});o={rootBucket:n,hamtDepth:1,lastBucket:n}}const s=(o.lastBucket.tableSize()-1).toString(16).length;await(async(e,t,n)=>{const r=(t.tableSize()-1).toString(16).length;await Promise.all(e.map((async e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(e.Name.length!==r)await n.put(e.Name.substring(2),!0);else{const r=parseInt(e.Name,16);t._putObjectAt(r,new V({hash:n._options.hash,bits:n._options.bits},t,r))}})))})(e.Links,o.lastBucket,o.rootBucket);const a=await o.rootBucket._findNewBucketAndPos(t);let l=Se(a.pos,s);const c=(e=>{let t=e.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(a);c.length>o.hamtDepth&&(o.lastBucket=c[o.hamtDepth],l=Se(o.lastBucket._posAtParent,s));const u=e.Links.find((e=>{if(null==e.Name)return!1;const n=e.Name.substring(0,s),r=e.Name.substring(s);return n===l&&(""===r||r===t)}));if(null==u)return;if(null!=u.Name&&u.Name.substring(s)===t)return u.Hash;o.hamtDepth++;const d=await n.get(u.Hash,i);return e=(0,h.decode)(d),ke(e,t,n,o,i)},Ie=ke;var _e=n(3311),Re=n(987),Ce=n(8209),Te=n(7740);var Pe=n(8651),De=n(4665);async function Oe(e,t,n,o,i,s,a){if(t instanceof Uint8Array){const e=Ae(t,o,i,s);return void n.push(e)}if(null==t.Data)throw r(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let l;try{l=v.unmarshal(t.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(null!=l.data){const e=l.data,t=Ae(e,o,i,s);n.push(t),o+=BigInt(t.byteLength)}const c=[];if(t.Links.length!==l.blockSizes.length)throw r(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let e=0;e<t.Links.length;e++){const n=t.Links[e],r=o,a=r+l.blockSizes[e];if((i>=r&&i<a||s>=r&&s<=a||i<r&&s>a)&&c.push({link:n,blockStart:o}),(o=a)>s)break}await(0,Te.F)(c,(t=>(0,Re.A)(t,(t=>async()=>{const n=await e.get(t.link.Hash,a);return{...t,block:n}}))),(e=>(0,Ce.A)(e,{ordered:!0,concurrency:a.blockReadConcurrency})),(async t=>{for await(const{link:o,block:l,blockStart:c}of t){let t;switch(o.Hash.code){case h.code:t=h.decode(l);break;case b.code:t=l;break;default:return void n.end(r(new Error(`Unsupported codec: ${o.Hash.code}`),"ERR_NOT_UNIXFS"))}const u=new De.A({concurrency:1});u.on("error",(e=>{n.end(e)})),u.add((async()=>{a.onProgress?.(new w.j("unixfs:exporter:walk:file",{cid:o.Hash})),await Oe(e,t,n,c,i,s,a)})),await u.onIdle()}})),o>=s&&n.end()}const Me=(e,t,n,o,i,s,a)=>async function*(o={}){const i=n.fileSize();if(void 0===i)throw new Error("File was a directory");const{start:s,end:l}=Ee(i,o.offset,o.length);if(0n===l)return;let c=0n;const u=l-s,d=(0,Pe.Ny)();o.onProgress?.(new w.j("unixfs:exporter:walk:file",{cid:e})),Oe(a,t,d,0n,s,l,o).catch((e=>{d.end(e)}));for await(const e of d)if(null!=e){if(c+=BigInt(e.byteLength),c>u)throw d.end(),r(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");c===u&&d.end(),o.onProgress?.(new w.j("unixfs:exporter:progress:unixfs:file",{bytesRead:c,totalBytes:u,fileSize:i})),yield e}if(c<u)throw r(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")};async function*Ne(e,t,n,o,i,s){const a=e.Links;if(null==e.Data)throw r(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let l;try{l=v.unmarshal(e.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(null==l.fanout)throw r(new Error("missing fanout"),"ERR_NOT_UNIXFS");const c=(l.fanout-1n).toString(16).length,u=(0,Te.F)(a,(r=>(0,Re.A)(r,(r=>async()=>{const a=null!=r.Name?r.Name.substring(c):null;if(null!=a&&""!==a){const e=await n(r.Hash,a,`${t}/${a}`,[],o+1,i,s);return{entries:null==e.entry?[]:[e.entry]}}{const a=await i.get(r.Hash,s);return e=(0,h.decode)(a),s.onProgress?.(new w.j("unixfs:exporter:walk:hamt-sharded-directory",{cid:r.Hash})),{entries:Ne(e,t,n,o,i,s)}}}))),(e=>(0,Ce.A)(e,{ordered:!0,concurrency:s.blockReadConcurrency})));for await(const{entries:e}of u)yield*e}const Be={raw:Me,file:Me,directory:(e,t,n,r,o,i,s)=>async function*(n={}){const a=n.offset??0,l=n.length??t.Links.length,c=t.Links.slice(a,l);n.onProgress?.(new w.j("unixfs:exporter:walk:directory",{cid:e})),yield*(0,Te.F)(c,(e=>(0,Re.A)(e,(e=>async()=>{const t=e.Name??"",a=`${r}/${t}`;return(await o(e.Hash,t,a,[],i+1,s,n)).entry}))),(e=>(0,Ce.A)(e,{ordered:!0,concurrency:n.blockReadConcurrency})),(e=>(0,_e.A)(e,(e=>null!=e))))},"hamt-sharded-directory":(e,t,n,r,o,i,s)=>function(n={}){return n.onProgress?.(new w.j("unixfs:exporter:walk:hamt-sharded-directory",{cid:e})),Ne(t,r,o,i,s,n)},metadata:(e,t,n,r,o,i,s)=>()=>[],symlink:(e,t,n,r,o,i,s)=>()=>[]},Le={[h.code]:async(e,t,n,o,i,s,a,l)=>{const c=await a.get(e,l),u=(0,h.decode)(c);let d,f;if(null==t&&(t=e.toString()),null==u.Data)throw r(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{d=v.unmarshal(u.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(null==n&&(n=t),o.length>0){let e;if(e="hamt-sharded-directory"===d?.type?await Ie(u,o[0],a):((e,t)=>{const n=e.Links.find((e=>e.Name===t));return n?.Hash})(u,o[0]),null==e)throw r(new Error("file does not exist"),"ERR_NOT_FOUND");const t=o.shift();f={cid:e,toResolve:o,name:t??"",path:`${n}/${t}`}}const p=Be[d.type](e,u,d,n,i,s,a);if(null==p)throw r(new Error("could not find content exporter"),"ERR_NOT_FOUND");return d.isDirectory()?{entry:{type:"directory",name:t,path:n,cid:e,content:p,unixfs:d,depth:s,node:u,size:d.fileSize()},next:f}:{entry:{type:"file",name:t,path:n,cid:e,content:p,unixfs:d,depth:s,node:u,size:d.fileSize()},next:f}},[b.code]:async(e,t,n,o,i,s,a,l)=>{if(o.length>0)throw r(new Error(`No link named ${n} found in raw node ${e}`),"ERR_NOT_FOUND");const c=await a.get(e,l);return{entry:{type:"raw",name:t,path:n,cid:e,content:(u=c,async function*(e={}){const{start:t,end:n}=Ee(u.length,e.offset,e.length),r=Ae(u,0n,t,n);e.onProgress?.(new w.j("unixfs:exporter:progress:raw",{bytesRead:BigInt(r.byteLength),totalBytes:n-t,fileSize:BigInt(u.byteLength)})),yield r}),depth:s,size:BigInt(c.length),node:c}};var u},[me.code]:async(e,t,n,r,o,i,s,a)=>{const l=await s.get(e,a);return be(me.decode(l),l,e,t,n,r,i)},[ge.aY]:async(e,t,n,r,o,i,s,a)=>{const l=await s.get(e,a);return be(ge.D4(l),l,e,t,n,r,i)},[ve.identity.code]:async(e,t,n,o,i,s,a,l)=>{if(o.length>0)throw r(new Error(`No link named ${n} found in raw node ${e}`),"ERR_NOT_FOUND");const c=we.decode(e.multihash.bytes);return{entry:{type:"identity",name:t,path:n,cid:e,content:(u=c.digest,async function*(e={}){const{start:t,end:n}=Ee(u.length,e.offset,e.length),r=Ae(u,0n,t,n);e.onProgress?.(new w.j("unixfs:exporter:progress:identity",{bytesRead:BigInt(r.byteLength),totalBytes:n-t,fileSize:BigInt(u.byteLength)})),yield r}),depth:s,size:BigInt(c.digest.length),node:c.digest}};var u},[ye.code]:async(e,t,n,r,o,i,s,a)=>{const l=await s.get(e,a);return be(ye.decode(l),l,e,t,n,r,i)}},Fe=async(e,t,n,o,i,s,a)=>{const l=Le[e.code];if(null==l)throw r(new Error(`No resolver for code ${e.code}`),"ERR_NO_RESOLVER");return l(e,t,n,o,Fe,i,s,a)},Ue=Fe,$e=e=>{if(e instanceof Uint8Array)return{cid:A.TO.decode(e),toResolve:[]};const t=A.TO.asCID(e);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(e);return{cid:A.TO.parse(t[0]),toResolve:t.slice(1)}}throw r(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*je(e,t,n={}){let{cid:o,toResolve:i}=$e(e),s=o.toString(),a=s;const l=i.length;for(;;){const c=await Ue(o,s,a,i,l,t,n);if(null==c.entry&&null==c.next)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(null!=c.entry&&(yield c.entry),null==c.next)return;i=c.next.toResolve,o=c.next.cid,s=c.next.name,a=c.next.path}}async function ze(e,t,n={}){const o=await pe(je(e,t,n));if(null==o)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return o}async function*Ve(e,t,n={}){const r=await ze(e,t,n);if(null!=r&&(yield r,"directory"===r.type))for await(const e of async function*e(t,n){for await(const r of t.content(n))yield r,r instanceof Uint8Array||"directory"===r.type&&(yield*e(r,n))}(r,n))yield e}var He=n(3542);class We extends Error{name;code;constructor(e,t,n){super(e),this.name=t,this.code=n}}class qe extends We{constructor(e="not a Unixfs node"){super(e,"NotUnixFSError","ERR_NOT_UNIXFS")}}class Ke extends We{constructor(e="invalid PBNode"){super(e,"InvalidPBNodeError","ERR_INVALID_PBNODE")}}class Ge extends We{constructor(e="unknown error"){super(e,"InvalidPBNodeError","ERR_UNKNOWN_ERROR")}}class Ye extends We{constructor(e="path already exists"){super(e,"AlreadyExistsError","ERR_ALREADY_EXISTS")}}class Qe extends We{constructor(e="path does not exist"){super(e,"DoesNotExistError","ERR_DOES_NOT_EXIST")}}class Ze extends We{constructor(e="no content"){super(e,"NoContentError","ERR_NO_CONTENT")}}class Je extends We{constructor(e="not a file"){super(e,"NotAFileError","ERR_NOT_A_FILE")}}class Xe extends We{constructor(e="not a directory"){super(e,"NotADirectoryError","ERR_NOT_A_DIRECTORY")}}class et extends We{constructor(e="invalid parameters"){super(e,"InvalidParametersError","ERR_INVALID_PARAMETERS")}}var tt=n(4340),nt=n(6221);function rt(e){return function(t){return t instanceof ot?t:new ot(t,e)}}class ot{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.availableBits(),t);n=(n<<r)+e.take(r),t-=r,this._availableBits-=r,0===e.availableBits()&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.totalBits()-e.availableBits(),t);e.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth>0?(0,G.x)([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),n=new at(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}const it=[255,254,252,248,240,224,192,128],st=[1,3,7,15,31,63,127,255];class at{_value;_currentBytePos;_currentBitPos;constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,n=0;for(;t>0&&this._haveBits();){const e=this._value[this._currentBytePos],r=this._currentBitPos+1,o=Math.min(r,t);n=(n<<o)+lt(e,r-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function lt(e,t,n){const r=function(e,t){return it[e]&st[Math.min(t+e-1,7)]}(t,n);return(e&r)>>>t}const ct=BigInt(j.code);async function ut(e){return(await j.encode(e)).subarray(0,8).reverse()}const dt=async(e,t,n)=>{null==n.codec&&(n.codec=h);const r=await E.sha256.digest(e),o=A.TO.create(n.cidVersion,n.codec.code,r);return await t.put(o,e,{...n,signal:n.signal}),o};class ht{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,t){this.options=t??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}}class ft extends ht{_bucket;constructor(e,t){super(e,t),this._bucket=te({hashFn:ut,bits:8})}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,t)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=mt(this._bucket,this,this.options)),this.nodeSize}async*flush(e){for await(const t of pt(this._bucket,e,this,this.options))yield{...t,path:this.path}}}async function*pt(e,t,n,r){const o=e._children,i=[];let s=0n;for(let e=0;e<o.length;e++){const n=o.get(e);if(null==n)continue;const a=e.toString(16).toUpperCase().padStart(2,"0");if(n instanceof V){let e;for await(const o of pt(n,t,null,r))e=o;if(null==e)throw new Error("Could not flush sharded directory, no subshard found");i.push({Name:a,Tsize:Number(e.size),Hash:e.cid}),s+=e.size}else if("function"==typeof n.value.flush){const e=n.value;let r;for await(const n of e.flush(t))r=n,yield r;if(null==r)throw new Error("Did not flush dir");const o=a+n.key;i.push({Name:o,Tsize:Number(r.size),Hash:r.cid}),s+=r.size}else{const e=n.value;if(null==e.cid)continue;const t=a+n.key,r=e.size;i.push({Name:t,Tsize:Number(r),Hash:e.cid}),s+=BigInt(r??0)}}const a=Uint8Array.from(o.bitField().reverse()),l=new v({type:"hamt-sharded-directory",data:a,fanout:BigInt(e.tableSize()),hashType:ct,mtime:n?.mtime,mode:n?.mode}),c={Data:l.marshal(),Links:i},u=(0,h.encode)((0,h.prepare)(c)),d=await dt(u,t,r),f=BigInt(u.byteLength)+s;yield{cid:d,unixfs:l,size:f}}function mt(e,t,n){const r=e._children,o=[];for(let e=0;e<r.length;e++){const t=r.get(e);if(null==t)continue;const i=e.toString(16).toUpperCase().padStart(2,"0");if(t instanceof V){const e=mt(t,null,n);o.push({Name:i,Tsize:Number(e),Hash:0===n.cidVersion?gt:yt})}else if("function"==typeof t.value.flush){const e=t.value.nodeSize();o.push({Name:i+t.key,Tsize:Number(e),Hash:0===n.cidVersion?gt:yt})}else{const e=t.value;if(null==e.cid)continue;const n=i+t.key,r=e.size;o.push({Name:n,Tsize:Number(r),Hash:e.cid})}}const i=Uint8Array.from(r.bitField().reverse()),s=new v({type:"hamt-sharded-directory",data:i,fanout:BigInt(e.tableSize()),hashType:ct,mtime:t?.mtime,mode:t?.mode});return(0,h.encode)((0,h.prepare)({Data:s.marshal(),Links:o})).length}const gt=A.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),yt=A.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi"),vt=(0,tt.vF)("helia:unixfs:commands:utils:hamt-utils"),bt=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),wt=async(e,t,n)=>{const r=v.unmarshal(e[0].node.Data??new Uint8Array(0)),o=BigInt(Math.pow(2,8));let i,s;e.reverse();for(let a=0;a<e.length;a++){const l=a===e.length-1,c=e[a],u=Uint8Array.from(c.children.bitField().reverse()),d=new v({type:"hamt-sharded-directory",data:u,fanout:o,hashType:ct});l&&(d.mtime=r.mtime,d.mode=r.mode),s={Data:d.marshal(),Links:c.node.Links};const f=h.encode(h.prepare(s));if(i=await dt(f,t,n),!l){const t=e[a+1];if(null==t)throw new Error("Was not operating on shard root but also had no parent?");vt("updating link in parent sub-shard with prefix %s",t.prefix),t.node.Links=t.node.Links.filter((e=>e.Name!==t.prefix)),t.node.Links.push({Name:t.prefix,Hash:i,Tsize:c.node.Links.reduce(((e,t)=>e+(t.Tsize??0)),f.byteLength)})}}if(null==i||null==s)throw new Error("Noting persisted");return{cid:i,node:s}},At=async(e,t,n,r)=>{const o=rt(ut)((0,T.s)(t)),i=[];for(;;){const s=await n.get(e,r),a=h.decode(s),l=new z,c=await o.take(8),u=bt(c);let d;i.push({prefix:u,children:l,node:a});for(const e of a.Links){const t=e.Name??"";if(t.length<2)throw new Error("Invalid HAMT - link name was too short");const n=parseInt(t.substring(0,2),16);l.set(n,!0),t.startsWith(u)&&(d=e)}if(null==d){vt("no link found with prefix %s for %s",u,t);break}const f=d.Name??"";if(f.length<2)throw new Error("Invalid HAMT - link name was too short");if(2!==f.length)break;e=d.Hash,vt("descend into sub-shard with prefix %s",f)}return{path:i,hash:o}};async function Et(e,t,n,r){if(null==e.Data)throw new Error("DagPB node had no data");const o=v.unmarshal(e.Data);let i;if("directory"===o.type)i=function(e){let t=0;for(const n of e.Links)t+=(n.Name??"").length,t+=1===n.Hash.version?yt.bytes.byteLength:gt.bytes.byteLength;return t}(e);else{if("hamt-sharded-directory"!==o.type)throw new Error("Can only estimate the size of directories or shards");i=await xt(e,0,n,t,r)}return i>n}async function xt(e,t,n,r,o){if(t>n)return n;if(null==e.Data)return t;if(!v.unmarshal(e.Data).isDirectory())return t;for(const i of e.Links){let e=i.Name??"";if(e=e.substring(2),t+=e.length,t+=i.Hash.bytes.byteLength,i.Hash.code===h.code){const e=await r.get(i.Hash,o),s=h.decode(e);t+=await xt(s,t,n,r,o)}}return t}const St=(0,tt.vF)("helia:unixfs:components:utils:add-link");async function kt(e,t,n,r){if(null==e.node.Data)throw new et("Invalid parent passed to addLink");if("hamt-sharded-directory"===v.unmarshal(e.node.Data).type)return St("adding link to sharded directory"),Rt(e,t,n,r);St(`adding ${t.Name} (${t.Hash}) to regular directory`);const o=await _t(e,t,n,r);if(await Et(o.node,n,r.shardSplitThresholdBytes,r)){St("converting directory to sharded directory");const e=await It(o,n);o.cid=e.cid,o.node=h.decode(await n.get(e.cid,r))}return o}const It=async(e,t)=>{if(null==e.node.Data)throw new et("Invalid parent passed to convertToShardedDirectory");const n=v.unmarshal(e.node.Data),r=await(async(e,t,n)=>{const r=new ft({root:!0,dir:!0,parent:void 0,parentKey:void 0,path:"",dirty:!0,flat:!1,mtime:n.mtime,mode:n.mode},n);for(let e=0;e<t.length;e++)await r._bucket.put(t[e].name,{size:t[e].size,cid:t[e].cid});const o=await pe(r.flush(e));if(null==o)throw new Error("Flushing shard yielded no result");return o})(t,e.node.Links.map((e=>({name:e.Name??"",size:BigInt(e.Tsize??0),cid:e.Hash}))),{mode:n.mode,mtime:n.mtime,cidVersion:e.cid.version});return St(`converted directory to sharded directory ${r.cid}`),r},_t=async(e,t,n,r)=>{const o=e.node.Links.filter((e=>{const n=e.Name===t.Name;if(n&&!r.allowOverwriting)throw new Ye;return!n}));if(o.push(t),null==e.node.Data)throw new Ke("Parent node with no data passed to addToDirectory");const i=v.unmarshal(e.node.Data);let s;if(null!=i.mtime){const e=Date.now(),t=Math.floor(e/1e3);i.mtime={secs:BigInt(t),nsecs:1e3*(e-1e3*t)},s=i.marshal()}else s=e.node.Data;e.node=h.prepare({Data:s,Links:o});const a=h.encode(e.node),l=await E.sha256.digest(a),c=A.TO.create(e.cid.version,h.code,l);return await n.put(c,a),{node:e.node,cid:c}},Rt=async(e,t,n,r)=>{const{path:o,hash:i}=await At(e.cid,t.Name,n,r),s=o[o.length-1];if(null==s)throw new Error("Invalid HAMT, could not generate path");const a=s.prefix,l=parseInt(a,16);St("next prefix for %s is %s",t.Name,a);const c=`${a}${t.Name}`,u=s.node.Links.find((e=>(e.Name??"").startsWith(a)));if(null!=u)if(St("link %s was present in shard",c),u.Name===c){if(!r.allowOverwriting)throw new Ye;St("overwriting %s in subshard",t.Name),s.node.Links=s.node.Links.filter((e=>e.Name!==c)),s.node.Links.push({Name:c,Hash:t.Hash,Tsize:t.Tsize})}else{if(2===u.Name?.length)throw new Error("Existing link was subshard?!");{St("prefix %s already exists, creating new subshard",a);const e=s.node.Links.findIndex((e=>e.Name?.startsWith(a))),n=s.node.Links.splice(e,1)[0],r=(n.Name??"").substring(2),l=rt(ut)((0,T.s)(r));for(let e=0;e<o.length;e++)await l.take(8);for(;;){const e=await l.take(8),s=bt(e);n.Name=`${s}${r}`;const c=await i.take(8),u=bt(c);if(s===u){const e=new z;e.set(c,!0),o.push({prefix:u,children:e,node:{Links:[]}});continue}const d=new z;d.set(c,!0),d.set(e,!0),o.push({prefix:a,children:d,node:{Links:[n,{Name:`${u}${t.Name}`,Hash:t.Hash,Tsize:t.Tsize}]}});break}}}else St("link %s was not present in sub-shard",c),t.Name=c,s.node.Links.push(t),s.children.set(l,!0),St("adding %s to existing sub-shard",c);return wt(o,n,r)};async function Ct(e,t,n={}){const r=await ze(e,t,n);if("directory"!==r.type)throw new Xe(`${e.toString()} was not a UnixFS directory`);return{cid:e,node:r.node}}async function Tt(e,t,n,r){const o=await ze(e,n,r);if("directory"!==o.type&&"file"!==o.type&&"raw"!==o.type)throw new qe(`${e.toString()} was not a UnixFS node`);return{Name:t,Tsize:o.node instanceof Uint8Array?o.node.byteLength:Pt(o.node),Hash:e}}function Pt(e){const t=e.Links.reduce(((e,t)=>e+(t.Tsize??0)),0);return h.encode(e).byteLength+t}const Dt=(0,tt.vF)("helia:unixfs:components:utils:resolve");async function Ot(e,t,n,r){if(null==t||""===t)return{cid:e};const o=`/ipfs/${e}${null==t?"":`/${t}`}`,i=await(0,nt.A)(je(o,n,r));if(0===i.length)throw new Qe("Could not find path in directory");return Dt("resolved %s to %c",t,e),{cid:i[i.length-1].cid,path:t,segments:i}}async function Mt(e,t,n,r){if(null==t.segments||0===t.segments.length)return e;let o=t.segments.pop();if(null==o)throw new Error("Insufficient segments");o.cid=e,t.segments.reverse();for(const i of t.segments){const[t,s]=await Promise.all([Ct(i.cid,n,r),Tt(o.cid,o.name,n,r)]);e=(await kt(t,s,n,{...r,allowOverwriting:!0,cidVersion:e.version})).cid,i.cid=e,o=i}return e}const Nt=He.A.bind({ignoreUndefined:!0}),Bt={},Lt=262144,Ft=He.A.bind({ignoreUndefined:!0}),Ut=(0,tt.vF)("helia:unixfs:chmod"),$t={recursive:!1,shardSplitThresholdBytes:Lt},jt=He.A.bind({ignoreUndefined:!0}),zt=(0,tt.vF)("helia:unixfs:cp"),Vt={force:!1,shardSplitThresholdBytes:Lt},Ht=He.A.bind({ignoreUndefined:!0}),Wt={},qt=He.A.bind({ignoreUndefined:!0}),Kt=(0,tt.vF)("helia:unixfs:mkdir"),Gt={cidVersion:1,force:!1,shardSplitThresholdBytes:Lt},Yt=(0,tt.vF)("helia:unixfs:utils:remove-link"),Qt=He.A.bind({ignoreUndefined:!0}),Zt=(0,tt.vF)("helia:unixfs:rm"),Jt={shardSplitThresholdBytes:Lt};async function Xt(e,t,n,r={}){const o=Qt(Jt,r);if(t.includes("/"))throw new et("Name must not have slashes");const i=await Ct(e,n,o);Zt("Removing %s from %c",t,e);const s=await async function(e,t,n,r){if(null==e.node.Data)throw new Ke("Parent node had no data");if("hamt-sharded-directory"===v.unmarshal(e.node.Data).type){Yt(`removing ${t} from sharded directory`);const o=await(async(e,t,n,r)=>{const{path:o}=await At(e.cid,t,n,r),i=o[o.length-1];if(null==i)throw new Error("Invalid HAMT, could not generate path");const s=i.node.Links.filter((e=>(e.Name??"").substring(2)===t)).map((e=>e.Name)).pop();if(null==s)throw new Error("File not found");const a=s.substring(0,2),l=parseInt(a,16);if(i.node.Links=i.node.Links.filter((e=>e.Name!==s)),i.children.unset(l),1===i.node.Links.length)for(;1!==o.length;){const e=o[o.length-1];if(null==e||e.node.Links.length>1)break;o.pop();const t=o[o.length-1];if(null==t)break;const n=e.node.Links[0];t.node.Links=t.node.Links.filter((e=>!(e.Name??"").startsWith(t.prefix))),t.node.Links.push({Hash:n.Hash,Name:`${t.prefix}${(n.Name??"").substring(2)}`,Tsize:n.Tsize})}return wt(o,n,r)})(e,t,n,r);return await Et(o.node,n,r.shardSplitThresholdBytes,r)?o:(Yt("converting shard to flat directory %c",e.cid),(async(e,t,n)=>{if(null==e.node.Data)throw new et("Invalid parent passed to convertToFlatDirectory");const r={Links:[]},o=await ze(e.cid,t);if("directory"!==o.type)throw new Error("Unexpected node type");for await(const e of o.content()){let t=0;t=e.node instanceof Uint8Array?e.node.byteLength:h.encode(e.node).length,r.Links.push({Hash:e.cid,Name:e.name,Tsize:t})}const i=v.unmarshal(e.node.Data);r.Data=new v({type:"directory",mode:i.mode,mtime:i.mtime}).marshal();const s=h.encode(h.prepare(r));return{cid:await dt(s,t,{codec:h,cidVersion:e.cid.version,signal:n.signal}),node:r}})(o,n,r))}return Yt(`removing link ${t} regular directory`),(async(e,t,n,r)=>{e.node.Links=e.node.Links.filter((e=>e.Name!==t));const o=h.encode(e.node),i=await dt(o,n,{...r,cidVersion:e.cid.version});return Yt(`Updated regular directory ${i}`),{node:e.node,cid:i}})(e,t,n,r)}(i,t,n,{...o,cidVersion:e.version});return s.cid}const en=He.A.bind({ignoreUndefined:!0}),tn=(0,tt.vF)("helia:unixfs:stat"),nn={};async function rn(e,t,n={}){const r=en(nn,n),o=await Ot(e,n.path,t,r);tn("stat %c",o.cid);const i=await ze(o.cid,t,r);if("file"!==i.type&&"directory"!==i.type&&"raw"!==i.type)throw new qe;let s,a,l=0n,c=0n,u=0n,d=0n,h=0;const f=i.type;let p;if("raw"===i.type&&(l=BigInt(i.node.byteLength),c=BigInt(i.node.byteLength),u=BigInt(i.node.byteLength),d=BigInt(i.node.byteLength),h=1),"directory"===i.type&&(l=0n,c=BigInt(i.unixfs.marshal().byteLength),u=0n,d=c,h=1,s=i.unixfs.mode,a=i.unixfs.mtime,p=i.unixfs),"file"===i.type){const e=await on(o.cid,t,r);l=i.unixfs.fileSize(),c=BigInt((i.node.Data?.byteLength??0)+i.node.Links.reduce(((e,t)=>e+(t.Tsize??0)),0)),u=BigInt(e.localFileSize),d=BigInt(e.localDagSize),h=e.blocks,s=i.unixfs.mode,a=i.unixfs.mtime,p=i.unixfs}return{cid:o.cid,mode:s,mtime:a,fileSize:l,dagSize:c,localFileSize:u,localDagSize:d,blocks:h,type:f,unixfs:p}}async function on(e,t,n){const r={localFileSize:0,localDagSize:0,blocks:0};if(await t.has(e,n)){const o=await t.get(e,n);if(r.blocks++,r.localDagSize+=o.byteLength,e.code===b.code)r.localFileSize+=o.byteLength;else{if(e.code!==h.code)throw new Ge(`${e.toString()} was neither DAG_PB nor RAW`);{const i=h.decode(o);if(i.Links.length>0)for(const e of i.Links){const o=await on(e.Hash,t,n);r.localFileSize+=o.localFileSize,r.localDagSize+=o.localDagSize,r.blocks+=o.blocks}else{if(null==i.Data)throw new Ke(`PBNode ${e.toString()} had no data`);const t=v.unmarshal(i.Data);if(null==t.data)throw new Ke(`UnixFS node ${e.toString()} had no data`);r.localFileSize+=t.data.byteLength??0}}}}return r}const sn=He.A.bind({ignoreUndefined:!0}),an=(0,tt.vF)("helia:unixfs:touch"),ln={recursive:!1,shardSplitThresholdBytes:Lt};class cn{components;constructor(e){this.components=e}async*addAll(e,t={}){yield*async function*(e,t,n={}){yield*de(e,t,{...fe,...n})}(e,this.components.blockstore,t)}async addBytes(e,t={}){return async function(e,t,n={}){const{cid:r}=await async function(e,t,n={}){return he({content:e},t,n)}(e,t,{...fe,...n});return r}(e,this.components.blockstore,t)}async addByteStream(e,t={}){return async function(e,t,n={}){const{cid:r}=await async function(e,t,n={}){return he({content:e},t,n)}(e,t,{...fe,...n});return r}(e,this.components.blockstore,t)}async addFile(e,t={}){return async function(e,t,n={}){const{cid:r}=await he(e,t,{...fe,...n});return r}(e,this.components.blockstore,t)}async addDirectory(e={},t={}){return async function(e,t,n={}){const{cid:i}=await async function(e,t,n={}){const i=await(0,o.A)(de([e],t,n));if(null==i)throw r(new Error("Nothing imported"),"ERR_INVALID_PARAMS");return i}({...e,path:e.path??"-"},t,{...fe,...n});return i}(e,this.components.blockstore,t)}async*cat(e,t={}){yield*async function*(e,t,n={}){const r=Nt(Bt,n),o=await Ot(e,r.path,t,r),i=await ze(o.cid,t,r);if("file"!==i.type&&"raw"!==i.type)throw new Je;if(null==i.content)throw new Ze;yield*i.content(r)}(e,this.components.blockstore,t)}async chmod(e,t,n={}){return async function(e,t,n,r={}){const o=Ft($t,r),i=await Ot(e,o.path,n,r);if(Ut("chmod %c %d",i.cid,t),o.recursive){const s=await(0,Te.F)((async function*(){for await(const e of Ve(i.cid,n,r)){let n,r=[];if("raw"===e.type)n=new v({type:"file",data:e.node});else{if("file"!==e.type&&"directory"!==e.type)throw new qe;n=e.unixfs,r=e.node.Links}n.mode=t;const o={Data:n.marshal(),Links:r};yield{path:e.path,content:o}}}),(t=>de(t,n,{...o,dagBuilder:async function*(t,n){for await(const r of t)yield async function(){const t=r.content,i=h.encode(t),s=await dt(i,n,{...o,cidVersion:e.version});if(null==t.Data)throw new Ke(`${s} had no data`);const a=v.unmarshal(t.Data);return{cid:s,size:BigInt(i.length),path:r.path,unixfs:a}}}})),(async e=>pe(e)));if(null==s)throw new Ge(`Could not chmod ${i.cid.toString()}`);return Mt(s.cid,i,n,o)}const s=await n.get(i.cid,r);let a,l=[];if(i.cid.code===b.code)a=new v({type:"file",data:s});else{const e=h.decode(s);if(null==e.Data)throw new Ke(`${i.cid.toString()} had no data`);l=e.Links,a=v.unmarshal(e.Data)}a.mode=t;const c=h.encode({Data:a.marshal(),Links:l}),u=await E.sha256.digest(c),d=A.TO.create(i.cid.version,h.code,u);return await n.put(d,c),Mt(d,i,n,o)}(e,t,this.components.blockstore,n)}async cp(e,t,n,r={}){return async function(e,t,n,r,o={}){const i=jt(Vt,o);if(n.includes("/"))throw new et("Name must not have slashes");const[s,a]=await Promise.all([Ct(t,r,i),Tt(e,n,r,i)]);return zt('Adding %c as "%s" to %c',e,n,t),(await kt(s,a,r,{allowOverwriting:i.force,cidVersion:t.version,...i})).cid}(e,t,n,this.components.blockstore,r)}async*ls(e,t={}){yield*async function*(e,t,n={}){const r=Ht(Wt,n),o=await Ot(e,r.path,t,r),i=await ze(o.cid,t);if("file"!==i.type&&"raw"!==i.type){if(null==i.content)throw new Ze;if("directory"!==i.type)throw new Xe;yield*i.content({offset:n.offset,length:n.length})}else yield i}(e,this.components.blockstore,t)}async mkdir(e,t,n={}){return async function(e,t,n,r={}){const o=qt(Gt,r);if(t.includes("/"))throw new et("Path must not have slashes");if("directory"!==(await ze(e,n,r)).type)throw new Xe(`${e.toString()} was not a UnixFS directory`);Kt("creating %s",t);const i={Data:new v({type:"directory",mode:o.mode,mtime:o.mtime}).marshal(),Links:[]},s=h.encode(i),a=await E.sha256.digest(s),l=A.TO.create(o.cidVersion,h.code,a);await n.put(l,s);const[c,u]=await Promise.all([Ct(e,n,o),Tt(l,t,n,o)]);return Kt("adding empty dir called %s to %c",t,e),(await kt(c,u,n,{...o,allowOverwriting:o.force})).cid}(e,t,this.components.blockstore,n)}async rm(e,t,n={}){return Xt(e,t,this.components.blockstore,n)}async stat(e,t={}){return rn(e,this.components.blockstore,t)}async touch(e,t={}){return async function(e,t,n={}){const r=sn(ln,n),o=await Ot(e,r.path,t,r),i=r.mtime??{secs:BigInt(Math.round(Date.now()/1e3)),nsecs:0};if(an("touch %c %o",o.cid,i),r.recursive){const n=await(0,Te.F)((async function*(){for await(const e of Ve(o.cid,t)){let t,n;if("raw"===e.type)t=new v({data:e.node}),n=[];else{if("file"!==e.type&&"directory"!==e.type)throw new qe;t=e.unixfs,n=e.node.Links}t.mtime=i;const r={Data:t.marshal(),Links:n};yield{path:e.path,content:r}}}),(n=>de(n,t,{...r,dagBuilder:async function*(t,n){for await(const o of t)yield async function(){const t=o.content,i=h.encode(t),s=await dt(i,n,{...r,cidVersion:e.version});if(null==t.Data)throw new Ke(`${s} had no data`);const a=v.unmarshal(t.Data);return{cid:s,size:BigInt(i.length),path:o.path,unixfs:a}}}})),(async e=>pe(e)));if(null==n)throw new Ge(`Could not chmod ${o.cid.toString()}`);return Mt(n.cid,o,t,r)}const s=await t.get(o.cid,n);let a,l=[];if(o.cid.code===b.code)a=new v({data:s});else{const e=h.decode(s);if(l=e.Links,null==e.Data)throw new Ke(`${o.cid.toString()} had no data`);a=v.unmarshal(e.Data)}a.mtime=i;const c=h.encode({Data:a.marshal(),Links:l}),u=await E.sha256.digest(c),d=A.TO.create(o.cid.version,h.code,u);return await t.put(d,c),Mt(d,o,t,r)}(e,this.components.blockstore,t)}}function un(e){return new cn(e)}},4868:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>d,decode:()=>f,decodeOptions:()=>c,encode:()=>h,encodeOptions:()=>a,name:()=>u,toByteView:()=>i});var r=n(3464),o=n(9061);function i(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}const s={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=o.TO.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new r.ou(r.ZU.tag,42),new r.ou(r.ZU.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},a={...s,typeEncoders:{...s.typeEncoders}},l={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};l.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return o.TO.decode(e.subarray(1))};const c={...l,tags:l.tags.slice()},u="dag-cbor",d=113,h=e=>r.lF(e,s),f=e=>r.D4(i(e),l)},5294:(e,t,n)=>{"use strict";n.d(t,{D4:()=>u,aY:()=>c});var r=n(3464),o=n(7019),i=n(8429),s=n(3221);class a extends o._F{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===r.ZU.map){const e=this._next();if(e.type===r.ZU.string&&"/"===e.value){const e=this._next();if(e.type===r.ZU.string){if(this._next().type!==r.ZU.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new r.ou(r.ZU.tag,42,0)}if(e.type===r.ZU.map){const e=this._next();if(e.type===r.ZU.string&&"bytes"===e.value){const e=this._next();if(e.type===r.ZU.string){for(let e=0;e<2;e++)if(this._next().type!==r.ZU.break)throw new Error("Invalid encoded Bytes form");const t=s.base64.decode(`m${e.value}`);return new r.ou(r.ZU.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}const l={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};l.tags[42]=i.TO.parse;const c=297,u=e=>{const t=function(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}(e),n=Object.assign(l,{tokenizer:new a(t,l)});return o.D4(t,n)};new TextDecoder,new TextEncoder},4400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>R,createLink:()=>I,createNode:()=>k,decode:()=>T,encode:()=>C,name:()=>_,prepare:()=>x,validate:()=>S});var r=n(9061);const o=new TextDecoder;function i(e,t){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(n+=r<28?(127&o)<<r:(127&o)*2**r,o<128)break}return[n,t]}function s(e,t){let n;[n,t]=i(e,t);const r=t+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,r),r]}function a(e,t){let n;return[n,t]=i(e,t),[7&n,n>>3,t]}function l(e){const t={},n=e.length;let r=0;for(;r<n;){let n,l;if([n,l,r]=a(e,r),1===l){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,r]=s(e,r)}else if(2===l){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,r]=s(e,r),t.Name=o.decode(i)}else{if(3!==l)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${l}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[t.Tsize,r]=i(e,r)}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const c=new TextEncoder,u=2**32,d=2**31;function h(e,t){let n=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");n=p(t,n,e.Tsize)-1,t[n]=24}if("string"==typeof e.Name){const r=c.encode(e.Name);n-=r.length,t.set(r,n),n=p(t,n,r.length)-1,t[n]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),n=p(t,n,e.Hash.length)-1,t[n]=10),t.length-n}function f(e){let t=0;if(e.Hash){const n=e.Hash.length;t+=1+n+m(n)}if("string"==typeof e.Name){const n=c.encode(e.Name).length;t+=1+n+m(n)}return"number"==typeof e.Tsize&&(t+=1+m(e.Tsize)),t}function p(e,t,n){const r=t-=m(n);for(;n>=d;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function m(e){return e%2==0&&e++,Math.floor((function(e){let t=0;return e>=u&&(e=Math.floor(e/u),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+g[e]}(e)+6)/7)}const g=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],y=["Data","Links"],v=["Hash","Name","Tsize"],b=new TextEncoder;function w(e,t){if(e===t)return 0;const n=e.Name?b.encode(e.Name):[],r=t.Name?b.encode(t.Name):[];let o=n.length,i=r.length;for(let e=0,t=Math.min(o,i);e<t;++e)if(n[e]!==r[e]){o=n[e],i=r[e];break}return o<i?-1:i<o?1:0}function A(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function E(e){if("object"==typeof e.asCID){const t=r.TO.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let n=r.TO.asCID(e.Hash);try{n||("string"==typeof e.Hash?n=r.TO.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=r.TO.decode(e.Hash)))}catch(e){throw new TypeError(`Invalid DAG-PB form: ${e.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function x(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=b.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(E),t.Links.sort(w)}else t.Links=[];return t}function S(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!A(e,y))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){const n=e.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!A(n,v))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===w(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function k(e,t=[]){return x({Data:e,Links:t})}function I(e,t,n){return E({Hash:n,Name:e,Tsize:t})}const _="dag-pb",R=112;function C(e){S(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),function(e){const t=function(e){let t=0;if(e.Data){const n=e.Data.length;t+=1+n+m(n)}if(e.Links)for(const n of e.Links){const e=f(n);t+=1+e+m(e)}return t}(e),n=new Uint8Array(t);let r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),r=p(n,r,e.Data.length)-1,n[r]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){const o=h(e.Links[t],n.subarray(0,r));r-=o,r=p(n,r,o)-1,n[r]=18}return n}(t)}function T(e){const t=function(e){const t=e.length;let n,r,o=0,i=!1;for(;o<t;){let t,c;if([t,c,o]=a(e,o),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===c){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,o]=s(e,o),n&&(i=!0)}else{if(2!==c)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`);{if(i)throw new Error("protobuf: (PBNode) duplicate Links section");let t;n||(n=[]),[t,o]=s(e,o),n.push(l(t))}}}if(o>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return r&&(c.Data=r),c.Links=n||[],c}((o=e)instanceof ArrayBuffer?new Uint8Array(o,0,o.byteLength):o),n={};var o;return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map((e=>{const t={};try{t.Hash=r.TO.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),n}},4340:(e,t,n)=>{"use strict";n.d(t,{Um:()=>a,vF:()=>l});var r=n(214),o=n(3626),i=n(8782),s=n(3221);function a(){return{forComponent:e=>l(e)}}function l(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);return r.enabled(`${e}:trace`)&&null!=r.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=r(`${e}:trace`)),Object.assign(r(e),{error:r(`${e}:error`),trace:t})}r.formatters.b=e=>null==e?"undefined":i.base58btc.baseEncode(e),r.formatters.t=e=>null==e?"undefined":o.base32.baseEncode(e),r.formatters.m=e=>null==e?"undefined":s.base64.baseEncode(e),r.formatters.p=e=>null==e?"undefined":e.toString(),r.formatters.c=e=>null==e?"undefined":e.toString(),r.formatters.k=e=>null==e?"undefined":e.toString(),r.formatters.a=e=>null==e?"undefined":e.toString()},4551:(e,t,n)=>{"use strict";n.d(t,{s:()=>g});var r=n(1454),o=n(2595),i=n(615),s=n(8030),a=n(8293);const{Ph:l,aT:c}=a,u={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=u;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:l(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=u,n="string"==typeof e?c(e):e;a.DO(n);let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=u._parseInt(n.subarray(2)),{d:s,l}=u._parseInt(i);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),l=n(s);return`30${n(s+i+4)}02${l}${o}02${a}${r}`}},d=BigInt(0),h=BigInt(1),f=(BigInt(2),BigInt(3));function p(e){const t=function(e){const t=(0,i.h)(e);return a.Q5(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,o=n.BYTES+1,l=2*n.BYTES+1;function c(e){return s.zi(e,r)}function p(e){return s.B8(e,r)}const{ProjectivePoint:m,normPrivateKeyToScalar:g,weierstrassEquation:y,isWithinCurveOrder:v}=function(e){const t=function(e){const t=(0,i.h)(e);a.Q5(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const o=t.toAffine();return a.Id(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function l(e){const{a:r,b:o}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),o)}if(!n.eql(n.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function c(e){return"bigint"==typeof e&&d<e&&e<t.n}function u(e){if(!c(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=t;if(n&&"bigint"!=typeof e){if(a.aY(e)&&(e=a.My(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let l;try{l="bigint"==typeof e?e:a.Ph((0,a.qj)("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(l=s.zi(l,i)),u(l),l}const m=new Map;function g(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const o=e=>n.eql(e,n.ZERO);return o(t)&&o(r)?y.ZERO:new y(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(o((0,a.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(p(e))}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),i=l(e);if(!n.eql(o,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,l=n.eql(n.mul(t,a),n.mul(i,o)),c=n.eql(n.mul(r,a),n.mul(s,o));return l&&c}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,o=n.mul(r,f),{px:i,py:s,pz:a}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(i,i),h=n.mul(s,s),p=n.mul(a,a),m=n.mul(i,s);return m=n.add(m,m),u=n.mul(i,a),u=n.add(u,u),l=n.mul(e,u),c=n.mul(o,p),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(m,l),u=n.mul(o,u),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,m),c=n.add(c,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),l=n.sub(l,d),u=n.mul(p,h),u=n.add(u,u),u=n.add(u,u),new y(l,c,u)}add(e){g(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:l}=e;let c=n.ZERO,u=n.ZERO,d=n.ZERO;const h=t.a,p=n.mul(t.b,f);let m=n.mul(r,s),v=n.mul(o,a),b=n.mul(i,l),w=n.add(r,o),A=n.add(s,a);w=n.mul(w,A),A=n.add(m,v),w=n.sub(w,A),A=n.add(r,i);let E=n.add(s,l);return A=n.mul(A,E),E=n.add(m,b),A=n.sub(A,E),E=n.add(o,i),c=n.add(a,l),E=n.mul(E,c),c=n.add(v,b),E=n.sub(E,c),d=n.mul(h,A),c=n.mul(p,b),d=n.add(c,d),c=n.sub(v,d),d=n.add(v,d),u=n.mul(c,d),v=n.add(m,m),v=n.add(v,m),b=n.mul(h,b),A=n.mul(p,A),v=n.add(v,b),b=n.sub(m,b),b=n.mul(h,b),A=n.add(A,b),m=n.mul(v,A),u=n.add(u,m),m=n.mul(E,A),c=n.mul(w,c),c=n.sub(c,m),m=n.mul(w,v),d=n.mul(E,d),d=n.add(d,m),new y(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return b.wNAFCached(this,m,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(y.fromAffine)}))}multiplyUnsafe(e){const r=y.ZERO;if(e===d)return r;if(u(e),e===h)return this;const{endo:o}=t;if(!o)return b.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:a,k2:l}=o.splitScalar(e),c=r,f=r,p=this;for(;s>d||l>d;)s&h&&(c=c.add(p)),l&h&&(f=f.add(p)),p=p.double(),s>>=h,l>>=h;return i&&(c=c.negate()),a&&(f=f.negate()),f=new y(n.mul(f.px,o.beta),f.py,f.pz),c.add(f)}multiply(e){u(e);let r,o,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(i);let{p:c,f:u}=this.wNAF(t),{p:d,f:h}=this.wNAF(l);c=b.constTimeNegate(e,c),d=b.constTimeNegate(a,d),d=new y(n.mul(d.px,s.beta),d.py,d.pz),r=c.add(d),o=u.add(h)}else{const{p:e,f:t}=this.wNAF(i);r=e,o=t}return y.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=y.BASE,o=(e,t)=>t!==d&&t!==h&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(o));const s=n.mul(t,e),a=n.mul(r,e),l=n.mul(o,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===h)return!0;if(n)return n(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===h?this:n?n(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(y,this,e)}toHex(e=!0){return a.My(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const v=t.nBitLength,b=(0,i.A)(y,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:c}}({...t,toBytes(e,t,r){const o=t.toAffine(),i=n.toBytes(o.x),s=a.Id;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===l&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${l} uncompressed bytes`)}{const e=a.Ph(i);if(!(d<(s=e)&&s<n.ORDER))throw new Error("Point is not on curve");const t=y(e);let o;try{o=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((o&h)===h)&&(o=n.neg(o)),{x:e,y:o}}var s}}),b=e=>a.My(a.lq(e,t.nByteLength));function w(e){return e>r>>h}const A=(e,t,n)=>a.Ph(e.slice(t,n));class E{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=(0,a.qj)("compactSignature",e,2*n),new E(A(e,0,n),A(e,n,2*n))}static fromDER(e){const{r:t,s:n}=u.toSig((0,a.qj)("DER",e));return new E(t,n)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r,s:o,recovery:i}=this,s=I((0,a.qj)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",d=m.fromHex(u+b(l)),h=p(l),f=c(-s*h),g=c(o*h),y=m.BASE.multiplyAndAddUnsafe(d,f,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return a.aT(this.toDERHex())}toDERHex(){return u.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a.aT(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const x={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=s.Tp(t.n);return s.qy(t.randomBytes(e),t.n)},precompute:(e=8,t=m.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=a.aY(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===o||r===l:n?r===2*o||r===2*l:e instanceof m}const k=t.bits2int||function(e){const n=a.Ph(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},I=t.bits2int_modN||function(e){return c(k(e))},_=a.OG(t.nBitLength);function R(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(d<=e&&e<_))throw new Error(`bigint expected < 2^${t.nBitLength}`);return a.lq(e,t.nByteLength)}const C={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};return m.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return m.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return m.fromHex(t).multiply(g(e)).toRawBytes(n)},sign:function(e,r,o=C){const{seed:i,k2sig:s}=function(e,r,o=C){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:s}=t;let{lowS:l,prehash:u,extraEntropy:f}=o;null==l&&(l=!0),e=(0,a.qj)("msgHash",e),u&&(e=(0,a.qj)("prehashed msgHash",i(e)));const y=I(e),b=g(r),A=[R(b),R(y)];if(null!=f&&!1!==f){const e=!0===f?s(n.BYTES):f;A.push((0,a.qj)("extraEntropy",e))}const x=a.Id(...A),S=y;return{seed:x,k2sig:function(e){const t=k(e);if(!v(t))return;const n=p(t),r=m.BASE.multiply(t).toAffine(),o=c(r.x);if(o===d)return;const i=c(n*c(S+o*b));if(i===d)return;let s=(r.x===o?0:2)|Number(r.y&h),a=i;return l&&w(i)&&(a=function(e){return w(e)?c(-e):e}(i),s^=1),new E(o,a,s)}}}(e,r,o),l=t;return a.fg(l.hash.outputLen,l.nByteLength,l.hmac)(i,s)},verify:function(e,n,r,o=T){const i=e;if(n=(0,a.qj)("msgHash",n),r=(0,a.qj)("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:s,prehash:l}=o;let d,h;try{if("string"==typeof i||a.aY(i))try{d=E.fromDER(i)}catch(e){if(!(e instanceof u.Err))throw e;d=E.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;d=new E(e,t)}}h=m.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(s&&d.hasHighS())return!1;l&&(n=t.hash(n));const{r:f,s:g}=d,y=I(n),v=p(g),b=c(y*v),w=c(f*v),A=m.BASE.multiplyAndAddUnsafe(h,b,w)?.toAffine();return!!A&&c(A.x)===f},ProjectivePoint:m,Signature:E,utils:x}}function m(e){return{hash:e,hmac:(t,...n)=>(0,r.w)(e,t,(0,o.Id)(...n)),randomBytes:o.po}}function g(e,t){const n=t=>p({...e,...m(t)});return Object.freeze({...n(t),create:n})}BigInt(4)},615:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,h:()=>l});var r=n(8030),o=n(8293);const i=BigInt(0),s=BigInt(1);function a(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>i;)n&s&&(r=r.add(o)),o=o.double(),n>>=s;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:a,windowSize:l}=r(t);let c=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*l;let r=Number(i&d);i>>=f,r>l&&(r-=h,i+=s);const a=t,p=t+Math.abs(r)-1,m=e%2!=0,g=r<0;0===r?u=u.add(n(m,o[a])):c=c.add(n(g,o[p]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}function l(e){return(0,r.jr)(e.Fp),(0,o.Q5)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.LH)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},8030:(e,t,n)=>{"use strict";n.d(t,{B8:()=>p,D0:()=>b,LH:()=>v,Tp:()=>A,dQ:()=>m,jr:()=>y,n7:()=>h,qy:()=>E,zH:()=>f,zi:()=>d});var r=n(8293);const o=BigInt(0),i=BigInt(1),s=BigInt(2),a=BigInt(3),l=BigInt(4),c=BigInt(5),u=BigInt(8);function d(e,t){const n=e%t;return n>=o?n:t+n}function h(e,t,n){if(n<=o||t<o)throw new Error("Expected power/modulo > 0");if(n===i)return o;let r=i;for(;t>o;)t&i&&(r=r*e%n),e=e*e%n,t>>=i;return r}function f(e,t,n){let r=e;for(;t-- >o;)r*=r,r%=n;return r}function p(e,t){if(e===o||t<=o)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=d(e,t),r=t,s=o,a=i,l=i,c=o;for(;n!==o;){const e=r/n,t=r%n,o=s-l*e,i=a-c*e;r=n,n=t,s=l,a=c,l=o,c=i}if(r!==i)throw new Error("invert: does not exist");return d(s,t)}BigInt(9),BigInt(16);const m=(e,t)=>(d(e,t)&i)===i,g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.Q5)(e,t)}function v(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function b(e,t,n=!1,f={}){if(e<=o)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:m,nByteLength:g}=v(e,t);if(g>2048)throw new Error("Field lengths over 2048 bytes are not supported");const y=function(e){if(e%l===a){const t=(e+i)/l;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%u===c){const t=(e-c)/u;return function(e,n){const r=e.mul(n,s),o=e.pow(r,t),i=e.mul(n,o),a=e.mul(e.mul(i,s),o),l=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(l),n))throw new Error("Cannot find square root");return l}}return function(e){const t=(e-i)/s;let n,r,a;for(n=e-i,r=0;n%s===o;n/=s,r++);for(a=s;a<e&&h(a,t,e)!==e-i;a++);if(1===r){const t=(e+i)/l;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const c=(n+i)/s;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,a),n),u=e.pow(o,c),d=e.pow(o,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(l,i<<BigInt(s-t-1));l=e.sqr(n),u=e.mul(u,n),d=e.mul(d,l),s=t}return u}}(e)}(e),b=Object.freeze({ORDER:e,BITS:m,BYTES:g,MASK:(0,r.OG)(m),ZERO:o,ONE:i,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return o<=t&&t<e},is0:e=>e===o,isOdd:e=>(e&i)===i,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,n)=>d(t+n,e),sub:(t,n)=>d(t-n,e),mul:(t,n)=>d(t*n,e),pow:(e,t)=>function(e,t,n){if(n<o)throw new Error("Expected power > 0");if(n===o)return e.ONE;if(n===i)return t;let r=e.ONE,s=t;for(;n>o;)n&i&&(r=e.mul(r,s)),s=e.sqr(s),n>>=i;return r}(b,e,t),div:(t,n)=>d(t*p(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>p(t,e),sqrt:f.sqrt||(e=>y(b,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(b,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,r.z)(e,g):(0,r.lq)(e,g),fromBytes:e=>{if(e.length!==g)throw new Error(`Fp.fromBytes: expected ${g}, got ${e.length}`);return n?(0,r.lX)(e):(0,r.Ph)(e)}});return Object.freeze(b)}function w(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function A(e){const t=w(e);return t+Math.ceil(t/2)}function E(e,t,n=!1){const o=e.length,s=w(t),a=A(t);if(o<16||o<a||o>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${o}`);const l=d(n?(0,r.Ph)(e):(0,r.lX)(e),t-i)+i;return n?(0,r.z)(l,s):(0,r.lq)(l,s)}},8293:(e,t,n)=>{"use strict";n.d(t,{DO:()=>s,IV:()=>y,Id:()=>b,My:()=>l,OG:()=>w,Ph:()=>f,Q5:()=>k,aT:()=>h,aY:()=>i,fg:()=>x,lX:()=>p,lq:()=>m,qj:()=>v,z:()=>g});const r=BigInt(1),o=BigInt(2);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e){if(!i(e))throw new Error("Uint8Array expected")}const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){s(e);let t="";for(let n=0;n<e.length;n++)t+=a[e[n]];return t}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function d(e){return e>=u._0&&e<=u._9?e-u._0:e>=u._A&&e<=u._F?e-(u._A-10):e>=u._a&&e<=u._f?e-(u._a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=d(e.charCodeAt(o)),i=d(e.charCodeAt(o+1));if(void 0===n||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+i}return r}function f(e){return c(l(e))}function p(e){return s(e),c(l(Uint8Array.from(e).reverse()))}function m(e,t){return h(e.toString(16).padStart(2*t,"0"))}function g(e,t){return m(e,t).reverse()}function y(e){return h(function(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}(e))}function v(e,t,n){let r;if("string"==typeof t)try{r=h(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!i(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function b(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];s(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}const w=e=>(o<<BigInt(e-1))-r,A=e=>new Uint8Array(e),E=e=>Uint8Array.from(e);function x(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=A(e),o=A(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>n(o,r,...e),l=(e=A())=>{o=a(E([0]),e),r=a(),0!==e.length&&(o=a(E([1]),e),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return b(...n)};return(e,t)=>{let n;for(s(),l(e);!(n=t(c()));)l();return s(),n}}const S={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||i(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function k(e,t,n={}){const r=(t,n,r)=>{const o=S[n];if("function"!=typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}},2716:(e,t,n)=>{"use strict";n.d(t,{ev:()=>_,OA:()=>T,GU:()=>C,TU:()=>R});var r=n(4443),o=n(2595),i=n(615),s=n(8030),a=n(8293);const l=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(8),h={zip215:!0};const f=BigInt(0),p=BigInt(1);const m=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),g=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=(BigInt(0),BigInt(1)),v=BigInt(2),b=BigInt(3),w=BigInt(5),A=BigInt(8);function E(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=m,a=e*e%i*e%i,l=(0,s.zH)(a,v,i)*a%i,c=(0,s.zH)(l,y,i)*e%i,u=(0,s.zH)(c,w,i)*c%i,d=(0,s.zH)(u,t,i)*u%i,h=(0,s.zH)(d,n,i)*d%i,f=(0,s.zH)(h,r,i)*h%i,p=(0,s.zH)(f,o,i)*f%i,g=(0,s.zH)(p,o,i)*f%i,b=(0,s.zH)(g,t,i)*u%i;return{pow_p_5_8:(0,s.zH)(b,v,i)*e%i,b2:a}}function x(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function S(e,t){const n=m,r=(0,s.zi)(t*t*t,n),o=E(e*(0,s.zi)(r*r*t,n)).pow_p_5_8;let i=(0,s.zi)(e*r*o,n);const a=(0,s.zi)(t*i*i,n),l=i,c=(0,s.zi)(i*g,n),u=a===e,d=a===(0,s.zi)(-e,n),h=a===(0,s.zi)(-e*g,n);return u&&(i=l),(d||h)&&(i=c),(0,s.dQ)(i,n)&&(i=(0,s.zi)(-i,n)),{isValid:u||d,value:i}}const k=(()=>(0,s.D0)(m,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:k,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:A,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.Zf,randomBytes:o.po,adjustScalarBytes:x,uvRatio:S}))(),_=(()=>function(e){const t=function(e){const t=(0,i.h)(e);return a.Q5(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:o,hash:f,randomBytes:p,nByteLength:m,h:g}=t,y=u<<BigInt(8*m)-c,v=n.create,b=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:l}}}),w=t.adjustScalarBytes||(e=>e),A=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),E=e=>"bigint"==typeof e&&l<e,x=(e,t)=>E(e)&&E(t)&&e<t,S=e=>e===l||x(e,y);function k(e,t){if(x(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function I(e){return e===l?e:k(e,r)}const _=new Map;function R(e){if(!(e instanceof C))throw new Error("ExtendedPoint expected")}class C{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!S(e))throw new Error("x required");if(!S(t))throw new Error("y required");if(!S(n))throw new Error("z required");if(!S(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof C)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!S(t)||!S(n))throw new Error("invalid affine point");return new C(t,n,c,v(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(C.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,_.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:o,ez:i,et:s}=this,a=v(r*r),l=v(o*o),c=v(i*i),u=v(c*c),d=v(a*e);if(v(c*v(d+l))!==v(u+v(n*v(a*l))))throw new Error("bad point: equation left != right (1)");if(v(r*o)!==v(i*s))throw new Error("bad point: equation left != right (2)")}equals(e){R(e);const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:s}=e,a=v(t*s),l=v(o*r),c=v(n*s),u=v(i*r);return a===l&&c===u}is0(){return this.equals(C.ZERO)}negate(){return new C(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:o}=this,i=v(n*n),s=v(r*r),a=v(u*v(o*o)),l=v(e*i),c=n+r,d=v(v(c*c)-i-s),h=l+s,f=h-a,p=l-s,m=v(d*f),g=v(h*p),y=v(d*p),b=v(f*h);return new C(m,g,b,y)}add(e){R(e);const{a:n,d:r}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:c,ey:d,ez:h,et:f}=e;if(n===BigInt(-1)){const e=v((i-o)*(d+c)),t=v((i+o)*(d-c)),n=v(t-e);if(n===l)return this.double();const r=v(s*u*f),p=v(a*u*h),m=p+r,g=t+e,y=p-r,b=v(m*n),w=v(g*y),A=v(m*y),E=v(n*g);return new C(b,w,E,A)}const p=v(o*c),m=v(i*d),g=v(a*r*f),y=v(s*h),b=v((o+i)*(c+d)-p-m),w=y-g,A=y+g,E=v(m-n*p),x=v(b*w),S=v(A*E),k=v(b*E),I=v(w*A);return new C(x,S,I,k)}subtract(e){return this.add(e.negate())}wNAF(e){return D.wNAFCached(this,_,e,C.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(k(e,r));return C.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=I(e);return t===l?P:this.equals(P)||t===c?this:this.equals(T)?this.wNAF(t).p:D.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(g).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:o}=this,i=this.is0();null==e&&(e=i?d:n.inv(o));const s=v(t*e),a=v(r*e),u=v(o*e);if(i)return{x:l,y:c};if(u!==c)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===c?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:o,a:i}=t,s=n.BYTES,u=(e=(0,a.qj)("pointHex",e,s)).slice(),d=e[s-1];u[s-1]=-129&d;const h=a.lX(u);h===l||k(h,r?y:n.ORDER);const f=v(h*h),p=v(f-c),m=v(o*f-i);let{isValid:g,value:w}=b(p,m);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const A=(w&c)===c,E=!!(128&d);if(!r&&w===l&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==A&&(w=v(-w)),C.fromAffine({x:w,y:h})}static fromPrivateKey(e){return N(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=a.z(t,n.BYTES);return r[r.length-1]|=e&c?128:0,r}toHex(){return a.My(this.toRawBytes())}}C.BASE=new C(t.Gx,t.Gy,c,v(t.Gx*t.Gy)),C.ZERO=new C(l,c,c,l);const{BASE:T,ZERO:P}=C,D=(0,i.A)(C,8*m);function O(e){return(0,s.zi)(e,r)}function M(e){return O(a.lX(e))}function N(e){const t=m;e=(0,a.qj)("private key",e,t);const n=(0,a.qj)("hashed private key",f(e),2*t),r=w(n.slice(0,t)),o=n.slice(t,2*t),i=M(r),s=T.multiply(i),l=s.toRawBytes();return{head:r,prefix:o,scalar:i,point:s,pointBytes:l}}function B(e=new Uint8Array,...t){const n=a.Id(...t);return M(f(A(n,(0,a.qj)("context",e),!!o)))}const L=h;return T._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return N(e).pointBytes},sign:function(e,t,r={}){e=(0,a.qj)("message",e),o&&(e=o(e));const{prefix:i,scalar:s,pointBytes:l}=N(t),c=B(r.context,i,e),u=T.multiply(c).toRawBytes(),d=O(c+B(r.context,u,l,e)*s);I(d);const h=a.Id(u,a.z(d,n.BYTES));return(0,a.qj)("result",h,2*m)},verify:function(e,t,r,i=L){const{context:s,zip215:l}=i,c=n.BYTES;e=(0,a.qj)("signature",e,2*c),t=(0,a.qj)("message",t),o&&(t=o(t));const u=a.lX(e.slice(c,2*c));let d,h,f;try{d=C.fromHex(r,l),h=C.fromHex(e.slice(0,c),l),f=T.multiplyUnsafe(u)}catch(e){return!1}if(!l&&d.isSmallOrder())return!1;const p=B(s,h.toRawBytes(),d.toRawBytes(),t);return h.add(d.multiplyUnsafe(p)).subtract(f).clearCofactor().equals(C.ZERO)},ExtendedPoint:C,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>p(n.BYTES),precompute:(e=8,t=C.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}(I))(),R=(()=>function(e){const t=(n=e,(0,a.Q5)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,o=e=>(0,s.zi)(e,r),i=t.montgomeryBits,l=Math.ceil(i/8),c=t.nByteLength,u=t.adjustScalarBytes||(e=>e),d=t.powPminus2||(e=>(0,s.n7)(e,r-BigInt(2),r));function h(e,t,n){const r=o(e*(t-n));return[t=o(t-r),n=o(n+r)]}function m(e){if("bigint"==typeof e&&f<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const g=(t.a-BigInt(2))/BigInt(4);function y(e){return(0,a.z)(o(e),l)}function v(e,t){const n=function(e){const t=(0,a.qj)("u coordinate",e,l);return 32===c&&(t[31]&=127),(0,a.lX)(t)}(t),r=function(e,t){const n=m(e),r=m(t),s=n;let a,l=p,c=f,u=n,y=p,v=f;for(let e=BigInt(i-1);e>=f;e--){const t=r>>e&p;v^=t,a=h(v,l,u),l=a[0],u=a[1],a=h(v,c,y),c=a[0],y=a[1],v=t;const n=l+c,i=o(n*n),d=l-c,f=o(d*d),m=i-f,b=u+y,w=o((u-y)*n),A=o(b*d),E=w+A,x=w-A;u=o(E*E),y=o(s*o(x*x)),l=o(i*f),c=o(m*(i+o(g*m)))}a=h(v,l,u),l=a[0],u=a[1],a=h(v,c,y),c=a[0],y=a[1];const b=d(c);return o(l*b)}(n,function(e){const t=(0,a.qj)("scalar",e),n=t.length;if(n!==l&&n!==c)throw new Error(`Expected ${l} or ${c} bytes, got ${n}`);return(0,a.lX)(u(t))}(e));if(r===f)throw new Error("Invalid private or public key received");return y(r)}const b=y(t.Gu);function w(e){return v(e,b)}return{scalarMult:v,scalarMultBase:w,getSharedSecret:(e,t)=>v(e,t),getPublicKey:e=>w(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}({P:m,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=m,{pow_p_5_8:n,b2:r}=E(e);return(0,s.zi)((0,s.zH)(n,b,t)*r,t)},adjustScalarBytes:x,randomBytes:o.po}))();function C(e){const{y:t}=_.ExtendedPoint.fromHex(e),n=BigInt(1);return k.toBytes(k.create((n+t)*k.inv(n-t)))}function T(e){const t=I.hash(e.subarray(0,32));return I.adjustScalarBytes(t).subarray(0,32)}},8576:(e,t,n)=>{"use strict";n.d(t,{s9:()=>l});var r=n(8226),o=n(4551);const i=(0,n(8030).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),s=i.create(BigInt("-3")),a=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),l=(0,o.s)({a:s,b:a,Fp:i,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},r.s)},4329:(e,t,n)=>{"use strict";n.d(t,{bI:()=>h});var r=n(8226),o=n(4551),i=n(8030);const s=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),a=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),c=BigInt(2),u=(e,t)=>(e+t/c)/t;const d=(0,i.D0)(s,void 0,void 0,{sqrt:function(e){const t=s,n=BigInt(3),r=BigInt(6),o=BigInt(11),a=BigInt(22),l=BigInt(23),u=BigInt(44),h=BigInt(88),f=e*e*e%t,p=f*f*e%t,m=(0,i.zH)(p,n,t)*p%t,g=(0,i.zH)(m,n,t)*p%t,y=(0,i.zH)(g,c,t)*f%t,v=(0,i.zH)(y,o,t)*y%t,b=(0,i.zH)(v,a,t)*v%t,w=(0,i.zH)(b,u,t)*b%t,A=(0,i.zH)(w,h,t)*w%t,E=(0,i.zH)(A,u,t)*b%t,x=(0,i.zH)(E,n,t)*p%t,S=(0,i.zH)(x,l,t)*v%t,k=(0,i.zH)(S,r,t)*f%t,I=(0,i.zH)(k,c,t);if(!d.eql(d.sqr(I),e))throw new Error("Cannot find square root");return I}}),h=(0,o.s)({a:BigInt(0),b:BigInt(7),Fp:d,n:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=a,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,c=BigInt("0x100000000000000000000000000000000"),d=u(s*e,t),h=u(-r*e,t);let f=(0,i.zi)(e-d*n-h*o,t),p=(0,i.zi)(-d*r-h*s,t);const m=f>c,g=p>c;if(m&&(f=t-f),g&&(p=t-p),f>c||p>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:f,k2neg:g,k2:p}}}},r.s);BigInt(0),h.ProjectivePoint},9190:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function o(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{Ay:()=>l,CG:()=>a,ai:()=>r,ee:()=>o,t2:()=>s,tW:()=>i});const l={number:r,bool:function(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:o,hash:i,exists:s,output:a}},6013:(e,t,n)=>{"use strict";n.d(t,{TQ:()=>s,ol:()=>a,r9:()=>i});var r=n(9190),o=n(2595);const i=(e,t,n)=>e&t^~e&n,s=(e,t,n)=>e&t^e&n^t&n;class a extends o.Vw{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.O8)(this.buffer)}update(e){(0,r.t2)(this);const{view:t,buffer:n,blockLen:i}=this,s=(e=(0,o.ZJ)(e)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,o.O8)(e);for(;i<=s-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.t2)(this),(0,r.CG)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const l=(0,o.O8)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)l.setUint32(4*e,d[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}},9271:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,B4:()=>l,P5:()=>a,WM:()=>c,im:()=>u,lD:()=>s});const r=BigInt(2**32-1),o=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>o&r)}:{h:0|Number(e>>o&r),l:0|Number(e&r)}}function s(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:a}=i(e[o],t);[n[o],r[o]]=[s,a]}return[n,r]}const a=(e,t,n)=>e<<n|t>>>32-n,l=(e,t,n)=>t<<n|e>>>32-n,c=(e,t,n)=>t<<n-32|e>>>64-n,u=(e,t,n)=>e<<n-32|t>>>64-n,d={fromBig:i,split:s,toBig:(e,t)=>BigInt(e>>>0)<<o|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:a,rotlSL:l,rotlBH:c,rotlBL:u,add:function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)}},8160:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},1454:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(9190),o=n(2595);class i extends o.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.tW)(e);const n=(0,o.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,r.t2)(this),this.iHash.update(e),this}digestInto(e){(0,r.t2)(this),(0,r.ee)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(e,t,n)=>new i(e,t).update(n).digest();s.create=(e,t)=>new i(e,t)},2200:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,a:()=>c});var r=n(9190),o=n(1454),i=n(2595);function s(e,t,n,s){(0,r.tW)(e);const a=(0,i.tY)({dkLen:32,asyncTick:10},s),{c:l,dkLen:c,asyncTick:u}=a;if((0,r.ai)(l),(0,r.ai)(c),(0,r.ai)(u),l<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,i.ZJ)(t),h=(0,i.ZJ)(n),f=new Uint8Array(c),p=o.w.create(e,d),m=p._cloneInto().update(h);return{c:l,dkLen:c,asyncTick:u,DK:f,PRF:p,PRFSalt:m}}function a(e,t,n,r,o){return e.destroy(),t.destroy(),r&&r.destroy(),o.fill(0),n}function l(e,t,n,r){const{c:o,dkLen:l,DK:c,PRF:u,PRFSalt:d}=s(e,t,n,r);let h;const f=new Uint8Array(4),p=(0,i.O8)(f),m=new Uint8Array(u.outputLen);for(let e=1,t=0;t<l;e++,t+=u.outputLen){const n=c.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(h=d._cloneInto(h)).update(f).digestInto(m),n.set(m.subarray(0,n.length));for(let e=1;e<o;e++){u._cloneInto(h).update(m).digestInto(m);for(let e=0;e<n.length;e++)n[e]^=m[e]}}return a(u,d,c,h,m)}async function c(e,t,n,r){const{c:o,dkLen:l,asyncTick:c,DK:u,PRF:d,PRFSalt:h}=s(e,t,n,r);let f;const p=new Uint8Array(4),m=(0,i.O8)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<l;e++,t+=d.outputLen){const n=u.subarray(t,t+d.outputLen);m.setInt32(0,e,!1),(f=h._cloneInto(f)).update(p).digestInto(g),n.set(g.subarray(0,n.length)),await(0,i.$h)(o-1,c,(()=>{d._cloneInto(f).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}))}return a(d,h,u,f,g)}},3009:(e,t,n)=>{"use strict";n.d(t,{H:()=>y});var r=n(6013),o=n(2595);const i=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let a=[s],l=[s.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[a,l])t.push(t[e].map((e=>i[e])));const c=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),u=a.map(((e,t)=>e.map((e=>c[t][e])))),d=l.map(((e,t)=>e.map((e=>c[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const m=new Uint32Array(16);class g extends r.ol{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)m[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,s=i,c=0|this.h2,g=c,y=0|this.h3,v=y,b=0|this.h4,w=b;for(let e=0;e<5;e++){const t=4-e,A=h[e],E=f[e],x=a[e],S=l[e],k=u[e],I=d[e];for(let t=0;t<16;t++){const r=(0,o.aZ)(n+p(e,i,c,y)+m[x[t]]+A,k[t])+b|0;n=b,b=y,y=0|(0,o.aZ)(c,10),c=i,i=r}for(let e=0;e<16;e++){const n=(0,o.aZ)(r+p(t,s,g,v)+m[S[e]]+E,I[e])+w|0;r=w,w=v,v=0|(0,o.aZ)(g,10),g=s,s=n}}this.set(this.h1+c+v|0,this.h2+y+w|0,this.h3+b+r|0,this.h4+n+s|0,this.h0+i+g|0)}roundClean(){m.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const y=(0,o.ld)((()=>new g))},8226:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(6013),o=n(2595);const i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class l extends r.ol{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],n=a[e-2],r=(0,o.Ow)(t,7)^(0,o.Ow)(t,18)^t>>>3,i=(0,o.Ow)(n,17)^(0,o.Ow)(n,19)^n>>>10;a[e]=i+a[e-7]+r+a[e-16]|0}let{A:n,B:s,C:l,D:c,E:u,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,o.Ow)(u,6)^(0,o.Ow)(u,11)^(0,o.Ow)(u,25))+(0,r.r9)(u,d,h)+i[e]+a[e]|0,p=((0,o.Ow)(n,2)^(0,o.Ow)(n,13)^(0,o.Ow)(n,22))+(0,r.TQ)(n,s,l)|0;f=h,h=d,d=u,u=c+t|0,c=l,l=s,s=n,n=t+p|0}n=n+this.A|0,s=s+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(n,s,l,c,u,d,h,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const c=(0,o.ld)((()=>new l))},7238:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>x,Md:()=>A,a0:()=>S,lY:()=>E});var r=n(9190),o=n(9271),i=n(2595);const s=[],a=[],l=[],c=BigInt(0),u=BigInt(1),d=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=u,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],s.push(2*(5*r+n)),a.push((e+1)*(e+2)/2%64);let o=c;for(let e=0;e<7;e++)t=(t<<u^(t>>h)*p)%f,t&d&&(o^=u<<(u<<BigInt(e))-u);l.push(o)}const[m,g]=(0,o.lD)(l,!0),y=(e,t,n)=>n>32?(0,o.WM)(e,t,n):(0,o.P5)(e,t,n),v=(e,t,n)=>n>32?(0,o.im)(e,t,n):(0,o.B4)(e,t,n);class b extends i.Vw{constructor(e,t,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,r.ai)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.DH)(this.state)}keccak(){i.qv||(0,i.Fc)(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,o=(t+2)%10,i=n[o],s=n[o+1],a=y(i,s,1)^n[r],l=v(i,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=l}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=a[n],i=y(t,o,r),l=v(t,o,r),c=s[n];t=e[c],o=e[c+1],e[c]=i,e[c+1]=l}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}n.fill(0)}(this.state32,this.rounds),i.qv||(0,i.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,r.t2)(this);const{blockLen:t,state:n}=this,o=(e=(0,i.ZJ)(e)).length;for(let r=0;r<o;){const i=Math.min(t-this.pos,o-r);for(let t=0;t<i;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,r.t2)(this,!1),(0,r.ee)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,r.ai)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,r.CG)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:i}=this;return e||(e=new b(t,n,r,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const w=(e,t,n)=>(0,i.ld)((()=>new b(t,e,n))),A=w(1,144,28),E=w(1,136,32),x=w(1,104,48),S=w(1,72,64)},4443:(e,t,n)=>{"use strict";n.d(t,{Zf:()=>h,qt:()=>f});var r=n(6013),o=n(9271),i=n(2595);const[s,a]=(()=>o.Ay.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),l=new Uint32Array(80),c=new Uint32Array(80);class u extends r.ol{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,o,i,s,a,l,c,u,d,h,f,p,m]}set(e,t,n,r,o,i,s,a,l,c,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)l[n]=e.getUint32(t),c[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|l[e-15],n=0|c[e-15],r=o.Ay.rotrSH(t,n,1)^o.Ay.rotrSH(t,n,8)^o.Ay.shrSH(t,n,7),i=o.Ay.rotrSL(t,n,1)^o.Ay.rotrSL(t,n,8)^o.Ay.shrSL(t,n,7),s=0|l[e-2],a=0|c[e-2],u=o.Ay.rotrSH(s,a,19)^o.Ay.rotrBH(s,a,61)^o.Ay.shrSH(s,a,6),d=o.Ay.rotrSL(s,a,19)^o.Ay.rotrBL(s,a,61)^o.Ay.shrSL(s,a,6),h=o.Ay.add4L(i,d,c[e-7],c[e-16]),f=o.Ay.add4H(h,r,u,l[e-7],l[e-16]);l[e]=0|f,c[e]=0|h}let{Ah:n,Al:r,Bh:i,Bl:u,Ch:d,Cl:h,Dh:f,Dl:p,Eh:m,El:g,Fh:y,Fl:v,Gh:b,Gl:w,Hh:A,Hl:E}=this;for(let e=0;e<80;e++){const t=o.Ay.rotrSH(m,g,14)^o.Ay.rotrSH(m,g,18)^o.Ay.rotrBH(m,g,41),x=o.Ay.rotrSL(m,g,14)^o.Ay.rotrSL(m,g,18)^o.Ay.rotrBL(m,g,41),S=m&y^~m&b,k=g&v^~g&w,I=o.Ay.add5L(E,x,k,a[e],c[e]),_=o.Ay.add5H(I,A,t,S,s[e],l[e]),R=0|I,C=o.Ay.rotrSH(n,r,28)^o.Ay.rotrBH(n,r,34)^o.Ay.rotrBH(n,r,39),T=o.Ay.rotrSL(n,r,28)^o.Ay.rotrBL(n,r,34)^o.Ay.rotrBL(n,r,39),P=n&i^n&d^i&d,D=r&u^r&h^u&h;A=0|b,E=0|w,b=0|y,w=0|v,y=0|m,v=0|g,({h:m,l:g}=o.Ay.add(0|f,0|p,0|_,0|R)),f=0|d,p=0|h,d=0|i,h=0|u,i=0|n,u=0|r;const O=o.Ay.add3L(R,T,D);n=o.Ay.add3H(O,_,C,P),r=0|O}({h:n,l:r}=o.Ay.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:u}=o.Ay.add(0|this.Bh,0|this.Bl,0|i,0|u)),({h:d,l:h}=o.Ay.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=o.Ay.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:m,l:g}=o.Ay.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:v}=o.Ay.add(0|this.Fh,0|this.Fl,0|y,0|v)),({h:b,l:w}=o.Ay.add(0|this.Gh,0|this.Gl,0|b,0|w)),({h:A,l:E}=o.Ay.add(0|this.Hh,0|this.Hl,0|A,0|E)),this.set(n,r,i,u,d,h,f,p,m,g,y,v,b,w,A,E)}roundClean(){l.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class d extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const h=(0,i.ld)((()=>new u)),f=(0,i.ld)((()=>new d))},2595:(e,t,n)=>{"use strict";n.d(t,{$h:()=>v,AI:()=>b,DH:()=>i,Fc:()=>d,Id:()=>A,My:()=>f,O8:()=>s,Ow:()=>a,Vw:()=>E,ZJ:()=>w,aT:()=>g,aZ:()=>l,ld:()=>k,po:()=>I,qv:()=>c,tY:()=>S});var r=n(8160),o=n(9190);const i=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),a=(e,t)=>e<<32-t|e>>>t,l=(e,t)=>e<<t|e>>>32-t>>>0,c=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],u=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function d(e){for(let t=0;t<e.length;t++)e[t]=u(e[t])}const h=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function f(e){(0,o.ee)(e);let t="";for(let n=0;n<e.length;n++)t+=h[e[n]];return t}const p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m(e){return e>=p._0&&e<=p._9?e-p._0:e>=p._A&&e<=p._F?e-(p._A-10):e>=p._a&&e<=p._f?e-(p._a-10):void 0}function g(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=m(e.charCodeAt(o)),i=m(e.charCodeAt(o+1));if(void 0===n||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+i}return r}const y=async()=>{};async function v(e,t,n){let r=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-r;e>=0&&e<t||(await y(),r+=e)}}function b(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function w(e){return"string"==typeof e&&(e=b(e)),(0,o.ee)(e),e}function A(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];(0,o.ee)(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}class E{clone(){return this._cloneInto()}}const x={}.toString;function S(e,t){if(void 0!==t&&"[object Object]"!==x.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function k(e){const t=t=>e().update(w(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function I(e=32){if(r.E&&"function"==typeof r.E.getRandomValues)return r.E.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},7324:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}function s(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function a(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function l(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function c(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}n.d(t,{I:()=>w});const u=(e,t)=>t?u(t,e%t):e,d=(e,t)=>e+(t-u(e,t));function h(e,t,n,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(d(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${d(t,n)}`);let i=0,s=0;const a=2**n-1,l=[];for(const o of e){if(r(o),o>=2**t)throw new Error(`convertRadix2: invalid data word=${o} from=${t}`);if(i=i<<t|o,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)l.push((i>>s-n&a)>>>0);i&=2**s-1}if(i=i<<n-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&l.push(i>>>0),l}function f(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,e)>32||d(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!o(n))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}f(4),s("0123456789ABCDEF"),a(""),f(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),a(""),f(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(""),f(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),a(""),f(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(""),f(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),c((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),f(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),a(""),f(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(""),f(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),a("");const m=i(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),g=[996825010,642813549,513874426,1027748829,705979059];function y(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<g.length;e++)1==(t>>e&1)&&(n^=g[e]);return n}function v(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=y(o)^n>>5}o=y(o);for(let t=0;t<r;t++)o=y(o)^31&e.charCodeAt(t);for(let e of t)o=y(o)^e;for(let e=0;e<6;e++)o=y(o);return o^=n,m.encode(h([o%2**30],30,5,!1))}function b(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,o=n.encode,i=p(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=r.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=r.slice(0,o),s=r.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=m.decode(s).slice(0,-6),l=v(i,a,t);if(!s.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);const i=e.toLowerCase(),s=v(i,n,t);return`${i}1${m.encode(n)}${s}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const w=b("bech32");f(4),s("0123456789abcdef"),a(""),c((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))},3464:(e,t,n)=>{"use strict";n.d(t,{D4:()=>o.D4,ZU:()=>i.Z,lF:()=>r.lF,ou:()=>i.o});var r=n(1909),o=n(4207),i=n(6888)},8801:(e,t,n)=>{"use strict";n.d(t,{CV:()=>a,Gr:()=>h,H2:()=>p,Km:()=>d,VF:()=>c,Wg:()=>l,Xb:()=>f,gv:()=>m,nI:()=>i,tA:()=>u,xh:()=>s});var r=n(6888),o=n(3159);const i=[24,256,65536,4294967296,BigInt("18446744073709551616")];function s(e,t,n){(0,o.pZ)(e,t,1);const r=e[t];if(!0===n.strict&&r<i[0])throw new Error(`${o.WR} integer encoded in more bytes than necessary (strict decode)`);return r}function a(e,t,n){(0,o.pZ)(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<i[1])throw new Error(`${o.WR} integer encoded in more bytes than necessary (strict decode)`);return r}function l(e,t,n){(0,o.pZ)(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<i[2])throw new Error(`${o.WR} integer encoded in more bytes than necessary (strict decode)`);return r}function c(e,t,n){(0,o.pZ)(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],s=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(r)<<BigInt(32))+BigInt(s);if(!0===n.strict&&a<i[3])throw new Error(`${o.WR} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===n.allowBigInt)return a;throw new Error(`${o.WR} integers outside of the safe integer range are not supported`)}function u(e,t,n,o){return new r.o(r.Z.uint,s(e,t+1,o),2)}function d(e,t,n,o){return new r.o(r.Z.uint,a(e,t+1,o),3)}function h(e,t,n,o){return new r.o(r.Z.uint,l(e,t+1,o),5)}function f(e,t,n,o){return new r.o(r.Z.uint,c(e,t+1,o),9)}function p(e,t){return m(e,0,t.value)}function m(e,t,n){if(n<i[0]){const r=Number(n);e.push([t|r])}else if(n<i[1]){const r=Number(n);e.push([24|t,r])}else if(n<i[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<i[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<i[4]))throw new Error(`${o.WR} encountered BigInt larger than allowable range`);{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}p.encodedSize=function(e){return m.encodedSize(e.value)},m.encodedSize=function(e){return e<i[0]?1:e<i[1]?2:e<i[2]?3:e<i[3]?5:9},p.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0}},4077:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,gW:()=>d,tF:()=>a,ug:()=>h,wJ:()=>s});var r=n(6888),o=n(8801),i=n(3159);function s(e,t,n,i){return new r.o(r.Z.negint,-1-o.xh(e,t+1,i),2)}function a(e,t,n,i){return new r.o(r.Z.negint,-1-o.CV(e,t+1,i),3)}function l(e,t,n,i){return new r.o(r.Z.negint,-1-o.Wg(e,t+1,i),5)}const c=BigInt(-1),u=BigInt(1);function d(e,t,n,s){const a=o.VF(e,t+1,s);if("bigint"!=typeof a){const e=-1-a;if(e>=Number.MIN_SAFE_INTEGER)return new r.o(r.Z.negint,e,9)}if(!0!==s.allowBigInt)throw new Error(`${i.WR} integers outside of the safe integer range are not supported`);return new r.o(r.Z.negint,c-BigInt(a),9)}function h(e,t){const n=t.value,r="bigint"==typeof n?n*c-u:-1*n-1;o.gv(e,t.type.majorEncoded,r)}h.encodedSize=function(e){const t=e.value,n="bigint"==typeof t?t*c-u:-1*t-1;return n<o.nI[0]?1:n<o.nI[1]?2:n<o.nI[2]?3:n<o.nI[3]?5:9},h.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}},8404:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>c,Hy:()=>d,LC:()=>l,MW:()=>p,N8:()=>u,cT:()=>h});var r=n(6888),o=n(3159),i=n(8801),s=n(3739);function a(e,t,n,i){(0,o.pZ)(e,t,n+i);const a=(0,s.di)(e,t+n,t+n+i);return new r.o(r.Z.bytes,a,n+i)}function l(e,t,n,r){return a(e,t,1,n)}function c(e,t,n,r){return a(e,t,2,i.xh(e,t+1,r))}function u(e,t,n,r){return a(e,t,3,i.CV(e,t+1,r))}function d(e,t,n,r){return a(e,t,5,i.Wg(e,t+1,r))}function h(e,t,n,r){const s=i.VF(e,t+1,r);if("bigint"==typeof s)throw new Error(`${o.WR} 64-bit integer bytes lengths not supported`);return a(e,t,9,s)}function f(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===r.Z.string?(0,s.sH)(e.value):e.value),e.encodedBytes}function p(e,t){const n=f(t);i.gv(e,t.type.majorEncoded,n.length),e.push(n)}p.encodedSize=function(e){const t=f(e);return i.gv.encodedSize(t.length)+t.length},p.compareTokens=function(e,t){return n=f(e),r=f(t),n.length<r.length?-1:n.length>r.length?1:(0,s.UD)(n,r);var n,r}},837:(e,t,n)=>{"use strict";n.d(t,{$A:()=>h,Hc:()=>c,Rw:()=>d,aj:()=>p,gh:()=>f,s4:()=>u});var r=n(6888),o=n(3159),i=n(8801),s=n(8404),a=n(3739);function l(e,t,n,i,s){const l=n+i;(0,o.pZ)(e,t,l);const c=new r.o(r.Z.string,(0,a.dI)(e,t+n,t+l),l);return!0===s.retainStringBytes&&(c.byteValue=(0,a.di)(e,t+n,t+l)),c}function c(e,t,n,r){return l(e,t,1,n,r)}function u(e,t,n,r){return l(e,t,2,i.xh(e,t+1,r),r)}function d(e,t,n,r){return l(e,t,3,i.CV(e,t+1,r),r)}function h(e,t,n,r){return l(e,t,5,i.Wg(e,t+1,r),r)}function f(e,t,n,r){const s=i.VF(e,t+1,r);if("bigint"==typeof s)throw new Error(`${o.WR} 64-bit integer string lengths not supported`);return l(e,t,9,s,r)}const p=s.MW},9708:(e,t,n)=>{"use strict";n.d(t,{NL:()=>h,RD:()=>c,_i:()=>l,fd:()=>u,go:()=>d,tW:()=>a,u8:()=>f});var r=n(6888),o=n(8801),i=n(3159);function s(e,t,n,o){return new r.o(r.Z.array,o,n)}function a(e,t,n,r){return s(0,0,1,n)}function l(e,t,n,r){return s(0,0,2,o.xh(e,t+1,r))}function c(e,t,n,r){return s(0,0,3,o.CV(e,t+1,r))}function u(e,t,n,r){return s(0,0,5,o.Wg(e,t+1,r))}function d(e,t,n,r){const a=o.VF(e,t+1,r);if("bigint"==typeof a)throw new Error(`${i.WR} 64-bit integer array lengths not supported`);return s(0,0,9,a)}function h(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${i.WR} indefinite length items not allowed`);return s(0,0,1,1/0)}function f(e,t){o.gv(e,r.Z.array.majorEncoded,t.value)}f.compareTokens=o.H2.compareTokens,f.encodedSize=function(e){return o.gv.encodedSize(e.value)}},4270:(e,t,n)=>{"use strict";n.d(t,{CV:()=>u,LO:()=>f,Ws:()=>c,dk:()=>l,hi:()=>d,m_:()=>h,sP:()=>a});var r=n(6888),o=n(8801),i=n(3159);function s(e,t,n,o){return new r.o(r.Z.map,o,n)}function a(e,t,n,r){return s(0,0,1,n)}function l(e,t,n,r){return s(0,0,2,o.xh(e,t+1,r))}function c(e,t,n,r){return s(0,0,3,o.CV(e,t+1,r))}function u(e,t,n,r){return s(0,0,5,o.Wg(e,t+1,r))}function d(e,t,n,r){const a=o.VF(e,t+1,r);if("bigint"==typeof a)throw new Error(`${i.WR} 64-bit integer map lengths not supported`);return s(0,0,9,a)}function h(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${i.WR} indefinite length items not allowed`);return s(0,0,1,1/0)}function f(e,t){o.gv(e,r.Z.map.majorEncoded,t.value)}f.compareTokens=o.H2.compareTokens,f.encodedSize=function(e){return o.gv.encodedSize(e.value)}},6815:(e,t,n)=>{"use strict";n.d(t,{RV:()=>c,U6:()=>a,UE:()=>i,Yv:()=>l,hL:()=>s,jD:()=>u});var r=n(6888),o=n(8801);function i(e,t,n,o){return new r.o(r.Z.tag,n,1)}function s(e,t,n,i){return new r.o(r.Z.tag,o.xh(e,t+1,i),2)}function a(e,t,n,i){return new r.o(r.Z.tag,o.CV(e,t+1,i),3)}function l(e,t,n,i){return new r.o(r.Z.tag,o.Wg(e,t+1,i),5)}function c(e,t,n,i){return new r.o(r.Z.tag,o.VF(e,t+1,i),9)}function u(e,t){o.gv(e,r.Z.tag.majorEncoded,t.value)}u.compareTokens=o.H2.compareTokens,u.encodedSize=function(e){return o.gv.encodedSize(e.value)}},6532:(e,t,n)=>{"use strict";n.d(t,{IC:()=>p,VQ:()=>m,jD:()=>u,lD:()=>g,qz:()=>d,y:()=>f});var r=n(6888),o=n(3159),i=n(8801);const s=20,a=21,l=22,c=23;function u(e,t,n,i){if(!1===i.allowUndefined)throw new Error(`${o.WR} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new r.o(r.Z.null,null,1):new r.o(r.Z.undefined,void 0,1)}function d(e,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${o.WR} indefinite length items not allowed`);return new r.o(r.Z.break,void 0,1)}function h(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${o.WR} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${o.WR} Infinity values are not supported`)}return new r.o(r.Z.float,e,t)}function f(e,t,n,r){return h(A(e,t+1),3,r)}function p(e,t,n,r){return h(x(e,t+1),5,r)}function m(e,t,n,r){return h(S(e,t+1),9,r)}function g(e,t,n){const o=t.value;if(!1===o)e.push([r.Z.float.majorEncoded|s]);else if(!0===o)e.push([r.Z.float.majorEncoded|a]);else if(null===o)e.push([r.Z.float.majorEncoded|l]);else if(void 0===o)e.push([r.Z.float.majorEncoded|c]);else{let t,r=!1;n&&!0===n.float64||(w(o),t=A(b,1),o===t||Number.isNaN(o)?(b[0]=249,e.push(b.slice(0,3)),r=!0):(E(o),t=x(b,1),o===t&&(b[0]=250,e.push(b.slice(0,5)),r=!0))),r||(i=o,v.setFloat64(0,i,!1),t=S(b,1),b[0]=251,e.push(b.slice(0,9)))}var i}g.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null==n)return 1;if(!t||!0!==t.float64){w(n);let e=A(b,1);if(n===e||Number.isNaN(n))return 3;if(E(n),e=x(b,1),n===e)return 5}return 9};const y=new ArrayBuffer(9),v=new DataView(y,1),b=new Uint8Array(y,0);function w(e){if(e===1/0)v.setUint16(0,31744,!1);else if(e===-1/0)v.setUint16(0,64512,!1);else if(Number.isNaN(e))v.setUint16(0,32256,!1);else{v.setFloat32(0,e);const t=v.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)v.setUint16(0,31744,!1);else if(0===n)v.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?v.setUint16(0,0):e<-14?v.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):v.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function A(e,t){if(e.length-t<2)throw new Error(`${o.WR} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let s;return s=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-s:s}function E(e){v.setFloat32(0,e,!1)}function x(e,t){if(e.length-t<4)throw new Error(`${o.WR} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function S(e,t){if(e.length-t<8)throw new Error(`${o.WR} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}g.compareTokens=i.H2.compareTokens},3739:(e,t,n)=>{"use strict";n.d(t,{H8:()=>a,UD:()=>p,c4:()=>f,ci:()=>u,dI:()=>l,di:()=>d,sH:()=>c,xW:()=>h,y9:()=>v});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,o=new TextDecoder,i=new TextEncoder;function s(e){return r&&globalThis.Buffer.isBuffer(e)}function a(e){return e instanceof Uint8Array?s(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const l=r?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):g(e,t,n):(e,t,n)=>n-t>64?o.decode(e.subarray(t,n)):g(e,t,n),c=r?e=>e.length>64?globalThis.Buffer.from(e):m(e):e=>e.length>64?i.encode(e):m(e),u=e=>Uint8Array.from(e),d=r?(e,t,n)=>s(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),h=r?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),a(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let t of e)r+t.length>n.length&&(t=t.subarray(0,n.length-r)),n.set(t,r),r+=t.length;return n},f=r?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function p(e,t){if(s(e)&&s(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function m(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function g(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,l;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128==(192&n)&&(l=(31&o)<<6|63&n,l>127&&(i=l));break;case 3:n=e[t+1],r=e[t+2],128==(192&n)&&128==(192&r)&&(l=(15&o)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return v(r)}const y=4096;function v(e){const t=e.length;if(t<=y)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=y));return n}},3159:(e,t,n)=>{"use strict";n.d(t,{WR:()=>r,pZ:()=>s,uz:()=>o});const r="CBOR decode error:",o="CBOR encode error:",i=[];function s(e,t,n){if(e.length-t<n)throw new Error(`${r} not enough data for type`)}i[23]=1,i[24]=2,i[25]=3,i[26]=5,i[27]=9},4207:(e,t,n)=>{"use strict";n.d(t,{D4:()=>d});var r=n(3159),o=n(6888),i=n(1825);const s={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=i.wL[e];if(void 0===t){const n=i.lA[e];if(!n)throw new Error(`${r.WR} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=31&e;t=n(this.data,this._pos,o,this.options)}return this._pos+=t.encodedLength,t}}const l=Symbol.for("DONE"),c=Symbol.for("BREAK");function u(e,t){if(e.done())return l;const n=e.next();if(n.type===o.Z.break)return c;if(n.type.terminal)return n.value;if(n.type===o.Z.array)return function(e,t,n){const o=[];for(let i=0;i<e.value;i++){const s=u(t,n);if(s===c){if(e.value===1/0)break;throw new Error(`${r.WR} got unexpected break to lengthed array`)}if(s===l)throw new Error(`${r.WR} found array but not enough entries (got ${i}, expected ${e.value})`);o[i]=s}return o}(n,e,t);if(n.type===o.Z.map)return function(e,t,n){const o=!0===n.useMaps,i=o?void 0:{},s=o?new Map:void 0;for(let a=0;a<e.value;a++){const d=u(t,n);if(d===c){if(e.value===1/0)break;throw new Error(`${r.WR} got unexpected break to lengthed map`)}if(d===l)throw new Error(`${r.WR} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==o&&"string"!=typeof d)throw new Error(`${r.WR} non-string keys not supported (got ${typeof d})`);if(!0===n.rejectDuplicateMapKeys&&(o&&s.has(d)||!o&&d in i))throw new Error(`${r.WR} found repeat map key "${d}"`);const h=u(t,n);if(h===l)throw new Error(`${r.WR} found map but not enough entries (got ${a} [no value], expected ${e.value})`);o?s.set(d,h):i[d]=h}return o?s:i}(n,e,t);if(n.type===o.Z.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const r=u(e,t);return t.tags[n.value](r)}throw new Error(`${r.WR} tag not supported (${n.value})`)}throw new Error("unsupported")}function d(e,t){const[n,o]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${r.WR} data to decode must be a Uint8Array`);const n=(t=Object.assign({},s,t)).tokenizer||new a(e,t),o=u(n,t);if(o===l)throw new Error(`${r.WR} did not find any content to decode`);if(o===c)throw new Error(`${r.WR} got unexpected break`);return[o,e.subarray(n.pos())]}(e,t);if(o.length>0)throw new Error(`${r.WR} too many terminals, data makes no sense`);return n}},1909:(e,t,n)=>{"use strict";n.d(t,{lF:()=>_});const r=["string","number","bigint","symbol"],o=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];var i=n(6888),s=n(3739);class a{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=(0,s.c4)(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=(0,s.di)(n,0,this.cursor)}else t=(0,s.xW)(this.chunks,this.cursor);return e&&this.reset(),t}}var l=n(3159),c=n(1825),u=n(8801),d=n(4077),h=n(8404),f=n(837),p=n(9708),m=n(4270),g=n(6815),y=n(6532);const v={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=b[o].compareTokens(n,r);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i},quickEncodeToken:c.Nx},b=function(){const e=[];return e[i.Z.uint.major]=u.H2,e[i.Z.negint.major]=d.ug,e[i.Z.bytes.major]=h.MW,e[i.Z.string.major]=f.aj,e[i.Z.array.major]=p.u8,e[i.Z.map.major]=m.LO,e[i.Z.tag.major]=g.jD,e[i.Z.float.major]=y.lD,e}(),w=new a;class A{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${l.uz} object contains circular references`);return new A(t,e)}}const E={null:new i.o(i.Z.null,null),undefined:new i.o(i.Z.undefined,void 0),true:new i.o(i.Z.true,!0),false:new i.o(i.Z.false,!1),emptyArray:new i.o(i.Z.array,0),emptyMap:new i.o(i.Z.map,0)},x={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.o(i.Z.uint,e):new i.o(i.Z.negint,e):new i.o(i.Z.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new i.o(i.Z.uint,e):new i.o(i.Z.negint,e),Uint8Array:(e,t,n,r)=>new i.o(i.Z.bytes,e),string:(e,t,n,r)=>new i.o(i.Z.string,e),boolean:(e,t,n,r)=>e?E.true:E.false,null:(e,t,n,r)=>E.null,undefined:(e,t,n,r)=>E.undefined,ArrayBuffer:(e,t,n,r)=>new i.o(i.Z.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new i.o(i.Z.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[E.emptyArray,new i.o(i.Z.break)]:E.emptyArray;r=A.createCheck(r,e);const o=[];let s=0;for(const t of e)o[s++]=S(t,n,r);return n.addBreakTokens?[new i.o(i.Z.array,e.length),o,new i.o(i.Z.break)]:[new i.o(i.Z.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,s=o?e.keys():Object.keys(e),a=o?e.size:s.length;if(!a)return!0===n.addBreakTokens?[E.emptyMap,new i.o(i.Z.break)]:E.emptyMap;r=A.createCheck(r,e);const l=[];let c=0;for(const t of s)l[c++]=[S(t,n,r),S(o?e.get(t):e[t],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(l,n),n.addBreakTokens?[new i.o(i.Z.map,a),l,new i.o(i.Z.break)]:[new i.o(i.Z.map,a),l]}};x.Map=x.Object,x.Buffer=x.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))x[`${e}Array`]=x.DataView;function S(e,t={},n){const i=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(r.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";return function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(o.includes(t))return t}(e)||"Object"}(e),s=t&&t.typeEncoders&&t.typeEncoders[i]||x[i];if("function"==typeof s){const r=s(e,i,t,n);if(null!=r)return r}const a=x[i];if(!a)throw new Error(`${l.uz} unsupported type: ${i}`);return a(e,i,t,n)}function k(e,t,n,r){if(Array.isArray(t))for(const o of t)k(e,o,n,r);else n[t.type.major](e,t,r)}function I(e,t,n){const r=S(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new a(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return(0,s.H8)(t.chunks[0])}}return w.reset(),k(w,r,t,n),w.toBytes(!0)}function _(e,t){return t=Object.assign({},v,t),I(e,b,t)}},7019:(e,t,n)=>{"use strict";n.d(t,{_F:()=>a,D4:()=>l});var r=n(6888),o=(n(1909),n(3159)),i=n(3739);r.Z.uint.major,r.Z.negint.major,r.Z.bytes.major,r.Z.string.major,r.Z.array.major,r.Z.map.major,r.Z.tag.major,r.Z.float.major;var s=n(4207);class a{constructor(e,t={}){this._pos=0,this.data=e,this.options=t,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;32===e||9===e||13===e||10===e;)e=this.data[++this._pos]}expect(e){if(this.data.length-this._pos<e.length)throw new Error(`${o.WR} unexpected end of input at position ${this._pos}`);for(let t=0;t<e.length;t++)if(this.data[this._pos++]!==e[t])throw new Error(`${o.WR} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){const e=this._pos;let t=!1,n=!1;const i=e=>{for(;!this.done();){const t=this.ch();if(!e.includes(t))break;this._pos++}};if(45===this.ch()&&(t=!0,this._pos++),48===this.ch()){if(this._pos++,46!==this.ch())return new r.o(r.Z.uint,0,this._pos-e);this._pos++,n=!0}if(i([48,49,50,51,52,53,54,55,56,57]),t&&this._pos===e+1)throw new Error(`${o.WR} unexpected token at position ${this._pos}`);if(!this.done()&&46===this.ch()){if(n)throw new Error(`${o.WR} unexpected token at position ${this._pos}`);n=!0,this._pos++,i([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(n=!0,this._pos++,this.done()||43!==this.ch()&&45!==this.ch()||this._pos++,i([48,49,50,51,52,53,54,55,56,57]));const s=String.fromCharCode.apply(null,this.data.subarray(e,this._pos)),a=parseFloat(s);return n?new r.o(r.Z.float,a,this._pos-e):!0!==this.options.allowBigInt||Number.isSafeInteger(a)?new r.o(a>=0?r.Z.uint:r.Z.negint,a,this._pos-e):new r.o(a>=0?r.Z.uint:r.Z.negint,BigInt(s),this._pos-e)}parseString(){if(34!==this.ch())throw new Error(`${o.WR} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let e=this._pos,t=0;e<this.data.length&&t<65536;e++,t++){const n=this.data[e];if(92===n||n<32||n>=128)break;if(34===n){const n=String.fromCharCode.apply(null,this.data.subarray(this._pos,e));return this._pos=e+1,new r.o(r.Z.string,n,t)}}const e=this._pos,t=[],n=()=>{if(this._pos+4>=this.data.length)throw new Error(`${o.WR} unexpected end of unicode escape sequence at position ${this._pos}`);let e=0;for(let t=0;t<4;t++){let t=this.ch();if(t>=48&&t<=57)t-=48;else if(t>=97&&t<=102)t=t-97+10;else{if(!(t>=65&&t<=70))throw new Error(`${o.WR} unexpected unicode escape character at position ${this._pos}`);t=t-65+10}e=16*e+t,this._pos++}return e},s=()=>{const e=this.ch();let n,r,i,s,a=null,l=e>239?4:e>223?3:e>191?2:1;if(this._pos+l>this.data.length)throw new Error(`${o.WR} unexpected unicode sequence at position ${this._pos}`);switch(l){case 1:e<128&&(a=e);break;case 2:n=this.data[this._pos+1],128==(192&n)&&(s=(31&e)<<6|63&n,s>127&&(a=s));break;case 3:n=this.data[this._pos+1],r=this.data[this._pos+2],128==(192&n)&&128==(192&r)&&(s=(15&e)<<12|(63&n)<<6|63&r,s>2047&&(s<55296||s>57343)&&(a=s));break;case 4:n=this.data[this._pos+1],r=this.data[this._pos+2],i=this.data[this._pos+3],128==(192&n)&&128==(192&r)&&128==(192&i)&&(s=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&i,s>65535&&s<1114112&&(a=s))}null===a?(a=65533,l=1):a>65535&&(a-=65536,t.push(a>>>10&1023|55296),a=56320|1023&a),t.push(a),this._pos+=l};for(;!this.done();){const a=this.ch();let l;switch(a){case 92:if(this._pos++,this.done())throw new Error(`${o.WR} unexpected string termination at position ${this._pos}`);switch(l=this.ch(),this._pos++,l){case 34:case 39:case 92:case 47:t.push(l);break;case 98:t.push(8);break;case 116:t.push(9);break;case 110:t.push(10);break;case 102:t.push(12);break;case 114:t.push(13);break;case 117:t.push(n());break;default:throw new Error(`${o.WR} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new r.o(r.Z.string,(0,i.y9)(t),this._pos-e);default:if(a<32)throw new Error(`${o.WR} invalid control character at position ${this._pos}`);a<128?(t.push(a),this._pos++):s()}}throw new Error(`${o.WR} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new r.o(r.Z.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new r.o(r.Z.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new r.o(r.Z.null,null,4);case 102:return this.expect([102,97,108,115,101]),new r.o(r.Z.false,!1,5);case 116:return this.expect([116,114,117,101]),new r.o(r.Z.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${o.WR} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new r.o(r.Z.break,void 0,1);if(44!==this.ch())throw new Error(`${o.WR} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":return this.modeStack.pop(),93===this.ch()?(this._pos++,this.skipWhitespace(),new r.o(r.Z.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(125===this.ch())return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new r.o(r.Z.break,void 0,1);if(44!==this.ch())throw new Error(`${o.WR} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this._pos++,this.skipWhitespace(),new r.o(r.Z.break,void 0,1);const e=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw new Error(`${o.WR} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${o.WR} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function l(e,t){return t=Object.assign({tokenizer:new a(e,t)},t),(0,s.D4)(e,t)}},1825:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>v,lA:()=>g,wL:()=>y});var r=n(6888),o=n(8801),i=n(4077),s=n(8404),a=n(837),l=n(9708),c=n(4270),u=n(6815),d=n(6532),h=n(3159),f=n(3739);function p(e,t,n){throw new Error(`${h.WR} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function m(e){return()=>{throw new Error(`${h.WR} ${e}`)}}const g=[];for(let e=0;e<=23;e++)g[e]=p;g[24]=o.tA,g[25]=o.Km,g[26]=o.Gr,g[27]=o.Xb,g[28]=p,g[29]=p,g[30]=p,g[31]=p;for(let e=32;e<=55;e++)g[e]=p;g[56]=i.wJ,g[57]=i.tF,g[58]=i.Z,g[59]=i.gW,g[60]=p,g[61]=p,g[62]=p,g[63]=p;for(let e=64;e<=87;e++)g[e]=s.LC;g[88]=s.Cz,g[89]=s.N8,g[90]=s.Hy,g[91]=s.cT,g[92]=p,g[93]=p,g[94]=p,g[95]=m("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)g[e]=a.Hc;g[120]=a.s4,g[121]=a.Rw,g[122]=a.$A,g[123]=a.gh,g[124]=p,g[125]=p,g[126]=p,g[127]=m("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)g[e]=l.tW;g[152]=l._i,g[153]=l.RD,g[154]=l.fd,g[155]=l.go,g[156]=p,g[157]=p,g[158]=p,g[159]=l.NL;for(let e=160;e<=183;e++)g[e]=c.sP;g[184]=c.dk,g[185]=c.Ws,g[186]=c.CV,g[187]=c.hi,g[188]=p,g[189]=p,g[190]=p,g[191]=c.m_;for(let e=192;e<=215;e++)g[e]=u.UE;g[216]=u.hL,g[217]=u.U6,g[218]=u.Yv,g[219]=u.RV,g[220]=p,g[221]=p,g[222]=p,g[223]=p;for(let e=224;e<=243;e++)g[e]=m("simple values are not supported");g[244]=p,g[245]=p,g[246]=p,g[247]=d.jD,g[248]=m("simple values are not supported"),g[249]=d.y,g[250]=d.IC,g[251]=d.VQ,g[252]=p,g[253]=p,g[254]=p,g[255]=d.qz;const y=[];for(let e=0;e<24;e++)y[e]=new r.o(r.Z.uint,e,1);for(let e=-1;e>=-24;e--)y[31-e]=new r.o(r.Z.negint,e,1);function v(e){switch(e.type){case r.Z.false:return(0,f.ci)([244]);case r.Z.true:return(0,f.ci)([245]);case r.Z.null:return(0,f.ci)([246]);case r.Z.bytes:return e.value.length?void 0:(0,f.ci)([64]);case r.Z.string:return""===e.value?(0,f.ci)([96]):void 0;case r.Z.array:return 0===e.value?(0,f.ci)([128]):void 0;case r.Z.map:return 0===e.value?(0,f.ci)([160]):void 0;case r.Z.uint:return e.value<24?(0,f.ci)([Number(e.value)]):void 0;case r.Z.negint:if(e.value>=-24)return(0,f.ci)([31-Number(e.value)])}}y[64]=new r.o(r.Z.bytes,new Uint8Array(0),1),y[96]=new r.o(r.Z.string,"",1),y[128]=new r.o(r.Z.array,0,1),y[160]=new r.o(r.Z.map,0,1),y[244]=new r.o(r.Z.false,!1,1),y[245]=new r.o(r.Z.true,!0,1),y[246]=new r.o(r.Z.null,null,1)},6888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,o:()=>o});class r{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);class o{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}},4164:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},531:(e,t,n)=>{"use strict";n.d(t,{q:()=>Di});var r={};n.r(r),n.d(r,{identity:()=>B});var o={};n.r(o),n.d(o,{base2:()=>L});var i={};n.r(i),n.d(i,{base8:()=>F});var s={};n.r(s),n.d(s,{base10:()=>U});var a={};n.r(a),n.d(a,{base16:()=>$,base16upper:()=>j});var l={};n.r(l),n.d(l,{base32:()=>z,base32hex:()=>q,base32hexpad:()=>G,base32hexpadupper:()=>Y,base32hexupper:()=>K,base32pad:()=>H,base32padupper:()=>W,base32upper:()=>V,base32z:()=>Q});var c={};n.r(c),n.d(c,{base36:()=>Z,base36upper:()=>J});var u={};n.r(u),n.d(u,{base58btc:()=>X,base58flickr:()=>ee});var d={};n.r(d),n.d(d,{base64:()=>te,base64pad:()=>ne,base64url:()=>re,base64urlpad:()=>oe});var h={};n.r(h),n.d(h,{base256emoji:()=>le});var f={};n.r(f),n.d(f,{sha256:()=>De,sha512:()=>Oe});var p={};n.r(p),n.d(p,{identity:()=>Ne});var m={};n.r(m),n.d(m,{code:()=>Le,decode:()=>Ue,encode:()=>Fe,name:()=>Be});var g={};function y(e,t){return t()}n.r(g),n.d(g,{code:()=>Ve,decode:()=>We,encode:()=>He,name:()=>ze});const v="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",b="[a-zA-Z0-9_.:%-]",w=new RegExp(`^did:([a-z0-9]+):((?:${v}*:)*(${v}+))((;${b}+=${b}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`),A={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class E{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,n){try{let r;function o(o){if(r)return o;const i=e.get(t.didUrl);return void 0!==i?i:Promise.resolve(n()).then((function(n){var r;return"notFound"!==(null==(r=n.didResolutionMetadata)?void 0:r.error)&&e.set(t.didUrl,n),n}))}const i=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(n()).then((function(e){return r=1,e}))}();return Promise.resolve(i&&i.then?i.then(o):o(i))}catch(s){return Promise.reject(s)}}}():t.cache||y,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var n;this.registry[e]||(this.registry[e]=(n=t.legacyResolvers[e],function(e,t,r){try{return Promise.resolve(function(o,i){try{var s=Promise.resolve(n(e,t,r)).then((function(e){return{...A,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}catch(e){return i(e)}return s&&s.then?s.then(void 0,i):s}(0,(function(e){return{...A,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(e){return Promise.reject(e)}}))}))}resolve(e,t={}){try{const n=this,r=function(e){if(""===e||!e)return null;const t=e.match(w);if(t){const n={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");n.params={};for(const t of e){const e=t.split("=");n.params[e[0]]=e[1]}}return t[6]&&(n.path=t[6]),t[7]&&(n.query=t[7].slice(1)),t[8]&&(n.fragment=t[8].slice(1)),n}return null}(e);if(null===r)return Promise.resolve({...A,didResolutionMetadata:{error:"invalidDid"}});const o=n.registry[r.method];return o?Promise.resolve(n.cache(r,(()=>o(r.did,r,n,t)))):Promise.resolve({...A,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(e){return Promise.reject(e)}}}function x(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function S(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?x(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function k(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=S(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return x(n)}const I=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===l;)r++,t++;for(var i=(e.length-t)*c+1>>>0,s=new Uint8Array(i);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=i-1;(0!==u||d<o)&&-1!==h;h--,d++)u+=a*s[h]>>>0,s[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=d,t++}if(" "!==e[t]){for(var f=i-o;f!==i&&0===s[f];)f++;for(var p=new Uint8Array(r+(i-f)),m=r;f!==i;)p[m++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*u+1>>>0,c=new Uint8Array(s);o!==i;){for(var d=t[o],h=0,f=s-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,o++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=l.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}},_=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class R{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class C{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return P(this,e)}}class T{constructor(e){this.decoders=e}or(e){return P(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const P=(e,t)=>new T({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class D{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new R(e,t,n),this.decoder=new C(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const O=({name:e,prefix:t,encode:n,decode:r})=>new D(e,t,n,r),M=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=I(n,t);return O({prefix:e,name:t,encode:r,decode:e=>_(o(e))})},N=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>O({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let t=0;t<i;++t){const i=o[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);l=l<<n|i,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),B=O({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),L=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),F=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),U=M({prefix:"9",name:"base10",alphabet:"0123456789"}),$=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),j=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),z=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),V=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),H=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),W=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),q=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),K=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),G=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Y=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Q=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Z=M({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),J=M({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),X=M({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ee=M({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),te=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ne=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),re=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oe=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ie=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),se=ie.reduce(((e,t,n)=>(e[n]=t,e)),[]),ae=ie.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]),le=O({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+se[t]),"")},decode:function(e){const t=[];for(const n of e){const e=ae[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var ce=128,ue=-128,de=Math.pow(2,31),he=128,fe=127,pe=Math.pow(2,7),me=Math.pow(2,14),ge=Math.pow(2,21),ye=Math.pow(2,28),ve=Math.pow(2,35),be=Math.pow(2,42),we=Math.pow(2,49),Ae=Math.pow(2,56),Ee=Math.pow(2,63);const xe={encode:function e(t,n,r){n=n||[];for(var o=r=r||0;t>=de;)n[r++]=255&t|ce,t/=128;for(;t&ue;)n[r++]=255&t|ce,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},decode:function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&fe)<<i:(r&fe)*Math.pow(2,i),i+=7}while(r>=he);return e.bytes=s-n,o},encodingLength:function(e){return e<pe?1:e<me?2:e<ge?3:e<ye?4:e<ve?5:e<be?6:e<we?7:e<Ae?8:e<Ee?9:10}},Se=(e,t=0)=>[xe.decode(e,t),xe.decode.bytes],ke=(e,t,n=0)=>(xe.encode(e,t,n),t),Ie=e=>xe.encodingLength(e),_e=(e,t)=>{const n=t.byteLength,r=Ie(e),o=r+Ie(n),i=new Uint8Array(o+n);return ke(e,i,0),ke(n,i,r),i.set(t,o),new Re(e,n,t,i)};class Re{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ce=({name:e,code:t,encode:n})=>new Te(e,t,n);class Te{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?_e(this.code,t):t.then((e=>_e(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Pe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),De=Ce({name:"sha2-256",code:18,encode:Pe("SHA-256")}),Oe=Ce({name:"sha2-512",code:19,encode:Pe("SHA-512")}),Me=_,Ne={code:0,name:"identity",encode:Me,digest:e=>_e(0,Me(e))},Be="raw",Le=85,Fe=e=>_(e),Ue=e=>_(e),$e=new TextEncoder,je=new TextDecoder,ze="json",Ve=512,He=e=>$e.encode(JSON.stringify(e)),We=e=>JSON.parse(je.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const qe={...r,...o,...i,...s,...a,...l,...c,...u,...d,...h};function Ke(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Ge=Ke("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Ye=Ke("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=S((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Qe={utf8:Ge,"utf-8":Ge,hex:qe.base16,latin1:Ye,ascii:Ye,binary:Ye,...qe};function Ze(e,t="utf8"){const n=Qe[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):x(globalThis.Buffer.from(e,"utf-8"))}function Je(e,t="utf8"){const n=Qe[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Xe=n(2716),et=n(1466),tt=n(8226),nt=n(3009),rt=n(7238),ot=n(4329),it=n(8576),st=(n(2341),n(7324));const at=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function lt(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ct(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function ut(e){if("string"==typeof e)e=ct(e);else{if(!lt(e))throw new Error("expected Uint8Array, got "+typeof e);e=e.slice()}return e}function dt(e,t){if(!lt(e))throw new Error("Uint8Array expected");if("number"==typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}const ht=(e,t)=>(Object.assign(t,e),t);function ft(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function pt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`wrong positive integer: ${e}`)}function mt(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function gt(e,...t){if(null==(n=e)||"object"!=typeof n||!(n instanceof Uint8Array||"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function yt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const vt=(e,t)=>255&e[t++]|(255&e[t++])<<8;class bt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,dt(e=ut(e),32);const t=vt(e,0),n=vt(e,2),r=vt(e,4),o=vt(e,6),i=vt(e,8),s=vt(e,10),a=vt(e,12),l=vt(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=vt(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],m=i[9],g=vt(e,t+0),y=vt(e,t+2),v=vt(e,t+4),b=vt(e,t+6),w=vt(e,t+8),A=vt(e,t+10),E=vt(e,t+12),x=vt(e,t+14);let S=o[0]+(8191&g),k=o[1]+(8191&(g>>>13|y<<3)),I=o[2]+(8191&(y>>>10|v<<6)),_=o[3]+(8191&(v>>>7|b<<9)),R=o[4]+(8191&(b>>>4|w<<12)),C=o[5]+(w>>>1&8191),T=o[6]+(8191&(w>>>14|A<<2)),P=o[7]+(8191&(A>>>11|E<<5)),D=o[8]+(8191&(E>>>8|x<<8)),O=o[9]+(x>>>5|r),M=0,N=M+S*s+k*(5*m)+I*(5*p)+_*(5*f)+R*(5*h);M=N>>>13,N&=8191,N+=C*(5*d)+T*(5*u)+P*(5*c)+D*(5*l)+O*(5*a),M+=N>>>13,N&=8191;let B=M+S*a+k*s+I*(5*m)+_*(5*p)+R*(5*f);M=B>>>13,B&=8191,B+=C*(5*h)+T*(5*d)+P*(5*u)+D*(5*c)+O*(5*l),M+=B>>>13,B&=8191;let L=M+S*l+k*a+I*s+_*(5*m)+R*(5*p);M=L>>>13,L&=8191,L+=C*(5*f)+T*(5*h)+P*(5*d)+D*(5*u)+O*(5*c),M+=L>>>13,L&=8191;let F=M+S*c+k*l+I*a+_*s+R*(5*m);M=F>>>13,F&=8191,F+=C*(5*p)+T*(5*f)+P*(5*h)+D*(5*d)+O*(5*u),M+=F>>>13,F&=8191;let U=M+S*u+k*c+I*l+_*a+R*s;M=U>>>13,U&=8191,U+=C*(5*m)+T*(5*p)+P*(5*f)+D*(5*h)+O*(5*d),M+=U>>>13,U&=8191;let $=M+S*d+k*u+I*c+_*l+R*a;M=$>>>13,$&=8191,$+=C*s+T*(5*m)+P*(5*p)+D*(5*f)+O*(5*h),M+=$>>>13,$&=8191;let j=M+S*h+k*d+I*u+_*c+R*l;M=j>>>13,j&=8191,j+=C*a+T*s+P*(5*m)+D*(5*p)+O*(5*f),M+=j>>>13,j&=8191;let z=M+S*f+k*h+I*d+_*u+R*c;M=z>>>13,z&=8191,z+=C*l+T*a+P*s+D*(5*m)+O*(5*p),M+=z>>>13,z&=8191;let V=M+S*p+k*f+I*h+_*d+R*u;M=V>>>13,V&=8191,V+=C*c+T*l+P*a+D*s+O*(5*m),M+=V>>>13,V&=8191;let H=M+S*m+k*p+I*f+_*h+R*d;M=H>>>13,H&=8191,H+=C*u+T*c+P*l+D*a+O*s,M+=H>>>13,H&=8191,M=(M<<2)+M|0,M=M+N|0,N=8191&M,M>>>=13,B+=M,o[0]=N,o[1]=B,o[2]=L,o[3]=F,o[4]=U,o[5]=$,o[6]=j,o[7]=z,o[8]=V,o[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let o=(1^r)-1;for(let e=0;e<10;e++)n[e]&=o;o=~o;for(let t=0;t<10;t++)e[t]=e[t]&o|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let i=e[0]+t[0];e[0]=65535&i;for(let n=1;n<8;n++)i=(e[n]+t[n]|0)+(i>>>16)|0,e[n]=65535&i}update(e){yt(this);const{buffer:t,blockLen:n}=this,r=(e=ut(e)).length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);if(i!==n)t.set(e.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-o;o+=n)this.process(e,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){yt(this),function(e,t){gt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let t=0;t<8;t++)e[o++]=n[t]>>>0,e[o++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const wt=function(e){const t=(t,n)=>e(n).update(ut(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new bt(e))),At=ct("expand 16-byte k"),Et=ct("expand 32-byte k"),xt=at(At),St=at(Et);function kt(e,t){return e<<t|e>>>32-t}function It(e){return e.byteOffset%4==0}const _t=2**32-1,Rt=new Uint32Array;function Ct(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new Error("options must be object or undefined");var n;return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,t);if("function"!=typeof e)throw new Error("core must be a function");return pt(o),pt(s),mt(i),mt(n),(t,a,l,c,u=0)=>{gt(t),gt(a),gt(l);const d=l.length;if(c||(c=new Uint8Array(d)),gt(c),pt(u),u<0||u>=_t)throw new Error("arx: counter overflow");if(c.length<d)throw new Error(`arx: output (${c.length}) is shorter than data (${d})`);const h=[];let f,p,m=t.length;if(32===m)f=t.slice(),h.push(f),p=St;else{if(16!==m||!n)throw new Error(`arx: invalid 32-byte key, got length=${m}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=xt,h.push(f)}It(a)||(a=a.slice(),h.push(a));const g=at(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,g,at(a.subarray(0,16)),g),a=a.subarray(16)}const y=16-o;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,h.push(a)}const v=at(a);for(function(e,t,n,r,o,i,s,a){const l=o.length,c=new Uint8Array(64),u=at(c),d=It(o)&&It(i),h=d?at(o):Rt,f=d?at(i):Rt;for(let p=0;p<l;s++){if(e(t,n,r,u,s,a),s>=_t)throw new Error("arx: counter overflow");const m=Math.min(64,l-p);if(d&&64===m){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<m;t++)e=p+t,i[e]=o[e]^c[t];p+=m}}}(e,p,g,v,l,c,u,s);h.length>0;)h.pop().fill(0);return c}}function Tt(e,t,n,r,o,i=20){let s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],m=t[5],g=t[6],y=t[7],v=o,b=n[0],w=n[1],A=n[2],E=s,x=a,S=l,k=c,I=u,_=d,R=h,C=f,T=p,P=m,D=g,O=y,M=v,N=b,B=w,L=A;for(let e=0;e<i;e+=2)E=E+I|0,M=kt(M^E,16),T=T+M|0,I=kt(I^T,12),E=E+I|0,M=kt(M^E,8),T=T+M|0,I=kt(I^T,7),x=x+_|0,N=kt(N^x,16),P=P+N|0,_=kt(_^P,12),x=x+_|0,N=kt(N^x,8),P=P+N|0,_=kt(_^P,7),S=S+R|0,B=kt(B^S,16),D=D+B|0,R=kt(R^D,12),S=S+R|0,B=kt(B^S,8),D=D+B|0,R=kt(R^D,7),k=k+C|0,L=kt(L^k,16),O=O+L|0,C=kt(C^O,12),k=k+C|0,L=kt(L^k,8),O=O+L|0,C=kt(C^O,7),E=E+_|0,L=kt(L^E,16),D=D+L|0,_=kt(_^D,12),E=E+_|0,L=kt(L^E,8),D=D+L|0,_=kt(_^D,7),x=x+R|0,M=kt(M^x,16),O=O+M|0,R=kt(R^O,12),x=x+R|0,M=kt(M^x,8),O=O+M|0,R=kt(R^O,7),S=S+C|0,N=kt(N^S,16),T=T+N|0,C=kt(C^T,12),S=S+C|0,N=kt(N^S,8),T=T+N|0,C=kt(C^T,7),k=k+I|0,B=kt(B^k,16),P=P+B|0,I=kt(I^P,12),k=k+I|0,B=kt(B^k,8),P=P+B|0,I=kt(I^P,7);let F=0;r[F++]=s+E|0,r[F++]=a+x|0,r[F++]=l+S|0,r[F++]=c+k|0,r[F++]=u+I|0,r[F++]=d+_|0,r[F++]=h+R|0,r[F++]=f+C|0,r[F++]=p+T|0,r[F++]=m+P|0,r[F++]=g+D|0,r[F++]=y+O|0,r[F++]=v+M|0,r[F++]=b+N|0,r[F++]=w+B|0,r[F++]=A+L|0}const Pt=Ct(Tt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Dt=Ct(Tt,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let o=e[0],i=e[1],s=e[2],a=e[3],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=n[0],y=n[1],v=n[2],b=n[3];for(let e=0;e<20;e+=2)o=o+l|0,g=kt(g^o,16),h=h+g|0,l=kt(l^h,12),o=o+l|0,g=kt(g^o,8),h=h+g|0,l=kt(l^h,7),i=i+c|0,y=kt(y^i,16),f=f+y|0,c=kt(c^f,12),i=i+c|0,y=kt(y^i,8),f=f+y|0,c=kt(c^f,7),s=s+u|0,v=kt(v^s,16),p=p+v|0,u=kt(u^p,12),s=s+u|0,v=kt(v^s,8),p=p+v|0,u=kt(u^p,7),a=a+d|0,b=kt(b^a,16),m=m+b|0,d=kt(d^m,12),a=a+d|0,b=kt(b^a,8),m=m+b|0,d=kt(d^m,7),o=o+c|0,b=kt(b^o,16),p=p+b|0,c=kt(c^p,12),o=o+c|0,b=kt(b^o,8),p=p+b|0,c=kt(c^p,7),i=i+u|0,g=kt(g^i,16),m=m+g|0,u=kt(u^m,12),i=i+u|0,g=kt(g^i,8),m=m+g|0,u=kt(u^m,7),s=s+d|0,y=kt(y^s,16),h=h+y|0,d=kt(d^h,12),s=s+d|0,y=kt(y^s,8),h=h+y|0,d=kt(d^h,7),a=a+l|0,v=kt(v^a,16),f=f+v|0,l=kt(l^f,12),a=a+l|0,v=kt(v^a,8),f=f+v|0,l=kt(l^f,7);let w=0;r[w++]=o,r[w++]=i,r[w++]=s,r[w++]=a,r[w++]=g,r[w++]=y,r[w++]=v,r[w++]=b},allowShortKeys:!1}),Ot=new Uint8Array(16),Mt=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Ot.subarray(n))},Nt=new Uint8Array(32);function Bt(e,t,n,r,o){const i=e(t,n,Nt),s=wt.create(i);o&&Mt(s,o),Mt(s,r);const a=new Uint8Array(16),l=(c=a,new DataView(c.buffer,c.byteOffset,c.byteLength));var c;ft(l,0,BigInt(o?o.length:0),!0),ft(l,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return i.fill(0),u}const Lt=e=>(t,n,r)=>(dt(t,32),dt(n),{encrypt:(o,i)=>{const s=o.length,a=s+16;i?dt(i,a):i=new Uint8Array(a),e(t,n,o,i,1);const l=Bt(e,t,n,i.subarray(0,-16),r);return i.set(l,s),i},decrypt:(o,i)=>{const s=o.length,a=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");i?dt(i,a):i=new Uint8Array(a);const l=o.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o.subarray(-16),Bt(e,t,n,l,r)))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),Ft=(Lt(Pt),ht({blockSize:64,nonceLength:24,tagLength:16},Lt(Dt)));var Ut=n(2595);const $t={toString:Je,fromString:Ze,concat:k};function jt(e){return $t.toString(e,"base64url")}function zt(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return $t.fromString(t,"base64url")}function Vt(e){return $t.fromString(e,"base58btc")}function Ht(e,t){let n=e.startsWith("0x")?e.substring(2):e;if(n.length%2!=0&&(n=`0${n}`),t){const e=Math.max(n.length,2*t);n=n.padStart(e,"00")}return $t.fromString(n.toLowerCase(),"base16")}function Wt(e){return $t.toString(e,"base16")}function qt(e){return BigInt("0x"+$t.toString(e,"base16"))}function Kt(e){return $t.fromString(e,"utf-8")}function Gt(){const e=Xe.TU.utils.randomPrivateKey();return{secretKey:e,publicKey:Xe.TU.getPublicKey(e)}}function Yt(){const e=Gt();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:jt(e.publicKey)},secretKey:e.secretKey}}function Qt(e){const t="string"==typeof e?Ze(e):e;return(0,tt.s)(t)}const Zt=rt.lY;function Jt(e){const t=Ze(e.slice(2),"base16");return`0x${Je(Zt(t).slice(-20),"base16")}`}function Xt(e,t=new Uint8Array(4)){const n=Ze(e.toString(),"base10");return t.set(n,4-n.length),t}const en=e=>k([Xt(e.length),e]);function tn(e){return"object"==typeof e&&"r"in e&&"s"in e}function nn(e){return function(t,n){try{return Promise.resolve(n(t)).then((function(t){if(tn(t))return function({r:e,s:t,recoveryParam:n},r){const o=new Uint8Array(r?65:64);if(o.set($t.fromString(e,"base16"),0),o.set($t.fromString(t,"base16"),32),r){if(void 0===n)throw new Error("Signer did not return a recoveryParam");o[64]=n}return jt(o)}(t,e);if(e&&void 0===function(e){const t=zt(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Wt(t.slice(0,32)),s:Wt(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function rn(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(tn(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}function on(e,t){if(t){const n=t.split(":");switch(n[0]){case"bip122":n[n.length-1]=function(e,t){const n=Wt(Vt(t).slice(0,1)),r=Ht(e),o=n+Wt((0,nt.H)(Qt(r))),i=Qt(Ht(o));return s=Ht(o+Wt(Qt(i)).substring(0,8)),$t.toString(s,"base58btc");var s}(e,n[n.length-1]);break;case"cosmos":n[n.length-1]=function(e,t){const n=ot.bI.ProjectivePoint.fromHex(e).toRawBytes(),r=(0,nt.H)(Qt(n)),o=st.I.toWords(r);return st.I.encode(t,o).replace(t,"")}(e,n[1]);break;case"eip155":n[n.length-1]=Jt(e);break;default:return!1}return n.join(":").toLowerCase()===t.toLowerCase()}return!1}function sn(e,t=!1){const n=zt(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");return{compact:n.slice(0,64),recovery:n[64]}}function an(e){return e.publicKeyBase58?Vt(e.publicKeyBase58):e.publicKeyBase64?zt(e.publicKeyBase64):e.publicKeyHex?Ht(e.publicKeyHex):e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y?ot.bI.ProjectivePoint.fromAffine({x:qt(zt(e.publicKeyJwk.x)),y:qt(zt(e.publicKeyJwk.y))}).toRawBytes(!1):e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y?it.s9.ProjectivePoint.fromAffine({x:qt(zt(e.publicKeyJwk.x)),y:qt(zt(e.publicKeyJwk.y))}).toRawBytes(!1):e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x?zt(e.publicKeyJwk.x):e.publicKeyMultibase?function(e){const t=(0,et.decode)(e);if([32,33,48,64,65,96].includes(t.length))return t;try{const[e,n]=Se(t);return t.slice(n)}catch(e){return t}}(e.publicKeyMultibase):new Uint8Array}function ln(e,t,n){const r=[];if(t.length>86)r.push(sn(t,!0));else{const e=sn(t,!1);r.push({...e,recovery:0}),r.push({...e,recovery:1})}const o=Qt(e),i=e=>{const t=ot.bI.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(o),r=Jt(t.toHex(!1)).toLowerCase(),i=t.toHex(!1),s=t.toHex(!0);return n.find((e=>{const t=Wt(an(e));return t===i||t===s||e.ethereumAddress?.toLowerCase()===r||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===r||on(i,e.blockchainAccountId)}))};for(const e of r){const t=i(e);if(t)return t}throw new Error("invalid_signature: Signature invalid for JWT")}function cn(e,t,n){const r=Kt(e),o=zt(t),i=n.find((e=>Xe.ev.verify(o,r,an(e))));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i}nn(),nn(!0),rn(),rn();const un={ES256:function(e,t,n){const r=Qt(e),o=it.s9.Signature.fromCompact(sn(t).compact),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=an(e);return it.s9.verify(o,r,t)}catch(e){return!1}}));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i},ES256K:function(e,t,n){const r=Qt(e),o=ot.bI.Signature.fromCompact(zt(t)).normalizeS(),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=n.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=i.find((e=>{try{const t=an(e);return ot.bI.verify(o,r,t)}catch(e){return!1}}));if(!a&&s.length>0&&(a=ln(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":ln,Ed25519:cn,EdDSA:cn};function dn(e){const t=un[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}function hn(e,t){return function({header:e,data:t,signature:n},r){return Array.isArray(r)||(r=[r]),dn(e.alg)(t,n,r)}(function(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse((n=t[1],$t.toString(zt(n)))),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};var n;throw new Error("invalid_argument: Incorrect format JWS")}(e),t)}dn.toSignatureObject=function(e,t=!1){const n=zt(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");const r={r:Wt(n.slice(0,32)),s:Wt(n.slice(32,64))};return t&&(r.recoveryParam=n[64]),r},"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const fn="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function pn(e,t,n){if(!e.s){if(n instanceof mn){if(!n.s)return void(n.o=pn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(pn.bind(null,e,t),pn.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const mn=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,o=this.s;if(o){const e=1&o?t:n;if(e){try{pn(r,1,e(this.v))}catch(e){pn(r,2,e)}return r}return this}return this.o=function(e){try{const o=e.v;1&e.s?pn(r,1,t?t(o):o):n?pn(r,1,n(o)):pn(r,2,o)}catch(e){pn(r,2,e)}},r},e}();function gn(e){return e instanceof mn&&1&e.s}function yn({ciphertext:e,tag:t,iv:n,protectedHeader:r,recipient:o},i){const s={protected:r,iv:jt(n??new Uint8Array(0)),ciphertext:jt(e),tag:jt(t??new Uint8Array(0))};return i&&(s.aad=jt(i)),o&&(s.recipients=[o]),s}function vn(e){return(t,n)=>{const r=(0,Ut.po)(24),o=Ft(e,r,n).encrypt(t);return{ciphertext:o.subarray(0,o.length-16),tag:o.subarray(o.length-16),iv:r}}}function bn(e){const t=vn(e),n="XC20P";return{alg:"dir",enc:n,encrypt:function(e,r={},o){try{const s=(i=JSON.stringify(Object.assign({alg:"dir"},r,{enc:n})),jt($t.fromString(i))),a=Kt(o?`${s}.${jt(o)}`:s);return Promise.resolve({...t(e,a),protectedHeader:s})}catch(e){return Promise.reject(e)}var i}}}const wn=function(e,t,n,r,o,i){try{const t="X25519",r=256,s=i?function(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:Xe.TU.getPublicKey(e),secretKey:e}}(i.secretKey):Gt(),a={kty:"OKP",crv:t,x:jt(s.publicKey)},l=function(e,t,n,r,o){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const i=k([en(Ze(n)),en(void 0===r?new Uint8Array(0):r),en(void 0===o?new Uint8Array(0):o),Xt(t)]);return Qt(k([Xt(1),e,i]))}(Xe.TU.getSharedSecret(s.secretKey,e),r,n,void 0,zt(o??""));return Promise.resolve({epk:a,kek:l})}catch(e){return Promise.reject(e)}};const An=function(e,t){try{const n=function(e,r=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:o}){function i(){const t=o.keyAgreement?.map((e=>"string"==typeof e?[...o.publicKey||[],...o.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>void 0!==e)),n=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!n.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return n.map((e=>function(e,t={}){return function(e,t,n={},r,o,i){const s=function(i,s){try{return Promise.resolve(r.createKek(e,t,`${r.alg}+${o.alg}`,n.apu,n.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(o.from(t).wrap(i)).then((function(t){const i={encrypted_key:jt(t.ciphertext),header:{}};return t.iv&&(i.header.iv=jt(t.iv)),t.tag&&(i.header.tag=jt(t.tag)),n.kid&&(i.header.kid=n.kid),n.apu&&(i.header.apu=n.apu),n.apv&&(i.header.apv=n.apv),s||(i.header.alg=`${r.alg}+${o.alg}`,i.header.epk=e),i}))}))}catch(e){return Promise.reject(e)}};return{alg:o.alg,enc:i.enc,encrypt:function(e,t={},n,a){try{Object.assign(t,{alg:void 0});const l=(0,Ut.po)(32);return Promise.resolve(s(l,a)).then((function(s){return a&&(t.alg=`${r.alg}+${o.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(i.from(l).encrypt(e,t,n)).then((function(e){return{...e,recipient:s,cek:l}}))}))}catch(e){return Promise.reject(e)}},encryptCek:s,genEpk:Yt}}(e,void 0,t,{createKek:wn,alg:"ECDH-ES"},En,{from:e=>bn(e),enc:"XC20P"})}(an(e),{kid:e.id,apv:undefined}))).concat(...s)}if(r.push(e),t?.error||null==o)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!o.controller&&!o.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(o.controller){let e=Array.isArray(o.controller)?o.controller:[o.controller];e=e.filter((e=>!r.includes(e)));const t=e.map((e=>n(e,r).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(i):i()}))}catch(e){return Promise.reject(e)}},r=e.map((e=>n(e)));return Promise.resolve(Promise.all(r)).then((function(e){return[].concat(...e)}))}catch(e){return Promise.reject(e)}},En={from:e=>({wrap:function(t){try{return Promise.resolve(vn(e)(t))}catch(e){return Promise.reject(e)}}}),alg:"XC20PKW"};var xn=n(8429);function Sn({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*kn(e,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,r]of t.entries()){const t=[...e,n],o=xn.TO.asCID(r);null!=o?yield[t.join("/"),o]:"object"==typeof r&&(yield*In(r,t))}else{const n=xn.TO.asCID(t);null!=n?yield[e.join("/"),n]:yield*In(t,e)}}function*In(e,t){if(null==e||e instanceof Uint8Array)return;const n=xn.TO.asCID(e);null!=n&&(yield[t.join("/"),n]);for(const[n,r]of Object.entries(e)){const e=[...t,n];yield*kn(e,r)}}function*_n(e,t){if(Array.isArray(t))for(const[n,r]of t.entries()){const t=[...e,n];yield t.join("/"),"object"==typeof r&&null==xn.TO.asCID(r)&&(yield*Rn(r,t))}else yield*Rn(t,e)}function*Rn(e,t){if(null!=e&&"object"==typeof e)for(const[n,r]of Object.entries(e)){const e=[...t,n];yield e.join("/"),null==r||r instanceof Uint8Array||"object"!=typeof r||null!=xn.TO.asCID(r)||(yield*_n(e,r))}}class Cn{cid;bytes;value;asBlock;constructor({cid:e,bytes:t,value:n}){if(null==e||null==t||void 0===n)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:Sn(),bytes:Sn(),value:Sn(),asBlock:Sn()})}links(){return In(this.value,[])}tree(){return Rn(this.value,[])}get(e="/"){return function(e,t){let n=e;for(const[e,r]of t.entries()){if(n=n[r],null==n)throw new Error(`Object has no property at ${t.slice(0,e+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const o=xn.TO.asCID(n);if(null!=o)return{value:o,remaining:t.slice(e+1).join("/")}}return{value:n}}(this.value,e.split("/").filter(Boolean))}}async function Tn({value:e,codec:t,hasher:n}){if(void 0===e)throw new Error('Missing required argument "value"');if(null==t||null==n)throw new Error("Missing required argument: codec or hasher");const r=t.encode(e),o=await n.digest(r),i=xn.TO.create(1,t.code,o);return new Cn({value:e,bytes:r,cid:i})}var Pn=n(9061),Dn=n(8653),On=n(8650),Mn=(n(3221),n(4868));var Nn=n(5978),Bn=n(7237),Ln=n(1794);function Fn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Un(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Fn(e,t,"get"))}var $n=new WeakMap;class jn{get connection(){return Un(this,$n)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t=void 0,n={}){const{signal:r}=n;if(r?.aborted)return Promise.reject(Nn.WK);const o=this.createID(),i=Un(this,$n).send({jsonrpc:"2.0",id:o,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw Ln.Gb.fromObject(e.error);return e.result}));return null==r?i:(r.addEventListener("abort",(()=>{this.notify(Bn.b,{id:o})})),(0,Nn.ZC)(i,r))}async notify(e,t=void 0){await Un(this,$n).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){var t,n,r;r={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=$n),n.set(t,r),function(e,t,n){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,Fn(e,t,"set"),n)}(this,$n,e)}}var zn,Vn;function Hn(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}function Wn(){return Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(this,arguments)}new Date("2022-09-20").valueOf(),function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){const t=await async function({bytes:e,codec:t,hasher:n}){if(null==e)throw new Error('Missing required argument "bytes"');if(null==t||null==n)throw new Error("Missing required argument: codec or hasher");const r=t.decode(e),o=await n.digest(e),i=xn.TO.create(1,t.code,o);return new Cn({value:r,bytes:e,cid:i})}({bytes:e,codec:Mn,hasher:Dn.sha256});return t.value},e.verify=async function(e,t={}){Hn(e);const n=t.verifiers[e.s.t];if(!n)throw new Error("Unsupported CACAO signature type, register the needed verifier");return n(e,t)}}(zn||(zn={})),function(e){e.fromCacao=function(e){return Tn({value:e,codec:Mn,hasher:Dn.sha256})}}(Vn||(Vn={}));var qn={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},Kn={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},Gn={2:qn,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:Kn,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:qn,1:Kn}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:qn,1:Kn,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function Yn(e,t){return e.split(t.parameters.delimiter)}function Qn(e,t){var n=Yn(e,t),r={};return n.forEach((function(e,n){r[t.parameters.values[n].name]=e})),r}function Zn(e,t){return Object.values(t.parameters.values).map((function(t){var n=e[t.name];return"string"==typeof n?n:Zn(n,t)})).join(t.parameters.delimiter)}function Jn(e,t){if(!new RegExp(t.regex).test(e))return!1;var n=Yn(e,t);return n.length===Object.keys(t.parameters.values).length&&n.map((function(e,n){return new RegExp(t.parameters.values[n].regex).test(e)})).filter((function(e){return!!e})).length===n.length}var Xn=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!Jn(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(Qn(t,this.spec)).toJSON()},e.format=function(e){return Zn(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();Xn.spec=Gn[2];var er=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new Xn(t.chainId),this.address=t.address}e.parse=function(t){if(!Jn(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var n=Qn(t,this.spec),r=n.namespace,o=n.reference,i=n.address;return new e({chainId:new Xn({namespace:r,reference:o}),address:i}).toJSON()},e.format=function(e){return Zn(Wn({},new Xn(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();er.spec=Gn[10];var tr=function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!Jn(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(Qn(t,this.spec)).toJSON()},e.format=function(e){return Zn(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();function nr(e){return"Left"===e._tag}function rr(e){return{_tag:"Left",left:e}}function or(e){return{_tag:"Right",right:e}}function ir(e){if(nr(e))throw e.left;return e.right}tr.spec=Gn[19].assetName,(function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new Xn(t.chainId),this.assetName=new tr(t.assetName)}e.parse=function(t){if(!Jn(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(Qn(t,this.spec)).toJSON()},e.format=function(e){return Zn(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=Gn[19].assetType,(function(){function e(t){"string"==typeof t&&(t=e.parse(t)),this.chainId=new Xn(t.chainId),this.assetName=new tr(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!Jn(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(Qn(t,this.spec)).toJSON()},e.format=function(e){return Zn(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=Gn[19].assetId;class sr{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function ar(e,t,n){return n.position=t,lr(e)}function lr(e){return rr(e)}function cr(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,or(e)):lr(new Error(`Can not match literal "${e}"`))}}function ur(e,t){return function(n){const r=n.position,o=e(n);if(nr(o))return n.position=r,o;const i=t(o.right);return nr(i)?ar(i.left,r,n):i}}function dr(e,t){return function(n){const r=n.position,o=e(n);return nr(o)?(n.position=r,o):or(t(o.right))}}function hr(e){return function(t){const n=t.input.slice(t.position).match(e);return n?(t.position+=n[0].length,or(n[0])):lr(new Error(`Can not match ${e}`))}}function fr(...e){return pr(gr(e))}function pr(e,t=""){return function(n){const r=n.position,o=e(n);return nr(o)?(n.position=r,o):or(o.right.join(t))}}function mr(...e){return gr(e)}function gr(e){return function(t){const n=t.position,r=[];for(const o of e){const e=o(t);if(nr(e))return ar(e.left,n,t);r.push(e.right)}return or(r)}}function yr(e,t){return function(n){const r=e(n);return nr(r)?or(t):r}}function vr(...e){return function(t){for(const n of e){const e=t.position,r=n(t);if(!nr(r))return r;t.position=e}return lr(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function br(e,t,n=1,r=1/0){return function(o){const i=o.position,s=[],a=e(o);if(nr(a))return ar(a.left,i,o);s.push(a.right);let l=o.position;const c=e=>s.length<n?ar(e.left,l,o):(o.position=l,or(s));for(;!o.isEOF&&s.length<r;){l=o.position;const n=t(o);if(nr(n))return c(n);const r=e(o);if(nr(r))return c(r);s.push(r.right)}return s.length<n?ar(new Error(`Got ${s}/${n} instances of ${e.name}`),i,o):or(s)}}function wr(e){return function(t){const n=t.position,r=e(t);return nr(r)||t.isEOF?r:ar(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),n,t)}}class Ar{trail;constructor(e){this.trail=e}static root(e,t){return new Ar([{key:"",type:e,actual:t}])}failures(e){throw e[0]}success(e){return or(e)}failure(e){throw new xr(this.trail,e)}child(e,t,n){const r=this.trail.concat([{key:e,type:t,actual:n}]);return new Ar(r)}}function Er(e,t){const n=Ar.root(e,t),r=e.decode(t,n);if(nr(r))throw new Error(`Something is wrong: ${r} should be Right`);return r.right}class xr extends Error{trail;constructor(e,t=`Invalid value ${function(e){return"function"==typeof e?(t=e).displayName||t.name||`<function${t.length}>`:"number"!=typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity";var t}(e[e.length-1].actual)} supplied to ${function(e){return"/"+e.map((({key:e,type:t})=>`${e}(${t.name})`)).join("/")}(e)}`){super(t),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}}class Sr{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}→${e.name}`){return new _r(t,e.is,((t,n)=>{const r=this.decode(t,n);return nr(r)?r:e.decode(r.right,n)}),this.encode===kr&&e.encode===kr?kr:t=>this.encode(e.encode(t)))}}function kr(e){return e}class Ir extends Sr{is;constructor(e,t){super(e),this.is=t}encode=kr;decode(e,t){return this.is(e)?t.success(e):t.failure()}}new Ir("null",(e=>null===e)),new Ir("undefined",(e=>void 0===e)),new Ir("void",(e=>void 0===e)),new Ir("string",(e=>"string"==typeof e)),new Ir("number",(e=>"number"==typeof e)),new Ir("boolean",(e=>"boolean"==typeof e)),new Ir("bigint",(e=>"bigint"==typeof e)),new Ir("unknown",(e=>!0)),new Ir("object",(e=>Boolean(e)&&"object"==typeof e)),new Ir("UnknownArray",(e=>Array.isArray(e))),new Ir("UnknownDictionary",(e=>{if(!Boolean(e)||"object"!=typeof e)return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwn(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&n.toString()==Object.toString()})),new Ir("any",(e=>!0)),new Ir("never",(e=>!1));class _r extends Sr{name;is;decode;encode;constructor(e,t,n,r){super(e),this.name=e,this.is=t,this.decode=n,this.encode=r}}const Rr=cr("."),Cr=cr(":"),Tr=cr("::"),Pr=hr(/^([0-9a-fA-F]{2}){1,4}/),Dr=hr(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),Or=fr(Dr,Rr,Dr,Rr,Dr,Rr,Dr),Mr=vr(fr(Pr,Cr,Pr),Or),Nr=function(){const e=e=>pr(function(e,t=1,n=1/0){return function(r){const o=r.position,i=[];for(;!r.isEOF&&i.length<n;){const n=e(r);if(nr(n))return i.length<t?ar(n.left,o,r):or(i);i.push(n.right)}return or(i)}}(fr(Pr,Cr),e,e)),t=e=>yr(pr(br(Pr,Cr,1,e),":"),"");return pr(vr(mr(e(6),Mr),mr(Tr,e(5),Mr),mr(t(1),Tr,e(4),Mr),mr(t(2),Tr,e(3),Mr),mr(t(3),Tr,e(2),Mr),mr(t(4),Tr,e(1),Mr),mr(t(5),Tr,Mr),mr(t(6),Tr,Pr),mr(t(7),Tr)))}(),Br=fr(cr("["),Nr,cr("]")),Lr=ur(hr(/^\d+/),(e=>String(parseInt(e,10))===e?or(e):rr(new Error(`Invalid port ${e}`)))),Fr=vr(Br,Or,hr(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),Ur=fr(cr(":"),Lr),$r=ur(fr(Fr,yr(Ur,"")),(e=>e?or(e):rr(new Error("domain can not be empty")))),jr=ur(hr(/^\S+/),(e=>{try{return new URL(e),or(e)}catch(t){return rr(new Error(`Invalid URI ${e}`))}})),zr=cr("\n"),Vr=hr(/^\d+/),Hr=hr(/^\w+/),Wr=dr(mr($r,cr(" wants you to sign in with your "),Hr,cr(" account:")),(e=>({domain:e[0],network:e[2]}))),qr=hr(/^\w+/),Kr=dr(yr(mr(hr(/^[^\n]+/),zr),void 0),(e=>{if(e)return e[0]})),Gr=dr(mr(cr("URI: "),jr,zr),(e=>e[1])),Yr=dr(mr(cr("Version: 1"),zr),(()=>"1")),Qr=dr(mr(cr("Chain ID: "),Vr,zr),(e=>e[1])),Zr=hr(/^[a-zA-Z0-9]{8,}/),Jr=dr(mr(cr("Nonce: "),Zr,zr),(e=>e[1])),Xr=ur(hr(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?or(e):rr(new Error(`Invalid date-time ${e}`)))),eo=e=>dr(mr(cr(e),Xr),(e=>e[1])),to=eo("Issued At: "),no=eo("Expiration Time: "),ro=eo("Not Before: "),oo=hr(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),io=dr(mr(cr("Request ID: "),oo,zr),(e=>e[1])),so=jr,ao=dr(mr(cr("- "),so),(e=>e[1])),lo=dr(mr(cr("Resources:"),zr,yr(br(ao,zr),[])),(e=>e[2])),co=dr(mr(Wr,zr,qr,zr),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),uo=dr(mr(Gr,Yr,Qr,Jr,to),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),ho=yr(mr(zr,no),void 0),fo=yr(mr(zr,ro),void 0),po=yr(mr(zr,io),void 0),mo=dr(yr(mr(zr,lo),void 0),(e=>e?e[1]:void 0)),go=dr(mr(ho,fo,po,mo),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),yo=dr(mr(co,zr,Kr,zr,uo,go),(e=>{const t=e[0],n=e[2],r=e[4],o=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:n,uri:r.uri,version:r.version,chainId:r.chainId,nonce:r.nonce,issuedAt:r.issuedAt,resources:o.resources}}));function vo(e){const t=wr(e);return function(e){return ir(t(new sr(e)))}}const bo=vo($r),wo=vo(Xr),Ao=vo(jr);function Eo(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class So{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,n=e.address,r=e.statement;let o=`${t}\n${n}\n\n`;return r&&(o+=`${r}\n`),[o,`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,`Issued At: ${e.issuedAt}`,e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,e.notBefore?`Not Before: ${e.notBefore}`:void 0,e.requestId?`Request ID: ${e.requestId}`:void 0,e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0].filter(Boolean).join("\n")}(this)}constructor(e){var t;xo(this,"domain",void 0),xo(this,"network",void 0),xo(this,"address",void 0),xo(this,"statement",void 0),xo(this,"uri",void 0),xo(this,"version",void 0),xo(this,"chainId",void 0),xo(this,"nonce",void 0),xo(this,"issuedAt",void 0),xo(this,"expirationTime",void 0),xo(this,"notBefore",void 0),xo(this,"requestId",void 0),xo(this,"resources",void 0),this.domain=bo(e.domain),this.network=Eo(e.network,"network"),this.address=Eo(e.address,"address"),this.statement=_o(e.statement,(e=>Eo(e,"statement"))),this.uri=Ao(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return vo(Zr)(String(e))}(e.nonce),this.issuedAt=wo(e.issuedAt),this.expirationTime=_o(e.expirationTime,wo),this.notBefore=_o(e.notBefore,wo),this.requestId=_o(e.requestId,(e=>Eo(e,"requestId"))),this.resources=_o(e.resources,(e=>e.map(Ao)))}}function ko(e){const t=wr(yo)(new sr(e));return nr(t)?t:or(new So(t.right))}function Io(e){return ir(ko(e))}function _o(e,t){return void 0!==e?t(e):void 0}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co,To;xo(So,"fromString",Io),xo(So,"fromStringSafe",ko),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(Co||(Co={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(To||(To={}));class Po{static fromCacao(e){const t=er.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new Xn(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),"eip191"===e.s.t&&(n.type="Personal signature")),n}toMessage(e,t){return function(e,t,n){const r=`${e.domain} wants you to sign in with your ${t} account:`,o=`URI: ${e.uri}`;let i=[r,n||e.address].join("\n");const s=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const a=`Nonce: ${e.nonce}`,l=[o,s,`Chain ID: ${e.chainId}`,a];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),l.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;l.push(t)}e.notBefore&&l.push(`Not Before: ${e.notBefore}`),e.requestId&&l.push(`Request ID: ${e.requestId}`),e.resources&&e.resources.length>=1&&l.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const c=l.join("\n");return e.statement&&(i=[i,e.statement].join("\n\n")),[i,c].join("\n\n")}(this,e,t)}constructor(e){if(Ro(this,"domain",void 0),Ro(this,"address",void 0),Ro(this,"statement",void 0),Ro(this,"uri",void 0),Ro(this,"version",void 0),Ro(this,"nonce",void 0),Ro(this,"issuedAt",void 0),Ro(this,"expirationTime",void 0),Ro(this,"notBefore",void 0),Ro(this,"requestId",void 0),Ro(this,"chainId",void 0),Ro(this,"resources",void 0),Ro(this,"signature",void 0),Ro(this,"type",void 0),"string"==typeof e){const t=Io(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}class Do extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@1.21.3"});const n=t.cause instanceof Do?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Do&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://viem.sh${r}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return Oo(this,e)}}function Oo(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?Oo(e.cause,t):t?null:e}function Mo(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class No extends Do{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function Bo(e,{dir:t,size:n=32}={}){return"string"==typeof e?function(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new No({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new No({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i="right"===t;r[i?o:n-o-1]=e[i?o:e.length-o-1]}return r}(e,{dir:t,size:n})}class Lo extends Do{constructor({max:e,min:t,signed:n,size:r,value:o}){super(`Number "${o}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Fo extends Do{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Uo(e){return Mo(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function $o(e,{size:t}){if(Uo(e)>t)throw new Fo({givenSize:Uo(e),maxSize:t})}function jo(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?i=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"==typeof i&&n?-i-1n:0;if(i&&o>i||o<s){const t="bigint"==typeof e?"n":"";throw new Lo({max:i?`${i}${t}`:void 0,min:`${s}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&o<0?(1n<<BigInt(8*r))+BigInt(o):o).toString(16)}`;return r?Bo(a,{size:r}):a}const zo=new TextEncoder;const Vo={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ho(e){return e>=Vo.zero&&e<=Vo.nine?e-Vo.zero:e>=Vo.A&&e<=Vo.F?e-(Vo.A-10):e>=Vo.a&&e<=Vo.f?e-(Vo.a-10):void 0}function Wo(e,t={}){let n=e;t.size&&($o(n,{size:t.size}),n=Bo(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let e=0,t=0;e<o;e++){const n=Ho(r.charCodeAt(t++)),o=Ho(r.charCodeAt(t++));if(void 0===n||void 0===o)throw new Do(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);i[e]=16*n+o}return i}function qo(e,t={}){const n=zo.encode(e);return"number"==typeof t.size?($o(n,{size:t.size}),Bo(n,{dir:"right",size:t.size})):n}function Ko(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Go(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Yo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Qo=BigInt(2**32-1),Zo=BigInt(32);function Jo(e,t=!1){return t?{h:Number(e&Qo),l:Number(e>>Zo&Qo)}:{h:0|Number(e>>Zo&Qo),l:0|Number(e&Qo)}}function Xo(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=Jo(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ei(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!(e instanceof Uint8Array))throw new Error("expected Uint8Array, got "+typeof e);return e}class ti{clone(){return this._cloneInto()}}const[ni,ri,oi]=[[],[],[]],ii=BigInt(0),si=BigInt(1),ai=BigInt(2),li=BigInt(7),ci=BigInt(256),ui=BigInt(113);for(let e=0,t=si,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ni.push(2*(5*r+n)),ri.push((e+1)*(e+2)/2%64);let o=ii;for(let e=0;e<7;e++)t=(t<<si^(t>>li)*ui)%ci,t&ai&&(o^=si<<(si<<BigInt(e))-si);oi.push(o)}const[di,hi]=Xo(oi,!0),fi=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),pi=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class mi extends ti{constructor(e,t,n,r=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ko(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,o=(t+2)%10,i=n[o],s=n[o+1],a=fi(i,s,1)^n[r],l=pi(i,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=l}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=ri[n],i=fi(t,o,r),s=pi(t,o,r),a=ni[n];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=di[r],e[1]^=hi[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Yo(this);const{blockLen:t,state:n}=this,r=(e=ei(e)).length;for(let o=0;o<r;){const i=Math.min(t-this.pos,r-o);for(let t=0;t<i;t++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Yo(this,!1),Go(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ko(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(e,t){Go(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:i}=this;return e||(e=new mi(t,n,r,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const gi=((e,t,n)=>function(e){const t=t=>e().update(ei(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new mi(t,e,n))))(1,136,32);function yi(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=function(e){const t=gi(Mo(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){return Wo(jo(e,t))}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?($o(n,{size:t.size}),Bo(n,{size:t.size})):n}(e,t):Mo(e)?Wo(e,t):qo(e,t)}(e):e);return t}(qo(n)),o=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&r[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());return`0x${o.join("")}`}class vi extends Po{toMessage(){return super.toMessage("Ethereum")}toMessageEip55(){const e=yi(this.address);return super.toMessage("Ethereum",e)}signMessage({eip55:e}={}){let t;return this.type,To.PERSONAL_SIGNATURE,t=e?this.toMessageEip55():this.toMessage(),t}}const bi=new Date("2022-09-20").valueOf();function wi(e,t){const n="string"==typeof e?(0,Ut.AI)(e):e,r=(0,rt.lY)((0,Ut.Id)((0,Ut.AI)("Ethereum Signed Message:\n"),(0,Ut.AI)(String(e.length)),n)),o=(0,Ut.aT)(t.replace(/^0x/,""));let i=o[64];0!==i&&1!==i||(i+=27);const s=ot.bI.Signature.fromCompact(o.slice(0,64)).addRecoveryBit(i-27).recoverPublicKey(r).toRawBytes(!1),a=(0,rt.lY)(s.subarray(1)).subarray(-20);return`0x${(0,Ut.My)(a)}`}var Ai=n(7052),Ei=n(8067),xi=n(5986);function Si(e){return e instanceof Uint8Array}function ki(e){return new _r(`Uint8Array-as-${String(e)}`,Si,((t,n)=>{try{return n.success((0,xi.sH)(t,e))}catch{return n.failure()}}),(t=>(0,xi.dI)(t,e)))}new Ir("Uint8Array",Si),ki("base64");const Ii=ki("base64pad"),_i=ki("base64url");function Ri(e){return Ii.encode(e)}function Ci(e){const t=Er(_i,e);return JSON.parse((0,Ei.d)(t))}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pi={eip191:async(e,t)=>{!function(e,t){Hn(e),function(e,t){const n=t.atTime?t.atTime.getTime():Date.now(),r=1e3*(t.clockSkewSecs??300);if(Date.parse(e.p.iat)>n+r||Date.parse(e.p.nbf)>n+r)throw new Error("CACAO is not valid yet");const o=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+o+r<n)throw new Error("CACAO has expired")}(e,t);const n=er.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();let r=wi(vi.fromCacao(e).toMessage(),e.s.s);if(r!==n&&(r=wi(vi.fromCacao(e).toMessageEip55(),e.s.s)),r!==n&&Date.parse(e.p.iat)<=bi&&(r=wi(function(e){const t=`${e.domain} wants you to sign in with your Ethereum account:`,n=`URI: ${e.uri}`;let r=[t,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const i=[n,o,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),i.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;i.push(t)}e.notBefore&&i.push(`Not Before: ${e.notBefore}`),e.requestId&&i.push(`Request ID: ${e.requestId}`),e.chainId&&i.push(`Chain ID: ${e.chainId}`),e.resources&&i.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const s=i.join("\n");return e.statement&&(r=[r,e.statement].join("\n\n")),[r,s].join("\n\n")}(vi.fromCacao(e)),e.s.s)),r!==n)throw new Error("Signature does not belong to issuer")}(e,t)}};class Di{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new Di({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new jn(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new E(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const r=(0,Ei.d)((0,Ai.po)(16),"base64"),o=await this._client.request("did_authenticate",{nonce:r,aud:n,paths:t}),{kid:i}=await this.verifyJWS(o),s=Ci(o.payload);if(!i.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==r)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const n=await Vn.fromCacao(this._capability),r=Pn.TO.asCID(n.cid);if(!r)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${r?.toString()}`}const{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){const{cid:n,linkedBlock:r}=await async function(e){const t=await Tn({value:e,codec:Mn,hasher:Dn.sha256});return{cid:t.cid,linkedBlock:t.bytes}}(e),o=function(e){return _i.encode(e)}(n.bytes);Object.assign(t,{linkedBlock:Ri(r)});const i=await this.createJWS(o,t),s=Pn.TO.asCID(n);if(!s)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");return i.link=s,this._capability?{jws:i,linkedBlock:r,cacaoBlock:(await Vn.fromCacao(this._capability)).bytes}:{jws:i,linkedBlock:r}}async verifyJWS(e,t={}){t=Object.assign({verifiers:Pi},t),"string"!=typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const n=Ci(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');const r=await this.resolve(n);if(!t.disableTimecheck){const e=r.didDocumentMetadata?.nextUpdate;if(e){const r=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,o=new Date(e).valueOf()+r;if(!(t.atTime&&t.atTime.getTime()<o))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}const o=r.didDocumentMetadata?.updated;if(o&&t.atTime&&t.atTime.getTime()<new Date(o).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}const o=r.didDocument?.id;if(t.issuer&&t.capability&&(a=t.issuer,l=t.capability?.p.iss,a===l||a.startsWith("did:pkh:eip155:1:")&&a.toLowerCase()===l.toLowerCase())&&o===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await zn.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==o){const e=(i=t.issuer,(s=t.atTime)?`${i}?versionTime=${s.toISOString().split(".")[0]+"Z"}`:i),r=await this.resolve(e),a=r.didDocument?.controller,l=function(e){return e?Array.isArray(e)?e:[e]:[]}(a);if(t.capability?.s&&t.capability.p.aud===o&&l.includes(t.capability.p.iss))await zn.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else if(!o||!l.includes(o))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}var i,s,a,l;let c;hn(e,r.didDocument?.verificationMethod||[]);try{c=Ci(e.split(".")[1])}catch(e){}return{kid:n,payload:c,didResolutionResult:r}}async createJWE(e,t,n={}){return function(e,t,n={},r,o=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,n,r)).then((function(e){return yn(e,r)}))}{const i=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===i),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,l;if(o){l=t[0].genEpk?.();const e=t[0].alg;n={...n,alg:e,epk:l?.publicKeyJWK}}const c=function(e,t,n){if("function"==typeof e[fn]){var r,o,i,s=e[fn]();function u(e){try{for(;!((r=s.next()).done||n&&n());)if((e=t(r.value))&&e.then){if(!gn(e))return void e.then(u,i||(i=pn.bind(null,o=new mn,2)));e=e.v}o?pn(o,1,e):o=e}catch(e){pn(o||(o=new mn),2,e)}}if(u(),s.return){var a=function(e){try{r.done||s.return()}catch(e){}return e};if(o&&o.then)return o.then(a,(function(e){throw a(e)}));a()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var l=[],c=0;c<e.length;c++)l.push(e[c]);return function(e,t,n){var r,o,i=-1;return function s(a){try{for(;++i<e.length&&(!n||!n());)if((a=t(i))&&a.then){if(!gn(a))return void a.then(s,o||(o=pn.bind(null,r=new mn,2)));a=a.v}r?pn(r,1,a):r=a}catch(e){pn(r||(r=new mn),2,e)}}(),r}(l,(function(e){return t(l[e])}),n)}(t,(function(t){const o=s?Promise.resolve(t.encryptCek?.(s,l)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,n,r,l)).then((function(e){s=e.cek,a=yn(e,r)}));if(o&&o.then)return o.then((function(){}))}));return Promise.resolve(c&&c.then?c.then((function(){return a})):a)}}catch(e){return Promise.reject(e)}}(e,await An(t,this._resolver),n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){const r=await async function(e,t){return function(e,t=24){const n=(t-e.length%t)%t,r=new Uint8Array(e.length+n);return r.set(e,0),r}((await async function(e){return(await Tn({value:e,codec:Mn,hasher:On.identity})).cid}(e)).bytes,t)}(e);return this.createJWE(r,t,n)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return Er(Ii,n)}async decryptDagJWE(e){return t=await this.decryptJWE(e),function(e){const t=Pn.TO.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==Mn.code)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==On.identity.code)throw new Error("CID must use identity multihash");return Mn.decode(t.multihash.digest)}(Pn.TO.decodeFirst(t)[0]);var t}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:n,message:r}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${n}${r?`, ${r}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:r,parent:o}={}){if(Ti(this,"_client",void 0),Ti(this,"_id",void 0),Ti(this,"_resolver",void 0),Ti(this,"_capability",void 0),Ti(this,"_parentId",void 0),null!=e&&(this._client=new jn(e)),r){if(this._capability=r,this._parentId=this._capability.p.iss,this._parentId.startsWith("did:pkh:eip155:1:")&&(this._parentId=this._parentId.toLowerCase()),o&&this._parentId!==o)throw new Error("Capability issuer and parent not equal")}else o&&(this._parentId=o);this.setResolver(t,n)}}},4486:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,b:()=>r});var r=n(228);const o=r},4882:(e,t,n)=>{"use strict";n.d(t,{gX:()=>By});var r={};n.r(r),n.d(r,{abortedError:()=>xr,closeFailedError:()=>yr,deleteFailedError:()=>wr,getFailedError:()=>br,hasFailedError:()=>Ar,notFoundError:()=>Er,openFailedError:()=>gr,putFailedError:()=>vr});var o={};n.r(o),n.d(o,{Ed25519PrivateKey:()=>Si,Ed25519PublicKey:()=>xi,generateKeyPair:()=>_i,generateKeyPairFromSeed:()=>Ri,unmarshalEd25519PrivateKey:()=>ki,unmarshalEd25519PublicKey:()=>Ii});var i={};n.r(i),n.d(i,{MAX_RSA_KEY_SIZE:()=>qa,RsaPrivateKey:()=>Ga,RsaPublicKey:()=>Ka,fromJwk:()=>Za,generateKeyPair:()=>Ja,unmarshalRsaPrivateKey:()=>Ya,unmarshalRsaPublicKey:()=>Qa});var s={};function a(e){const t=new globalThis.AbortController;function n(){t.abort();for(const t of e)null!=t?.removeEventListener&&t.removeEventListener("abort",n)}for(const t of e){if(!0===t?.aborted){n();break}null!=t?.addEventListener&&t.addEventListener("abort",n)}const r=t.signal;return r.clear=function(){for(const t of e)null!=t?.removeEventListener&&t.removeEventListener("abort",n)},r}n.r(s),n.d(s,{Secp256k1PrivateKey:()=>nl,Secp256k1PublicKey:()=>tl,generateKeyPair:()=>il,unmarshalSecp256k1PrivateKey:()=>rl,unmarshalSecp256k1PublicKey:()=>ol});class l extends EventTarget{#e=new Map;constructor(){super()}listenerCount(e){const t=this.#e.get(e);return null==t?0:t.length}addEventListener(e,t,n){super.addEventListener(e,t,n);let r=this.#e.get(e);null==r&&(r=[],this.#e.set(e,r)),r.push({callback:t,once:(!0!==n&&!1!==n&&n?.once)??!1})}removeEventListener(e,t,n){super.removeEventListener(e.toString(),t??null,n);let r=this.#e.get(e);null!=r&&(r=r.filter((({callback:e})=>e!==t)),this.#e.set(e,r))}dispatchEvent(e){const t=super.dispatchEvent(e);let n=this.#e.get(e.type);return null==n||(n=n.filter((({once:e})=>!e)),this.#e.set(e.type,n)),t}safeDispatchEvent(e,t={}){return this.dispatchEvent(new u(e,t))}}class c extends Event{detail;constructor(e,t){super(e,t),this.detail=t?.detail}}const u=globalThis.CustomEvent??c;class d extends Error{code;type;constructor(e="The operation was aborted"){super(e),this.name="AbortError",this.code=d.code,this.type=d.type}static code="ABORT_ERR";static type="aborted"}class h extends Error{code;props;constructor(e,t,n){super(e),this.code=t,this.name=n?.name??"CodeError",this.props=n??{}}}class f extends AggregateError{code;props;constructor(e,t,n,r){super(e,t),this.code=n,this.name=r?.name??"AggregateCodeError",this.props=r??{}}}Error,Error,Error;const p="ERR_TIMEOUT",m="ERR_INVALID_MESSAGE";var g=n(8651);class y extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.name="AbortError",this.code=t??"ABORT_ERR"}}async function v(e,t,n,r){const o=new y(r?.errorMessage,r?.errorCode);return!0===n?.aborted?Promise.reject(o):new Promise(((i,s)=>{function a(){n?.removeEventListener("abort",u),e.removeEventListener(t,l),null!=r?.errorEvent&&e.removeEventListener(r.errorEvent,c)}const l=e=>{try{if(!1===r?.filter?.(e))return}catch(e){return a(),void s(e)}a(),i(e)},c=e=>{a(),s(e.detail)},u=()=>{a(),s(o)};n?.addEventListener("abort",u),e.addEventListener(t,l),null!=r?.errorEvent&&e.addEventListener(r.errorEvent,c)}))}class b extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.name="AbortError",this.code=t??"ABORT_ERR"}}async function w(e,t,n){if(null==t)return e;if(t.aborted)return Promise.reject(new b(n?.errorMessage,n?.errorCode));let r;const o=new b(n?.errorMessage,n?.errorCode);try{return await Promise.race([e,new Promise(((e,n)=>{r=()=>{n(o)},t.addEventListener("abort",r)}))])}finally{null!=r&&t.removeEventListener("abort",r)}}var A=n(7313);class E{deferred;signal;constructor(e){this.signal=e,this.deferred=(0,A.A)(),this.onAbort=this.onAbort.bind(this),this.signal?.addEventListener("abort",this.onAbort)}onAbort(){this.deferred.reject(this.signal?.reason??new d)}cleanup(){this.signal?.removeEventListener("abort",this.onAbort)}}class x{id;fn;options;recipients;status;timeline;controller;constructor(e,t){this.id=`${parseInt(String(1e9*Math.random()),10).toString()}${Date.now()}`,this.status="queued",this.fn=e,this.options=t,this.recipients=[],this.timeline={created:Date.now()},this.controller=new AbortController,this.controller.signal,this.onAbort=this.onAbort.bind(this)}abort(e){this.controller.abort(e)}onAbort(){this.recipients.reduce(((e,t)=>e&&!0===t.signal?.aborted),!0)&&(this.controller.abort(new d),this.cleanup())}async join(e={}){const t=new E(e.signal);return this.recipients.push(t),e.signal?.addEventListener("abort",this.onAbort),t.deferred.promise}async run(){this.status="running",this.timeline.started=Date.now();try{this.controller.signal.throwIfAborted();const e=await w(this.fn({...this.options??{},signal:this.controller.signal}),this.controller.signal);this.recipients.forEach((t=>{t.deferred.resolve(e)})),this.status="complete"}catch(e){this.recipients.forEach((t=>{t.deferred.reject(e)})),this.status="errored"}finally{this.timeline.finished=Date.now(),this.cleanup()}}cleanup(){this.recipients.forEach((e=>{e.cleanup(),e.signal?.removeEventListener("abort",this.onAbort)}))}}class S extends l{concurrency;queue;pending;sort;constructor(e={}){super(),this.concurrency=e.concurrency??Number.POSITIVE_INFINITY,this.pending=0,null!=e.metricName&&e.metrics?.registerMetricGroup(e.metricName,{calculate:()=>({size:this.queue.length,running:this.pending,queued:this.queue.length-this.pending})}),this.sort=e.sort,this.queue=[]}tryToStartAnother(){if(0===this.size)return queueMicrotask((()=>{this.safeDispatchEvent("empty")})),0===this.running&&queueMicrotask((()=>{this.safeDispatchEvent("idle")})),!1;if(this.pending<this.concurrency){let e;for(const t of this.queue)if("queued"===t.status){e=t;break}return null!=e&&(this.safeDispatchEvent("active"),this.pending++,e.run().finally((()=>{for(let t=0;t<this.queue.length;t++)if(this.queue[t]===e){this.queue.splice(t,1);break}this.pending--,this.tryToStartAnother(),this.safeDispatchEvent("next")})),!0)}return!1}enqueue(e){this.queue.push(e),null!=this.sort&&this.queue.sort(this.sort)}async add(e,t){t?.signal?.throwIfAborted();const n=new x(e,t);return this.enqueue(n),this.safeDispatchEvent("add"),this.tryToStartAnother(),n.join(t).then((e=>(this.safeDispatchEvent("completed",{detail:e}),this.safeDispatchEvent("success",{detail:{job:n,result:e}}),e))).catch((e=>{if("queued"===n.status)for(let e=0;e<this.queue.length;e++)if(this.queue[e]===n){this.queue.splice(e,1);break}throw this.safeDispatchEvent("error",{detail:e}),this.safeDispatchEvent("failure",{detail:{job:n,error:e}}),e}))}clear(){this.queue.splice(0,this.queue.length)}abort(){this.queue.forEach((e=>{e.abort(new d)})),this.clear()}async onEmpty(e){0!==this.size&&await v(this,"empty",e?.signal)}async onSizeLessThan(e,t){this.size<e||await v(this,"next",t?.signal,{filter:()=>this.size<e})}async onIdle(e){0===this.pending&&0===this.size||await v(this,"idle",e?.signal)}get size(){return this.queue.length}get queued(){return this.queue.length-this.pending}get running(){return this.pending}async*toGenerator(e){e?.signal?.throwIfAborted();const t=(0,g.Ny)({objectMode:!0}),n=e=>{null!=e?this.abort():this.clear(),t.end(e)},r=e=>{null!=e.detail&&t.push(e.detail)},o=e=>{n(e.detail)},i=()=>{n()},s=()=>{n(new h("Queue aborted","ERR_QUEUE_ABORTED"))};this.addEventListener("completed",r),this.addEventListener("error",o),this.addEventListener("idle",i),e?.signal?.addEventListener("abort",s);try{yield*t}finally{this.removeEventListener("completed",r),this.removeEventListener("error",o),this.removeEventListener("idle",i),e?.signal?.removeEventListener("abort",s),n()}}}class k extends S{has(e){return null!=this.find(e)}find(e){return this.queue.find((t=>e.equals(t.options.peerId)))}}const I=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e);})();for(const t of e);};var _=n(8231),R=n(859),C=n(167);function T(e){return null!=e[Symbol.asyncIterator]}const P=e=>{const t=_.OY(e),n=(0,C.K)(t);return _.lF(e,n),P.bytes=t,n};function D(e,t){const n=(t=t??{}).lengthEncoder??P;function*r(e){const t=n(e.byteLength);t instanceof Uint8Array?yield t:yield*t,e instanceof Uint8Array?yield e:yield*e}return T(e)?async function*(){for await(const t of e)yield*r(t)}():function*(){for(const t of e)yield*r(t)}()}P.bytes=0,D.single=(e,t)=>{const n=(t=t??{}).lengthEncoder??P;return new R.I(n(e.byteLength),e)};var O,M=n(6310);!function(e){e[e.LENGTH=0]="LENGTH",e[e.DATA=1]="DATA"}(O||(O={}));const N=e=>{const t=_.D4(e);return N.bytes=_.OY(t),t};function B(e,t){const n=new R.I;let r=O.LENGTH,o=-1;const i=t?.lengthDecoder??N,s=t?.maxLengthLength??8,a=t?.maxDataLength??4194304;function*l(){for(;n.byteLength>0;){if(r===O.LENGTH)try{if(o=i(n),o<0)throw M(new Error("invalid message length"),"ERR_INVALID_MSG_LENGTH");if(o>a)throw M(new Error("message length too long"),"ERR_MSG_DATA_TOO_LONG");const e=i.bytes;n.consume(e),null!=t?.onLength&&t.onLength(o),r=O.DATA}catch(e){if(e instanceof RangeError){if(n.byteLength>s)throw M(new Error("message length length too long"),"ERR_MSG_LENGTH_TOO_LONG");break}throw e}if(r===O.DATA){if(n.byteLength<o)break;const e=n.sublist(0,o);n.consume(o),null!=t?.onData&&t.onData(e),yield e,r=O.LENGTH}}}return T(e)?async function*(){for await(const t of e)n.append(t),yield*l();if(n.byteLength>0)throw M(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}():function*(){for(const t of e)n.append(t),yield*l();if(n.byteLength>0)throw M(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}()}N.bytes=0,B.fromReader=(e,t)=>{let n=1;return B(async function*(){for(;;)try{const{done:t,value:r}=await e.next(n);if(!0===t)return;null!=r&&(yield r)}catch(e){if("ERR_UNDER_READ"===e.code)return{done:!0,value:null};throw e}finally{n=1}}(),{...t??{},onLength:e=>{n=e}})};var L=n(987),F=n(7740);const U=function(e,t){return null!=e[Symbol.asyncIterator]?async function*(){let n=0;if(!(t<1))for await(const r of e)if(yield r,n++,n===t)return}():function*(){let n=0;if(!(t<1))for(const r of e)if(yield r,n++,n===t)return}()};var $=n(5433);const j="/ipfs/bitswap/1.2.0",z=4194304,V=z;var H,W,q,K,G,Y,Q,Z,J,X=n(289);!function(e){e.WantBlock="WantBlock",e.WantHave="WantHave"}(H||(H={})),function(e){e[e.WantBlock=0]="WantBlock",e[e.WantHave=1]="WantHave"}(W||(W={})),function(e){e.codec=()=>(0,X.eG)(W)}(H||(H={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.cid&&e.cid.byteLength>0&&(t.uint32(10),t.bytes(e.cid)),null!=e.priority&&0!==e.priority&&(t.uint32(16),t.int32(e.priority)),null!=e.cancel&&(t.uint32(24),t.bool(e.cancel)),null!=e.wantType&&(t.uint32(32),H.codec().encode(e.wantType,t)),null!=e.sendDontHave&&(t.uint32(40),t.bool(e.sendDontHave)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={cid:(0,C.c)(0),priority:0},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.cid=e.bytes();break;case 2:r.priority=e.int32();break;case 3:r.cancel=e.bool();break;case 4:r.wantType=H.codec().decode(e);break;case 5:r.sendDontHave=e.bool();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(q||(q={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.entries)for(const n of e.entries)t.uint32(10),q.codec().encode(n,t);null!=e.full&&(t.uint32(16),t.bool(e.full)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={entries:[]},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:if(null!=n.limits?.entries&&r.entries.length===n.limits.entries)throw new X.Ak('decode error - map field "entries" had too many elements',"ERR_MAX_LENGTH");r.entries.push(q.codec().decode(e,e.uint32(),{limits:n.limits?.entries$}));break;case 2:r.full=e.bool();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(K||(K={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.prefix&&e.prefix.byteLength>0&&(t.uint32(10),t.bytes(e.prefix)),null!=e.data&&e.data.byteLength>0&&(t.uint32(18),t.bytes(e.data)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={prefix:(0,C.c)(0),data:(0,C.c)(0)},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.prefix=e.bytes();break;case 2:r.data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(G||(G={})),function(e){e.HaveBlock="HaveBlock",e.DontHaveBlock="DontHaveBlock"}(Y||(Y={})),function(e){e[e.HaveBlock=0]="HaveBlock",e[e.DontHaveBlock=1]="DontHaveBlock"}(Q||(Q={})),function(e){e.codec=()=>(0,X.eG)(Q)}(Y||(Y={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.cid&&e.cid.byteLength>0&&(t.uint32(10),t.bytes(e.cid)),null!=e.type&&0!==Q[e.type]&&(t.uint32(16),Y.codec().encode(e.type,t)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={cid:(0,C.c)(0),type:Y.HaveBlock},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.cid=e.bytes();break;case 2:r.type=Y.codec().decode(e);break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(Z||(Z={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.wantlist&&(t.uint32(10),K.codec().encode(e.wantlist,t)),null!=e.blocks)for(const n of e.blocks)t.uint32(26),G.codec().encode(n,t);if(null!=e.blockPresences)for(const n of e.blockPresences)t.uint32(34),Z.codec().encode(n,t);null!=e.pendingBytes&&0!==e.pendingBytes&&(t.uint32(40),t.int32(e.pendingBytes)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={blocks:[],blockPresences:[],pendingBytes:0},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.wantlist=K.codec().decode(e,e.uint32(),{limits:n.limits?.wantlist});break;case 3:if(null!=n.limits?.blocks&&r.blocks.length===n.limits.blocks)throw new X.Ak('decode error - map field "blocks" had too many elements',"ERR_MAX_LENGTH");r.blocks.push(G.codec().decode(e,e.uint32(),{limits:n.limits?.blocks$}));break;case 4:if(null!=n.limits?.blockPresences&&r.blockPresences.length===n.limits.blockPresences)throw new X.Ak('decode error - map field "blockPresences" had too many elements',"ERR_MAX_LENGTH");r.blockPresences.push(Z.codec().decode(e,e.uint32(),{limits:n.limits?.blockPresences$}));break;case 5:r.pendingBytes=e.int32();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(J||(J={}));function ee(e,t,n,r,o,i){let s=0,a=!1;for(let l=n;l<e.length;l++){const n=e[l],c=i(n);if(c>4193664)throw new h("Cannot send block as after encoding it is over the max message size","ERR_BLOCK_TOO_LARGE");const u=o+c;if(u>r){a=!0;break}t.push(n),s++,o=u}return{hasMore:a,added:s,newSize:o}}function te(e){return oe(3,G.encode(e))}function ne(e){return oe(4,Z.encode(e))}function re(e){return oe(1,q.encode(e))}function oe(e,t){return(0,_.OY)(e)+(0,_.OY)(t.byteLength)+t.byteLength}class ie extends l{log;libp2p;routing;protocols;running;maxInboundStreams;maxOutboundStreams;messageReceiveTimeout;registrarIds;metrics;sendQueue;runOnTransientConnections;maxOutgoingMessageSize;maxIncomingMessageSize;constructor(e,t={}){super(),this.log=e.logger.forComponent("helia:bitswap:network"),this.libp2p=e.libp2p,this.routing=e.routing,this.protocols=t.protocols??[j],this.registrarIds=[],this.running=!1,this._onStream=this._onStream.bind(this),this.maxInboundStreams=t.maxInboundStreams??1024,this.maxOutboundStreams=t.maxOutboundStreams??1024,this.messageReceiveTimeout=t.messageReceiveTimeout??5e3,this.runOnTransientConnections=t.runOnTransientConnections??!1,this.maxIncomingMessageSize=t.maxIncomingMessageSize??z,this.maxOutgoingMessageSize=t.maxOutgoingMessageSize??t.maxIncomingMessageSize??V,this.metrics={blocksSent:e.metrics?.registerCounter("helia_bitswap_sent_blocks_total"),dataSent:e.metrics?.registerCounter("helia_bitswap_sent_data_bytes_total")},this.sendQueue=new k({concurrency:t.messageSendConcurrency??50,metrics:e.metrics,metricName:"helia_bitswap_message_send_queue"}),this.sendQueue.addEventListener("error",(e=>{this.log.error("error sending wantlist to peer",e.detail)}))}async start(){if(this.running)return;this.running=!0,await this.libp2p.handle(this.protocols,this._onStream,{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams,runOnTransientConnection:this.runOnTransientConnections});const e={onConnect:e=>{this.safeDispatchEvent("peer:connected",{detail:e})},onDisconnect:e=>{this.safeDispatchEvent("peer:disconnected",{detail:e})}};this.registrarIds=[];for(const t of this.protocols)this.registrarIds.push(await this.libp2p.register(t,e));this.libp2p.getConnections().forEach((e=>{this.safeDispatchEvent("peer:connected",{detail:e.remotePeer})}))}async stop(){if(this.running=!1,await this.libp2p.unhandle(this.protocols),null!=this.registrarIds){for(const e of this.registrarIds)this.libp2p.unregister(e);this.registrarIds=[]}}_onStream(e){if(!this.running)return;const{stream:t,connection:n}=e;Promise.resolve().then((async()=>{this.log("incoming new bitswap %s stream from %p",t.protocol,n.remotePeer);const e=()=>{"open"===t.status?t.abort(new h(`Incoming Bitswap stream timed out after ${this.messageReceiveTimeout}ms`,"ERR_TIMEOUT")):this.log("stream aborted with status %s",t.status)};let r=AbortSignal.timeout(this.messageReceiveTimeout);r.addEventListener("abort",e),await t.closeWrite(),await(0,F.F)(t,(e=>B(e,{maxDataLength:this.maxIncomingMessageSize})),(async o=>{for await(const i of o)try{const o=J.decode(i);this.log("incoming new bitswap %s message from %p on stream",t.protocol,n.remotePeer,t.id),this.safeDispatchEvent("bitswap:message",{detail:{peer:n.remotePeer,message:o}}),r.removeEventListener("abort",e),r=AbortSignal.timeout(this.messageReceiveTimeout),r.addEventListener("abort",e)}catch(e){this.log.error("error reading incoming bitswap message from %p on stream",n.remotePeer,t.id,e),t.abort(e);break}}))})).catch((e=>{this.log.error("error handling incoming stream from %p",n.remotePeer,e),t.abort(e)}))}async*findProviders(e,t){t?.onProgress?.(new $.j("bitswap:network:find-providers",e));for await(const n of this.routing.findProviders(e,t))await this.libp2p.isDialable(n.multiaddrs,{runOnTransientConnection:this.runOnTransientConnections})&&(yield n)}async findAndConnect(e,t){await I((0,L.A)(U(this.findProviders(e,t),t?.maxProviders??3),(async e=>this.connectTo(e.id,t)))).catch((e=>{this.log.error(e)}))}async sendMessage(e,t,n){if(!this.running)throw new Error("network isn't running");const r=this.sendQueue.queue.find((t=>e.equals(t.options.peerId)&&"queued"===t.status));if(null!=r)return r.options.message=function(e,t){for(const[n,r]of t.wantlist.entries()){const t=e.wantlist.get(n);null!=t&&(t.priority>r.priority&&(r.priority=t.priority),r.cancel=r.cancel??t.cancel,r.wantType=r.wantType??t.wantType,r.sendDontHave=r.sendDontHave??t.sendDontHave),e.wantlist.set(n,r)}for(const[n,r]of t.blockPresences.entries())e.blockPresences.set(n,r);for(const[n,r]of t.blocks.entries())e.blocks.set(n,r);return t.full&&!e.full&&(e.full=!0),e}(r.options.message,t),void await r.join({signal:n?.signal});await this.sendQueue.add((async t=>{const n=t?.message;if(null==n)throw new h("No message to send","ERR_NO_MESSAGE");this.log("sendMessage to %p",e),t?.onProgress?.(new $.j("bitswap:network:send-wantlist",e));const r=await this.libp2p.dialProtocol(e,j,t);await r.closeRead();try{await(0,F.F)(function*(e,t){const n=[...e.wantlist.values()],r=[...e.blockPresences.values()],o=[...e.blocks.values()];let i=0,s=0,a=0,l=!1;for(;;){const c={wantlist:{full:e.full??!1,entries:[]},blockPresences:[],blocks:[],pendingBytes:0};let u=J.encode(c).byteLength,{added:d,hasMore:h,newSize:f}=ee(o,c.blocks,a,t,u,te);a+=d,u=f;const p=h;({added:d,hasMore:h,newSize:f}=ee(r,c.blockPresences,s,t,u,ne)),s+=d,u=f;const m=h;if(({added:d,hasMore:h,newSize:f}=ee(n,c.wantlist.entries,i,t,u,re)),i+=d,u=f,l=!p&&!m&&!h,l||(c.wantlist.full=!1),yield J.encode(c),l)break}}(n,this.maxOutgoingMessageSize),(e=>D(e)),r),await r.close(t)}catch(n){t?.onProgress?.(new $.j("bitswap:network:send-wantlist:error",{peer:e,error:n})),this.log.error("error sending message to %p",e,n),r.abort(n)}this._updateSentStats(n.blocks)}),{peerId:e,signal:n?.signal,message:t})}async connectTo(e,t){if(!this.running)throw new h("Network isn't running","ERR_NOT_STARTED");t?.onProgress?.(new $.j("bitswap:network:dial",e));const[n]=await Promise.all([this.libp2p.dial(e,t),v(this.libp2p,"peer:identify",t?.signal,{filter:t=>{if(!t.detail.peerId.equals(e))return!1;if(t.detail.protocols.includes(j))return!0;throw new h(`${e} did not support ${j}`,"ERR_BITSWAP_UNSUPPORTED_BY_PEER")}})]);return n}_updateSentStats(e){let t=0;for(const n of e.values())t+=n.data.byteLength;this.metrics.dataSent?.increment(t),this.metrics.blocksSent?.increment(e.size)}}const se=Symbol.for("@libp2p/peer-id");function ae(e){return null!=e&&Boolean(e[se])}var le=n(8782),ce=n(7629),ue=n(9061),de=n(8580),he=n(8650),fe=n(8653),pe=n(4145),me=n(6676),ge=n(8067);const ye=Symbol.for("nodejs.util.inspect.custom"),ve=Object.values(ce.Fo).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),ce.Fo.identity.decoder),be=114,we=36,Ae=37;class Ee{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[se]=!0;toString(){return null==this.string&&(this.string=le.base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return ue.TO.createV1(be,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(null==e)return!1;if(e instanceof Uint8Array)return(0,pe.a)(this.multihash.bytes,e);if("string"==typeof e)return Re(e).equals(this);if(null!=e?.multihash?.bytes)return(0,pe.a)(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[ye](){return`PeerId(${this.toString()})`}}class xe extends Ee{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}}class Se extends Ee{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}}class ke extends Ee{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}}const Ie=2336;class _e{type="url";multihash;privateKey;publicKey;url;constructor(e){this.url=e.toString(),this.multihash=he.identity.digest((0,me.s)(this.url))}[ye](){return`PeerId(${this.url})`}[se]=!0;toString(){return this.toCID().toString()}toCID(){return ue.TO.createV1(Ie,this.multihash)}toBytes(){return this.toCID().bytes}equals(e){return null!=e&&(e instanceof Uint8Array&&(e=(0,ge.d)(e)),e.toString()===this.toString())}}function Re(e,t){if(t=t??ve,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=de.decode(le.base58btc.decode(`z${e}`));return e.startsWith("12D")?new Se({multihash:t}):e.startsWith("16U")?new ke({multihash:t}):new xe({multihash:t})}return Ce(ve.decode(e))}function Ce(e){try{const t=de.decode(e);if(t.code===he.identity.code){if(t.digest.length===we)return new Se({multihash:t});if(t.digest.length===Ae)return new ke({multihash:t})}if(t.code===fe.sha256.code)return new xe({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==be&&e.code!==Ie)throw new Error("Supplied PeerID CID is invalid");if(e.code===Ie){const t=(0,ge.d)(e.multihash.digest);return new _e(new URL(t))}const t=e.multihash;if(t.code===fe.sha256.code)return new xe({multihash:e.multihash});if(t.code===he.identity.code){if(t.digest.length===we)return new Se({multihash:e.multihash});if(t.digest.length===Ae)return new ke({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(ue.TO.decode(e))}throw new Error("Supplied PeerID CID is invalid")}async function Te(e,t){return e.length===we?new Se({multihash:de.create(he.identity.code,e),privateKey:t}):e.length===Ae?new ke({multihash:de.create(he.identity.code,e),privateKey:t}):new xe({multihash:await fe.sha256.digest(e),publicKey:e,privateKey:t})}function Pe(e,t){const n={[Symbol.iterator]:()=>n,next:()=>{const n=e.next(),r=n.value;return!0===n.done||null==r?{done:!0,value:void 0}:{done:!1,value:t(r)}}};return n}class De{map;constructor(e){if(this.map=new Map,null!=e)for(const[t,n]of e.entries())this.map.set(t.toString(),n)}[Symbol.iterator](){return this.entries()}clear(){this.map.clear()}delete(e){return this.map.delete(e.toString())}entries(){return Pe(this.map.entries(),(e=>[Re(e[0]),e[1]]))}forEach(e){this.map.forEach(((t,n)=>{e(t,Re(n),this)}))}get(e){return this.map.get(e.toString())}has(e){return this.map.has(e.toString())}set(e,t){this.map.set(e.toString(),t)}keys(){return Pe(this.map.keys(),(e=>Re(e)))}values(){return this.map.values()}get size(){return this.map.size}}class Oe extends De{metric;constructor(e){super();const{name:t,metrics:n}=e;this.metric=n.registerMetric(t),this.updateComponentMetric()}set(e,t){return super.set(e,t),this.updateComponentMetric(),this}delete(e){const t=super.delete(e);return this.updateComponentMetric(),t}clear(){super.clear(),this.updateComponentMetric()}updateComponentMetric(){this.metric.update(this.size)}}function Me(e){const{name:t,metrics:n}=e;let r;return r=null!=n?new Oe({name:t,metrics:n}):new De,r}var Ne=n(3221);class Be{full;pendingBytes;wantlist;blocks;blockPresences;constructor(e=!1,t=0){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}addWantlistEntry(e,t){const n=Ne.base64.encode(e.multihash.bytes);this.wantlist.set(n,t)}addBlockPresence(e,t){const n=Ne.base64.encode(e.multihash.bytes);this.blockPresences.set(n,t)}addBlock(e,t){const n=Ne.base64.encode(e.multihash.bytes);this.blocks.set(n,t)}}function Le(e){return function(e){let t=new Uint8Array(e.reduce(((e,t)=>e+(0,_.OY)(t)),0)),n=0;for(const r of e)t=(0,_.lF)(r,t,n),n+=(0,_.OY)(r);return t}([e.version,e.code,e.multihash.code,e.multihash.digest.byteLength])}class Fe{peerId;blockstore;network;wants;exchangeCount;bytesSent;bytesReceived;lastExchange;maxSizeReplaceHasWithBlock;log;constructor(e,t){this.peerId=e.peerId,this.blockstore=e.blockstore,this.network=e.network,this.wants=new Map,this.log=e.logger.forComponent(`helia:bitswap:ledger:${e.peerId}`),this.exchangeCount=0,this.bytesSent=0,this.bytesReceived=0,this.maxSizeReplaceHasWithBlock=t.maxSizeReplaceHasWithBlock??1024}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.bytesReceived+=e}debtRatio(){return this.bytesSent/(this.bytesReceived+1)}async sendBlocksToPeer(e){const t=new Be,n=new Set;for(const[r,o]of this.wants.entries())try{const i=await this.blockstore.get(o.cid,e);o.wantType===H.WantHave?i.byteLength<this.maxSizeReplaceHasWithBlock?(this.log("sending have and block for %c",o.cid),n.add(r),t.addBlock(o.cid,{data:i,prefix:Le(o.cid)})):(this.log("sending have for %c",o.cid),t.addBlockPresence(o.cid,{cid:o.cid.bytes,type:Y.HaveBlock})):(this.log("sending block for %c",o.cid),n.add(r),t.addBlock(o.cid,{data:i,prefix:Le(o.cid)}))}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e;if(this.log("do not have block for %c",o.cid),!o.sendDontHave)continue;if(!0===o.sentDontHave)continue;o.sentDontHave=!0,t.addBlockPresence(o.cid,{cid:o.cid.bytes,type:Y.DontHaveBlock})}if(t.blocks.size>0||t.blockPresences.size>0){this.log("sending message"),await this.network.sendMessage(this.peerId,t,e),this.log("sent message"),this.sentBytes([...t.blocks.values()].reduce(((e,t)=>e+t.data.byteLength),0));for(const e of n)this.wants.delete(e)}}}class Ue{blockstore;network;ledgerMap;maxSizeReplaceHasWithBlock;log;logger;constructor(e,t={}){this.blockstore=e.blockstore,this.network=e.network,this.maxSizeReplaceHasWithBlock=t.maxSizeReplaceHasWithBlock,this.log=e.logger.forComponent("helia:bitswap:peer-want-lists"),this.logger=e.logger,this.ledgerMap=Me({name:"helia_bitswap_ledger_map",metrics:e.metrics}),this.network.addEventListener("bitswap:message",(e=>{this.receiveMessage(e.detail.peer,e.detail.message).catch((t=>{this.log.error("error receiving bitswap message from %p",e.detail.peer,t)}))})),this.network.addEventListener("peer:disconnected",(e=>{this.peerDisconnected(e.detail)}))}ledgerForPeer(e){const t=this.ledgerMap.get(e);if(null!=t)return{peer:t.peerId,value:t.debtRatio(),sent:t.bytesSent,received:t.bytesReceived,exchanged:t.exchangeCount}}wantListForPeer(e){const t=this.ledgerMap.get(e);if(null!=t)return[...t.wants.values()]}peers(){return Array.from(this.ledgerMap.values()).map((e=>e.peerId))}async receiveMessage(e,t){let n=this.ledgerMap.get(e);if(null==n&&(n=new Fe({peerId:e,blockstore:this.blockstore,network:this.network,logger:this.logger},{maxSizeReplaceHasWithBlock:this.maxSizeReplaceHasWithBlock}),this.ledgerMap.set(e,n)),n.receivedBytes(t.blocks?.reduce(((e,t)=>e+t.data.byteLength),0)??0),null!=t.wantlist){!0===t.wantlist.full&&n.wants.clear();for(const r of t.wantlist.entries){const t=ue.TO.decode(r.cid),o=(0,ge.d)(t.multihash.bytes,"base64");!0===r.cancel?(this.log("peer %p cancelled want of block for %c",e,t),n.wants.delete(o)):(r.wantType===H.WantHave?this.log("peer %p wanted block presence for %c",e,t):this.log("peer %p wanted block for %c",e,t),n.wants.set(o,{cid:t,priority:r.priority,wantType:r.wantType??H.WantBlock,sendDontHave:r.sendDontHave??!1}))}}this.log("send blocks to peer"),await n.sendBlocksToPeer()}async receivedBlock(e,t){const n=(0,ge.d)(e.multihash.bytes,"base64"),r=[];for(const e of this.ledgerMap.values())e.wants.has(n)&&r.push(e);await Promise.all(r.map((async e=>e.sendBlocksToPeer(t))))}peerDisconnected(e){this.ledgerMap.delete(e)}}var $e=n(2595);function je(e){if(isNaN(e)||e<=0)throw new h("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return(0,$e.po)(e)}var ze=n(8437);const Ve=Math.LN2*Math.LN2;class He{static create(e,t=.005){const n=function(e,t=.005){const n=Math.round(-1*e*Math.log(t)/Ve);return{bits:n,hashes:Math.round(n/e*Math.LN2)}}(e,t);return new He(n)}seeds;bits;buffer;constructor(e={}){null!=e.seeds?this.seeds=e.seeds:this.seeds=function(e){let t,n;const r=[];for(let o=0;o<e;o++)for(t=new R.I(je(4)),r[o]=t.getUint32(0,!0),n=0;n<o;n++)if(r[o]===r[n]){o--;break}return r}(e.hashes??8),this.bits=e.bits??1024,this.buffer=(0,C.c)(Math.ceil(this.bits/8))}add(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.seeds.length;t++){const n=ze.x86.hash32(e,this.seeds[t])%this.bits;this.setbit(n)}}has(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.seeds.length;t++){const n=ze.x86.hash32(e,this.seeds[t])%this.bits;if(!this.getbit(n))return!1}return!0}clear(){this.buffer.fill(0)}setbit(e){let t=0,n=e;for(;n>7;)t++,n-=8;let r=this.buffer[t];r|=1<<n,this.buffer[t]=r}getbit(e){let t=0,n=e;for(;n>7;)t++,n-=8;return!!(this.buffer[t]&1<<n)}}class We extends l{intialPeerSearchComplete;requests;name;log;logger;minProviders;maxProviders;providers;evictionFilter;constructor(e,t){super(),this.name=t.name,this.logger=e.logger,this.log=e.logger.forComponent(this.name),this.requests=new Map,this.minProviders=t.minProviders??1,this.maxProviders=t.maxProviders??5,this.providers=[],this.evictionFilter=He.create(this.maxProviders)}async retrieve(e,t={}){const n=Ne.base64.encode(e.multihash.bytes),r=this.requests.get(n);if(null!=r)return this.log("join existing request for %c",e),r;const o=(0,A.A)();if(this.requests.set(n,o.promise),0===this.providers.length){let n=!1;null==this.intialPeerSearchComplete&&(n=!0,this.log=this.logger.forComponent(`${this.name}:${e}`),this.intialPeerSearchComplete=this.findProviders(e,this.minProviders,t)),await this.intialPeerSearchComplete,n&&this.log("found initial session peers for %c",e)}let i=!1;const s=new S({concurrency:this.maxProviders});s.addEventListener("error",(()=>{})),s.addEventListener("failure",(e=>{this.log.error("error querying provider %o, evicting from session",e.detail.job.options.provider,e.detail.error),this.evict(e.detail.job.options.provider)})),s.addEventListener("success",(e=>{i=!0,o.resolve(e.detail.result)})),s.addEventListener("idle",(()=>{i||!0===t.signal?.aborted||Promise.resolve().then((async()=>{this.log("no session peers had block for for %c, finding new providers",e);for(let e=0;e<this.minProviders&&0!==this.providers.length;e++){const e=this.providers[Math.floor(Math.random()*this.providers.length)];this.evict(e)}await this.findProviders(e,this.minProviders,t),this.log("found new providers re-retrieving %c",e),this.requests.delete(n),o.resolve(await this.retrieve(e,t))})).catch((t=>{this.log.error("could not find new providers for %c",e,t),o.reject(t)}))}));const a=n=>{s.add((async()=>this.queryProvider(e,n.detail,t)),{provider:n.detail}).catch((n=>{!0!==t.signal?.aborted&&this.log.error("error retrieving session block for %c",e,n)}))};this.addEventListener("provider",a),Promise.all([...this.providers].map((async n=>s.add((async()=>this.queryProvider(e,n,t)),{provider:n})))).catch((n=>{!0!==t.signal?.aborted&&this.log.error("error retrieving session block for %c",e,n)}));try{return await o.promise}finally{this.removeEventListener("provider",a),s.clear(),this.requests.delete(n)}}evict(e){this.evictionFilter.add(this.toEvictionKey(e));const t=this.providers.findIndex((t=>this.equals(t,e)));-1!==t&&this.providers.splice(t,1)}isEvicted(e){return this.evictionFilter.has(this.toEvictionKey(e))}hasProvider(e){return null!=this.providers.find((t=>this.equals(t,e)))||!!this.isEvicted(e)}async findProviders(e,t,n){const r=(0,A.A)();let o=0;return Promise.resolve().then((async()=>{this.log("finding %d-%d new provider(s) for %c",t,this.maxProviders,e);for await(const i of this.findNewProviders(e,n)){if(o===this.maxProviders||!0===n.signal?.aborted)break;if(!this.hasProvider(i)&&(this.log("found %d/%d new providers",o,this.maxProviders),this.providers.push(i),this.safeDispatchEvent("provider",{detail:i}),o++,o===t&&(this.log("session is ready"),r.resolve()),this.providers.length===this.maxProviders)){this.log("found max session peers",o);break}}if(this.log("found %d/%d new session peers",o,this.maxProviders),o<t)throw new h(`Found ${o} of ${t} ${this.name} providers for ${e}`,"ERR_INSUFFICIENT_PROVIDERS_FOUND")})).catch((t=>{this.log.error("error searching routing for potential session peers for %c",e,t.errors??t),r.reject(t)})),r.promise}}class qe extends We{wantList;network;constructor(e,t){super(e,{...t,name:"helia:bitswap:session"}),this.wantList=e.wantList,this.network=e.network}async queryProvider(e,t,n){this.log("sending WANT-BLOCK for %c to %p",e,t);const r=await this.wantList.wantSessionBlock(e,t,n);if(this.log("%p %s %c",t,r.has?"has":"does not have",e),r.has&&null!=r.block)return r.block;throw new Error("Provider did not have block")}async*findNewProviders(e,t={}){for await(const n of this.network.findProviders(e,t))yield n.id}toEvictionKey(e){return e.toBytes()}equals(e,t){return e.equals(t)}}class Ke{blocksReceived;duplicateBlocksReceived;dataReceived;duplicateDataReceived;constructor(e){this.blocksReceived=e.metrics?.registerMetricGroup("helia_bitswap_received_blocks"),this.duplicateBlocksReceived=e.metrics?.registerMetricGroup("helia_bitswap_duplicate_received_blocks"),this.dataReceived=e.metrics?.registerMetricGroup("helia_bitswap_data_received_bytes"),this.duplicateDataReceived=e.metrics?.registerMetricGroup("helia_bitswap_duplicate_data_received_bytes")}updateBlocksReceived(e=1,t){const n={global:e};null!=t&&(n[t.toString()]=e),this.blocksReceived?.increment(n)}updateDuplicateBlocksReceived(e=1,t){const n={global:e};null!=t&&(n[t.toString()]=e),this.duplicateBlocksReceived?.increment(n)}updateDataReceived(e,t){const n={global:e};null!=t&&(n[t.toString()]=e),this.dataReceived?.increment(n)}updateDuplicateDataReceived(e,t){const n={global:e};null!=t&&(n[t.toString()]=e),this.duplicateDataReceived?.increment(n)}}class Ge extends Map{metric;constructor(e){super();const{name:t,metrics:n}=e;this.metric=n.registerMetric(t),this.updateComponentMetric()}set(e,t){return super.set(e,t),this.updateComponentMetric(),this}delete(e){const t=super.delete(e);return this.updateComponentMetric(),t}clear(){super.clear(),this.updateComponentMetric()}updateComponentMetric(){this.metric.update(this.size)}}function Ye(e){const{name:t,metrics:n}=e;let r;return r=null!=n?new Ge({name:t,metrics:n}):new Map,r}const Qe=function(e){if(!(e instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");const t=[];for(;e.length>0;){const n=(0,_.D4)(e);t.push(n),e=e.slice((0,_.OY)(n))}return t};class Ze extends l{peers;wants;network;log;sendMessagesDelay;sendMessagesTimeout;hashLoader;sendingMessages;constructor(e,t={}){super(),this.peers=Me({name:"helia_bitswap_peers",metrics:e.metrics}),this.wants=Ye({name:"helia_bitswap_wantlist",metrics:e.metrics}),this.network=e.network,this.sendMessagesDelay=t.sendMessagesDelay??10,this.log=e.logger.forComponent("helia:bitswap:wantlist"),this.hashLoader=t.hashLoader,this.network.addEventListener("bitswap:message",(e=>{this.receiveMessage(e.detail.peer,e.detail.message).catch((t=>{this.log.error("error receiving bitswap message from %p",e.detail.peer,t)}))})),this.network.addEventListener("peer:connected",(e=>{this.peerConnected(e.detail).catch((t=>{this.log.error("error processing newly connected bitswap peer %p",e.detail,t)}))})),this.network.addEventListener("peer:disconnected",(e=>{this.peerDisconnected(e.detail)}))}async addEntry(e,t){const n=(0,ge.d)(e.multihash.bytes,"base64");let r=this.wants.get(n);null==r&&(r={cid:e,priority:t.priority??1,wantType:t.wantType??H.WantBlock,cancel:!1,sendDontHave:!0},this.wants.set(n,r)),r.wantType===H.WantHave&&t.wantType===H.WantBlock&&(r.wantType=H.WantBlock),await this.sendMessagesDebounced();try{return t.wantType===H.WantBlock?(await v(this,"block",t?.signal,{filter:t=>(0,pe.a)(e.multihash.digest,t.detail.cid.multihash.digest),errorMessage:"Want was aborted"})).detail:(await v(this,"presence",t?.signal,{filter:t=>(0,pe.a)(e.multihash.digest,t.detail.cid.multihash.digest),errorMessage:"Want was aborted"})).detail}finally{!0===t.signal?.aborted&&(this.log("want for %c was aborted, cancelling want",e),r.cancel=!0,await this.sendMessagesDebounced())}}async sendMessagesDebounced(){await(this.sendingMessages?.promise),clearTimeout(this.sendMessagesTimeout),this.sendMessagesTimeout=setTimeout((()=>{this.sendMessages().catch((e=>{this.log("error sending messages to peers",e)}))}),this.sendMessagesDelay)}async sendMessages(){this.sendingMessages=(0,A.A)(),await Promise.all([...this.peers.entries()].map((async([e,t])=>{const n=new Set,r=new Be;for(const[e,o]of this.wants.entries())t.has(e)||o.cancel||(n.add(e),r.addWantlistEntry(o.cid,{cid:o.cid.bytes,priority:o.priority,wantType:o.wantType,cancel:o.cancel,sendDontHave:o.sendDontHave}));if(0!==r.wantlist.size)try{await this.network.sendMessage(e,r);for(const e of n)t.add(e)}catch(e){this.log.error("error sending full wantlist to new peer",e)}}))).catch((e=>{this.log.error("error sending messages",e)}));for(const[e,t]of this.wants)if(t.cancel){this.wants.delete(e);for(const t of this.peers.values())t.delete(e)}this.sendingMessages.resolve()}has(e){const t=(0,ge.d)(e.multihash.bytes,"base64");return this.wants.has(t)}async wantSessionPresence(e,t,n={}){const r=new Be;return r.addWantlistEntry(e,{cid:e.bytes,sendDontHave:!0,wantType:H.WantHave,priority:1}),await this.network.sendMessage(t,r),(await v(this,"presence",n.signal,{filter:n=>t.equals(n.detail.sender)&&(0,pe.a)(e.multihash.digest,n.detail.cid.multihash.digest)})).detail}async wantBlock(e,t={}){return this.addEntry(e,{...t,wantType:H.WantBlock})}async wantSessionBlock(e,t,n={}){const r=new Be;return r.addWantlistEntry(e,{cid:e.bytes,sendDontHave:!0,wantType:H.WantBlock,priority:1}),await this.network.sendMessage(t,r),(await v(this,"presence",n.signal,{filter:n=>t.equals(n.detail.sender)&&(0,pe.a)(e.multihash.digest,n.detail.cid.multihash.digest)})).detail}async receivedBlock(e,t){const n=(0,ge.d)(e.multihash.bytes,"base64"),r=this.wants.get(n);null!=r&&(r.cancel=!0,await this.sendMessagesDebounced())}async receiveMessage(e,t){this.log("received message from %p with %d blocks",e,t.blocks.length);let n=!1;for(const r of t.blocks){if(null==r.prefix||null==r.data)continue;const t=Qe(r.prefix),o=t[0],i=t[1],s=t[2],a=s===fe.sha256.code?fe.sha256:await(this.hashLoader?.getHasher(s));if(null==a){this.log.error("unknown hash algorithm",s);continue}let l=a.digest(r.data);null!=l.then&&(l=await l);const c=ue.TO.create(0===o?0:1,i,l);this.log("received block from %p for %c",e,c),this.safeDispatchEvent("block",{detail:{sender:e,cid:c,block:r.data}}),this.safeDispatchEvent("presence",{detail:{sender:e,cid:c,has:!0,block:r.data}});const u=(0,ge.d)(c.multihash.bytes,"base64"),d=this.wants.get(u);null!=d&&(d.cancel=!0,n=!0)}for(const{cid:n,type:r}of t.blockPresences){const t=ue.TO.decode(n);this.log("received %s from %p for %c",r,e,t),this.safeDispatchEvent("presence",{detail:{sender:e,cid:t,has:r===Y.HaveBlock}})}n&&await this.sendMessagesDebounced()}async peerConnected(e){const t=new Set,n=new Be(!0);for(const[e,r]of this.wants.entries())r.cancel||(t.add(e),n.addWantlistEntry(r.cid,{cid:r.cid.bytes,priority:1,wantType:H.WantBlock,cancel:!1,sendDontHave:!1}));if(0!==n.wantlist.size)try{await this.network.sendMessage(e,n),this.peers.set(e,t)}catch(t){this.log.error("error sending full wantlist to new peer %p",e,t)}else this.peers.set(e,t)}peerDisconnected(e){this.peers.delete(e)}start(){}stop(){this.peers.clear(),clearTimeout(this.sendMessagesTimeout)}}class Je{log;logger;stats;network;blockstore;peerWantLists;wantList;constructor(e,t={}){this.logger=e.logger,this.log=e.logger.forComponent("helia:bitswap"),this.blockstore=e.blockstore,this.stats=new Ke(e),this.network=new ie(e,t),this.peerWantLists=new Ue({...e,network:this.network},t),this.wantList=new Ze({...e,network:this.network},t)}createSession(e={}){return t={wantList:this.wantList,network:this.network,logger:this.logger},new qe(t,e);var t}async want(e,t={}){const n=new AbortController,r=a([n.signal,t.signal]);n.signal,this.network.findAndConnect(e,{...t,signal:r}).catch((t=>{n.signal.aborted||this.log.error("error during finding and connect for cid %c",e,t)}));try{return(await this.wantList.wantBlock(e,{...t,signal:r})).block}finally{n.abort(),r.clear()}}async notify(e,t,n={}){await Promise.all([this.peerWantLists.receivedBlock(e,n),this.wantList.receivedBlock(e,n)])}getWantlist(){return[...this.wantList.wants.values()].filter((e=>!e.cancel)).map((e=>({cid:e.cid,priority:e.priority,wantType:e.wantType})))}getPeerWantlist(e){return this.peerWantLists.wantListForPeer(e)}async start(){this.wantList.start(),await this.network.start()}async stop(){this.wantList.stop(),await this.network.stop()}}class Xe{bitswap;started;constructor(e,t={}){const{hashers:n}=e;this.bitswap=((e,t={})=>new Je(e,t))(e,{hashLoader:{getHasher:async e=>{let t;if(t="string"==typeof e?Object.values(n).find((t=>t.name===e)):n[e],null!=t)return t;throw new Error(`Could not load hasher for code/name "${e}"`)}},...t}),this.started=!1}isStarted(){return this.started}async start(){await this.bitswap.start(),this.started=!0}async stop(){await this.bitswap.stop(),this.started=!1}async announce(e,t,n){await this.bitswap.notify(e,t,n)}async retrieve(e,t={}){return this.bitswap.want(e,t)}createSession(e){const t=this.bitswap.createSession(e);return{announce:async(e,t,n)=>{await this.bitswap.notify(e,t,n)},retrieve:async(e,n)=>t.retrieve(e,n)}}}function et(e={}){return t=>new Xe(t,e)}const tt=45,nt=15,rt=new class{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){const t=this.index,n=e();return void 0===n&&(this.index=t),n}parseWith(e){const t=e();if(this.index===this.input.length)return t}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically((()=>{const t=this.readChar();if(t===e)return t}))}readSeparator(e,t,n){return this.readAtomically((()=>{if(!(t>0&&void 0===this.readGivenChar(e)))return n()}))}readNumber(e,t,n,r){return this.readAtomically((()=>{let o=0,i=0;const s=this.peekChar();if(void 0===s)return;const a="0"===s,l=2**(8*r)-1;for(;;){const n=this.readAtomically((()=>{const t=this.readChar();if(void 0===t)return;const n=Number.parseInt(t,e);return Number.isNaN(n)?void 0:n}));if(void 0===n)break;if(o*=e,o+=n,o>l)return;if(i+=1,void 0!==t&&i>t)return}return 0===i||!n&&a&&i>1?void 0:o}))}readIPv4Addr(){return this.readAtomically((()=>{const e=new Uint8Array(4);for(let t=0;t<e.length;t++){const n=this.readSeparator(".",t,(()=>this.readNumber(10,3,!1,1)));if(void 0===n)return;e[t]=n}return e}))}readIPv6Addr(){const e=e=>{for(let t=0;t<e.length/2;t++){const n=2*t;if(t<e.length-3){const r=this.readSeparator(":",t,(()=>this.readIPv4Addr()));if(void 0!==r)return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],[n+4,!0]}const r=this.readSeparator(":",t,(()=>this.readNumber(16,4,!0,2)));if(void 0===r)return[n,!1];e[n]=r>>8,e[n+1]=255&r}return[e.length,!1]};return this.readAtomically((()=>{const t=new Uint8Array(16),[n,r]=e(t);if(16===n)return t;if(r)return;if(void 0===this.readGivenChar(":"))return;if(void 0===this.readGivenChar(":"))return;const o=new Uint8Array(14),i=16-(n+2),[s]=e(o.subarray(0,i));return t.set(o.subarray(0,s),16-s),t}))}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};function ot(e){return Boolean(function(e){if(!(e.length>nt))return rt.new(e).parseWith((()=>rt.readIPv4Addr()))}(e))}function it(e){return Boolean(function(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>tt))return rt.new(e).parseWith((()=>rt.readIPv6Addr()))}(e))}function st(e){return Boolean(function(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>tt))return rt.new(e).parseWith((()=>rt.readIPAddr()))}(e))}var at=n(5507);const lt=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map((e=>new at.Netmask(e)));function ct(e){return ot(e)?function(e){for(const t of lt)if(t.contains(e))return!0;return!1}(e):it(e)?/^::$/.test(t=e)||/^::1$/.test(t)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(t)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(t)||/^ff([0-9a-fA-F]{2,2}):/i.test(t):void 0;var t}var ut=n(4008);parseInt("0xFFFF",16),new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);var dt=n(3626);const ht=ot,ft=it,pt=function(e){let t=0;if(e=e.toString().trim(),ht(e)){const n=new Uint8Array(t+4);return e.split(/\./g).forEach((e=>{n[t++]=255&parseInt(e,10)})),n}if(ft(e)){const n=e.split(":",8);let r;for(r=0;r<n.length;r++){let e;ht(n[r])&&(e=pt(n[r]),n[r]=(0,ge.d)(e.slice(0,2),"base16")),null!=e&&++r<8&&n.splice(r,0,(0,ge.d)(e.slice(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(r=0;r<n.length&&""!==n[r];r++);const e=[r,1];for(r=9-n.length;r>0;r--)e.push("0");n.splice.apply(n,e)}const o=new Uint8Array(t+16);for(r=0;r<n.length;r++){const e=parseInt(n[r],16);o[t++]=e>>8&255,o[t++]=255&e}return o}throw new Error("invalid ip address")},mt=function(e,t=0,n){t=~~t,n=n??e.length-t;const r=new DataView(e.buffer);if(4===n){const r=[];for(let o=0;o<n;o++)r.push(e[t+o]);return r.join(".")}if(16===n){const e=[];for(let o=0;o<n;o+=2)e.push(r.getUint16(t+o).toString(16));return e.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},gt=-1,yt={},vt={};function bt(e){if("number"==typeof e){if(null!=vt[e])return vt[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=yt[e])return yt[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}function wt(e,t){switch(bt(e).code){case 4:case 41:return function(e){const t=mt(e,0,e.length);if(null==t)throw new Error("ipBuff is required");if(!st(t))throw new Error("invalid ip address");return t}(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return _t(t);case 6:case 273:case 33:case 132:return kt(t).toString();case 421:return function(e){const t=_.D4(e),n=e.slice(_.OY(t));if(n.length!==t)throw new Error("inconsistent lengths");return(0,ge.d)(n,"base58btc")}(t);case 444:case 445:return function(e){const t=e.slice(0,e.length-2),n=e.slice(e.length-2);return`${(0,ge.d)(t,"base32")}:${kt(n)}`}(t);case 466:return function(e){const t=_.D4(e),n=e.slice(_.OY(t));if(n.length!==t)throw new Error("inconsistent lengths");return"u"+(0,ge.d)(n,"base64url")}(t);case 481:return globalThis.encodeURIComponent(_t(t));default:return(0,ge.d)(t,"base16")}}function At(e,t){switch(bt(e).code){case 4:case 41:return function(e){if(!st(e))throw new Error("invalid ip address");return pt(e)}(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return It(t);case 6:case 273:case 33:case 132:return St(parseInt(t,10));case 421:return function(e){let t;t="Q"===e[0]||"1"===e[0]?de.decode(le.base58btc.decode(`z${e}`)).bytes:ue.TO.parse(e).multihash.bytes;const n=Uint8Array.from(_.lF(t.length));return(0,ut.x)([n,t],n.length+t.length)}(t);case 444:return function(e){const t=e.split(":");if(2!==t.length)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);const n=dt.base32.decode("b"+t[0]),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const o=St(r);return(0,ut.x)([n,o],n.length+o.length)}(t);case 445:return function(e){const t=e.split(":");if(2!==t.length)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);const n=dt.base32.decode(`b${t[0]}`),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const o=St(r);return(0,ut.x)([n,o],n.length+o.length)}(t);case 466:return function(e){const t=xt.decode(e),n=Uint8Array.from(_.lF(t.length));return(0,ut.x)([n,t],n.length+t.length)}(t);case 481:return It(globalThis.decodeURIComponent(t));default:return(0,me.s)(t,"base16")}}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,gt,"ip6zone"],[43,8,"ipcidr"],[53,gt,"dns",!0],[54,gt,"dns4",!0],[55,gt,"dns6",!0],[56,gt,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,gt,"unix",!1,!0],[421,gt,"ipfs"],[421,gt,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,gt,"garlic64"],[448,0,"tls"],[449,gt,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,gt,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,gt,"http-path"],[777,gt,"memory"]].forEach((e=>{const t=function(e,t,n,r,o){return{code:e,size:t,name:n,resolvable:Boolean(r),path:Boolean(o)}}(...e);vt[t.code]=t,yt[t.name]=t})),bt("ip4"),bt("ip6"),bt("ipcidr");const Et=Object.values(ce.Fo).map((e=>e.decoder)),xt=function(){let e=Et[0].or(Et[1]);return Et.slice(2).forEach((t=>e=e.or(t))),e}();function St(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function kt(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function It(e){const t=(0,me.s)(e),n=Uint8Array.from(_.lF(t.length));return(0,ut.x)([n,t],n.length+t.length)}function _t(e){const t=_.D4(e);if((e=e.slice(_.OY(t))).length!==t)throw new Error("inconsistent lengths");return(0,ge.d)(e)}function Rt(e){const t=[],n=[];let r=null,o=0;for(;o<e.length;){const i=_.D4(e,o),s=_.OY(i),a=bt(i),l=Pt(a,e.slice(o+s));if(0===l){t.push([i]),n.push([i]),o+=s;continue}const c=e.slice(o+s,o+s+l);if(o+=l+s,o>e.length)throw Ot("Invalid address Uint8Array: "+(0,ge.d)(e,"base16"));t.push([i,c]);const u=wt(i,c);if(n.push([i,u]),!0===a.path){r=u;break}}return{bytes:Uint8Array.from(e),string:Ct(n),tuples:t,stringTuples:n,path:r}}function Ct(e){const t=[];return e.map((e=>{const n=bt(e[0]);return t.push(n.name),e.length>1&&null!=e[1]&&t.push(e[1]),null})),Dt(t.join("/"))}function Tt(e){return(0,ut.x)(e.map((e=>{const t=bt(e[0]);let n=Uint8Array.from(_.lF(t.code));return e.length>1&&null!=e[1]&&(n=(0,ut.x)([n,e[1]])),n})))}function Pt(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;{const e=_.D4(t instanceof Uint8Array?t:Uint8Array.from(t));return e+_.OY(e)}}function Dt(e){return"/"+e.trim().split("/").filter((e=>e)).join("/")}function Ot(e){return new Error("Error parsing address: "+e)}const Mt=Symbol.for("nodejs.util.inspect.custom"),Nt=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Bt=[bt("dns").code,bt("dns4").code,bt("dns6").code,bt("dnsaddr").code];class Lt{bytes;#t;#n;#r;#o;[Nt]=!0;constructor(e){let t;if(null==e&&(e=""),e instanceof Uint8Array)t=Rt(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);t=function(e){const t=[],n=[];let r=null;const o=(e=Dt(e)).split("/").slice(1);if(1===o.length&&""===o[0])return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let i=0;i<o.length;i++){const s=bt(o[i]);if(0===s.size){t.push([s.code]),n.push([s.code]);continue}if(i++,i>=o.length)throw Ot("invalid address: "+e);if(!0===s.path){r=Dt(o.slice(i).join("/")),t.push([s.code,At(s.code,r)]),n.push([s.code,r]);break}const a=At(s.code,o[i]);t.push([s.code,a]),n.push([s.code,wt(s.code,a)])}return{string:Ct(n),bytes:Tt(t),tuples:t,stringTuples:n,path:r}}(e)}else{if(!Ut(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");t=Rt(e.bytes)}this.bytes=t.bytes,this.#t=t.string,this.#n=t.tuples,this.#r=t.stringTuples,this.#o=t.path}toString(){return this.#t}toJSON(){return this.toString()}toOptions(){let e,t,n,r,o="";const i=bt("tcp"),s=bt("udp"),a=bt("ip4"),l=bt("ip6"),c=bt("dns6"),u=bt("ip6zone");for(const[d,h]of this.stringTuples())d===u.code&&(o=`%${h??""}`),Bt.includes(d)&&(t=i.name,r=443,n=`${h??""}${o}`,e=d===c.code?6:4),d!==i.code&&d!==s.code||(t=bt(d).name,r=parseInt(h??"")),d!==a.code&&d!==l.code||(t=bt(d).name,n=`${h??""}${o}`,e=d===l.code?6:4);if(null==e||null==t||null==n||null==r)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:n,transport:t,port:r}}protos(){return this.#n.map((([e])=>Object.assign({},bt(e))))}protoCodes(){return this.#n.map((([e])=>e))}protoNames(){return this.#n.map((([e])=>bt(e).name))}tuples(){return this.#n}stringTuples(){return this.#r}encapsulate(e){return e=new Lt(e),new Lt(this.toString()+e.toString())}decapsulate(e){const t=e.toString(),n=this.toString(),r=n.lastIndexOf(t);if(r<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new Lt(n.slice(0,r))}decapsulateCode(e){const t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new Lt(Tt(t.slice(0,n)));return this}getPeerId(){try{let e=[];this.stringTuples().forEach((([t,n])=>{t===yt.p2p.code&&e.push([t,n]),t===yt["p2p-circuit"].code&&(e=[])}));const t=e.pop();if(null!=t?.[1]){const e=t[1];return"Q"===e[0]||"1"===e[0]?(0,ge.d)(le.base58btc.decode(`z${e}`),"base58btc"):(0,ge.d)(ue.TO.parse(e).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){return this.#o}equals(e){return(0,pe.a)(this.bytes,e.bytes)}async resolve(e){const t=this.protos().find((e=>e.resolvable));if(null==t)return[this];const n=Ft.get(t.name);if(null==n)throw new h(`no available resolver for ${t.name}`,"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,e)).map((e=>$t(e)))}nodeAddress(){const e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){const t=(e??this).protos();return!(2!==t.length||4!==t[0].code&&41!==t[0].code||6!==t[1].code&&273!==t[1].code)}[Mt](){return`Multiaddr(${this.#t})`}}const Ft=new Map;function Ut(e){return Boolean(e?.[Nt])}function $t(e){return new Lt(e)}const jt=e=>({match:t=>!(t.length<1)&&!!e(t[0])&&t.slice(1),pattern:"fn"}),zt=e=>({match:t=>jt((t=>t===e)).match(t),pattern:e}),Vt=()=>({match:e=>jt((e=>"string"==typeof e)).match(e),pattern:"{string}"}),Ht=()=>({match:e=>jt((e=>!isNaN(parseInt(e)))).match(e),pattern:"{number}"}),Wt=()=>({match:e=>{if(e.length<2)return!1;if("p2p"!==e[0]&&"ipfs"!==e[0])return!1;if(!e[1].startsWith("Q")&&!e[1].startsWith("1"))return!1;try{le.base58btc.decode(`z${e[1]}`)}catch(e){return!1}return e.slice(2)},pattern:"/p2p/{peerid}"}),qt=()=>({match:e=>{if(e.length<2)return!1;if("certhash"!==e[0])return!1;try{Ne.base64url.decode(e[1])}catch{return!1}return e.slice(2)},pattern:"/certhash/{certhash}"}),Kt=e=>({match:t=>{const n=e.match(t);return!1===n?t:n},pattern:`optional(${e.pattern})`}),Gt=(...e)=>({match:t=>{let n;for(const r of e){const e=r.match(t);!1!==e&&(null==n||e.length<n.length)&&(n=e)}return null!=n&&n},pattern:`or(${e.map((e=>e.pattern)).join(", ")})`}),Yt=(...e)=>({match:t=>{for(const n of e){const e=n.match(t);if(!1===e)return!1;t=e}return t},pattern:`and(${e.map((e=>e.pattern)).join(", ")})`});function Qt(...e){function t(t){let n=(e=>e.toString().split("/").slice(1))(t);for(const t of e){const e=t.match(n);if(!1===e)return!1;n=e}return n}return{matches:function(e){return!1!==t(e)},exactMatch:function(e){const n=t(e);return!1!==n&&0===n.length}}}const Zt=Yt(zt("dns4"),Vt()),Jt=Yt(zt("dns6"),Vt()),Xt=Yt(zt("dnsaddr"),Vt()),en=Yt(zt("dns"),Vt()),tn=(Qt(Zt),Qt(Jt),Qt(Xt),Qt(Gt(en,Xt,Zt,Jt))),nn=Yt(zt("ip4"),jt(ot)),rn=Yt(zt("ip6"),jt(it)),on=Gt(nn,rn),sn=Gt(on,en,Zt,Jt,Xt),an=Qt(sn),ln=(Qt(nn),Qt(rn),Qt(on)),cn=Yt(sn,zt("tcp"),Ht()),un=Yt(sn,zt("udp"),Ht()),dn=(Qt(cn),Qt(un),Yt(un,zt("quic"))),hn=Yt(un,zt("quic-v1")),fn=Gt(dn,hn),pn=(Qt(dn),Qt(hn),Gt(sn,cn,un,dn,hn)),mn=Gt(Yt(pn,zt("ws"),Kt(Wt()))),gn=(Qt(mn),Gt(Yt(pn,zt("wss"),Kt(Wt())),Yt(pn,zt("tls"),zt("ws"),Kt(Wt())))),yn=(Qt(gn),Yt(un,zt("webrtc-direct"),Kt(qt()),Kt(qt()),Kt(Wt()))),vn=Qt(yn),bn=Yt(hn,zt("webtransport"),Kt(qt()),Kt(qt()),Kt(Wt())),wn=Qt(bn),An=Gt(mn,gn,Yt(cn,Kt(Wt())),Yt(fn,Kt(Wt())),Yt(sn,Kt(Wt())),yn,bn,Wt()),En=(Qt(An),Qt(Yt(An,zt("p2p-circuit"),Wt()))),xn=Qt(Gt(Yt(An,zt("p2p-circuit"),zt("webrtc"),Kt(Wt())),Yt(An,zt("webrtc"),Kt(Wt())),zt("webrtc"))),Sn=Qt(Gt(Yt(sn,zt("tcp"),Ht(),zt("http"),Kt(Wt())),Yt(sn,zt("http"),Kt(Wt())))),kn=Qt(Gt(Yt(sn,zt("tcp"),Gt(Yt(zt("443"),zt("http")),Yt(Ht(),zt("https"))),Kt(Wt())),Yt(sn,zt("tls"),zt("http"),Kt(Wt())),Yt(sn,zt("https"),Kt(Wt())))),In=[bt("tcp").code,bt("dns").code,bt("dnsaddr").code,bt("dns4").code,bt("dns6").code];function _n(e){let t;try{t=bt("sni").code}catch(e){return null}for(const[n,r]of e)if(n===t&&void 0!==r)return r;return null}function Rn(e){return e.some((([e,t])=>e===bt("tls").code))}function Cn(e,t,n){const r=Tn[bt(e).name];if(void 0===r)throw new Error(`Can't interpret protocol ${bt(e).name}`);const o=r(t,n);return e===bt("ip6").code?`[${o}]`:o}const Tn={ip4:(e,t)=>e,ip6:(e,t)=>0===t.length?e:`[${e}]`,tcp:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`tcp://${Cn(n[0],n[1]??"",t)}:${e}`},udp:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`udp://${Cn(n[0],n[1]??"",t)}:${e}`},dnsaddr:(e,t)=>e,dns4:(e,t)=>e,dns6:(e,t)=>e,dns:(e,t)=>e,ipfs:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/ipfs/${e}`},p2p:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/p2p/${e}`},http:(e,t)=>{const n=Rn(t),r=_n(t);if(n&&null!==r)return`https://${r}`;const o=n?"https://":"http://",i=t.pop();if(void 0===i)throw new Error("Unexpected end of multiaddr");let s=Cn(i[0],i[1]??"",t);return s=s.replace("tcp://",""),`${o}${s}`},"http-path":(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/${decodeURIComponent(e)}`},tls:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return Cn(n[0],n[1]??"",t)},sni:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return Cn(n[0],n[1]??"",t)},https:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");let r=Cn(n[0],n[1]??"",t);return r=r.replace("tcp://",""),`https://${r}`},ws:(e,t)=>{const n=Rn(t),r=_n(t);if(n&&null!==r)return`wss://${r}`;const o=n?"wss://":"ws://",i=t.pop();if(void 0===i)throw new Error("Unexpected end of multiaddr");let s=Cn(i[0],i[1]??"",t);return s=s.replace("tcp://",""),`${o}${s}`},wss:(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");let r=Cn(n[0],n[1]??"",t);return r=r.replace("tcp://",""),`wss://${r}`},"p2p-websocket-star":(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/p2p-websocket-star`},"p2p-webrtc-star":(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/p2p-webrtc-star`},"p2p-webrtc-direct":(e,t)=>{const n=t.pop();if(void 0===n)throw new Error("Unexpected end of multiaddr");return`${Cn(n[0],n[1]??"",t)}/p2p-webrtc-direct`}};function Pn(e,t){const n=$t(e).stringTuples(),r=n.pop();if(void 0===r)throw new Error("Unexpected end of multiaddr");const o=bt(r[0]),i=Tn[o.name];if(null==i)throw new Error(`No interpreter found for ${o.name}`);let s=i(r[1]??"",n);return!1!==t?.assumeHttp&&In.includes(r[0])&&(s=s.replace(/^.*:\/\//,""),s="443"===r[1]?`https://${s}`:`http://${s}`),(s.startsWith("http://")||s.startsWith("https://"))&&(s=new URL(s).toString(),s.endsWith("/")&&(s=s.substring(0,s.length-1))),s}class Dn{url;#i=0;#s=0;#a=0;#l=0;#c=new Map;log;constructor(e,t){this.url=e instanceof URL?e:new URL(e),this.log=t.forComponent(`helia:trustless-gateway-block-broker:${this.url.hostname}`)}#u(e){const t=e.multihash.bytes;return Ne.base64.encode(t)}async getRawBlock(e,t){const n=new URL(this.url.toString());if(n.pathname=`/ipfs/${e.toString()}`,n.search="?format=raw",!0===t?.aborted)throw new Error(`Signal to fetch raw block for CID ${e} from gateway ${this.url} was aborted prior to fetch`);const r=this.#u(e),o=new AbortController,i=()=>{o.abort()};t?.addEventListener("abort",i);try{let t=this.#c.get(r);return null==t&&(this.#i++,t=fetch(n.toString(),{signal:o.signal,headers:{Accept:"application/vnd.ipld.raw"},cache:"force-cache"}).then((async t=>{if(this.log("GET %s %d",n,t.status),!t.ok)throw this.#s++,new Error(`unable to fetch raw block for CID ${e} from gateway ${this.url}`);return this.#l++,new Uint8Array(await t.arrayBuffer())})),this.#c.set(r,t)),await t}catch(n){if(!0===t?.aborted)throw new Error(`fetching raw block for CID ${e} from gateway ${this.url} was aborted`);throw this.#s++,new Error(`unable to fetch raw block for CID ${e}`)}finally{t?.removeEventListener("abort",i),this.#c.delete(r)}}reliability(){return 0===this.#i?1:this.#a>0?-1/0:this.#l/(this.#i+3*this.#s)}incrementInvalidBlocks(){this.#a++}getStats(){return{attempts:this.#i,errors:this.#s,invalidBlocks:this.#a,successes:this.#l,pendingResponses:this.#c.size}}}function On(e,t,n){return e.filter((e=>!(!(kn.matches(e)||t&&Sn.matches(e))||!n&&!tn.matches(e)&&!1!==ct(e.toOptions().host))))}async function*Mn(e,t,n,r,o,i){for await(const s of t.findProviders(e,i)){const e=On(s.multiaddrs,r,o);if(0===e.length)continue;const t=Pn(e[0]);yield new Dn(t,n)}}class Nn extends We{routing;allowInsecure;allowLocal;constructor(e,t){super(e,{...t,name:"helia:trustless-gateway:session"}),this.routing=e.routing,this.allowInsecure=t.allowInsecure??Ln,this.allowLocal=t.allowLocal??Fn}async queryProvider(e,t,n){this.log("fetching BLOCK for %c from %s",e,t.url);const r=await t.getRawBlock(e,n.signal);return this.log.trace("got block for %c from %s",e,t.url),await(n.validateFn?.(r)),r}async*findNewProviders(e,t={}){yield*Mn(e,this.routing,this.logger,this.allowInsecure,this.allowLocal,t)}toEvictionKey(e){return e.url.toString()}equals(e,t){return e.url.toString()===t.url.toString()}}class Bn{allowInsecure;allowLocal;routing;log;logger;constructor(e,t={}){this.log=e.logger.forComponent("helia:trustless-gateway-block-broker"),this.logger=e.logger,this.routing=e.routing,this.allowInsecure=t.allowInsecure??Ln,this.allowLocal=t.allowLocal??Fn}async retrieve(e,t={}){const n=[];for await(const r of Mn(e,this.routing,this.logger,this.allowInsecure,this.allowLocal,t)){this.log("getting block for %c from %s",e,r.url);try{const n=await r.getRawBlock(e,t.signal);this.log.trace("got block for %c from %s",e,r.url);try{await(t.validateFn?.(n))}catch(t){this.log.error("failed to validate block for %c from %s",e,r.url,t);continue}return n}catch(o){if(this.log.error("failed to get block for %c from %s",e,r.url,o),o instanceof Error?n.push(o):n.push(new Error(`Unable to fetch raw block for CID ${e} from gateway ${r.url}`)),!0===t.signal?.aborted){this.log.trace("request aborted while fetching raw block for CID %c from gateway %s",e,r.url);break}}}throw n.length>0?new AggregateError(n,`Unable to fetch raw block for CID ${e} from any gateway`):new Error(`Unable to fetch raw block for CID ${e} from any gateway`)}createSession(e={}){return t={logger:this.logger,routing:this.routing},new Nn(t,e);var t}}const Ln=!1,Fn=!1;function Un(e={}){return t=>new Bn(t,e)}class $n{libp2p;constructor(e){this.libp2p=e}async provide(e,t){await this.libp2p.contentRouting.provide(e,t)}async*findProviders(e,t){yield*this.libp2p.contentRouting.findProviders(e,t)}async put(e,t,n){await this.libp2p.contentRouting.put(e,t,n)}async get(e,t){return this.libp2p.contentRouting.get(e,t)}async findPeer(e,t){return this.libp2p.peerRouting.findPeer(e,t)}async*getClosestPeers(e,t){yield*this.libp2p.peerRouting.getClosestPeers(e,t)}}function jn(e){return new $n(e)}const zn="[a-fA-F\\d:]",Vn=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${zn})|(?<=${zn})(?=\\s|$))`:"",Hn="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Wn="[a-fA-F\\d]{1,4}",qn=`\n(?:\n(?:${Wn}:){7}(?:${Wn}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${Wn}:){6}(?:${Hn}|:${Wn}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${Wn}:){5}(?::${Hn}|(?::${Wn}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${Wn}:){4}(?:(?::${Wn}){0,1}:${Hn}|(?::${Wn}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${Wn}:){3}(?:(?::${Wn}){0,2}:${Hn}|(?::${Wn}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${Wn}:){2}(?:(?::${Wn}){0,3}:${Hn}|(?::${Wn}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${Wn}:){1}(?:(?::${Wn}){0,4}:${Hn}|(?::${Wn}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${Wn}){0,5}:${Hn}|(?::${Wn}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Kn=new RegExp(`(?:^${Hn}$)|(?:^${qn}$)`),Gn=new RegExp(`^${Hn}$`),Yn=new RegExp(`^${qn}$`),Qn=e=>e&&e.exact?Kn:new RegExp(`(?:${Vn(e)}${Hn}${Vn(e)})|(?:${Vn(e)}${qn}${Vn(e)})`,"g");Qn.v4=e=>e&&e.exact?Gn:new RegExp(`${Vn(e)}${Hn}${Vn(e)}`,"g"),Qn.v6=e=>e&&e.exact?Yn:new RegExp(`${Vn(e)}${qn}${Vn(e)}`,"g");const Zn=Qn,{toString:Jn}=Object.prototype,Xn={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function er(e,t,{timeout:n}={}){try{return function(e){const t=(...t)=>e(...t);return Object.defineProperty(t,"name",{value:`functionTimeout(${e.name||"<anonymous>"})`,configurable:!0}),t}((()=>function(e,t={}){if(n=e,"[object RegExp]"!==Jn.call(n))throw new TypeError("Expected a RegExp instance");var n;const r=Object.keys(Xn).map((n=>("boolean"==typeof t[n]?t[n]:e[n])?Xn[n]:"")).join(""),o=new RegExp(t.source||e.source,r);return o.lastIndex="number"==typeof t.lastIndex?t.lastIndex:e.lastIndex,o}(e).test(t)))()}catch(e){throw e}}const tr=15,nr=45,rr={timeout:400};function or(e){return!(e.length>nr)&&er(Zn.v6({exact:!0}),e,rr)}const ir={http:"80",https:"443",ws:"80",wss:"443"},sr=["http","https","ws","wss"];function ar(e,t){const n=(t=t??{}).defaultDnsType??"dns4",{scheme:r,hostname:o,port:i}=function(e){const[t]=e.split(":");sr.includes(t)||(e="http"+e.substring(t.length));let{protocol:n,hostname:r,port:o}=new URL(e);if(null==o||""===o){const e=function(e){if(null!=e&&""!==e&&null!=ir[e])return ir[e]}(t);null!=e&&(o=e),null==e&&"http:"===n&&(o="80")}return{scheme:t,hostname:r,port:o}}(e);return $t("/"+[lr(o,n),cr(i,r),ur(r)].filter((e=>Boolean(e))).reduce(((e,t)=>e.concat(t)),[]).join("/"))}function lr(e,t){if(null!=e&&""!==e){if(function(e){return!(e.length>tr)&&er(Zn.v4({exact:!0}),e,rr)}(e))return["ip4",e];if(or(e))return["ip6",e];if("["===e[0]){const t=e.substring(1,e.length-1);if(or(t))return["ip6",t]}return[t,e]}}function cr(e,t){if(null!=e&&""!==e)return"udp"===t?["udp",e]:["tcp",e]}function ur(e){if(null==e.match(/^tcp$|^udp$/))return[e]}const dr=["https://trustless-gateway.link","https://4everland.io"],hr=Symbol.for("nodejs.util.inspect.custom");class fr{type="url";multihash;privateKey;publicKey;url;constructor(e){this.url=e.toString(),this.multihash=he.identity.digest((0,me.s)(this.url))}[hr](){return`PeerId(${this.url})`}[se]=!0;toString(){return this.toCID().toString()}toCID(){return ue.TO.createV1(2336,this.multihash)}toBytes(){return this.toCID().bytes}equals(e){return null!=e&&(e instanceof Uint8Array&&(e=(0,ge.d)(e)),e.toString()===this.toString())}}class pr{gateways;constructor(e={}){this.gateways=(e.gateways??dr).map((e=>function(e){return e=e.toString(),{id:new fr(new URL(e)),multiaddrs:[ar(e)]}}(e)))}async*findProviders(e,t){yield*this.gateways.toSorted((()=>Math.random()>.5?1:-1)).map((e=>({...e,protocols:["transport-ipfs-gateway-http"]})))}}function mr(e={}){return new pr(e)}function gr(e){return e=e??new Error("Open failed"),M(e,"ERR_OPEN_FAILED")}function yr(e){return e=e??new Error("Close failed"),M(e,"ERR_CLOSE_FAILED")}function vr(e){return e=e??new Error("Put failed"),M(e,"ERR_PUT_FAILED")}function br(e){return e=e??new Error("Get failed"),M(e,"ERR_GET_FAILED")}function wr(e){return e=e??new Error("Delete failed"),M(e,"ERR_DELETE_FAILED")}function Ar(e){return e=e??new Error("Has failed"),M(e,"ERR_HAS_FAILED")}function Er(e){return e=e??new Error("Not Found"),M(e,"ERR_NOT_FOUND")}function xr(e){return e=e??new Error("Aborted"),M(e,"ERR_ABORTED")}var Sr=n(7833);class kr{has(e,t){return Promise.reject(new Error(".has is not implemented"))}put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,t){for await(const{cid:n,block:r}of e)await this.put(n,r,t),yield n}get(e,t){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,t){for await(const n of e)yield{cid:n,block:await this.get(n,t)}}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,t){for await(const n of e)await this.delete(n,t),yield n}async*getAll(e){throw new Error(".getAll is not implemented")}}class Ir extends kr{data;constructor(){super(),this.data=new Map}put(e,t){return this.data.set(dt.base32.encode(e.multihash.bytes),t),e}get(e){const t=this.data.get(dt.base32.encode(e.multihash.bytes));if(null==t)throw Er();return t}has(e){return this.data.has(dt.base32.encode(e.multihash.bytes))}async delete(e){this.data.delete(dt.base32.encode(e.multihash.bytes))}async*getAll(){for(const[e,t]of this.data.entries())yield{cid:ue.TO.createV1(Sr.code,de.decode(dt.base32.decode(e))),block:t}}}var _r=n(4340),Rr=n(3311),Cr=n(12);(0,_r.vF)("blockstore:core:tiered");const Tr={...r};const Pr="/",Dr=(new TextEncoder).encode(Pr),Or=Dr[0];class Mr{_buf;constructor(e,t){if("string"==typeof e)this._buf=(0,me.s)(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&(t=!0),t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==Or)throw new Error("Invalid key")}toString(e="utf8"){return(0,ge.d)(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Mr(e.join(Pr))}static random(){return new Mr(Math.random().toString().substring(2))}static asKey(e){return e instanceof Uint8Array||"string"==typeof e?new Mr(e):"function"==typeof e.uint8Array?new Mr(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=Dr),this._buf[0]!==Or){const e=new Uint8Array(this._buf.byteLength+1);e.fill(Or,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Or;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),n=e.list();for(let e=0;e<t.length;e++){if(n.length<e+1)return!1;const r=t[e],o=n[e];if(r<o)return!0;if(r>o)return!1}return t.length<n.length}reverse(){return Mr.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Pr).slice(1)}type(){return function(e){const t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new Mr(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Pr)||(e+=Pr),e+=this.type(),new Mr(e)}parent(){const e=this.list();return 1===e.length?new Mr(Pr):new Mr(e.slice(0,-1).join(Pr))}child(e){return this.toString()===Pr?e:e.toString()===Pr?this:new Mr(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return Mr.withNamespaces([...this.namespaces(),...(t=e.map((e=>e.namespaces())),[].concat(...t))]);var t}}var Nr=n(6221);const Br=function(e,t){return null!=e[Symbol.asyncIterator]?async function*(){const n=await(0,Nr.A)(e);yield*n.sort(t)}():function*(){const n=(0,Nr.A)(e);yield*n.sort(t)}()};class Lr{put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(const{key:n,value:r}of e)await this.put(n,r,t),yield n}async*getMany(e,t={}){for await(const n of e)yield{key:n,value:await this.get(n,t)}}async*deleteMany(e,t={}){for await(const n of e)await this.delete(n,t),yield n}batch(){let e=[],t=[];return{put(t,n){e.push({key:t,value:n})},delete(e){t.push(e)},commit:async n=>{await I(this.putMany(e,n)),e=[],await I(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let n=this._all(e,t);if(null!=e.prefix){const t=e.prefix;n=(0,Rr.A)(n,(e=>e.key.toString().startsWith(t)))}if(Array.isArray(e.filters)&&(n=e.filters.reduce(((e,t)=>(0,Rr.A)(e,t)),n)),Array.isArray(e.orders)&&(n=e.orders.reduce(((e,t)=>Br(e,t)),n)),null!=e.offset){let t=0;const r=e.offset;n=(0,Rr.A)(n,(()=>t++>=r))}return null!=e.limit&&(n=U(n,e.limit)),n}queryKeys(e,t){let n=this._allKeys(e,t);if(null!=e.prefix){const t=e.prefix;n=(0,Rr.A)(n,(e=>e.toString().startsWith(t)))}if(Array.isArray(e.filters)&&(n=e.filters.reduce(((e,t)=>(0,Rr.A)(e,t)),n)),Array.isArray(e.orders)&&(n=e.orders.reduce(((e,t)=>Br(e,t)),n)),null!=e.offset){const t=e.offset;let r=0;n=(0,Rr.A)(n,(()=>r++>=t))}return null!=e.limit&&(n=U(n,e.limit)),n}}class Fr extends Lr{data;constructor(){super(),this.data=new Map}put(e,t){return this.data.set(e.toString(),t),e}get(e){const t=this.data.get(e.toString());if(null==t)throw n=n??new Error("Not Found"),M(n,"ERR_NOT_FOUND");var n;return t}has(e){return this.data.has(e.toString())}delete(e){this.data.delete(e.toString())}*_all(){for(const[e,t]of this.data.entries())yield{key:new Mr(e),value:t}}*_allKeys(){for(const e of this.data.keys())yield new Mr(e)}}new Mr("SHARDING"),(0,_r.vF)("datastore:core:tiered");const Ur=Symbol.for("@libp2p/content-routing"),$r=Symbol.for("@libp2p/peer-routing");function jr(e){return null!=e&&"function"==typeof e.start&&"function"==typeof e.stop}async function zr(...e){const t=[];for(const n of e)jr(n)&&t.push(n);await Promise.all(t.map((async e=>{null!=e.beforeStart&&await e.beforeStart()}))),await Promise.all(t.map((async e=>{await e.start()}))),await Promise.all(t.map((async e=>{null!=e.afterStart&&await e.afterStart()})))}async function Vr(...e){const t=[];for(const n of e)jr(n)&&t.push(n);await Promise.all(t.map((async e=>{null!=e.beforeStop&&await e.beforeStop()}))),await Promise.all(t.map((async e=>{await e.stop()}))),await Promise.all(t.map((async e=>{null!=e.afterStop&&await e.afterStop()})))}var Hr=n(4665);function Wr(e){const t=[Yr.A];return null==e?t:Array.isArray(e)?0===e.length?t:e:[e]}const qr=60;function Kr(e){return{Status:e.Status??0,TC:e.TC??e.flag_tc??!1,RD:e.RD??e.flag_rd??!1,RA:e.RA??e.flag_ra??!1,AD:e.AD??e.flag_ad??!1,CD:e.CD??e.flag_cd??!1,Question:(e.Question??e.questions??[]).map((e=>({name:e.name,type:Yr[e.type]}))),Answer:(e.Answer??e.answers??[]).map((e=>({name:e.name,type:Yr[e.type],TTL:e.TTL??e.ttl??qr,data:e.data instanceof Uint8Array?(0,ge.d)(e.data):e.data})))}}function Gr(e,t={}){const n=new Hr.A({concurrency:t.queryConcurrency??4});return async(t,r={})=>{const o=new URLSearchParams;o.set("name",t),Wr(r.types).forEach((e=>{o.append("type",Yr[e])})),r.onProgress?.(new $.j("dns:query",{detail:t}));const i=await n.add((async()=>{const t=await fetch(`${e}?${o}`,{headers:{accept:"application/dns-json"},signal:r?.signal});if(200!==t.status)throw new Error(`Unexpected HTTP status: ${t.status} - ${t.statusText}`);const n=Kr(await t.json());return r.onProgress?.(new $.j("dns:response",{detail:n})),n}),{signal:r.signal});if(null==i)throw new Error("No DNS response received");return i}}var Yr,Qr=n(194);class Zr{lru;constructor(e){this.lru=Qr(e)}get(e,t){let n=!0;const r=[];for(const o of t){const t=this.getAnswers(e,o);if(0===t.length){n=!1;break}r.push(...t)}if(n)return Kr({answers:r})}getAnswers(e,t){const n=`${e.toLowerCase()}-${t}`,r=this.lru.get(n);if(null!=r){const e=r.filter((e=>e.expires>Date.now())).map((({expires:e,value:t})=>({...t,TTL:Math.round((e-Date.now())/1e3),type:Yr[t.type]})));return 0===e.length&&this.lru.remove(n),e}return[]}add(e,t){const n=`${e.toLowerCase()}-${t.type}`,r=this.lru.get(n)??[];r.push({expires:Date.now()+1e3*(t.TTL??qr),value:t}),this.lru.set(n,r)}remove(e,t){const n=`${e.toLowerCase()}-${t}`;this.lru.remove(n)}clear(){this.lru.clear()}}class Jr{resolvers;cache;constructor(e){var t;this.resolvers={},this.cache=(t=e.cacheSize??1e3,new Zr(t)),Object.entries(e.resolvers??{}).forEach((([e,t])=>{Array.isArray(t)||(t=[t]),e.endsWith(".")||(e=`${e}.`),this.resolvers[e]=t})),null==this.resolvers["."]&&(this.resolvers["."]=[Gr("https://cloudflare-dns.com/dns-query"),Gr("https://dns.google/resolve")])}async query(e,t={}){const n=Wr(t.types),r=!1!==t.cached?this.cache.get(e,n):void 0;if(null!=r)return t.onProgress?.(new $.j("dns:cache",{detail:r})),r;const o=`${e.split(".").pop()}.`,i=(this.resolvers[o]??this.resolvers["."]).sort((()=>Math.random()>.5?-1:1)),s=[];for(const r of i){if(!0===t.signal?.aborted)break;try{const o=await r(e,{...t,types:n});for(const t of o.Answer)this.cache.add(e,t);return o}catch(e){s.push(e),t.onProgress?.(new $.j("dns:error",{detail:e}))}}if(1===s.length)throw s[0];throw new AggregateError(s,`DNS lookup of ${e} ${n} failed`)}}function Xr(e={}){return new Jr(e)}!function(e){e[e.A=1]="A",e[e.CNAME=5]="CNAME",e[e.TXT=16]="TXT",e[e.AAAA=28]="AAAA"}(Yr||(Yr={}));var eo=n(3464),to=n(198);const no="/pin/",ro="/pinned-block/",oo=to.base36;function io(e){return 0===e.version&&(e=e.toV1()),new Mr(`${no}${e.toString(oo)}`)}class so{datastore;blockstore;dagWalkers;constructor(e,t,n){this.datastore=e,this.blockstore=t,this.dagWalkers=n}async*add(e,t={}){const n=io(e);if(await this.datastore.has(n))throw new Error("Already pinned");const r=Math.round(t.depth??1/0);if(r<0)throw new Error("Depth must be greater than or equal to 0");const o=new S({concurrency:1});for await(const n of this.#d(e,o,{...t,depth:r}))await this.#h(n,(t=>null==t.pinnedBy.find((t=>(0,pe.a)(t,e.bytes)))&&(t.pinCount++,t.pinnedBy.push(e.bytes),!0)),t),yield n;const i={depth:r,metadata:t.metadata??{}};await this.datastore.put(n,eo.lF(i),t)}async*#d(e,t,n){if(-1===n.depth)return;const r=this.dagWalkers[e.code];if(null==r)throw new Error(`No dag walker found for cid codec ${e.code}`);const o=await this.blockstore.get(e,n);yield e;for await(const e of r.walk(o))yield*await t.add((async()=>this.#d(e,t,{...n,depth:n.depth-1})))}async#h(e,t,n){const r=new Mr(`${ro}${oo.encode(e.multihash.bytes)}`);let o={pinCount:0,pinnedBy:[]};try{o=eo.D4(await this.datastore.get(r,n))}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}t(o)&&(0===o.pinCount&&await this.datastore.has(r)?await this.datastore.delete(r):(await this.datastore.put(r,eo.lF(o),n),n.onProgress?.(new $.j("helia:pin:add",e))))}async*rm(e,t={}){const n=io(e),r=await this.datastore.get(n,t),o=eo.D4(r);await this.datastore.delete(n,t);const i=new S({concurrency:1});for await(const n of this.#d(e,i,{...t,depth:o.depth}))await this.#h(n,(t=>(t.pinCount--,t.pinnedBy=t.pinnedBy.filter((t=>(0,pe.a)(t,e.bytes))),!0)),{...t,depth:o.depth}),yield n}async*ls(e={}){for await(const{key:t,value:n}of this.datastore.query({prefix:no+(null!=e.cid?`${e.cid.toString(to.base36)}`:"")},e)){const e=ue.TO.parse(t.toString().substring(5),to.base36),r=eo.D4(n);yield{cid:e,...r}}}async isPinned(e,t={}){const n=new Mr(`${ro}${oo.encode(e.multihash.bytes)}`);return this.datastore.has(n,t)}}class ao{log;routers;providerLookupConcurrency;constructor(e,t){this.log=e.logger.forComponent("helia:routing"),this.routers=t.routers??[],this.providerLookupConcurrency=t.providerLookupConcurrency??5}async start(){await zr(...this.routers)}async stop(){await Vr(...this.routers)}async*findProviders(e,t={}){if(0===this.routers.length)throw new h("No content routers available","ERR_NO_ROUTERS_AVAILABLE");const n=new k({concurrency:this.providerLookupConcurrency});n.addEventListener("error",(()=>{}));for await(const r of(0,Cr.A)(n.toGenerator(),...lo(this.routers,"findProviders").map((n=>n.findProviders(e,t)))))if(null!=r){if(0===r.multiaddrs.length){if(null!=n.find(r.id))continue;n.add((async()=>{try{const e=await this.findPeer(r.id,t);return 0===e.multiaddrs.length?null:e}catch(e){return this.log.error("could not load multiaddrs for peer %p",r.id,e),null}}),{peerId:r.id,signal:t.signal}).catch((e=>{this.log.error("could not load multiaddrs for peer %p",r.id,e)}))}yield r}}async provide(e,t={}){if(0===this.routers.length)throw new h("No content routers available","ERR_NO_ROUTERS_AVAILABLE");await Promise.all(lo(this.routers,"provide").map((async n=>{await n.provide(e,t)})))}async put(e,t,n){await Promise.all(lo(this.routers,"put").map((async r=>{await r.put(e,t,n)})))}async get(e,t){return Promise.any(lo(this.routers,"get").map((async n=>n.get(e,t))))}async findPeer(e,t){if(0===this.routers.length)throw new h("No peer routers available","ERR_NO_ROUTERS_AVAILABLE");const n=this,r=(0,Cr.A)(...lo(this.routers,"findPeer").map((r=>async function*(){try{yield await r.findPeer(e,t)}catch(e){n.log.error(e)}}())));for await(const e of r)if(null!=e)return e;throw new h("Could not find peer in routing","ERR_NOT_FOUND")}async*getClosestPeers(e,t={}){if(0===this.routers.length)throw new h("No peer routers available","ERR_NO_ROUTERS_AVAILABLE");for await(const n of(0,Cr.A)(...lo(this.routers,"getClosestPeers").map((n=>n.getClosestPeers(e,t)))))null!=n&&(yield n)}}function lo(e,t){return e.filter((e=>null!=e[t]))}var co=n(2030);const uo={},ho=e=>{e.addEventListener("message",(t=>{ho.dispatchEvent("message",e,t)})),null!=e.port&&e.port.addEventListener("message",(t=>{ho.dispatchEvent("message",e,t)}))};ho.addEventListener=(e,t)=>{null==uo[e]&&(uo[e]=[]),uo[e].push(t)},ho.removeEventListener=(e,t)=>{null!=uo[e]&&(uo[e]=uo[e].filter((e=>e===t)))},ho.dispatchEvent=function(e,t,n){null!=uo[e]&&uo[e].forEach((e=>e(t,n)))};const fo=ho,po="lock:worker:request-read",mo="lock:worker:release-read",go="lock:master:grant-read",yo="lock:worker:request-write",vo="lock:worker:release-write",bo="lock:master:grant-write",wo=(e,t,n,r,o)=>(i,s)=>{if(s.data.type!==n)return;const a={type:s.data.type,name:s.data.name,identifier:s.data.identifier};e.dispatchEvent(new MessageEvent(t,{data:{name:a.name,handler:async()=>{i.postMessage({type:o,name:a.name,identifier:a.identifier}),await new Promise((e=>{const t=n=>{if(null==n||null==n.data)return;const o=n.data.type,s=(n.data.name,n.data.identifier);o===r&&s===a.identifier&&(i.removeEventListener("message",t),e())};i.addEventListener("message",t)}))}}}))},Ao=(e,t,n,r)=>async()=>{const o=Math.random().toString().substring(2);return globalThis.postMessage({type:t,identifier:o,name:e}),new Promise((t=>{const i=s=>{if(null==s||null==s.data)return;const a=s.data.type,l=s.data.identifier;a===n&&l===o&&(globalThis.removeEventListener("message",i),t((()=>{globalThis.postMessage({type:r,identifier:o,name:e})})))};globalThis.addEventListener("message",i)}))},Eo={singleProcess:!1},xo={};let So;async function ko(e,t){let n;const r=new Promise((e=>{n=e}));return e.add((async()=>(0,co.Ay)((async()=>{await new Promise((e=>{n((()=>{e()}))}))})(),{milliseconds:t.timeout}))),r}const Io={name:"lock",concurrency:1/0,timeout:846e5,singleProcess:!1};function _o(e){const t=Object.assign({},Io,e);return null==So&&(So=(e=>{if(e=Object.assign({},Eo,e),Boolean(globalThis.document)||e.singleProcess){const e=new EventTarget;return fo.addEventListener("message",wo(e,"requestReadLock",po,mo,go)),fo.addEventListener("message",wo(e,"requestWriteLock",yo,vo,bo)),e}return{isWorker:!0,readLock:e=>Ao(e,po,go,mo),writeLock:e=>Ao(e,yo,bo,vo)}})(t),!0!==So.isWorker&&(So.addEventListener("requestReadLock",(e=>{null!=xo[e.data.name]&&xo[e.data.name].readLock().then((async t=>e.data.handler().finally((()=>{t()}))))})),So.addEventListener("requestWriteLock",(async e=>{null!=xo[e.data.name]&&xo[e.data.name].writeLock().then((async t=>e.data.handler().finally((()=>{t()}))))})))),null==xo[t.name]&&(xo[t.name]=((e,t)=>{if(!0===So.isWorker)return{readLock:So.readLock(e,t),writeLock:So.writeLock(e,t)};const n=new Hr.A({concurrency:1});let r;return{async readLock(){if(null!=r)return ko(r,t);r=new Hr.A({concurrency:t.concurrency,autoStart:!1});const e=r,o=ko(r,t);return n.add((async()=>{e.start(),await e.onIdle().then((()=>{r===e&&(r=null)}))})),o},writeLock:async()=>(r=null,ko(n,t))}})(t.name,t)),xo[t.name]}class Ro{lock;child;pins;started;constructor(e,t,n={}){this.child=e,this.pins=t,this.lock=_o({singleProcess:n.holdGcLock}),this.started=!1}isStarted(){return this.started}async start(){await zr(this.child),this.started=!0}async stop(){await Vr(this.child),this.started=!1}unwrap(){return this.child}async put(e,t,n={}){n?.signal?.throwIfAborted();const r=await this.lock.readLock();try{return await this.child.put(e,t,n)}finally{r()}}async*putMany(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{yield*this.child.putMany(e,t)}finally{n()}}async get(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{return await this.child.get(e,t)}finally{n()}}async*getMany(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{yield*this.child.getMany(e,t)}finally{n()}}async delete(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.writeLock();try{if(await this.pins.isPinned(e))throw new Error("CID was pinned");await this.child.delete(e,t)}finally{n()}}async*deleteMany(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.writeLock();try{const n=this;yield*this.child.deleteMany(async function*(){for await(const t of e){if(await n.pins.isPinned(t))throw new Error("CID was pinned");yield t}}(),t)}finally{n()}}async has(e,t={}){t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{return await this.child.has(e,t)}finally{n()}}async*getAll(e={}){e?.signal?.throwIfAborted();const t=await this.lock.readLock();try{yield*this.child.getAll(e)}finally{t()}}createSession(e,t){return t?.signal?.throwIfAborted(),this.child.createSession(e,t)}}var Co=n(4868),To=n(5294),Po=n(4400),Do=n(7019),Oo=n(8429),Mo=n(515);const No={codec:Po.code,*walk(e){const t=Po.decode(e);yield*t.Links.map((e=>e.Hash))}},Bo={codec:Sr.code,*walk(){}},Lo={codec:Co.code,*walk(e){const t=[],n=[];n[42]=e=>{if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");const n=Oo.TO.decode(e.subarray(1));return t.push(n),n},eo.D4(e,{tags:n}),yield*t}};class Fo extends Do._F{tokenBuffer;constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===eo.ZU.map){const e=this._next();if(e.type===eo.ZU.string&&"/"===e.value){const e=this._next();if(e.type===eo.ZU.string){if(this._next().type!==eo.ZU.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new eo.ou(eo.ZU.tag,42,0)}if(e.type===eo.ZU.map){const e=this._next();if(e.type===eo.ZU.string&&"bytes"===e.value){const e=this._next();if(e.type===eo.ZU.string){for(let e=0;e<2;e++)if(this._next().type!==eo.ZU.break)throw new Error("Invalid encoded Bytes form");const t=Ne.base64.decode(`m${e.value}`);return new eo.ou(eo.ZU.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}const Uo={codec:To.aY,*walk(e){const t=[],n=[];n[42]=e=>{const n=Oo.TO.parse(e);return t.push(n),n},Do.D4(e,{tags:n,tokenizer:new Fo(e,{tags:n,allowIndefinite:!0,allowUndefined:!0,allowNaN:!0,allowInfinity:!0,allowBigInt:!0,strict:!1,rejectDuplicateMapKeys:!1})}),yield*t}},$o={codec:Mo.code,*walk(){}},jo=new Mr("/version");class zo extends kr{child;constructor(e){super(),this.child=e}put(e,t){return 0===e.multihash.code||null==this.child?e:this.child.put(e,t)}get(e){if(0===e.multihash.code)return e.multihash.digest;if(null==this.child)throw Tr.notFoundError();return this.child.get(e)}has(e){return 0===e.multihash.code||null!=this.child&&this.child.has(e)}delete(e){if(0!==e.code)return null!=this.child?this.child.delete(e):void 0}getAll(e){return null!=this.child?this.child.getAll(e):[]}}function Vo(e){return null!=e?.then}const Ho=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e){const e=t(r,n++);Vo(e)&&await e,yield r}}();const r=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"==typeof s?.then)return async function*(){yield o;for await(const e of r){const r=t(e,n++);Vo(r)&&await r,yield e}}();const a=t;return function*(){yield o;for(const e of r)a(e,n++),yield e}()};class Wo{child;hashers;log;logger;components;constructor(e){this.log=e.logger.forComponent("helia:networked-storage"),this.logger=e.logger,this.components=e,this.child=new zo(e.blockstore),this.hashers=e.hashers??{}}async put(e,t,n={}){return await this.child.has(e,n)?(n.onProgress?.(new $.j("blocks:put:duplicate",e)),e):(n.onProgress?.(new $.j("blocks:put:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,t,n)))),n.onProgress?.(new $.j("blocks:put:blockstore:put",e)),this.child.put(e,t,n))}async*putMany(e,t={}){const n=(0,Rr.A)(e,(async({cid:e})=>{const n=await this.child.has(e,t);return n&&t.onProgress?.(new $.j("blocks:put-many:duplicate",e)),!n})),r=Ho(n,(async({cid:e,block:n})=>{t.onProgress?.(new $.j("blocks:put-many:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,n,t))))}));t.onProgress?.(new $.j("blocks:put-many:blockstore:put-many")),yield*this.child.putMany(r,t)}async get(e,t={}){if(!0!==t.offline&&!await this.child.has(e,t)){t.onProgress?.(new $.j("blocks:get:providers:get",e));const n=await Qo(e,this.components.blockBrokers,this.hashers[e.multihash.code],{...t,log:this.log});return t.onProgress?.(new $.j("blocks:get:blockstore:put",e)),await this.child.put(e,n,t),t.onProgress?.(new $.j("blocks:get:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,n,t)))),n}return t.onProgress?.(new $.j("blocks:get:blockstore:get",e)),this.child.get(e,t)}async*getMany(e,t={}){t.onProgress?.(new $.j("blocks:get-many:blockstore:get-many")),yield*this.child.getMany(Ho(e,(async e=>{if(!0!==t.offline&&!await this.child.has(e,t)){t.onProgress?.(new $.j("blocks:get-many:providers:get",e));const n=await Qo(e,this.components.blockBrokers,this.hashers[e.multihash.code],{...t,log:this.log});t.onProgress?.(new $.j("blocks:get-many:blockstore:put",e)),await this.child.put(e,n,t),t.onProgress?.(new $.j("blocks:get-many:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,n,t))))}})))}async delete(e,t={}){t.onProgress?.(new $.j("blocks:delete:blockstore:delete",e)),await this.child.delete(e,t)}async*deleteMany(e,t={}){t.onProgress?.(new $.j("blocks:delete-many:blockstore:delete-many")),yield*this.child.deleteMany(async function*(){for await(const t of e)yield t}(),t)}async has(e,t={}){return this.child.has(e,t)}async*getAll(e={}){e.onProgress?.(new $.j("blocks:get-all:blockstore:get-many")),yield*this.child.getAll(e)}}class qo extends Wo{started;constructor(e){super(e),this.started=!1}isStarted(){return this.started}async start(){await zr(this.child,...this.components.blockBrokers),this.started=!0}async stop(){await Vr(this.child,...this.components.blockBrokers),this.started=!1}unwrap(){return this.child}createSession(e,t){const n=this.components.blockBrokers.map((e=>null==e.createSession?e:e.createSession(t)));return new Ko({blockstore:this.child,blockBrokers:n,hashers:this.hashers,logger:this.logger},{root:e})}}class Ko extends Wo{closeController;constructor(e,t){super(e),this.closeController=new AbortController,this.closeController.signal,this.log=e.logger.forComponent(`helia:session-storage:${t.root}`)}close(){this.closeController.abort()}async put(e,t,n={}){const r=a([this.closeController.signal,n.signal]);try{return await super.put(e,t,{...n,signal:r})}finally{r.clear()}}async*putMany(e,t={}){const n=a([this.closeController.signal,t.signal]);try{yield*super.putMany(e,{...t,signal:n})}finally{n.clear()}}async get(e,t={}){const n=a([this.closeController.signal,t.signal]);try{return await super.get(e,{...t,signal:n})}finally{n.clear()}}async*getMany(e,t={}){const n=a([this.closeController.signal,t.signal]);try{yield*super.getMany(e,{...t,signal:n})}finally{n.clear()}}async delete(e,t={}){const n=a([this.closeController.signal,t.signal]);try{await super.delete(e,{...t,signal:n})}finally{n.clear()}}async*deleteMany(e,t={}){const n=a([this.closeController.signal,t.signal]);try{yield*super.deleteMany(e,{...t,signal:n})}finally{n.clear()}}async has(e,t={}){const n=a([this.closeController.signal,t.signal]);try{return await super.has(e,{...t,signal:n})}finally{n.clear()}}async*getAll(e={}){const t=a([this.closeController.signal,e.signal]);try{yield*super.getAll({...e,signal:t})}finally{t.clear()}}}function Go(e){return"function"==typeof e.retrieve}const Yo=(e,t)=>{if(null==t)throw new h(`No hasher configured for multihash code 0x${e.multihash.code.toString(16)}, please configure one. You can look up which hash this is at https://github.com/multiformats/multicodec/blob/master/table.csv`,"ERR_UNKNOWN_HASH_ALG");return async n=>{const r=await t.digest(n);if(!(0,pe.a)(r.digest,e.multihash.digest))throw new h("Hash of downloaded block did not match multihash from passed CID","ERR_HASH_MISMATCH")}};async function Qo(e,t,n,r){const o=Yo(e,n),i=new AbortController,s=a([i.signal,r.signal]);i.signal;const l=[];for(const e of t)Go(e)&&l.push(e);try{return await Promise.any(l.map((async t=>{try{let n=!1;const i=await t.retrieve(e,{...r,signal:s,validateFn:async e=>{await o(e),n=!0}});return n||await o(i),i}catch(t){throw r.log.error("could not retrieve verified block for %c",e,t),t}})))}finally{i.abort(),s.clear()}}class Zo{blockstore;datastore;pins;logger;routing;dagWalkers;hashers;dns;metrics;log;constructor(e){this.logger=e.logger??(0,_r.Um)(),this.log=this.logger.forComponent("helia"),this.hashers=function(e=[]){const t={};return[fe.sha256,fe.sha512,he.identity,...e].forEach((e=>{t[e.code]=e})),t}(e.hashers),this.dagWalkers=function(e=[]){const t={};return[No,Bo,Lo,Uo,$o,...e].forEach((e=>{t[e.codec]=e})),t}(e.dagWalkers),this.dns=e.dns??Xr(),this.metrics=e.metrics;const t={blockstore:e.blockstore,datastore:e.datastore,hashers:this.hashers,dagWalkers:this.dagWalkers,logger:this.logger,blockBrokers:[],dns:this.dns,metrics:this.metrics,...e.components??{}};this.routing=t.routing=new ao(t,{routers:(e.routers??[]).flatMap((e=>{const t=[e];return null!=e[Ur]&&t.push(e[Ur]),null!=e[$r]&&t.push(e[$r]),t})),providerLookupConcurrency:e.providerLookupConcurrency});const n=new qo(t);this.pins=new so(e.datastore,n,this.dagWalkers),this.blockstore=new Ro(n,this.pins,{holdGcLock:e.holdGcLock??!0}),this.datastore=e.datastore,t.blockBrokers=e.blockBrokers.map((e=>e(t)))}async start(){await async function(e){if(!await e.has(jo))return void await e.put(jo,(0,me.s)("1"));const t=await e.get(jo),n=(0,ge.d)(t);if(1!==parseInt(n,10))throw new Error("Unknown datastore version, a datastore migration may be required")}(this.datastore),await zr(this.blockstore,this.datastore,this.routing)}async stop(){await Vr(this.blockstore,this.datastore,this.routing)}async gc(e={}){const t=await this.blockstore.lock.writeLock();try{const t=this,n=this.blockstore.unwrap();this.log("gc start"),await I(n.deleteMany(async function*(){for await(const{cid:r}of n.getAll())try{if(await t.pins.isPinned(r,e))continue;yield r,e.onProgress?.(new $.j("helia:gc:deleted",r))}catch(n){t.log.error("Error during gc",n),e.onProgress?.(new $.j("helia:gc:error",n))}}()))}finally{t()}this.log("gc finished")}}class Jo extends Zo{libp2p;constructor(e){super({...e,components:{libp2p:e.libp2p}}),this.libp2p=e.libp2p}async start(){await super.start(),await this.libp2p.start()}async stop(){await super.stop(),await this.libp2p.stop()}}var Xo=n(2200),ei=n(6013);const ti=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),ni=new Uint32Array(80);class ri extends ei.ol{constructor(){super(64,20,8,!1),this.A=0|ti[0],this.B=0|ti[1],this.C=0|ti[2],this.D=0|ti[3],this.E=0|ti[4]}get(){const{A:e,B:t,C:n,D:r,E:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)ni[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)ni[e]=(0,$e.aZ)(ni[e-3]^ni[e-8]^ni[e-14]^ni[e-16],1);let{A:n,B:r,C:o,D:i,E:s}=this;for(let e=0;e<80;e++){let t,a;e<20?(t=(0,ei.r9)(r,o,i),a=1518500249):e<40?(t=r^o^i,a=1859775393):e<60?(t=(0,ei.TQ)(r,o,i),a=2400959708):(t=r^o^i,a=3395469782);const l=(0,$e.aZ)(n,5)+t+s+a+ni[e]|0;s=i,i=o,o=(0,$e.aZ)(r,30),r=n,n=l}n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,this.set(n,r,o,i,s)}roundClean(){ni.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}const oi=(0,$e.ld)((()=>new ri));var ii=n(8226),si=n(4443);const ai={sha1:oi,"sha2-256":ii.s,"sha2-512":si.Zf};function li(e,t,n,r,o){if("sha1"!==o&&"sha2-256"!==o&&"sha2-512"!==o){const e=Object.keys(ai).join(" / ");throw new h(`Hash '${o}' is unknown or not supported. Must be ${e}`,"ERR_UNSUPPORTED_HASH_TYPE")}const i=ai[o],s=(0,Xo.A)(i,e,t,{c:n,dkLen:r});return Ne.base64.encode(s).substring(1)}function ci(e){return null!=e&&"function"==typeof e.then&&"function"==typeof e.catch&&"function"==typeof e.finally}var ui=n(2716);const di=32,hi=64,fi=32;function pi(e,t){const n=new Uint8Array(hi);for(let r=0;r<fi;r++)n[r]=e[r],n[fi+r]=t[r];return n}const mi={get(e=globalThis){const t=e.crypto;if(null==t||null==t.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p/blob/main/packages/crypto/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}},gi={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function yi(e){const t=e?.algorithm??"AES-GCM";let n=e?.keyLength??16;const r=e?.nonceLength??12,o=e?.digest??"SHA-256",i=e?.saltLength??16,s=e?.iterations??32767,a=mi.get();return n*=8,{encrypt:async function(e,l){const c=a.getRandomValues(new Uint8Array(i)),u=a.getRandomValues(new Uint8Array(r)),d={name:t,iv:u};let h;if("string"==typeof l&&(l=(0,me.s)(l)),0===l.length){h=await a.subtle.importKey("jwk",gi,{name:"AES-GCM"},!0,["encrypt"]);try{const e={name:"PBKDF2",salt:c,iterations:s,hash:{name:o}},r=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);h=await a.subtle.deriveKey(e,r,{name:t,length:n},!0,["encrypt"])}catch{h=await a.subtle.importKey("jwk",gi,{name:"AES-GCM"},!0,["encrypt"])}}else{const e={name:"PBKDF2",salt:c,iterations:s,hash:{name:o}},r=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);h=await a.subtle.deriveKey(e,r,{name:t,length:n},!0,["encrypt"])}const f=await a.subtle.encrypt(d,h,e);return(0,ut.x)([c,d.iv,new Uint8Array(f)])},decrypt:async function(e,l){const c=e.subarray(0,i),u=e.subarray(i,i+r),d=e.subarray(i+r),h={name:t,iv:u};let f;if("string"==typeof l&&(l=(0,me.s)(l)),0===l.length)try{const e={name:"PBKDF2",salt:c,iterations:s,hash:{name:o}},r=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);f=await a.subtle.deriveKey(e,r,{name:t,length:n},!0,["decrypt"])}catch{f=await a.subtle.importKey("jwk",gi,{name:"AES-GCM"},!0,["decrypt"])}else{const e={name:"PBKDF2",salt:c,iterations:s,hash:{name:o}},r=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);f=await a.subtle.deriveKey(e,r,{name:t,length:n},!0,["decrypt"])}const p=await a.subtle.decrypt(h,f,d);return new Uint8Array(p)}}}async function vi(e,t){const n=yi(),r=await n.encrypt(e,t);return Ne.base64.encode(r)}var bi,wi,Ai,Ei;!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(bi||(bi={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(wi||(wi={})),function(e){e.codec=()=>(0,X.eG)(wi)}(bi||(bi={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),bi.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.Type=bi.codec().decode(e);break;case 2:n.Data=e.bytes();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Ai||(Ai={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),bi.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.Type=bi.codec().decode(e);break;case 2:n.Data=e.bytes();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Ei||(Ei={}));class xi{_key;constructor(e){this._key=Ci(e,di)}verify(e,t){return function(e,t,n){return ui.ev.verify(t,n instanceof Uint8Array?n:n.subarray(),e)}(this._key,t,e)}marshal(){return this._key}get bytes(){return Ai.encode({Type:bi.Ed25519,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}hash(){const e=fe.sha256.digest(this.bytes);return ci(e)?e.then((({bytes:e})=>e)):e.bytes}}class Si{_key;_publicKey;constructor(e,t){this._key=Ci(e,hi),this._publicKey=Ci(t,di)}sign(e){return function(e,t){const n=e.subarray(0,fi);return ui.ev.sign(t instanceof Uint8Array?t:t.subarray(),n)}(this._key,e)}get public(){return new xi(this._publicKey)}marshal(){return this._key}get bytes(){return Ei.encode({Type:bi.Ed25519,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}async hash(){const e=fe.sha256.digest(this.bytes);let t;return ci(e)?({bytes:t}=await e):t=e.bytes,t}async id(){const e=he.identity.digest(this.public.bytes);return le.base58btc.encode(e.bytes).substring(1)}async export(e,t="libp2p-key"){if("libp2p-key"===t)return vi(this.bytes,e);throw new h(`export format '${t}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}function ki(e){if(e.length>hi){const t=(e=Ci(e,hi+di)).subarray(0,hi),n=e.subarray(hi,e.length);return new Si(t,n)}const t=(e=Ci(e,hi)).subarray(0,hi),n=e.subarray(di);return new Si(t,n)}function Ii(e){return e=Ci(e,di),new xi(e)}async function _i(){const{privateKey:e,publicKey:t}=function(){const e=ui.ev.utils.randomPrivateKey(),t=ui.ev.getPublicKey(e);return{privateKey:pi(e,t),publicKey:t}}();return new Si(e,t)}async function Ri(e){const{privateKey:t,publicKey:n}=function(e){if(e.length!==fi)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');const t=e,n=ui.ev.getPublicKey(t);return{privateKey:pi(t,n),publicKey:n}}(e);return new Si(t,n)}function Ci(e,t){if((e=Uint8Array.from(e??[])).length!==t)throw new h(`Key must be a Uint8Array of length ${t}, got ${e.length}`,"ERR_INVALID_KEY_TYPE");return e}async function Ti(e){const t=[await mi.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Di(e)],n=await Pi({privateKey:t[0],publicKey:t[1]});return{privateKey:n[0],publicKey:n[1]}}async function Pi(e){if(null==e.privateKey||null==e.publicKey)throw new h("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([mi.get().subtle.exportKey("jwk",e.privateKey),mi.get().subtle.exportKey("jwk",e.publicKey)])}async function Di(e){return mi.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Oi(e){if("RSA"!==e.kty)throw new h("invalid key type","ERR_INVALID_KEY_TYPE");if(null==e.n)throw new h("invalid key modulus","ERR_INVALID_KEY_MODULUS");return 8*(0,me.s)(e.n,"base64url").length}var Mi=n(152);function Ni(e,t){let n=0;if(1===e.length)return e[0];for(let r=e.length-1;r>=0;r--)n+=e[e.length-1-r]*Math.pow(2,t*r);return n}function Bi(e,t,n=-1){const r=n;let o=e,i=0,s=Math.pow(2,t);for(let n=1;n<8;n++){if(e<s){let e;if(r<0)e=new ArrayBuffer(n),i=n;else{if(r<n)return new ArrayBuffer(0);e=new ArrayBuffer(r),i=r}const s=new Uint8Array(e);for(let e=n-1;e>=0;e--){const n=Math.pow(2,e*t);s[i-e-1]=Math.floor(o/n),o-=s[i-e-1]*n}return e}s*=Math.pow(2,t)}return new ArrayBuffer(0)}function Li(...e){let t=0,n=0;for(const n of e)t+=n.length;const r=new ArrayBuffer(t),o=new Uint8Array(r);for(const t of e)o.set(t,n),n+=t.length;return o}function Fi(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],n=0===e[0]&&!(128&e[1]);(t||n)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)n[e]=0;n[0]=128&e[0];const r=Ni(n,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let t=0;t<this.valueHex.byteLength;t++)i[t]=e[t];return i[0]&=127,Ni(i,8)-r}function Ui(e,t){const n=e.toString(10);if(t<n.length)return"";const r=t-n.length,o=new Array(r);for(let e=0;e<r;e++)o[e]="0";return o.join("").concat(n)}function $i(){if("undefined"==typeof BigInt)throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ji(e){let t=0,n=0;for(let n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);for(let t=0;t<e.length;t++){const o=e[t];r.set(new Uint8Array(o),n),n+=o.byteLength}return r.buffer}function zi(e,t,n,r){return t instanceof Uint8Array?t.byteLength?n<0?(e.error="Wrong parameter: inputOffset less than zero",!1):r<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-n-r<0&&(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}Math.log(2);class Vi{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return ji(this.items)}}const Hi=[new Uint8Array([1])],Wi="0123456789",qi="",Ki=new ArrayBuffer(0),Gi=new Uint8Array(0),Yi="EndOfContent",Qi="OCTET STRING",Zi="BIT STRING";function Ji(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);const n=e[0]||{};this.isHexOnly=null!==(t=n.isHexOnly)&&void 0!==t&&t,this.valueHexView=n.valueHex?Mi._H.toUint8Array(n.valueHex):Gi}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,n){const r=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!zi(this,r,t,n))return-1;const o=t+n;return this.valueHexView=r.subarray(t,o),this.valueHexView.length?(this.blockLength=n,o):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Ki)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Mi.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class Xi{constructor({blockLength:e=0,error:t="",warnings:n=[],valueBeforeDecode:r=Gi}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=Mi._H.toUint8Array(r)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Mi.U$.ToHex(this.valueBeforeDecodeView)}}}Xi.NAME="baseBlock";class es extends Xi{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}es.NAME="valueBlock";class ts extends(Ji(Xi)){constructor({idBlock:e={}}={}){var t,n,r,o;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?Mi._H.toUint8Array(e.valueHex):Gi,this.tagClass=null!==(n=e.tagClass)&&void 0!==n?n:-1,this.tagNumber=null!==(r=e.tagNumber)&&void 0!==r?r:-1,this.isConstructed=null!==(o=e.isConstructed)&&void 0!==o&&o):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",Ki}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const n=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,n[0]=t}return n.buffer}if(!this.isHexOnly){const n=Bi(this.tagNumber,7),r=new Uint8Array(n),o=n.byteLength,i=new Uint8Array(o+1);if(i[0]=31|t,!e){for(let e=0;e<o-1;e++)i[e+1]=128|r[e];i[o]=r[o-1]}return i.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=31|t,!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)n[t+1]=128|e[t];n[this.valueHexView.byteLength]=e[e.length-1]}return n.buffer}fromBER(e,t,n){const r=Mi._H.toUint8Array(e);if(!zi(this,r,t,n))return-1;const o=r.subarray(t,t+n);if(0===o.length)return this.error="Zero buffer length",-1;switch(192&o[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~o[0]),this.isHexOnly=!1;const i=31&o[0];if(31!==i)this.tagNumber=i,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),n=255;for(;128&o[e];){if(t[e-1]=127&o[e],e++,e>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(e===n){n+=255;const e=new Uint8Array(n);for(let n=0;n<t.length;n++)e[n]=t[n];t=this.valueHexView=new Uint8Array(n)}}this.blockLength=e+1,t[e-1]=127&o[e];const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t[n];t=this.valueHexView=new Uint8Array(e),t.set(r),this.blockLength<=9?this.tagNumber=Ni(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}ts.NAME="identificationBlock";class ns extends Xi{constructor({lenBlock:e={}}={}){var t,n,r;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(n=e.longFormUsed)&&void 0!==n&&n,this.length=null!==(r=e.length)&&void 0!==r?r:0}fromBER(e,t,n){const r=Mi._H.toUint8Array(e);if(!zi(this,r,t,n))return-1;const o=r.subarray(t,t+n);if(0===o.length)return this.error="Zero buffer length",-1;if(255===o[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===o[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&o[0]),!1===this.longFormUsed)return this.length=o[0],this.blockLength=1,t+this.blockLength;const i=127&o[0];if(i>8)return this.error="Too big integer",-1;if(i+1>o.length)return this.error="End of input reached before message was fully decoded",-1;const s=t+1,a=r.subarray(s,s+i);return 0===a[i-1]&&this.warnings.push("Needlessly long encoded length"),this.length=Ni(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=i+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const r=Bi(this.length,8);if(r.byteLength>127)return this.error="Too big length",Ki;if(t=new ArrayBuffer(r.byteLength+1),e)return t;const o=new Uint8Array(r);n=new Uint8Array(t),n[0]=128|r.byteLength;for(let e=0;e<r.byteLength;e++)n[e+1]=o[e];return t}return t=new ArrayBuffer(1),!1===e&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}ns.NAME="lengthBlock";const rs={};class os extends Xi{constructor({name:e="",optional:t=!1,primitiveSchema:n,...r}={},o){super(r),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new ts(r),this.lenBlock=new ns(r),this.valueBlock=o?new o(r):new es(r)}fromBER(e,t,n){const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return-1===r?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(e,t){const n=t||new Vi;t||is(this);const r=this.idBlock.toBER(e);if(n.write(r),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const r=this.lenBlock.toBER(e);n.write(r),n.write(t)}return t?Ki:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():Mi.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Mi.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){return this===e||e instanceof this.constructor&&function(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}(this.toBER(),e.toBER())}}function is(e){if(e instanceof rs.Constructed)for(const t of e.valueBlock.value)is(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}os.NAME="BaseBlock";class ss extends os{constructor({value:e="",...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return-1===r?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}ss.NAME="BaseStringBlock";class as extends(Ji(es)){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}var ls,cs,us,ds,hs,fs,ps,ms,gs,ys,vs,bs,ws,As,Es,xs,Ss,ks,Is,_s,Rs,Cs,Ts,Ps,Ds,Os,Ms,Ns,Bs,Ls,Fs,Us,$s;as.NAME="PrimitiveValueBlock";class js extends os{constructor(e={}){super(e,as),this.idBlock.isConstructed=!1}}function zs(e,t=0,n=e.length){const r=t;let o=new os({},es);const i=new Xi;if(!zi(i,e,t,n))return o.error=i.error,{offset:-1,result:o};if(!e.subarray(t,t+n).length)return o.error="Zero buffer length",{offset:-1,result:o};let s=o.idBlock.fromBER(e,t,n);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),-1===s)return o.error=o.idBlock.error,{offset:-1,result:o};if(t=s,n-=o.idBlock.blockLength,s=o.lenBlock.fromBER(e,t,n),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),-1===s)return o.error=o.lenBlock.error,{offset:-1,result:o};if(t=s,n-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let a=os;if(1===o.idBlock.tagClass){if(o.idBlock.tagNumber>=37&&!1===o.idBlock.isHexOnly)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};a=rs.EndOfContent;break;case 1:a=rs.Boolean;break;case 2:a=rs.Integer;break;case 3:a=rs.BitString;break;case 4:a=rs.OctetString;break;case 5:a=rs.Null;break;case 6:a=rs.ObjectIdentifier;break;case 10:a=rs.Enumerated;break;case 12:a=rs.Utf8String;break;case 13:a=rs.RelativeObjectIdentifier;break;case 14:a=rs.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:a=rs.Sequence;break;case 17:a=rs.Set;break;case 18:a=rs.NumericString;break;case 19:a=rs.PrintableString;break;case 20:a=rs.TeletexString;break;case 21:a=rs.VideotexString;break;case 22:a=rs.IA5String;break;case 23:a=rs.UTCTime;break;case 24:a=rs.GeneralizedTime;break;case 25:a=rs.GraphicString;break;case 26:a=rs.VisibleString;break;case 27:a=rs.GeneralString;break;case 28:a=rs.UniversalString;break;case 29:a=rs.CharacterString;break;case 30:a=rs.BmpString;break;case 31:a=rs.DATE;break;case 32:a=rs.TimeOfDay;break;case 33:a=rs.DateTime;break;case 34:a=rs.Duration;break;default:{const e=o.idBlock.isConstructed?new rs.Constructed:new rs.Primitive;e.idBlock=o.idBlock,e.lenBlock=o.lenBlock,e.warnings=o.warnings,o=e}}}else a=o.idBlock.isConstructed?rs.Constructed:rs.Primitive;return o=function(e,t){if(e instanceof t)return e;const n=new t;return n.idBlock=e.idBlock,n.lenBlock=e.lenBlock,n.warnings=e.warnings,n.valueBeforeDecodeView=e.valueBeforeDecodeView,n}(o,a),s=o.fromBER(e,t,o.lenBlock.isIndefiniteForm?n:o.lenBlock.length),o.valueBeforeDecodeView=e.subarray(r,r+o.blockLength),{offset:s,result:o}}function Vs(e){if(!e.byteLength){const e=new os({},es);return e.error="Input buffer has zero length",{offset:-1,result:e}}return zs(Mi._H.toUint8Array(e).slice(),0,e.byteLength)}ls=js,rs.Primitive=ls,js.NAME="PRIMITIVE";class Hs extends es{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const r=Mi._H.toUint8Array(e);if(!zi(this,r,t,n))return-1;if(this.valueBeforeDecodeView=r.subarray(t,t+n),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let o=t;for(;(this.isIndefiniteForm?1:n)>0;){const e=zs(r,o,n);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(o=e.offset,this.blockLength+=e.result.blockLength,n-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===Yi)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Yi?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,t){const n=t||new Vi;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,n);return t?Ki:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Hs.NAME="ConstructedValueBlock";class Ws extends os{constructor(e={}){super(e,Hs),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const r=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return-1===r?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){const e=[];for(const t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}cs=Ws,rs.Constructed=cs,Ws.NAME="CONSTRUCTED";class qs extends es{fromBER(e,t,n){return t}toBER(e){return Ki}}qs.override="EndOfContentValueBlock";class Ks extends os{constructor(e={}){super(e,qs),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}us=Ks,rs.EndOfContent=us,Ks.NAME=Yi;class Gs extends os{constructor(e={}){super(e,es),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const e=new Uint8Array(n);e[0]=5,e[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}ds=Gs,rs.Null=ds,Gs.NAME="NULL";class Ys extends(Ji(es)){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=Mi._H.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){const r=Mi._H.toUint8Array(e);return zi(this,r,t,n)?(this.valueHexView=r.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Fi.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}Ys.NAME="BooleanValueBlock";class Qs extends os{constructor(e={}){super(e,Ys),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}hs=Qs,rs.Boolean=hs,Qs.NAME="BOOLEAN";class Zs extends(Ji(Hs)){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=Hs.prototype.fromBER.call(this,e,t,n),-1===r)return r;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===Yi){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==Qi)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(e,t,n),this.blockLength=n;return r}toBER(e,t){return this.isConstructed?Hs.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}Zs.NAME="OctetStringValueBlock";class Js extends os{constructor({idBlock:e={},lenBlock:t={},...n}={}){var r,o;null!==(r=n.isConstructed)&&void 0!==r||(n.isConstructed=!!(null===(o=n.value)||void 0===o?void 0:o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===n)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const r=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(r.byteLength){const e=zs(r,0,r.byteLength);-1!==e.offset&&e.offset===n&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Ws.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Mi.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof Js&&e.push(t.valueBlock.valueHexView);return Mi._H.concat(e)}}fs=Js,rs.OctetString=fs,Js.NAME=Qi;class Xs extends(Ji(Hs)){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let r=-1;if(this.isConstructed){if(r=Hs.prototype.fromBER.call(this,e,t,n),-1===r)return r;for(const e of this.value){const t=e.constructor.NAME;if(t===Yi){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==Zi)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const n=e.valueBlock;if(this.unusedBits>0&&n.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=n.unusedBits}return r}const o=Mi._H.toUint8Array(e);if(!zi(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(this.unusedBits=i[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=i.subarray(1);try{if(e.byteLength){const t=zs(e,0,e.byteLength);-1!==t.offset&&t.offset===n-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=i.subarray(1),this.blockLength=i.length,t+n}toBER(e,t){if(this.isConstructed)return Hs.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Ki;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}Xs.NAME="BitStringValueBlock";class ea extends os{constructor({idBlock:e={},lenBlock:t={},...n}={}){var r,o;null!==(r=n.isConstructed)&&void 0!==r||(n.isConstructed=!!(null===(o=n.value)||void 0===o?void 0:o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Xs),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ws.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const n of t)e.push(n.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}function ta(e,t){const n=new Uint8Array([0]),r=new Uint8Array(e),o=new Uint8Array(t);let i=r.slice(0);const s=i.length-1,a=o.slice(0),l=a.length-1;let c=0,u=0;for(let e=l<s?s:l;e>=0;e--,u++)c=1==u<a.length?i[s-u]+a[l-u]+n[0]:i[s-u]+n[0],n[0]=c/10,1==u>=i.length?i=Li(new Uint8Array([c%10]),i):i[s-u]=c%10;return n[0]>0&&(i=Li(n,i)),i}function na(e){if(e>=Hi.length)for(let t=Hi.length;t<=e;t++){const e=new Uint8Array([0]);let n=Hi[t-1].slice(0);for(let t=n.length-1;t>=0;t--){const r=new Uint8Array([(n[t]<<1)+e[0]]);e[0]=r[0]/10,n[t]=r[0]%10}e[0]>0&&(n=Li(e,n)),Hi.push(n)}return Hi[e]}function ra(e,t){let n=0;const r=new Uint8Array(e),o=new Uint8Array(t),i=r.slice(0),s=i.length-1,a=o.slice(0),l=a.length-1;let c,u=0;for(let e=l;e>=0;e--,u++)c=i[s-u]-a[l-u]-n,1==c<0?(n=1,i[s-u]=c+10):(n=0,i[s-u]=c);if(n>0)for(let e=s-l+1;e>=0;e--,u++){if(c=i[s-u]-n,!(c<0)){n=0,i[s-u]=c;break}n=1,i[s-u]=c+10}return i.slice()}ps=ea,rs.BitString=ps,ea.NAME=Zi;class oa extends(Ji(es)){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Fi.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){const t=e<0?-1*e:e;let n=128;for(let r=1;r<8;r++){if(t<=n){if(e<0){const e=Bi(n-t,8,r);return new Uint8Array(e)[0]|=128,e}let o=Bi(t,8,r),i=new Uint8Array(o);if(128&i[0]){const e=o.slice(0),t=new Uint8Array(e);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let n=0;n<e.byteLength;n++)i[n+1]=t[n];i[0]=0}return o}n*=Math.pow(2,8)}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,r=0){const o=this.fromBER(e,t,n);if(-1===o)return o;const i=this.valueHexView;return 0===i[0]&&128&i[1]?this.valueHexView=i.subarray(1):0!==r&&i.length<r&&(r-i.length>1&&(r=i.length+1),this.valueHexView=i.subarray(r-i.length)),o}toDER(e=!1){const t=this.valueHexView;switch(!0){case!!(128&t[0]):{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&!(128&t[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,n){const r=super.fromBER(e,t,n);return-1===r||this.setValueHex(),r}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=8*this.valueHexView.length-1;let t,n=new Uint8Array(8*this.valueHexView.length/3),r=0;const o=this.valueHexView;let i="",s=!1;for(let s=o.byteLength-1;s>=0;s--){t=o[s];for(let o=0;o<8;o++)1&~t||(r===e?(n=ra(na(r),n),i="-"):n=ta(n,na(r))),r++,t>>=1}for(let e=0;e<n.length;e++)n[e]&&(s=!0),s&&(i+=Wi.charAt(n[e]));return!1===s&&(i+=Wi.charAt(0)),i}}ms=oa,oa.NAME="IntegerValueBlock",Object.defineProperty(ms.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class ia extends os{constructor(e={}){super(e,oa),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return $i(),BigInt(this.valueBlock.toString())}static fromBigInt(e){$i();const t=BigInt(e),n=new Vi,r=t.toString(16).replace(/^-/,""),o=new Uint8Array(Mi.U$.FromHex(r));if(t<0){const e=new Uint8Array(o.length+(128&o[0]?1:0));e[0]|=128;const r=BigInt(`0x${Mi.U$.ToHex(e)}`)+t,i=Mi._H.toUint8Array(Mi.U$.FromHex(r.toString(16)));i[0]|=128,n.write(i)}else 128&o[0]&&n.write(new Uint8Array([0])),n.write(o);return new ia({valueHex:n.final()})}convertToDER(){const e=new ia({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ia({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}gs=ia,rs.Integer=gs,ia.NAME="INTEGER";class sa extends ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}ys=sa,rs.Enumerated=ys,sa.NAME="ENUMERATED";class aa extends(Ji(es)){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const r=Mi._H.toUint8Array(e);if(!zi(this,r,t,n))return-1;const o=r.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let e=0;e<n&&(this.valueHexView[e]=127&o[e],this.blockLength++,128&o[e]);e++);const i=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)i[e]=this.valueHexView[e];return this.valueHexView=i,128&o[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ni(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){$i();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let e=0;e<n.length;e++)n[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,n=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)n[e]=128|t[e];return n[this.blockLength-1]=t[this.blockLength-1],n.buffer}const t=Bi(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",Ki;const n=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),r=t.byteLength-1;for(let t=0;t<r;t++)n[t]=128|e[t];n[r]=e[r]}return n}toString(){let e="";if(this.isHexOnly)e=Mi.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}aa.NAME="sidBlock";class la extends es{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let r=t;for(;n>0;){const t=new aa;if(r=t.fromBER(e,r,n),-1===r)return this.blockLength=0,this.error=t.error,r;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,n-=t.blockLength,this.value.push(t)}return r}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const r=this.value[n].toBER(e);if(0===r.byteLength)return this.error=this.value[n].error,Ki;t.push(r)}return ji(t)}fromString(e){this.value=[];let t=0,n=0,r="",o=!1;do{if(n=e.indexOf(".",t),r=-1===n?e.substring(t):e.substring(t,n),t=n+1,o){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return void(this.value=[])}const n=parseInt(r,10);if(isNaN(n))return;e.valueDec=n+t,o=!1}else{const e=new aa;if(r>Number.MAX_SAFE_INTEGER){$i();const t=BigInt(r);e.valueBigInt=t}else if(e.valueDec=parseInt(r,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,o=!0),this.value.push(e)}}while(-1!==n)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let r=this.value[n].toString();0!==n&&(e=`${e}.`),t?(r=`{${r}}`,this.value[n].isFirstSid?e=`2.{${r} - 80}`:e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}la.NAME="ObjectIdentifierValueBlock";class ca extends os{constructor(e={}){super(e,la),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}vs=ca,rs.ObjectIdentifier=vs,ca.NAME="OBJECT IDENTIFIER";class ua extends(Ji(Xi)){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(0===n)return t;const r=Mi._H.toUint8Array(e);if(!zi(this,r,t,n))return-1;const o=r.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let e=0;e<n&&(this.valueHexView[e]=127&o[e],this.blockLength++,128&o[e]);e++);const i=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)i[e]=this.valueHexView[e];return this.valueHexView=i,128&o[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ni(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,n=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)n[e]=128|t[e];return n[this.blockLength-1]=t[this.blockLength-1],n.buffer}const t=Bi(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",Ki;const n=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),r=t.byteLength-1;for(let t=0;t<r;t++)n[t]=128|e[t];n[r]=e[r]}return n.buffer}toString(){let e="";return e=this.isHexOnly?Mi.U$.ToHex(this.valueHexView):this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}ua.NAME="relativeSidBlock";class da extends es{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let r=t;for(;n>0;){const t=new ua;if(r=t.fromBER(e,r,n),-1===r)return this.blockLength=0,this.error=t.error,r;this.blockLength+=t.blockLength,n-=t.blockLength,this.value.push(t)}return r}toBER(e,t){const n=[];for(let t=0;t<this.value.length;t++){const r=this.value[t].toBER(e);if(0===r.byteLength)return this.error=this.value[t].error,Ki;n.push(r)}return ji(n)}fromString(e){this.value=[];let t=0,n=0,r="";do{n=e.indexOf(".",t),r=-1===n?e.substring(t):e.substring(t,n),t=n+1;const o=new ua;if(o.valueDec=parseInt(r,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(-1!==n);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let r=this.value[n].toString();0!==n&&(e=`${e}.`),t?(r=`{${r}}`,e+=r):e+=r}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}da.NAME="RelativeObjectIdentifierValueBlock";class ha extends os{constructor(e={}){super(e,da),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}bs=ha,rs.RelativeObjectIdentifier=bs,ha.NAME="RelativeObjectIdentifier";class fa extends Ws{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}ws=fa,rs.Sequence=ws,fa.NAME="SEQUENCE";class pa extends Ws{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}As=pa,rs.Set=As,pa.NAME="SET";class ma extends(Ji(es)){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=qi}toJSON(){return{...super.toJSON(),value:this.value}}}ma.NAME="StringValueBlock";class ga extends ma{}ga.NAME="SimpleStringValueBlock";class ya extends ss{constructor({...e}={}){super(e,ga)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Mi._H.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);this.valueBlock.value=e}}ya.NAME="SIMPLE STRING";class va extends ya{fromBuffer(e){this.valueBlock.valueHexView=Mi._H.toUint8Array(e);try{this.valueBlock.value=Mi.U$.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Mi.U$.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Mi.U$.FromUtf8String(e)),this.valueBlock.value=e}}va.NAME="Utf8StringValueBlock";class ba extends va{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Es=ba,rs.Utf8String=Es,ba.NAME="UTF8String";class wa extends ya{fromBuffer(e){this.valueBlock.value=Mi.U$.ToUtf16String(e),this.valueBlock.valueHexView=Mi._H.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Mi.U$.FromUtf16String(e))}}wa.NAME="BmpStringValueBlock";class Aa extends wa{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}xs=Aa,rs.BmpString=xs,Aa.NAME="BMPString";class Ea extends ya{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let e=0;e<n.length;e+=4)n[e]=n[e+3],n[e+1]=n[e+2],n[e+2]=0,n[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let r=0;r<t;r++){const t=Bi(e.charCodeAt(r),8),o=new Uint8Array(t);if(o.length>4)continue;const i=4-o.length;for(let e=o.length-1;e>=0;e--)n[4*r+e+i]=o[e]}this.valueBlock.value=e}}Ea.NAME="UniversalStringValueBlock";class xa extends Ea{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Ss=xa,rs.UniversalString=Ss,xa.NAME="UniversalString";class Sa extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}ks=Sa,rs.NumericString=ks,Sa.NAME="NumericString";class ka extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Is=ka,rs.PrintableString=Is,ka.NAME="PrintableString";class Ia extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}_s=Ia,rs.TeletexString=_s,Ia.NAME="TeletexString";class _a extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Rs=_a,rs.VideotexString=Rs,_a.NAME="VideotexString";class Ra extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Cs=Ra,rs.IA5String=Cs,Ra.NAME="IA5String";class Ca extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Ts=Ca,rs.GraphicString=Ts,Ca.NAME="GraphicString";class Ta extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Ps=Ta,rs.VisibleString=Ps,Ta.NAME="VisibleString";class Pa extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Ds=Pa,rs.GeneralString=Ds,Pa.NAME="GeneralString";class Da extends ya{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Os=Da,rs.CharacterString=Os,Da.NAME="CharacterString";class Oa extends Ta{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Mi._H.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for conversion");const n=parseInt(t[1],10);this.year=n>=50?1900+n:2e3+n,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){const e=new Array(7);return e[0]=Ui(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=Ui(this.month,2),e[2]=Ui(this.day,2),e[3]=Ui(this.hour,2),e[4]=Ui(this.minute,2),e[5]=Ui(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Ms=Oa,rs.UTCTime=Ms,Oa.NAME="UTCTime";class Ma extends Oa{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,n=!1,r="",o="",i=0,s=0,a=0;if("Z"===e[e.length-1])r=e.substring(0,e.length-1),n=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");r=e}if(n){if(-1!==r.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==r.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let e=1,t=r.indexOf("+"),n="";if(-1===t&&(t=r.indexOf("-"),e=-1),-1!==t){if(n=r.substring(t+1),r=r.substring(0,t),2!==n.length&&4!==n.length)throw new Error("Wrong input string for conversion");let o=parseInt(n.substring(0,2),10);if(isNaN(o.valueOf()))throw new Error("Wrong input string for conversion");if(s=e*o,4===n.length){if(o=parseInt(n.substring(2,4),10),isNaN(o.valueOf()))throw new Error("Wrong input string for conversion");a=e*o}}}let l=r.indexOf(".");if(-1===l&&(l=r.indexOf(",")),-1!==l){const e=new Number(`0${r.substring(l)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");i=e.valueOf(),o=r.substring(0,l)}else o=r;switch(!0){case 8===o.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==l)throw new Error("Wrong input string for conversion");break;case 10===o.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*i;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===o.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*i;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===o.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){const e=1e3*i;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const c=t.exec(o);if(null===c)throw new Error("Wrong input string for conversion");for(let e=1;e<c.length;e++)switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+s;break;case 5:this.minute=parseInt(c[e],10)+a;break;case 6:this.second=parseInt(c[e],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===n){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){const e=[];return e.push(Ui(this.year,4)),e.push(Ui(this.month,2)),e.push(Ui(this.day,2)),e.push(Ui(this.hour,2)),e.push(Ui(this.minute,2)),e.push(Ui(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(Ui(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Ns=Ma,rs.GeneralizedTime=Ns,Ma.NAME="GeneralizedTime";class Na extends ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Bs=Na,rs.DATE=Bs,Na.NAME="DATE";class Ba extends ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Ls=Ba,rs.TimeOfDay=Ls,Ba.NAME="TimeOfDay";class La extends ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Fs=La,rs.DateTime=Fs,La.NAME="DateTime";class Fa extends ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Us=Fa,rs.Duration=Us,Fa.NAME="Duration";class Ua extends ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}function $a(e){let t=e.toString(16);t.length%2>0&&(t=`0${t}`);const n=t.length/2,r=new Uint8Array(n);let o=0,i=0;for(;o<n;)r[o]=parseInt(t.slice(i,i+2),16),o+=1,i+=2;return r}function ja(e){const t=[];return e.forEach((function(e){let n=e.toString(16);n.length%2>0&&(n=`0${n}`),t.push(n)})),BigInt("0x"+t.join(""))}$s=Ua,rs.TIME=$s,Ua.NAME="TIME";const za=32,Va=1e4;function Ha(e){return Wa(e.valueBlock.value[2].getValue())}function Wa(e){return new Uint8Array(e,0,e.byteLength)}const qa=8192;class Ka{_key;constructor(e){this._key=e}verify(e,t){return async function(e,t,n){const r=await mi.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return mi.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},r,t,n instanceof Uint8Array?n:n.subarray())}(this._key,t,e)}marshal(){return function(e){if(null==e.n||null==e.e)throw new h("JWK was missing components","ERR_INVALID_PARAMETERS");const t=new fa({value:[new fa({value:[new ca({value:"1.2.840.113549.1.1.1"}),new Gs]}),new ea({valueHex:new fa({value:[ia.fromBigInt(ja((0,me.s)(e.n,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.e,"base64url")))]}).toBER()})]}).toBER();return new Uint8Array(t,0,t.byteLength)}(this._key)}get bytes(){return Ai.encode({Type:bi.RSA,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}hash(){const e=fe.sha256.digest(this.bytes);return ci(e)?e.then((({bytes:e})=>e)):e.bytes}}class Ga{_key;_publicKey;constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return je(16)}sign(e){return async function(e,t){const n=await mi.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),r=await mi.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},n,t instanceof Uint8Array?t:t.subarray());return new Uint8Array(r,0,r.byteLength)}(this._key,e)}get public(){if(null==this._publicKey)throw new h("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new Ka(this._publicKey)}marshal(){return function(e){if(null==e.n||null==e.e||null==e.d||null==e.p||null==e.q||null==e.dp||null==e.dq||null==e.qi)throw new h("JWK was missing components","ERR_INVALID_PARAMETERS");const t=new fa({value:[new ia({value:0}),ia.fromBigInt(ja((0,me.s)(e.n,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.e,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.d,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.p,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.q,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.dp,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.dq,"base64url"))),ia.fromBigInt(ja((0,me.s)(e.qi,"base64url")))]}).toBER();return new Uint8Array(t,0,t.byteLength)}(this._key)}get bytes(){return Ei.encode({Type:bi.RSA,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}hash(){const e=fe.sha256.digest(this.bytes);return ci(e)?e.then((({bytes:e})=>e)):e.bytes}async id(){const e=await this.public.hash();return(0,ge.d)(e,"base58btc")}async export(e,t="pkcs-8"){if("pkcs-8"===t)return async function(e,t){const n=mi.get(),r=new fa({value:[new ia({value:0}),new fa({value:[new ca({value:"1.2.840.113549.1.1.1"}),new Gs]}),new Js({valueHex:e.marshal()})]}).toBER(),o=new Uint8Array(r,0,r.byteLength),i=je(16),s=await(0,Xo.a)(si.Zf,t,i,{c:Va,dkLen:za}),a=je(16),l=await n.subtle.importKey("raw",s,"AES-CBC",!1,["encrypt"]),c=await n.subtle.encrypt({name:"AES-CBC",iv:a},l,o),u=new fa({value:[new Js({valueHex:i}),new ia({value:Va}),new ia({value:za}),new fa({value:[new ca({value:"1.2.840.113549.2.11"}),new Gs]})]}),d=new fa({value:[new ca({value:"1.2.840.113549.1.5.13"}),new fa({value:[new fa({value:[new ca({value:"1.2.840.113549.1.5.12"}),u]}),new fa({value:[new ca({value:"2.16.840.1.101.3.4.1.42"}),new Js({valueHex:a})]})]})]}),h=new fa({value:[d,new Js({valueHex:c})]}).toBER(),f=new Uint8Array(h,0,h.byteLength);return["-----BEGIN ENCRYPTED PRIVATE KEY-----",...(0,ge.d)(f,"base64pad").split(/(.{64})/).filter(Boolean),"-----END ENCRYPTED PRIVATE KEY-----"].join("\n")}(this,e);if("libp2p-key"===t)return vi(this.bytes,e);throw new h(`export format '${t}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}async function Ya(e){const t=function(e){const{result:t}=Vs(e),n=t.valueBlock.value;return{n:(0,ge.d)($a(n[1].toBigInt()),"base64url"),e:(0,ge.d)($a(n[2].toBigInt()),"base64url"),d:(0,ge.d)($a(n[3].toBigInt()),"base64url"),p:(0,ge.d)($a(n[4].toBigInt()),"base64url"),q:(0,ge.d)($a(n[5].toBigInt()),"base64url"),dp:(0,ge.d)($a(n[6].toBigInt()),"base64url"),dq:(0,ge.d)($a(n[7].toBigInt()),"base64url"),qi:(0,ge.d)($a(n[8].toBigInt()),"base64url"),kty:"RSA",alg:"RS256"}}(e);if(Oi(t)>qa)throw new h("key size is too large","ERR_KEY_SIZE_TOO_LARGE");const n=await Ti(t);return new Ga(n.privateKey,n.publicKey)}function Qa(e){const t=function(e){const{result:t}=Vs(e),n=t.valueBlock.value[1].valueBlock.value[0].valueBlock.value;return{kty:"RSA",n:(0,ge.d)($a(n[0].toBigInt()),"base64url"),e:(0,ge.d)($a(n[1].toBigInt()),"base64url")}}(e);if(Oi(t)>qa)throw new h("key size is too large","ERR_KEY_SIZE_TOO_LARGE");return new Ka(t)}async function Za(e){if(Oi(e)>qa)throw new h("key size is too large","ERR_KEY_SIZE_TOO_LARGE");const t=await Ti(e);return new Ga(t.privateKey,t.publicKey)}async function Ja(e){if(e>qa)throw new h("key size is too large","ERR_KEY_SIZE_TOO_LARGE");const t=await async function(e){const t=await mi.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),n=await Pi(t);return{privateKey:n[0],publicKey:n[1]}}(e);return new Ga(t.privateKey,t.publicKey)}var Xa=n(4329);function el(e){try{Xa.bI.ProjectivePoint.fromHex(e)}catch(e){throw new h(String(e),"ERR_INVALID_PUBLIC_KEY")}}class tl{_key;constructor(e){el(e),this._key=e}verify(e,t){return function(e,t,n){const r=fe.sha256.digest(n instanceof Uint8Array?n:n.subarray());if(ci(r))return r.then((({digest:n})=>Xa.bI.verify(t,n,e))).catch((e=>{throw new h(String(e),"ERR_INVALID_INPUT")}));try{return Xa.bI.verify(t,r.digest,e)}catch(e){throw new h(String(e),"ERR_INVALID_INPUT")}}(this._key,t,e)}marshal(){return e=this._key,Xa.bI.ProjectivePoint.fromHex(e).toRawBytes(!0);var e}get bytes(){return Ai.encode({Type:bi.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}async hash(){const e=fe.sha256.digest(this.bytes);let t;return ci(e)?({bytes:t}=await e):t=e.bytes,t}}class nl{_key;_publicKey;constructor(e,t){this._key=e,this._publicKey=t??function(e){try{return Xa.bI.getPublicKey(e,!0)}catch(e){throw new h(String(e),"ERR_INVALID_PRIVATE_KEY")}}(e),function(e){try{Xa.bI.getPublicKey(e,!0)}catch(e){throw new h(String(e),"ERR_INVALID_PRIVATE_KEY")}}(this._key),el(this._publicKey)}sign(e){return function(e,t){const n=fe.sha256.digest(t instanceof Uint8Array?t:t.subarray());if(ci(n))return n.then((({digest:t})=>Xa.bI.sign(t,e).toDERRawBytes())).catch((e=>{throw new h(String(e),"ERR_INVALID_INPUT")}));try{return Xa.bI.sign(n.digest,e).toDERRawBytes()}catch(e){throw new h(String(e),"ERR_INVALID_INPUT")}}(this._key,e)}get public(){return new tl(this._publicKey)}marshal(){return this._key}get bytes(){return Ei.encode({Type:bi.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return(0,pe.a)(this.bytes,e.bytes)}hash(){const e=fe.sha256.digest(this.bytes);return ci(e)?e.then((({bytes:e})=>e)):e.bytes}async id(){const e=await this.public.hash();return(0,ge.d)(e,"base58btc")}async export(e,t="libp2p-key"){if("libp2p-key"===t)return vi(this.bytes,e);throw new h(`export format '${t}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}function rl(e){return new nl(e)}function ol(e){return new tl(e)}async function il(){const e=Xa.bI.utils.randomPrivateKey();return new nl(e)}const sl={rsa:i,ed25519:o,secp256k1:s};function al(e){const t=Object.keys(sl).join(" / ");return new h(`invalid or unsupported key type ${e}. Must be ${t}`,"ERR_UNSUPPORTED_KEY_TYPE")}function ll(e){if("rsa"===(e=e.toLowerCase())||"ed25519"===e||"secp256k1"===e)return sl[e];throw al(e)}async function cl(e,t){return ll(e).generateKeyPair(t??2048)}function ul(e){const t=Ai.decode(e),n=t.Data??new Uint8Array;switch(t.Type){case bi.RSA:return sl.rsa.unmarshalRsaPublicKey(n);case bi.Ed25519:return sl.ed25519.unmarshalEd25519PublicKey(n);case bi.Secp256k1:return sl.secp256k1.unmarshalSecp256k1PublicKey(n);default:throw al(t.Type??"unknown")}}function dl(e,t){return ll(t=(t??"rsa").toLowerCase()),e.bytes}async function hl(e){const t=Ei.decode(e),n=t.Data??new Uint8Array;switch(t.Type){case bi.RSA:return sl.rsa.unmarshalRsaPrivateKey(n);case bi.Ed25519:return sl.ed25519.unmarshalEd25519PrivateKey(n);case bi.Secp256k1:return sl.secp256k1.unmarshalSecp256k1PrivateKey(n);default:throw al(t.Type??"RSA")}}async function fl(e,t){try{const n=await async function(e,t){const n=Ne.base64.decode(e);return yi().decrypt(n,t)}(e,t);return await hl(n)}catch(e){}if(!e.includes("BEGIN"))throw new h("Encrypted key was not a libp2p-key or a PEM file","ERR_INVALID_IMPORT_FORMAT");return async function(e,t){const n=mi.get();let r;if(e.includes("-----BEGIN ENCRYPTED PRIVATE KEY-----")){const o=(0,me.s)(e.replace("-----BEGIN ENCRYPTED PRIVATE KEY-----","").replace("-----END ENCRYPTED PRIVATE KEY-----","").replace(/\n/g,"").trim(),"base64pad"),{result:i}=Vs(o),{iv:s,salt:a,iterations:l,keySize:c,cipherText:u}=function(e){const t=e.valueBlock.value[0];if("OBJECT IDENTIFIER : 1.2.840.113549.1.5.13"!==t.valueBlock.value[0].toString())throw new h("Only pkcs5PBES2 encrypted private keys are supported","ERR_INVALID_PARAMS");const n=t.valueBlock.value[1].valueBlock.value[0];if("OBJECT IDENTIFIER : 1.2.840.113549.1.5.12"!==n.valueBlock.value[0].toString())throw new h("Only pkcs5PBKDF2 key derivation functions are supported","ERR_INVALID_PARAMS");const r=n.valueBlock.value[1],o=Wa(r.valueBlock.value[0].getValue());let i=Va,s=za;if(3===r.valueBlock.value.length)i=Number(r.valueBlock.value[1].toBigInt()),s=Number(r.valueBlock.value[2].toBigInt());else if(2===r.valueBlock.value.length)throw new h("Could not derive key size and iterations from PEM file - please use @libp2p/rsa to re-import your key","ERR_INVALID_PARAMS");const a=t.valueBlock.value[1].valueBlock.value[1],l=a.valueBlock.value[0].toString();if("OBJECT IDENTIFIER : 1.2.840.113549.3.7"===l);else if("OBJECT IDENTIFIER : 1.3.14.3.2.7"===l);else if("OBJECT IDENTIFIER : 2.16.840.1.101.3.4.1.2"===l);else if("OBJECT IDENTIFIER : 2.16.840.1.101.3.4.1.22"===l);else if("OBJECT IDENTIFIER : 2.16.840.1.101.3.4.1.42"!==l)throw new h("Only AES-CBC encryption schemes are supported","ERR_INVALID_PARAMS");const c=Wa(a.valueBlock.value[1].getValue());return{cipherText:Wa(e.valueBlock.value[1].getValue()),salt:o,iterations:i,keySize:s,iv:c}}(i),d=await(0,Xo.a)(si.Zf,t,a,{c:l,dkLen:c}),f=await n.subtle.importKey("raw",d,"AES-CBC",!1,["decrypt"]),p=Wa(await n.subtle.decrypt({name:"AES-CBC",iv:s},f,u)),{result:m}=Vs(p);r=Ha(m)}else{if(!e.includes("-----BEGIN PRIVATE KEY-----"))throw new h("Could not parse private key from PEM data","ERR_INVALID_PARAMETERS");{const t=(0,me.s)(e.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","").replace(/\n/g,"").trim(),"base64pad"),{result:n}=Vs(t);r=Ha(n)}}return Ya(r)}(e,t)}const pl=Symbol.for("@libp2p/service-capabilities"),ml=Symbol.for("@libp2p/service-dependencies");var gl,yl=n(3542),vl=n(2424);!function(e){e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_INVALID_KEY_NAME="ERR_INVALID_KEY_NAME",e.ERR_INVALID_KEY_TYPE="ERR_INVALID_KEY_TYPE",e.ERR_KEY_ALREADY_EXISTS="ERR_KEY_ALREADY_EXISTS",e.ERR_INVALID_KEY_SIZE="ERR_INVALID_KEY_SIZE",e.ERR_KEY_NOT_FOUND="ERR_KEY_NOT_FOUND",e.ERR_OLD_KEY_NAME_INVALID="ERR_OLD_KEY_NAME_INVALID",e.ERR_NEW_KEY_NAME_INVALID="ERR_NEW_KEY_NAME_INVALID",e.ERR_PASSWORD_REQUIRED="ERR_PASSWORD_REQUIRED",e.ERR_PEM_REQUIRED="ERR_PEM_REQUIRED",e.ERR_CANNOT_READ_KEY="ERR_CANNOT_READ_KEY",e.ERR_MISSING_PRIVATE_KEY="ERR_MISSING_PRIVATE_KEY",e.ERR_INVALID_OLD_PASS_TYPE="ERR_INVALID_OLD_PASS_TYPE",e.ERR_INVALID_NEW_PASS_TYPE="ERR_INVALID_NEW_PASS_TYPE",e.ERR_INVALID_PASS_LENGTH="ERR_INVALID_PASS_LENGTH"}(gl||(gl={}));const bl="/info/",wl=new WeakMap,Al={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function El(e){return null!=e&&"string"==typeof e&&e===vl(e.trim())&&e.length>0}async function xl(){const e=800*Math.random()+200;await new Promise((t=>setTimeout(t,e)))}function Sl(e){return new Mr("/pkcs8/"+e)}function kl(e){return new Mr(bl+e)}class Il{components;init;log;constructor(e,t){if(this.components=e,this.log=e.logger.forComponent("libp2p:keychain"),this.init=(0,yl.A)(Al,t),null!=this.init.pass&&this.init.pass?.length<20)throw new Error("pass must be least 20 characters");if(null!=this.init.dek?.keyLength&&this.init.dek.keyLength<14)throw new Error("dek.keyLength must be least 14 bytes");if(null!=this.init.dek?.salt?.length&&this.init.dek.salt.length<16)throw new Error("dek.saltLength must be least 16 bytes");if(null!=this.init.dek?.iterationCount&&this.init.dek.iterationCount<1e3)throw new Error("dek.iterationCount must be least 1000");const n=null!=this.init.pass&&null!=this.init.dek?.salt?li(this.init.pass,this.init.dek?.salt,this.init.dek?.iterationCount,this.init.dek?.keyLength,this.init.dek?.hash):"";wl.set(this,{dek:n})}[Symbol.toStringTag]="@libp2p/keychain";[pl]=["@libp2p/keychain"];static generateOptions(){const e=Object.assign({},Al),t=3*Math.ceil(16/3);return e.dek.salt=(0,ge.d)(je(t),"base64"),e}static get options(){return Al}async createKey(e,t,n=2048){if(!El(e)||"self"===e)throw await xl(),new h("Invalid key name",gl.ERR_INVALID_KEY_NAME);if("string"!=typeof t)throw await xl(),new h("Invalid key type",gl.ERR_INVALID_KEY_TYPE);const r=Sl(e);if(await this.components.datastore.has(r))throw await xl(),new h("Key name already exists",gl.ERR_KEY_ALREADY_EXISTS);if("rsa"===t.toLowerCase()&&(!Number.isSafeInteger(n)||n<2048))throw await xl(),new h("Invalid RSA key size",gl.ERR_INVALID_KEY_SIZE);let o;try{const i=await cl(t,n),s=await i.id(),a=wl.get(this);if(null==a)throw new h("dek missing",gl.ERR_INVALID_PARAMETERS);const l=a.dek,c=await i.export(l);o={name:e,id:s};const u=this.components.datastore.batch();u.put(r,(0,me.s)(c)),u.put(kl(e),(0,me.s)(JSON.stringify(o))),await u.commit()}catch(e){throw await xl(),e}return o}async listKeys(){const e={prefix:bl},t=[];for await(const n of this.components.datastore.query(e))t.push(JSON.parse((0,ge.d)(n.value)));return t}async findKeyById(e){try{const t=(await this.listKeys()).find((t=>t.id===e));if(null==t)throw new h(`Key with id '${e}' does not exist.`,gl.ERR_KEY_NOT_FOUND);return t}catch(e){throw await xl(),e}}async findKeyByName(e){if(!El(e))throw await xl(),new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);const t=kl(e);try{const e=await this.components.datastore.get(t);return JSON.parse((0,ge.d)(e))}catch(t){throw await xl(),this.log.error(t),new h(`Key '${e}' does not exist.`,gl.ERR_KEY_NOT_FOUND)}}async removeKey(e){if(!El(e)||"self"===e)throw await xl(),new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);const t=Sl(e),n=await this.findKeyByName(e),r=this.components.datastore.batch();return r.delete(t),r.delete(kl(e)),await r.commit(),n}async renameKey(e,t){if(!El(e)||"self"===e)throw await xl(),new h(`Invalid old key name '${e}'`,gl.ERR_OLD_KEY_NAME_INVALID);if(!El(t)||"self"===t)throw await xl(),new h(`Invalid new key name '${t}'`,gl.ERR_NEW_KEY_NAME_INVALID);const n=Sl(e),r=Sl(t),o=kl(e),i=kl(t);if(await this.components.datastore.has(r))throw await xl(),new h(`Key '${t}' already exists`,gl.ERR_KEY_ALREADY_EXISTS);try{const e=await this.components.datastore.get(n),s=await this.components.datastore.get(o),a=JSON.parse((0,ge.d)(s));a.name=t;const l=this.components.datastore.batch();return l.put(r,e),l.put(i,(0,me.s)(JSON.stringify(a))),l.delete(n),l.delete(o),await l.commit(),a}catch(e){throw await xl(),e}}async exportKey(e,t){if(!El(e))throw await xl(),new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);if(null==t)throw await xl(),new h("Password is required",gl.ERR_PASSWORD_REQUIRED);const n=Sl(e);try{const e=await this.components.datastore.get(n),r=(0,ge.d)(e),o=wl.get(this);if(null==o)throw new h("dek missing",gl.ERR_INVALID_PARAMETERS);const i=o.dek,s=await fl(r,i);return await s.export(t)}catch(e){throw await xl(),e}}async exportPeerId(e){const t="temporary-password",n=await this.exportKey(e,t),r=await fl(n,t);return Te(r.public.bytes,r.bytes)}async importKey(e,t,n){if(!El(e)||"self"===e)throw await xl(),new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);if(null==t)throw await xl(),new h("PEM encoded key is required",gl.ERR_PEM_REQUIRED);const r=Sl(e);if(await this.components.datastore.has(r))throw await xl(),new h(`Key '${e}' already exists`,gl.ERR_KEY_ALREADY_EXISTS);let o,i;try{o=await fl(t,n)}catch(e){throw await xl(),new h("Cannot read the key, most likely the password is wrong",gl.ERR_CANNOT_READ_KEY)}try{i=await o.id();const e=wl.get(this);if(null==e)throw new h("dek missing",gl.ERR_INVALID_PARAMETERS);const n=e.dek;t=await o.export(n)}catch(e){throw await xl(),e}const s={name:e,id:i},a=this.components.datastore.batch();return a.put(r,(0,me.s)(t)),a.put(kl(e),(0,me.s)(JSON.stringify(s))),await a.commit(),s}async importPeer(e,t){try{if(!El(e))throw new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);if(null==t)throw new h("PeerId is required",gl.ERR_MISSING_PRIVATE_KEY);if(null==t.privateKey)throw new h("PeerId.privKey is required",gl.ERR_MISSING_PRIVATE_KEY);const n=await hl(t.privateKey),r=Sl(e);if(await this.components.datastore.has(r))throw await xl(),new h(`Key '${e}' already exists`,gl.ERR_KEY_ALREADY_EXISTS);const o=wl.get(this);if(null==o)throw new h("dek missing",gl.ERR_INVALID_PARAMETERS);const i=o.dek,s=await n.export(i),a={name:e,id:t.toString()},l=this.components.datastore.batch();return l.put(r,(0,me.s)(s)),l.put(kl(e),(0,me.s)(JSON.stringify(a))),await l.commit(),a}catch(e){throw await xl(),e}}async getPrivateKey(e){if(!El(e))throw await xl(),new h(`Invalid key name '${e}'`,gl.ERR_INVALID_KEY_NAME);try{const t=Sl(e),n=await this.components.datastore.get(t);return(0,ge.d)(n)}catch(t){throw await xl(),this.log.error(t),new h(`Key '${e}' does not exist.`,gl.ERR_KEY_NOT_FOUND)}}async rotateKeychainPass(e,t){if("string"!=typeof e)throw await xl(),new h(`Invalid old pass type '${typeof e}'`,gl.ERR_INVALID_OLD_PASS_TYPE);if("string"!=typeof t)throw await xl(),new h(`Invalid new pass type '${typeof t}'`,gl.ERR_INVALID_NEW_PASS_TYPE);if(t.length<20)throw await xl(),new h(`Invalid pass length ${t.length}`,gl.ERR_INVALID_PASS_LENGTH);this.log("recreating keychain");const n=wl.get(this);if(null==n)throw new h("dek missing",gl.ERR_INVALID_PARAMETERS);const r=n.dek;this.init.pass=t;const o=null!=t&&null!=this.init.dek?.salt?li(t,this.init.dek.salt,this.init.dek?.iterationCount,this.init.dek?.keyLength,this.init.dek?.hash):"";wl.set(this,{dek:o});const i=await this.listKeys();for(const e of i){const t=await this.components.datastore.get(Sl(e.name)),n=(0,ge.d)(t),i=await fl(n,r),s=o.toString(),a=await i.export(s),l=this.components.datastore.batch(),c={name:e.name,id:e.id};l.put(Sl(e.name),(0,me.s)(a)),l.put(kl(e.name),(0,me.s)(JSON.stringify(c))),await l.commit()}this.log("keychain reconstructed")}}function _l(e={}){return t=>new Il(t,e)}const Rl=Symbol.for("@libp2p/peer-discovery");class Cl{set;constructor(e){if(this.set=new Set,null!=e)for(const t of e)this.set.add(t.toString())}get size(){return this.set.size}[Symbol.iterator](){return this.values()}add(e){this.set.add(e.toString())}clear(){this.set.clear()}delete(e){this.set.delete(e.toString())}entries(){return Pe(this.set.entries(),(e=>{const t=Re(e[0]);return[t,t]}))}forEach(e){this.set.forEach((t=>{const n=Re(t);e(n,n,this)}))}has(e){return this.set.has(e.toString())}values(){return Pe(this.set.values(),(e=>Re(e)))}intersection(e){const t=new Cl;for(const n of e)this.has(n)&&t.add(n);return t}difference(e){const t=new Cl;for(const n of this)e.has(n)||t.add(n);return t}union(e){const t=new Cl;for(const n of e)t.add(n);for(const e of this)t.add(e);return t}}const Tl=async()=>{const e=await cl("Ed25519"),t=await async function(e){return Te(dl(e.public),(t=e,ll(n=(n??"rsa").toLowerCase()),t.bytes));var t,n}(e);if("Ed25519"===t.type)return t;throw new Error(`Generated unexpected PeerId type "${t.type}"`)};var Pl;!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.publicKey&&e.publicKey.byteLength>0&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.payloadType&&e.payloadType.byteLength>0&&(t.uint32(18),t.bytes(e.payloadType)),null!=e.payload&&e.payload.byteLength>0&&(t.uint32(26),t.bytes(e.payload)),null!=e.signature&&e.signature.byteLength>0&&(t.uint32(42),t.bytes(e.signature)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={publicKey:new Uint8Array(0),payloadType:new Uint8Array(0),payload:new Uint8Array(0),signature:new Uint8Array(0)},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.publicKey=e.bytes();break;case 2:n.payloadType=e.bytes();break;case 3:n.payload=e.bytes();break;case 5:n.signature=e.bytes();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Pl||(Pl={}));class Dl{static createFromProtobuf=async e=>{const t=Pl.decode(e),n=await Te(t.publicKey);return new Dl({peerId:n,payloadType:t.payloadType,payload:t.payload,signature:t.signature})};static seal=async(e,t)=>{if(null==t.privateKey)throw new Error("Missing private key");const n=e.domain,r=e.codec,o=e.marshal(),i=Ol(n,r,o),s=await hl(t.privateKey),a=await s.sign(i.subarray());return new Dl({peerId:t,payloadType:r,payload:o,signature:a})};static openAndCertify=async(e,t)=>{const n=await Dl.createFromProtobuf(e);if(!await n.validate(t))throw new h("envelope signature is not valid for the given domain","ERR_SIGNATURE_NOT_VALID");return n};peerId;payloadType;payload;signature;marshaled;constructor(e){const{peerId:t,payloadType:n,payload:r,signature:o}=e;this.peerId=t,this.payloadType=n,this.payload=r,this.signature=o}marshal(){if(null==this.peerId.publicKey)throw new Error("Missing public key");return null==this.marshaled&&(this.marshaled=Pl.encode({publicKey:this.peerId.publicKey,payloadType:this.payloadType,payload:this.payload.subarray(),signature:this.signature})),this.marshaled}equals(e){return(0,pe.a)(this.marshal(),e.marshal())}async validate(e){const t=Ol(e,this.payloadType,this.payload);if(null==this.peerId.publicKey)throw new Error("Missing public key");return ul(this.peerId.publicKey).verify(t.subarray(),this.signature)}}const Ol=(e,t,n)=>{const r=(0,me.s)(e),o=_.lF(r.byteLength),i=_.lF(t.length),s=_.lF(n.length);return new R.I(o,r,i,t,s,n)},Ml=Uint8Array.from([3,1]);var Nl;!function(e){let t,n;!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.multiaddr&&e.multiaddr.byteLength>0&&(t.uint32(10),t.bytes(e.multiaddr)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={multiaddr:new Uint8Array(0)},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();t>>>3==1?n.multiaddr=e.bytes():e.skipType(7&t)}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(t=e.AddressInfo||(e.AddressInfo={})),e.codec=()=>(null==n&&(n=(0,X.iU)(((t,n,r={})=>{if(!1!==r.lengthDelimited&&n.fork(),null!=t.peerId&&t.peerId.byteLength>0&&(n.uint32(10),n.bytes(t.peerId)),null!=t.seq&&0n!==t.seq&&(n.uint32(16),n.uint64(t.seq)),null!=t.addresses)for(const r of t.addresses)n.uint32(26),e.AddressInfo.codec().encode(r,n);!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={peerId:new Uint8Array(0),seq:0n,addresses:[]},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.peerId=t.bytes();break;case 2:r.seq=t.uint64();break;case 3:r.addresses.push(e.AddressInfo.codec().decode(t,t.uint32()));break;default:t.skipType(7&n)}}return r}))),n),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Nl||(Nl={}));class Bl{static createFromProtobuf=e=>{const t=Nl.decode(e),n=Ce(t.peerId),r=(t.addresses??[]).map((e=>$t(e.multiaddr))),o=t.seq;return new Bl({peerId:n,multiaddrs:r,seqNumber:o})};static DOMAIN="libp2p-peer-record";static CODEC=Ml;peerId;multiaddrs;seqNumber;domain=Bl.DOMAIN;codec=Bl.CODEC;marshaled;constructor(e){const{peerId:t,multiaddrs:n,seqNumber:r}=e;this.peerId=t,this.multiaddrs=n??[],this.seqNumber=r??BigInt(Date.now())}marshal(){return null==this.marshaled&&(this.marshaled=Nl.encode({peerId:this.peerId.toBytes(),seq:BigInt(this.seqNumber),addresses:this.multiaddrs.map((e=>({multiaddr:e.bytes})))})),this.marshaled}equals(e){return e instanceof Bl&&!!this.peerId.equals(e.peerId)&&this.seqNumber===e.seqNumber&&!!function(e,t){const n=(e,t)=>e.toString().localeCompare(t.toString());return e.length===t.length&&(t.sort(n),e.sort(n).every(((e,n)=>t[n].equals(e))))}(this.multiaddrs,e.multiaddrs)}}const Ll={ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS"};var Fl,Ul,$l;function jl(e,t){const n=Fl.decode(t);null!=n.publicKey&&null==e.publicKey&&(e=function(e){if("RSA"===e.type)return new xe(e);if("Ed25519"===e.type)return new Se(e);if("secp256k1"===e.type)return new ke(e);throw new h("Not a PeerId","ERR_INVALID_PARAMETERS")}({...e,publicKey:e.publicKey}));const r=new Map,o=BigInt(Date.now());for(const[e,t]of n.tags.entries())null!=t.expiry&&t.expiry<o||r.set(e,t);return{...n,id:e,addresses:n.addresses.map((({multiaddr:e,isCertified:t})=>({multiaddr:$t(e),isCertified:t??!1}))),metadata:n.metadata,peerRecordEnvelope:n.peerRecordEnvelope??void 0,tags:r}}!function(e){let t,n,r;!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.key&&""!==e.key&&(t.uint32(10),t.string(e.key)),null!=e.value&&e.value.byteLength>0&&(t.uint32(18),t.bytes(e.value)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={key:"",value:new Uint8Array(0)},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.key=e.string();break;case 2:n.value=e.bytes();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(t=e.Peer$metadataEntry||(e.Peer$metadataEntry={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.key&&""!==e.key&&(t.uint32(10),t.string(e.key)),null!=e.value&&(t.uint32(18),$l.codec().encode(e.value,t)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={key:""},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.key=e.string();break;case 2:n.value=$l.codec().decode(e,e.uint32());break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(n=e.Peer$tagsEntry||(e.Peer$tagsEntry={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{if(!1!==r.lengthDelimited&&n.fork(),null!=t.addresses)for(const e of t.addresses)n.uint32(10),Ul.codec().encode(e,n);if(null!=t.protocols)for(const e of t.protocols)n.uint32(18),n.string(e);if(null!=t.publicKey&&(n.uint32(34),n.bytes(t.publicKey)),null!=t.peerRecordEnvelope&&(n.uint32(42),n.bytes(t.peerRecordEnvelope)),null!=t.metadata&&0!==t.metadata.size)for(const[r,o]of t.metadata.entries())n.uint32(50),e.Peer$metadataEntry.codec().encode({key:r,value:o},n);if(null!=t.tags&&0!==t.tags.size)for(const[r,o]of t.tags.entries())n.uint32(58),e.Peer$tagsEntry.codec().encode({key:r,value:o},n);!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={addresses:[],protocols:[],metadata:new Map,tags:new Map},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.addresses.push(Ul.codec().decode(t,t.uint32()));break;case 2:r.protocols.push(t.string());break;case 4:r.publicKey=t.bytes();break;case 5:r.peerRecordEnvelope=t.bytes();break;case 6:{const n=e.Peer$metadataEntry.codec().decode(t,t.uint32());r.metadata.set(n.key,n.value);break}case 7:{const n=e.Peer$tagsEntry.codec().decode(t,t.uint32());r.tags.set(n.key,n.value);break}default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Fl||(Fl={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.multiaddr&&e.multiaddr.byteLength>0&&(t.uint32(10),t.bytes(e.multiaddr)),null!=e.isCertified&&(t.uint32(16),t.bool(e.isCertified)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={multiaddr:new Uint8Array(0)},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.multiaddr=e.bytes();break;case 2:n.isCertified=e.bool();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Ul||(Ul={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.value&&0!==e.value&&(t.uint32(8),t.uint32(e.value)),null!=e.expiry&&(t.uint32(16),t.uint64(e.expiry)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={value:0},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.value=e.uint32();break;case 2:n.expiry=e.uint64();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}($l||($l={}));const zl="/peers/";function Vl(e){if(!ae(e)||null==e.type)throw new h("Invalid PeerId",Ll.ERR_INVALID_PARAMETERS);const t=e.toCID().toString();return new Mr(`${zl}${t}`)}async function Hl(e,t,n){const r=new Map;for(const o of n){if(null==o)continue;if(o.multiaddr instanceof Uint8Array&&(o.multiaddr=$t(o.multiaddr)),!Ut(o.multiaddr))throw new h("Multiaddr was invalid",Ll.ERR_INVALID_PARAMETERS);if(!await t(e,o.multiaddr))continue;const n=o.isCertified??!1,i=o.multiaddr.toString(),s=r.get(i);null!=s?o.isCertified=s.isCertified||n:r.set(i,{multiaddr:o.multiaddr,isCertified:n})}return[...r.values()].sort(((e,t)=>e.multiaddr.toString().localeCompare(t.multiaddr.toString()))).map((({isCertified:e,multiaddr:t})=>({isCertified:e,multiaddr:t.bytes})))}async function Wl(e,t,n,r){if(null==t)throw new h("Invalid PeerData",Ll.ERR_INVALID_PARAMETERS);if(null!=t.publicKey&&null!=e.publicKey&&!(0,pe.a)(t.publicKey,e.publicKey))throw new h("publicKey bytes do not match peer id publicKey bytes",Ll.ERR_INVALID_PARAMETERS);const o=r.existingPeer;if(null!=o&&!e.equals(o.id))throw new h("peer id did not match existing peer id",Ll.ERR_INVALID_PARAMETERS);let i=o?.addresses??[],s=new Set(o?.protocols??[]),a=o?.metadata??new Map,l=o?.tags??new Map,c=o?.peerRecordEnvelope;if("patch"===n&&(null==t.multiaddrs&&null==t.addresses||(i=[],null!=t.multiaddrs&&i.push(...t.multiaddrs.map((e=>({isCertified:!1,multiaddr:e})))),null!=t.addresses&&i.push(...t.addresses)),null!=t.protocols&&(s=new Set(t.protocols)),null!=t.metadata&&(a=ql(t.metadata instanceof Map?[...t.metadata.entries()]:Object.entries(t.metadata),{validate:Kl})),null!=t.tags&&(l=ql(t.tags instanceof Map?[...t.tags.entries()]:Object.entries(t.tags),{validate:Gl,map:Yl})),null!=t.peerRecordEnvelope&&(c=t.peerRecordEnvelope)),"merge"===n){if(null!=t.multiaddrs&&i.push(...t.multiaddrs.map((e=>({isCertified:!1,multiaddr:e})))),null!=t.addresses&&i.push(...t.addresses),null!=t.protocols&&(s=new Set([...s,...t.protocols])),null!=t.metadata){const e=t.metadata instanceof Map?[...t.metadata.entries()]:Object.entries(t.metadata);for(const[t,n]of e)null==n?a.delete(t):a.set(t,n);a=ql([...a.entries()],{validate:Kl})}if(null!=t.tags){const e=t.tags instanceof Map?[...t.tags.entries()]:Object.entries(t.tags),n=new Map(l);for(const[t,r]of e)null==r?n.delete(t):n.set(t,r);l=ql([...n.entries()],{validate:Gl,map:Yl})}null!=t.peerRecordEnvelope&&(c=t.peerRecordEnvelope)}const u={addresses:await Hl(e,r.addressFilter??(async()=>!0),i),protocols:[...s.values()].sort(((e,t)=>e.localeCompare(t))),metadata:a,tags:l,publicKey:o?.id.publicKey??t.publicKey??e.publicKey,peerRecordEnvelope:c};return"RSA"!==e.type&&delete u.publicKey,u}function ql(e,t){const n=new Map;for(const[n,r]of e)null!=r&&t.validate(n,r);for(const[r,o]of e.sort((([e],[t])=>e.localeCompare(t))))null!=o&&n.set(r,t.map?.(r,o)??o);return n}function Kl(e,t){if("string"!=typeof e)throw new h("Metadata key must be a string",Ll.ERR_INVALID_PARAMETERS);if(!(t instanceof Uint8Array))throw new h("Metadata value must be a Uint8Array",Ll.ERR_INVALID_PARAMETERS)}function Gl(e,t){if("string"!=typeof e)throw new h("Tag name must be a string",Ll.ERR_INVALID_PARAMETERS);if(null!=t.value){if(parseInt(`${t.value}`,10)!==t.value)throw new h("Tag value must be an integer",Ll.ERR_INVALID_PARAMETERS);if(t.value<0||t.value>100)throw new h("Tag value must be between 0-100",Ll.ERR_INVALID_PARAMETERS)}if(null!=t.ttl){if(parseInt(`${t.ttl}`,10)!==t.ttl)throw new h("Tag ttl must be an integer",Ll.ERR_INVALID_PARAMETERS);if(t.ttl<0)throw new h("Tag ttl must be between greater than 0",Ll.ERR_INVALID_PARAMETERS)}}function Yl(e,t){let n;return null!=t.expiry&&(n=t.expiry),null!=t.ttl&&(n=BigInt(Date.now()+Number(t.ttl))),{value:t.value??0,expiry:n}}function Ql(e,t,n){const r=e.toString().split("/")[2],o=Ce(dt.base32.decode(r)),i=n.get(o);if(null!=i)return i;const s=jl(o,t);return n.set(o,s),s}class Zl{peerId;datastore;lock;addressFilter;constructor(e,t={}){this.peerId=e.peerId,this.datastore=e.datastore,this.addressFilter=t.addressFilter,this.lock=_o({name:"peer-store",singleProcess:!0})}async has(e){return this.datastore.has(Vl(e))}async delete(e){if(this.peerId.equals(e))throw new h("Cannot delete self peer",Ll.ERR_INVALID_PARAMETERS);await this.datastore.delete(Vl(e))}async load(e){return jl(e,await this.datastore.get(Vl(e)))}async save(e,t){const{existingBuf:n,existingPeer:r}=await this.#f(e),o=await Wl(e,t,"patch",{addressFilter:this.addressFilter});return this.#p(e,o,n,r)}async patch(e,t){const{existingBuf:n,existingPeer:r}=await this.#f(e),o=await Wl(e,t,"patch",{addressFilter:this.addressFilter,existingPeer:r});return this.#p(e,o,n,r)}async merge(e,t){const{existingBuf:n,existingPeer:r}=await this.#f(e),o=await Wl(e,t,"merge",{addressFilter:this.addressFilter,existingPeer:r});return this.#p(e,o,n,r)}async*all(e){const t=new De;for await(const{key:n,value:r}of this.datastore.query(function(e,t){return null==e?{}:{prefix:zl,filters:(e.filters??[]).map((e=>({key:n,value:r})=>e(Ql(n,r,t)))),orders:(e.orders??[]).map((e=>(n,r)=>e(Ql(n.key,n.value,t),Ql(r.key,r.value,t))))}}(e??{},t))){const e=Ql(n,r,t);e.id.equals(this.peerId)||(yield e)}}async#f(e){try{const t=await this.datastore.get(Vl(e));return{existingBuf:t,existingPeer:jl(e,t)}}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}return{}}async#p(e,t,n,r){const o=Fl.encode(t);return null!=n&&(0,pe.a)(o,n)?{peer:jl(e,o),previous:r,updated:!1}:(await this.datastore.put(Vl(e),o),{peer:jl(e,o),previous:r,updated:!0})}}class Jl{store;events;peerId;log;constructor(e,t={}){this.log=e.logger.forComponent("libp2p:peer-store"),this.events=e.events,this.peerId=e.peerId,this.store=new Zl(e,t)}[Symbol.toStringTag]="@libp2p/peer-store";async forEach(e,t){this.log.trace("forEach await read lock");const n=await this.store.lock.readLock();this.log.trace("forEach got read lock");try{for await(const n of this.store.all(t))e(n)}finally{this.log.trace("forEach release read lock"),n()}}async all(e){this.log.trace("all await read lock");const t=await this.store.lock.readLock();this.log.trace("all got read lock");try{return await(0,Nr.A)(this.store.all(e))}finally{this.log.trace("all release read lock"),t()}}async delete(e){this.log.trace("delete await write lock");const t=await this.store.lock.writeLock();this.log.trace("delete got write lock");try{await this.store.delete(e)}finally{this.log.trace("delete release write lock"),t()}}async has(e){this.log.trace("has await read lock");const t=await this.store.lock.readLock();this.log.trace("has got read lock");try{return await this.store.has(e)}finally{this.log.trace("has release read lock"),t()}}async get(e){this.log.trace("get await read lock");const t=await this.store.lock.readLock();this.log.trace("get got read lock");try{return await this.store.load(e)}finally{this.log.trace("get release read lock"),t()}}async save(e,t){this.log.trace("save await write lock");const n=await this.store.lock.writeLock();this.log.trace("save got write lock");try{const n=await this.store.save(e,t);return this.#m(e,n),n.peer}finally{this.log.trace("save release write lock"),n()}}async patch(e,t){this.log.trace("patch await write lock");const n=await this.store.lock.writeLock();this.log.trace("patch got write lock");try{const n=await this.store.patch(e,t);return this.#m(e,n),n.peer}finally{this.log.trace("patch release write lock"),n()}}async merge(e,t){this.log.trace("merge await write lock");const n=await this.store.lock.writeLock();this.log.trace("merge got write lock");try{const n=await this.store.merge(e,t);return this.#m(e,n),n.peer}finally{this.log.trace("merge release write lock"),n()}}async consumePeerRecord(e,t){const n=await Dl.openAndCertify(e,Bl.DOMAIN);if(!1===t?.equals(n.peerId))return this.log("envelope peer id was not the expected peer id - expected: %p received: %p",t,n.peerId),!1;const r=Bl.createFromProtobuf(n.payload);let o;try{o=await this.get(n.peerId)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}if(null!=o?.peerRecordEnvelope){const e=await Dl.createFromProtobuf(o.peerRecordEnvelope),t=Bl.createFromProtobuf(e.payload);if(t.seqNumber>=r.seqNumber)return this.log("sequence number was lower or equal to existing sequence number - stored: %d received: %d",t.seqNumber,r.seqNumber),!1}return await this.patch(r.peerId,{peerRecordEnvelope:e,addresses:r.multiaddrs.map((e=>({isCertified:!0,multiaddr:e})))}),!0}#m(e,t){t.updated&&(this.peerId.equals(e)?this.events.safeDispatchEvent("self:peer:update",{detail:t}):this.events.safeDispatchEvent("peer:update",{detail:t}))}}const Xl=e=>e;function ec(e,t){const n=e.getPeerId();return null!=n&&Re(n).equals(t)&&(e=e.decapsulate($t(`/p2p/${t.toString()}`))),e}class tc{log;components;listen;announce;observed;announceFilter;constructor(e,t={}){const{listen:n=[],announce:r=[]}=t;this.components=e,this.log=e.logger.forComponent("libp2p:address-manager"),this.listen=n.map((e=>e.toString())),this.announce=new Set(r.map((e=>e.toString()))),this.observed=new Map,this.announceFilter=t.announceFilter??Xl,this._updatePeerStoreAddresses=function(e){let t;return function(){clearTimeout(t),t=setTimeout((function(){t=void 0,e()}),1e3)}}(this._updatePeerStoreAddresses.bind(this)),e.events.addEventListener("transport:listening",(()=>{this._updatePeerStoreAddresses()})),e.events.addEventListener("transport:close",(()=>{this._updatePeerStoreAddresses()}))}[Symbol.toStringTag]="@libp2p/address-manager";_updatePeerStoreAddresses(){const e=this.getAnnounceAddrs().concat(this.components.transportManager.getAddrs()).concat([...this.observed.entries()].filter((([e,t])=>t.confident)).map((([e])=>$t(e)))).map((e=>e.getPeerId()===this.components.peerId.toString()?e.decapsulate(`/p2p/${this.components.peerId.toString()}`):e));this.components.peerStore.patch(this.components.peerId,{multiaddrs:e}).catch((e=>{this.log.error("error updating addresses",e)}))}getListenAddrs(){return Array.from(this.listen).map((e=>$t(e)))}getAnnounceAddrs(){return Array.from(this.announce).map((e=>$t(e)))}getObservedAddrs(){return Array.from(this.observed).map((([e])=>$t(e)))}addObservedAddr(e){const t=(e=ec(e,this.components.peerId)).toString();this.observed.has(t)||this.observed.set(t,{confident:!1})}confirmObservedAddr(e){const t=(e=ec(e,this.components.peerId)).toString(),n=(this.observed.get(t)??{confident:!1}).confident;this.observed.set(t,{confident:!0}),n||this._updatePeerStoreAddresses()}removeObservedAddr(e){const t=(e=ec(e,this.components.peerId)).toString();this.observed.delete(t)}getAddresses(){let e=this.getAnnounceAddrs().map((e=>e.toString()));0===e.length&&(e=this.components.transportManager.getAddrs().map((e=>e.toString()))),e=e.concat(Array.from(this.observed).filter((([e,t])=>t.confident)).map((([e])=>e)));const t=new Set(e);return this.announceFilter(Array.from(t).map((e=>$t(e)))).map((e=>!0===e.protos().pop()?.path||e.getPeerId()===this.components.peerId.toString()?e:e.encapsulate(`/p2p/${this.components.peerId.toString()}`)))}}class nc{components={};_started=!1;constructor(e={}){this.components={};for(const[t,n]of Object.entries(e))this.components[t]=n;null==this.components.logger&&(this.components.logger=(0,_r.Um)())}isStarted(){return this._started}async _invokeStartableMethod(e){await Promise.all(Object.values(this.components).filter((e=>jr(e))).map((async t=>{await(t[e]?.())})))}async beforeStart(){await this._invokeStartableMethod("beforeStart")}async start(){await this._invokeStartableMethod("start"),this._started=!0}async afterStart(){await this._invokeStartableMethod("afterStart")}async beforeStop(){await this._invokeStartableMethod("beforeStop")}async stop(){await this._invokeStartableMethod("stop"),this._started=!1}async afterStop(){await this._invokeStartableMethod("afterStop")}}const rc=["metrics","connectionProtector","dns"],oc=["components","isStarted","beforeStart","start","afterStart","beforeStop","stop","afterStop","then","_invokeStartableMethod"];function ic(e){return Array.isArray(e?.[pl])?e[pl]:[]}function sc(e){return Array.isArray(e?.[ml])?e[ml]:[]}function ac(e){return e?.[Symbol.toStringTag]??e?.toString()??"unknown"}function lc(e={}){return{denyDialPeer:async()=>!1,denyDialMultiaddr:async e=>{const t=e.stringTuples();return(4===t[0][0]||41===t[0][0])&&Boolean(ct(`${t[0][1]}`))},denyInboundConnection:async()=>!1,denyOutboundConnection:async()=>!1,denyInboundEncryptedConnection:async()=>!1,denyOutboundEncryptedConnection:async()=>!1,denyInboundUpgradedConnection:async()=>!1,denyOutboundUpgradedConnection:async()=>!1,filterMultiaddrForPeer:async()=>!0,...e}}const cc=Symbol.for("@libp2p/transport");var uc;function dc(e){try{const{address:t}=e.nodeAddress();return Boolean(ct(t))}catch{return!0}}function hc(e,t){const n=function(e,t){const n=dc(e.multiaddr),r=dc(t.multiaddr);return n&&!r?1:!n&&r?-1:0}(e,t);if(0!==n)return n;const r=function(e,t){const n=En.exactMatch(e.multiaddr),r=En.exactMatch(t.multiaddr);return n&&!r?1:!n&&r?-1:0}(e,t);if(0!==r)return r;const o=function(e,t){return e.isCertified&&!t.isCertified?-1:!e.isCertified&&t.isCertified?1:0}(e,t);return o}!function(e){e[e.FATAL_ALL=0]="FATAL_ALL",e[e.NO_FATAL=1]="NO_FATAL"}(uc||(uc={}));const{code:fc}=bt("dnsaddr"),pc=async function(e,t={}){const n=t.maxRecursiveDepth??32;if(0===n)throw new h("Max recursive depth reached","ERR_MAX_RECURSIVE_DEPTH_REACHED");const[,r]=e.stringTuples().find((([e])=>e===fc))??[],o=t?.dns??Xr(),i=await o.query(`_dnsaddr.${r}`,{signal:t?.signal,types:[Yr.TXT]}),s=e.getPeerId(),a=[];for(const e of i.Answer){const r=e.data.replace(/["']/g,"").trim().split("=")[1];if(null==r)continue;if(null!=s&&!r.includes(s))continue;const o=$t(r);if(r.startsWith("/dnsaddr")){const e=await o.resolve({...t,maxRecursiveDepth:n-1});a.push(...e.map((e=>e.toString())))}else a.push(o.toString())}return a};var mc,gc;!function(e){e.NOT_STARTED_YET="The libp2p node is not started yet",e.ERR_PROTECTOR_REQUIRED="Private network is enforced, but no protector was provided",e.NOT_FOUND="Not found"}(mc||(mc={})),function(e){e.ERR_PROTECTOR_REQUIRED="ERR_PROTECTOR_REQUIRED",e.ERR_PEER_DIAL_INTERCEPTED="ERR_PEER_DIAL_INTERCEPTED",e.ERR_CONNECTION_INTERCEPTED="ERR_CONNECTION_INTERCEPTED",e.ERR_INVALID_PROTOCOLS_FOR_STREAM="ERR_INVALID_PROTOCOLS_FOR_STREAM",e.ERR_CONNECTION_ENDED="ERR_CONNECTION_ENDED",e.ERR_CONNECTION_FAILED="ERR_CONNECTION_FAILED",e.ERR_NODE_NOT_STARTED="ERR_NODE_NOT_STARTED",e.ERR_ALREADY_ABORTED="ERR_ALREADY_ABORTED",e.ERR_TOO_MANY_ADDRESSES="ERR_TOO_MANY_ADDRESSES",e.ERR_NO_VALID_ADDRESSES="ERR_NO_VALID_ADDRESSES",e.ERR_RELAYED_DIAL="ERR_RELAYED_DIAL",e.ERR_DIALED_SELF="ERR_DIALED_SELF",e.ERR_DISCOVERED_SELF="ERR_DISCOVERED_SELF",e.ERR_DUPLICATE_TRANSPORT="ERR_DUPLICATE_TRANSPORT",e.ERR_ENCRYPTION_FAILED="ERR_ENCRYPTION_FAILED",e.ERR_HOP_REQUEST_FAILED="ERR_HOP_REQUEST_FAILED",e.ERR_INVALID_KEY="ERR_INVALID_KEY",e.ERR_INVALID_MESSAGE="ERR_INVALID_MESSAGE",e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_INVALID_PEER="ERR_INVALID_PEER",e.ERR_MUXER_UNAVAILABLE="ERR_MUXER_UNAVAILABLE",e.ERR_NOT_FOUND="ERR_NOT_FOUND",e.ERR_TRANSPORT_UNAVAILABLE="ERR_TRANSPORT_UNAVAILABLE",e.ERR_TRANSPORT_DIAL_FAILED="ERR_TRANSPORT_DIAL_FAILED",e.ERR_UNSUPPORTED_PROTOCOL="ERR_UNSUPPORTED_PROTOCOL",e.ERR_PROTOCOL_HANDLER_ALREADY_REGISTERED="ERR_PROTOCOL_HANDLER_ALREADY_REGISTERED",e.ERR_INVALID_MULTIADDR="ERR_INVALID_MULTIADDR",e.ERR_SIGNATURE_NOT_VALID="ERR_SIGNATURE_NOT_VALID",e.ERR_FIND_SELF="ERR_FIND_SELF",e.ERR_NO_ROUTERS_AVAILABLE="ERR_NO_ROUTERS_AVAILABLE",e.ERR_CONNECTION_NOT_MULTIPLEXED="ERR_CONNECTION_NOT_MULTIPLEXED",e.ERR_NO_DIAL_TOKENS="ERR_NO_DIAL_TOKENS",e.ERR_INVALID_CMS="ERR_INVALID_CMS",e.ERR_MISSING_KEYS="ERR_MISSING_KEYS",e.ERR_NO_KEY="ERR_NO_KEY",e.ERR_INVALID_KEY_NAME="ERR_INVALID_KEY_NAME",e.ERR_INVALID_KEY_TYPE="ERR_INVALID_KEY_TYPE",e.ERR_KEY_ALREADY_EXISTS="ERR_KEY_ALREADY_EXISTS",e.ERR_INVALID_KEY_SIZE="ERR_INVALID_KEY_SIZE",e.ERR_KEY_NOT_FOUND="ERR_KEY_NOT_FOUND",e.ERR_OLD_KEY_NAME_INVALID="ERR_OLD_KEY_NAME_INVALID",e.ERR_NEW_KEY_NAME_INVALID="ERR_NEW_KEY_NAME_INVALID",e.ERR_PASSWORD_REQUIRED="ERR_PASSWORD_REQUIRED",e.ERR_PEM_REQUIRED="ERR_PEM_REQUIRED",e.ERR_CANNOT_READ_KEY="ERR_CANNOT_READ_KEY",e.ERR_MISSING_PRIVATE_KEY="ERR_MISSING_PRIVATE_KEY",e.ERR_MISSING_PUBLIC_KEY="ERR_MISSING_PUBLIC_KEY",e.ERR_INVALID_OLD_PASS_TYPE="ERR_INVALID_OLD_PASS_TYPE",e.ERR_INVALID_NEW_PASS_TYPE="ERR_INVALID_NEW_PASS_TYPE",e.ERR_INVALID_PASS_LENGTH="ERR_INVALID_PASS_LENGTH",e.ERR_NOT_IMPLEMENTED="ERR_NOT_IMPLEMENTED",e.ERR_WRONG_PING_ACK="ERR_WRONG_PING_ACK",e.ERR_INVALID_RECORD="ERR_INVALID_RECORD",e.ERR_ALREADY_SUCCEEDED="ERR_ALREADY_SUCCEEDED",e.ERR_NO_HANDLER_FOR_PROTOCOL="ERR_NO_HANDLER_FOR_PROTOCOL",e.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS",e.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS",e.ERR_CONNECTION_DENIED="ERR_CONNECTION_DENIED",e.ERR_TRANSFER_LIMIT_EXCEEDED="ERR_TRANSFER_LIMIT_EXCEEDED"}(gc||(gc={}));const yc={addresses:{listen:[],announce:[],noAnnounce:[],announceFilter:e=>e},connectionManager:{resolvers:{dnsaddr:pc},addressSorter:hc},transportManager:{faultTolerance:uc.FATAL_ALL}},vc=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},bc=new WeakMap,wc=function({clearTimeout:e,setTimeout:t}={}){return(n,{value:r,signal:o}={})=>{if(o?.aborted)return Promise.reject(vc());let i,s,a;const l=e??clearTimeout,c=()=>{l(i),a(vc())},u=new Promise(((e,l)=>{s=()=>{o&&o.removeEventListener("abort",c),e(r)},a=l,i=(t??setTimeout)(s,n)}));return o&&o.addEventListener("abort",c,{once:!0}),bc.set(u,(()=>{l(i),i=null,s()})),u}}();class Ac{memoryStorage;points;duration;blockDuration;execEvenly;execEvenlyMinDelayMs;keyPrefix;constructor(e={}){this.points=e.points??4,this.duration=e.duration??1,this.blockDuration=e.blockDuration??0,this.execEvenly=e.execEvenly??!1,this.execEvenlyMinDelayMs=e.execEvenlyMinDelayMs??1e3*this.duration/this.points,this.keyPrefix=e.keyPrefix??"rlflx",this.memoryStorage=new Ec}async consume(e,t=1,n={}){const r=this.getKey(e),o=this._getKeySecDuration(n);let i=this.memoryStorage.incrby(r,t,o);if(i.remainingPoints=Math.max(this.points-i.consumedPoints,0),i.consumedPoints>this.points)throw this.blockDuration>0&&i.consumedPoints<=this.points+t&&(i=this.memoryStorage.set(r,i.consumedPoints,this.blockDuration)),new h("Rate limit exceeded","ERR_RATE_LIMIT_EXCEEDED",i);if(this.execEvenly&&i.msBeforeNext>0&&!i.isFirstInDuration){let e=Math.ceil(i.msBeforeNext/(i.remainingPoints+2));e<this.execEvenlyMinDelayMs&&(e=i.consumedPoints*this.execEvenlyMinDelayMs),await wc(e)}return i}penalty(e,t=1,n={}){const r=this.getKey(e),o=this._getKeySecDuration(n),i=this.memoryStorage.incrby(r,t,o);return i.remainingPoints=Math.max(this.points-i.consumedPoints,0),i}reward(e,t=1,n={}){const r=this.getKey(e),o=this._getKeySecDuration(n),i=this.memoryStorage.incrby(r,-t,o);return i.remainingPoints=Math.max(this.points-i.consumedPoints,0),i}block(e,t){const n=1e3*t,r=this.points+1;return this.memoryStorage.set(this.getKey(e),r,t),{remainingPoints:0,msBeforeNext:0===n?-1:n,consumedPoints:r,isFirstInDuration:!1}}set(e,t,n=0){const r=1e3*(n>=0?n:this.duration);return this.memoryStorage.set(this.getKey(e),t,n),{remainingPoints:0,msBeforeNext:0===r?-1:r,consumedPoints:t,isFirstInDuration:!1}}get(e){const t=this.memoryStorage.get(this.getKey(e));return null!=t&&(t.remainingPoints=Math.max(this.points-t.consumedPoints,0)),t}delete(e){this.memoryStorage.delete(this.getKey(e))}_getKeySecDuration(e){return null!=e?.customDuration&&e.customDuration>=0?e.customDuration:this.duration}getKey(e){return this.keyPrefix.length>0?`${this.keyPrefix}:${e}`:e}parseKey(e){return e.substring(this.keyPrefix.length)}}class Ec{storage;constructor(){this.storage=new Map}incrby(e,t,n){const r=this.storage.get(e);if(null!=r){const o=null!=r.expiresAt?r.expiresAt.getTime()-(new Date).getTime():-1;return null==r.expiresAt||o>0?(r.value+=t,{remainingPoints:0,msBeforeNext:o,consumedPoints:r.value,isFirstInDuration:!1}):this.set(e,t,n)}return this.set(e,t,n)}set(e,t,n){const r=1e3*n,o=this.storage.get(e);null!=o&&clearTimeout(o.timeoutId);const i={value:t,expiresAt:r>0?new Date(Date.now()+r):void 0};return this.storage.set(e,i),r>0&&(i.timeoutId=setTimeout((()=>{this.storage.delete(e)}),r),null!=i.timeoutId.unref&&i.timeoutId.unref()),{remainingPoints:0,msBeforeNext:0===r?-1:r,consumedPoints:i.value,isFirstInDuration:!0}}get(e){const t=this.storage.get(e);if(null!=t)return{remainingPoints:0,msBeforeNext:null!=t.expiresAt?t.expiresAt.getTime()-(new Date).getTime():-1,consumedPoints:t.value,isFirstInDuration:!1}}delete(e){const t=this.storage.get(e);return null!=t&&(null!=t.timeoutId&&clearTimeout(t.timeoutId),this.storage.delete(e),!0)}}function xc(e){if(ae(e))return{peerId:e,multiaddrs:[]};let t;if(Array.isArray(e)||(e=[e]),e.length>0){const n=e[0].getPeerId();t=null==n?void 0:Re(n),e.forEach((e=>{if(!Ut(e))throw new h("Invalid Multiaddr",gc.ERR_INVALID_MULTIADDR);const n=e.getPeerId();if(null==n){if(null!=t)throw new h("Multiaddrs must all have the same peer id or have no peer id",gc.ERR_INVALID_PARAMETERS)}else{const e=Re(n);if(null==t||!t.equals(e))throw new h("Multiaddrs must all have the same peer id or have no peer id",gc.ERR_INVALID_PARAMETERS)}}))}return{peerId:t,multiaddrs:e}}const Sc=42e4,kc="last-dial-failure",Ic=5,_c=100,Rc=25,Cc=0,Tc=5e3,Pc=Sc,Dc=10;class Oc{connectionManager;peerStore;queue;minConnections;autoDialPriority;autoDialIntervalMs;autoDialMaxQueueLength;autoDialPeerRetryThresholdMs;autoDialDiscoveredPeersDebounce;autoDialInterval;started;running;log;constructor(e,t){let n;this.connectionManager=e.connectionManager,this.peerStore=e.peerStore,this.minConnections=t.minConnections??Ic,this.autoDialPriority=t.autoDialPriority??Cc,this.autoDialIntervalMs=t.autoDialInterval??Tc,this.autoDialMaxQueueLength=t.maxQueueLength??_c,this.autoDialPeerRetryThresholdMs=t.autoDialPeerRetryThreshold??Pc,this.autoDialDiscoveredPeersDebounce=t.autoDialDiscoveredPeersDebounce??Dc,this.log=e.logger.forComponent("libp2p:connection-manager:auto-dial"),this.started=!1,this.running=!1,this.queue=new k({concurrency:t.autoDialConcurrency??Rc,metricName:"libp2p_autodial_queue",metrics:e.metrics}),this.queue.addEventListener("error",(e=>{this.log.error("error during auto-dial",e.detail)})),e.events.addEventListener("connection:close",(()=>{this.autoDial().catch((e=>{this.log.error(e)}))})),e.events.addEventListener("peer:discovery",(()=>{clearTimeout(n),n=setTimeout((()=>{this.autoDial().catch((e=>{this.log.error(e)}))}),this.autoDialDiscoveredPeersDebounce)}))}isStarted(){return this.started}start(){this.started=!0}afterStart(){this.autoDial().catch((e=>{this.log.error("error while autodialing",e)}))}stop(){this.queue.clear(),clearTimeout(this.autoDialInterval),this.started=!1,this.running=!1}async autoDial(){if(!this.started||this.running)return;const e=this.connectionManager.getConnectionsMap(),t=e.size;if(t>=this.minConnections)return void(this.minConnections>0&&this.log.trace("have enough connections %d/%d",t,this.minConnections));if(this.queue.size>this.autoDialMaxQueueLength)return this.log("not enough connections %d/%d but auto dial queue is full",t,this.minConnections),void this.sheduleNextAutodial();this.running=!0,this.log("not enough connections %d/%d - will dial peers to increase the number of connections",t,this.minConnections);const n=new Cl(this.connectionManager.getDialQueue().map((e=>e.peerId)).filter(Boolean)),r=await this.peerStore.all({filters:[t=>0===t.addresses.length?(this.log.trace("not autodialing %p because they have no addresses",t.id),!1):e.has(t.id)?(this.log.trace("not autodialing %p because they are already connected",t.id),!1):n.has(t.id)?(this.log.trace("not autodialing %p because they are already being dialed",t.id),!1):!this.queue.has(t.id)||(this.log.trace("not autodialing %p because they are already being autodialed",t.id),!1)]}),o=r.sort((()=>Math.random()>.5?1:-1)),i=new De;for(const e of o)i.has(e.id)||i.set(e.id,[...e.tags.values()].reduce(((e,t)=>e+t.value),0));const s=o.sort(((e,t)=>{const n=i.get(e.id)??0,r=i.get(t.id)??0;return n>r?-1:n<r?1:0})).filter((e=>{const t=e.metadata.get(kc);if(null==t)return!0;const n=parseInt((0,ge.d)(t));return!!isNaN(n)||Date.now()-n>this.autoDialPeerRetryThresholdMs}));this.log("selected %d/%d peers to dial",s.length,r.length);for(const e of s)this.queue.add((async()=>{const t=this.connectionManager.getConnectionsMap().size;if(t>=this.minConnections)return this.log("got enough connections now %d/%d",t,this.minConnections),void this.queue.clear();this.log("connecting to a peerStore stored peer %p",e.id),await this.connectionManager.openConnection(e.id,{priority:this.autoDialPriority})}),{peerId:e.id}).catch((e=>{this.log.error("could not connect to peerStore stored peer",e)}));this.running=!1,this.sheduleNextAutodial()}sheduleNextAutodial(){this.started&&(this.autoDialInterval=setTimeout((()=>{this.autoDial().catch((e=>{this.log.error("error while autodialing",e)}))}),this.autoDialIntervalMs))}}const Mc=["/ipfs/id/1.0.0","/ipfs/id/push/1.0.0","/libp2p/autonat/1.0.0","/libp2p/dcutr"],Nc={maxConnections:100,allow:[]};class Bc{maxConnections;connectionManager;peerStore;allow;events;log;constructor(e,t={}){this.maxConnections=t.maxConnections??Nc.maxConnections,this.allow=t.allow??Nc.allow,this.connectionManager=e.connectionManager,this.peerStore=e.peerStore,this.events=e.events,this.log=e.logger.forComponent("libp2p:connection-manager:connection-pruner"),e.events.addEventListener("connection:open",(()=>{this.maybePruneConnections().catch((e=>{this.log.error(e)}))}))}async maybePruneConnections(){const e=this.connectionManager.getConnections(),t=e.length;if(this.log("checking max connections limit %d/%d",t,this.maxConnections),t<=this.maxConnections)return;const n=new De;for(const t of e){const e=t.remotePeer;if(!n.has(e)){n.set(e,0);try{const t=await this.peerStore.get(e);n.set(e,[...t.tags.values()].reduce(((e,t)=>e+t.value),0))}catch(e){"ERR_NOT_FOUND"!==e.code&&this.log.error("error loading peer tags",e)}}}const r=this.sortConnections(e,n),o=Math.max(t-this.maxConnections,0),i=[];for(const e of r)if(this.log("too many connections open - closing a connection to %p",e.remotePeer),this.allow.some((t=>e.remoteAddr.toString().startsWith(t.toString())))||i.push(e),i.length===o)break;await Promise.all(i.map((async e=>{await async function(e,t){const n=e?.streams?.map((e=>e.protocol))??[],r=t?.closableProtocols??Mc;if(!(n.filter((e=>null!=e&&!r.includes(e))).length>0))try{await(e?.close(t))}catch(t){e?.abort(t)}}(e,{signal:AbortSignal.timeout(1e3)})}))),this.events.safeDispatchEvent("connection:prune",{detail:i})}sortConnections(e,t){return e.sort(((e,t)=>{const n=e.timeline.open,r=t.timeline.open;return n<r?1:n>r?-1:0})).sort(((e,t)=>"outbound"===e.direction&&"inbound"===t.direction?1:"inbound"===e.direction&&"outbound"===t.direction?-1:0)).sort(((e,t)=>e.streams.length>t.streams.length?1:e.streams.length<t.streams.length?-1:0)).sort(((e,n)=>{const r=t.get(e.remotePeer)??0,o=t.get(n.remotePeer)??0;return r>o?1:r<o?-1:0}))}}class Lc extends S{constructor(e={}){super({...e,sort:(e,t)=>e.options.priority>t.options.priority?-1:e.options.priority<t.options.priority?1:0})}}const Fc={addressSorter:hc,maxParallelDials:50,maxDialQueueLength:500,maxPeerAddrsToDial:25,dialTimeout:5e3,resolvers:{dnsaddr:pc}};class Uc{queue;components;addressSorter;maxPeerAddrsToDial;maxDialQueueLength;dialTimeout;shutDownController;connections;log;constructor(e,t={}){this.addressSorter=t.addressSorter??Fc.addressSorter,this.maxPeerAddrsToDial=t.maxPeerAddrsToDial??Fc.maxPeerAddrsToDial,this.maxDialQueueLength=t.maxDialQueueLength??Fc.maxDialQueueLength,this.dialTimeout=t.dialTimeout??Fc.dialTimeout,this.connections=t.connections??new De,this.log=e.logger.forComponent("libp2p:connection-manager:dial-queue"),this.components=e,this.shutDownController=new AbortController,this.shutDownController.signal;for(const[e,n]of Object.entries(t.resolvers??{}))Ft.set(e,n);this.queue=new Lc({concurrency:t.maxParallelDials??Fc.maxParallelDials,metricName:"libp2p_dial_queue",metrics:e.metrics}),this.queue.addEventListener("error",(e=>{this.log.error("error in dial queue",e.detail)}))}start(){this.shutDownController=new AbortController,this.shutDownController.signal}stop(){this.shutDownController.abort(),this.queue.abort()}async dial(e,t={}){const{peerId:n,multiaddrs:r}=xc(e),o=Array.from(this.connections.values()).flat().find((e=>!0!==t.force&&(!!e.remotePeer.equals(n)||r.find((t=>t.equals(e.remoteAddr))))));if(null!=o)return this.log("already connected to %a",o.remoteAddr),t.onProgress?.(new $.j("dial-queue:already-connected")),o;const i=this.queue.queue.find((e=>{if(!0===n?.equals(e.options.peerId))return!0;const t=e.options.multiaddrs;if(null==t)return!1;for(const e of r)if(t.has(e.toString()))return!0;return!1}));if(null!=i){this.log("joining existing dial target for %p",n);for(const e of r)i.options.multiaddrs.add(e.toString());return t.onProgress?.(new $.j("dial-queue:already-in-dial-queue")),i.join(t)}if(this.queue.size>=this.maxDialQueueLength)throw new h("Dial queue is full","ERR_DIAL_QUEUE_FULL");return this.log("creating dial target for %p",n,r.map((e=>e.toString()))),t.onProgress?.(new $.j("dial-queue:add-to-dial-queue")),this.queue.add((async e=>{e?.onProgress?.(new $.j("dial-queue:start-dial"));const t=this.createDialAbortController(e?.signal);let r;try{r=await this.calculateMultiaddrs(n,e?.multiaddrs,{...e,signal:t}),e?.onProgress?.(new $.j("dial-queue:calculated-addresses",r)),r.map((({multiaddr:e})=>e.toString())).forEach((t=>{e?.multiaddrs.add(t)}))}catch(e){throw t.clear(),e}try{let o=0;const i=[];for(const s of r){if(o===this.maxPeerAddrsToDial)throw this.log("dialed maxPeerAddrsToDial (%d) addresses for %p, not trying any others",o,n),new h("Peer had more than maxPeerAddrsToDial",gc.ERR_TOO_MANY_ADDRESSES);o++;try{const n=await this.components.transportManager.dial(s.multiaddr,{...e,signal:t});return this.log("dial to %a succeeded",s.multiaddr),n}catch(e){if(this.log.error("dial failed to %a",s.multiaddr,e),null!=n)try{await this.components.peerStore.patch(n,{metadata:{[kc]:(0,me.s)(Date.now().toString())}})}catch(e){this.log.error("could not update last dial failure key for %p",n,e)}if(t.aborted)throw new h(e.message,p);i.push(e)}}if(1===i.length)throw i[0];throw new f(i,"All multiaddr dials failed",gc.ERR_TRANSPORT_DIAL_FAILED)}finally{t.clear()}}),{peerId:n,priority:t.priority??$c,multiaddrs:new Set(r.map((e=>e.toString()))),signal:t.signal,onProgress:t.onProgress})}createDialAbortController(e){return a([AbortSignal.timeout(this.dialTimeout),this.shutDownController.signal,e])}async calculateMultiaddrs(e,t=new Set,n={}){const r=[...t].map((e=>({multiaddr:$t(e),isCertified:!1})));if(null!=e){if(this.components.peerId.equals(e))throw new h("Tried to dial self",gc.ERR_DIALED_SELF);if(!0===await(this.components.connectionGater.denyDialPeer?.(e)))throw new h("The dial request is blocked by gater.allowDialPeer",gc.ERR_PEER_DIAL_INTERCEPTED);if(0===r.length){this.log("loading multiaddrs for %p",e);try{const t=await this.components.peerStore.get(e);r.push(...t.addresses),this.log("loaded multiaddrs for %p",e,r.map((({multiaddr:e})=>e.toString())))}catch(e){if(e.code!==gc.ERR_NOT_FOUND)throw e}}if(0===r.length){this.log("looking up multiaddrs for %p in the peer routing",e);try{const t=await this.components.peerRouting.findPeer(e);this.log("found multiaddrs for %p in the peer routing",e,r.map((({multiaddr:e})=>e.toString()))),r.push(...t.multiaddrs.map((e=>({multiaddr:e,isCertified:!1}))))}catch(t){t.code!==gc.ERR_NO_ROUTERS_AVAILABLE&&this.log.error("looking up multiaddrs for %p in the peer routing failed",e,t)}}}let o=(await Promise.all(r.map((async e=>{const t=await async function(e,t){let n=!1;for(const t of Ft.keys())if(n=e.protoNames().includes(t),n)break;if(!n)return[e];const r=await e.resolve(t);return t.log("resolved %s to",e,r.map((e=>e.toString()))),r}(e.multiaddr,{dns:this.components.dns,...n,log:this.log});return 1===t.length&&t[0].equals(e.multiaddr)?e:t.map((e=>({multiaddr:e,isCertified:!1})))})))).flat();if(null!=e){const t=`/p2p/${e.toString()}`;o=o.map((e=>{const n=e.multiaddr.protos().pop();return!0===n?.path?e:null==e.multiaddr.getPeerId()?{multiaddr:e.multiaddr.encapsulate(t),isCertified:e.isCertified}:e}))}const i=o.filter((t=>{if(null==this.components.transportManager.dialTransportForMultiaddr(t.multiaddr))return!1;const n=t.multiaddr.getPeerId();return null==e||null==n||e.equals(n)})),s=new Map;for(const e of i){const t=e.multiaddr.toString(),n=s.get(t);null==n?s.set(t,e):n.isCertified=n.isCertified||e.isCertified||!1}const a=[...s.values()];if(0===a.length)throw new h("The dial request has no valid addresses",gc.ERR_NO_VALID_ADDRESSES);const l=[];for(const e of a)null!=this.components.connectionGater.denyDialMultiaddr&&await this.components.connectionGater.denyDialMultiaddr(e.multiaddr)||l.push(e);const c=l.sort(this.addressSorter);if(0===c.length)throw new h("The connection gater denied all addresses in the dial request",gc.ERR_NO_VALID_ADDRESSES);return this.log.trace("addresses for %p before filtering",e??"unknown peer",o.map((({multiaddr:e})=>e.toString()))),this.log.trace("addresses for %p after filtering",e??"unknown peer",c.map((({multiaddr:e})=>e.toString()))),c}async isDialable(e,t={}){Array.isArray(e)||(e=[e]);try{const n=await this.calculateMultiaddrs(void 0,new Set(e.map((e=>e.toString()))),t);return!1!==t.runOnTransientConnection||null!=n.find((e=>!En.matches(e.multiaddr)))}catch(e){this.log.trace("error calculating if multiaddr(s) were dialable",e)}return!1}}const $c=50,jc=5,zc=100,Vc=5,Hc=10,Wc=25,qc=0,Kc=100,Gc=Sc,Yc=10;class Qc{started;connections;allow;deny;maxIncomingPendingConnections;incomingPendingConnections;maxConnections;dialQueue;autoDial;connectionPruner;inboundConnectionRateLimiter;peerStore;metrics;events;log;constructor(e,t={}){this.maxConnections=t.maxConnections??zc;const n=t.minConnections??jc;if(this.maxConnections<n)throw new h("Connection Manager maxConnections must be greater than minConnections",gc.ERR_INVALID_PARAMETERS);this.connections=new De,this.started=!1,this.peerStore=e.peerStore,this.metrics=e.metrics,this.events=e.events,this.log=e.logger.forComponent("libp2p:connection-manager"),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.events.addEventListener("connection:open",this.onConnect),this.events.addEventListener("connection:close",this.onDisconnect),this.allow=(t.allow??[]).map((e=>$t(e))),this.deny=(t.deny??[]).map((e=>$t(e))),this.incomingPendingConnections=0,this.maxIncomingPendingConnections=t.maxIncomingPendingConnections??Hc,this.inboundConnectionRateLimiter=new Ac({points:t.inboundConnectionThreshold??Vc,duration:1}),this.autoDial=new Oc({connectionManager:this,peerStore:e.peerStore,events:e.events,logger:e.logger},{minConnections:n,autoDialConcurrency:t.autoDialConcurrency??Wc,autoDialPriority:t.autoDialPriority??qc,autoDialPeerRetryThreshold:t.autoDialPeerRetryThreshold??Gc,autoDialDiscoveredPeersDebounce:t.autoDialDiscoveredPeersDebounce??Yc,maxQueueLength:t.autoDialMaxQueueLength??Kc}),this.connectionPruner=new Bc({connectionManager:this,peerStore:e.peerStore,events:e.events,logger:e.logger},{maxConnections:this.maxConnections,allow:this.allow}),this.dialQueue=new Uc(e,{addressSorter:t.addressSorter??hc,maxParallelDials:t.maxParallelDials??50,maxDialQueueLength:t.maxDialQueueLength??500,maxPeerAddrsToDial:t.maxPeerAddrsToDial??25,dialTimeout:t.dialTimeout??5e3,resolvers:t.resolvers??{dnsaddr:pc},connections:this.connections})}[Symbol.toStringTag]="@libp2p/connection-manager";isStarted(){return this.started}async start(){this.metrics?.registerMetricGroup("libp2p_connection_manager_connections",{calculate:()=>{const e={inbound:0,outbound:0};for(const t of this.connections.values())for(const n of t)"inbound"===n.direction?e.inbound++:e.outbound++;return e}}),this.metrics?.registerMetricGroup("libp2p_protocol_streams_total",{label:"protocol",calculate:()=>{const e={};for(const t of this.connections.values())for(const n of t)for(const t of n.streams){const n=`${t.direction} ${t.protocol??"unnegotiated"}`;e[n]=(e[n]??0)+1}return e}}),this.metrics?.registerMetricGroup("libp2p_connection_manager_protocol_streams_per_connection_90th_percentile",{label:"protocol",calculate:()=>{const e={};for(const t of this.connections.values())for(const n of t){const t={};for(const e of n.streams){const n=`${e.direction} ${e.protocol??"unnegotiated"}`;t[n]=(t[n]??0)+1}for(const[n,r]of Object.entries(t))e[n]=e[n]??[],e[n].push(r)}const t={};for(let[n,r]of Object.entries(e)){r=r.sort(((e,t)=>e-t));const e=Math.floor(.9*r.length);t[n]=r[e]}return t}}),this.dialQueue.start(),this.autoDial.start(),this.started=!0,this.log("started")}async afterStart(){Promise.resolve().then((async()=>{const e=await this.peerStore.all({filters:[e=>e.tags.has("keep-alive")]});await Promise.all(e.map((async e=>{await this.openConnection(e.id).catch((e=>{this.log.error(e)}))})))})).catch((e=>{this.log.error(e)})),this.autoDial.afterStart()}async stop(){this.dialQueue.stop(),this.autoDial.stop();const e=[];for(const t of this.connections.values())for(const n of t)e.push((async()=>{try{await n.close()}catch(e){this.log.error(e)}})());this.log("closing %d connections",e.length),await Promise.all(e),this.connections.clear(),this.log("stopped")}onConnect(e){this._onConnect(e).catch((e=>{this.log.error(e)}))}async _onConnect(e){const{detail:t}=e;if(!this.started)return void await t.close();const n=t.remotePeer,r=this.connections.get(n);let o=!1;null!=r?r.push(t):(o=!0,this.connections.set(n,[t])),null!=n.publicKey&&"RSA"===n.type&&await this.peerStore.patch(n,{publicKey:n.publicKey}),o&&this.events.safeDispatchEvent("peer:connect",{detail:t.remotePeer})}onDisconnect(e){const{detail:t}=e;if(!this.started)return;const n=t.remotePeer;let r=this.connections.get(n);null!=r&&r.length>1?(r=r.filter((e=>e.id!==t.id)),this.connections.set(n,r)):null!=r&&(this.connections.delete(n),this.events.safeDispatchEvent("peer:disconnect",{detail:t.remotePeer}))}getConnections(e){if(null!=e)return this.connections.get(e)??[];let t=[];for(const e of this.connections.values())t=t.concat(e);return t}getConnectionsMap(){return this.connections}async openConnection(e,t={}){if(!this.isStarted())throw new h("Not started",gc.ERR_NODE_NOT_STARTED);t.signal?.throwIfAborted();const{peerId:n}=xc(e);if(null!=n&&!0!==t.force){this.log("dial %p",n);const e=this.getConnections(n).find((e=>!e.transient));if(null!=e)return this.log("had an existing non-transient connection to %p",n),t.onProgress?.(new $.j("dial-queue:already-connected")),e}const r=await this.dialQueue.dial(e,{...t,priority:t.priority??$c});let o=this.connections.get(r.remotePeer);null==o&&(o=[],this.connections.set(r.remotePeer,o));let i=!1;for(const e of o)e.id===r.id&&(i=!0);return i||o.push(r),r}async closeConnections(e,t={}){const n=this.connections.get(e)??[];await Promise.all(n.map((async e=>{try{await e.close(t)}catch(t){e.abort(t)}})))}async acceptIncomingConnection(e){if(this.deny.some((t=>e.remoteAddr.toString().startsWith(t.toString()))))return this.log("connection from %a refused - connection remote address was in deny list",e.remoteAddr),!1;if(this.allow.some((t=>e.remoteAddr.toString().startsWith(t.toString()))))return this.incomingPendingConnections++,!0;if(this.incomingPendingConnections===this.maxIncomingPendingConnections)return this.log("connection from %a refused - incomingPendingConnections exceeded by host",e.remoteAddr),!1;if(e.remoteAddr.isThinWaistAddress()){const t=e.remoteAddr.nodeAddress().address;try{await this.inboundConnectionRateLimiter.consume(t,1)}catch{return this.log("connection from %a refused - inboundConnectionThreshold exceeded by host %s",e.remoteAddr,t),!1}}return this.getConnections().length<this.maxConnections?(this.incomingPendingConnections++,!0):(this.log("connection from %a refused - maxConnections exceeded",e.remoteAddr),!1)}afterUpgradeInbound(){this.incomingPendingConnections--}getDialQueue(){const e={queued:"queued",running:"active",errored:"error",complete:"success"};return this.dialQueue.queue.queue.map((t=>({id:t.id,status:e[t.status],peerId:t.options.peerId,multiaddrs:[...t.options.multiaddrs].map((e=>$t(e)))})))}async isDialable(e,t={}){return this.dialQueue.isDialable(e,t)}}class Zc{routers;started;components;constructor(e,t){this.routers=t.routers??[],this.started=!1,this.components=e}[Symbol.toStringTag]="@libp2p/content-routing";isStarted(){return this.started}async start(){this.started=!0}async stop(){this.started=!1}async*findProviders(e,t={}){if(0===this.routers.length)throw new h("No content routers available",gc.ERR_NO_ROUTERS_AVAILABLE);const n=this,r=new Cl;for await(const o of(0,Cr.A)(...n.routers.map((n=>n.findProviders(e,t)))))null!=o&&(o.multiaddrs.length>0&&await this.components.peerStore.merge(o.id,{multiaddrs:o.multiaddrs}),r.has(o.id)||(r.add(o.id),yield o))}async provide(e,t={}){if(0===this.routers.length)throw new h("No content routers available",gc.ERR_NO_ROUTERS_AVAILABLE);await Promise.all(this.routers.map((async n=>{await n.provide(e,t)})))}async put(e,t,n){if(!this.isStarted())throw new h(mc.NOT_STARTED_YET,gc.ERR_NODE_NOT_STARTED);await Promise.all(this.routers.map((async r=>{await r.put(e,t,n)})))}async get(e,t){if(!this.isStarted())throw new h(mc.NOT_STARTED_YET,gc.ERR_NODE_NOT_STARTED);return Promise.any(this.routers.map((async n=>n.get(e,t))))}}const Jc=64;class Xc{fp;h;seed;constructor(e,t,n,r=2){if(r>Jc)throw new TypeError("Invalid Fingerprint Size");const o=t.hashV(e,n),i=(0,C.c)(r);for(let e=0;e<i.length;e++)i[e]=o[e];0===i.length&&(i[0]=7),this.fp=i,this.h=t,this.seed=n}hash(){return this.h.hash(this.fp,this.seed)}equals(e){return e?.fp instanceof Uint8Array&&(0,pe.a)(this.fp,e.fp)}}function eu(e,t){return Math.floor(Math.random()*(t-e))+e}class tu{contents;constructor(e){this.contents=new Array(e).fill(null)}has(e){if(!(e instanceof Xc))throw new TypeError("Invalid Fingerprint");return this.contents.some((t=>e.equals(t)))}add(e){if(!(e instanceof Xc))throw new TypeError("Invalid Fingerprint");for(let t=0;t<this.contents.length;t++)if(null==this.contents[t])return this.contents[t]=e,!0;return!0}swap(e){if(!(e instanceof Xc))throw new TypeError("Invalid Fingerprint");const t=eu(0,this.contents.length-1),n=this.contents[t];return this.contents[t]=e,n}remove(e){if(!(e instanceof Xc))throw new TypeError("Invalid Fingerprint");const t=this.contents.findIndex((t=>e.equals(t)));return t>-1&&(this.contents[t]=null,!0)}}const nu={32:16777619n,64:1099511628211n,128:309485009821345068724781371n,256:374144419156711147060143317175368453031918731002211n,512:35835915874844867368919076489095108449946327955754392558399825615420669938882575126094039892345713852759n,1024:5016456510113118655434598811035278955030765345404790744303017523831112055108147451509157692220295382716162651878526895249385292291816524375083746691371804094271873160484737966720260389217684476157468082573n},ru={32:2166136261n,64:14695981039346656037n,128:144066263297769815596495629667062367629n,256:100029257958052580907070968620625704837092796014241193945225284501741471925557n,512:9659303129496669498009435400716310466090418745672637896108374329434462657994582932197716438449813051892206539805784495328239340083876191928701583869517785n,1024:14197795064947621068722070641403218320880622795441933960878474914617582723252296732303717722150864096521202355549365628174669108571814760471015076148029755969804077320157692458563003215304957150157403644460363550505412711285966361610267868082893823963790439336411086884584107735010676915n},ou=new globalThis.TextEncoder;const iu={hash:e=>Number(function(e,{size:t=32,utf8Buffer:n}={}){if(!nu[t])throw new Error("The `size` option must be one of 32, 64, 128, 256, 512, or 1024");if("string"==typeof e){if(n)return function(e,t,n){if(0===n.length)throw new Error("The `utf8Buffer` option must have a length greater than zero");const r=nu[t];let o=ru[t],i=e;for(;i.length>0;){const e=ou.encodeInto(i,n);i=i.slice(e.read);for(let i=0;i<e.written;i++)o^=BigInt(n[i]),o=BigInt.asUintN(t,o*r)}return o}(e,t,n);e=ou.encode(e)}return function(e,t){const n=nu[t];let r=ru[t];for(let o=0;o<e.length;o++)r^=BigInt(e[o]),r=BigInt.asUintN(t,r*n);return r}(e,t)}(e,{size:32})),hashV:(e,t)=>function(e){let t=e.toString(16);return t.length%2==1&&(t=`0${t}`),(0,me.s)(t,"base16")}(iu.hash(e,t))};class su{bucketSize;filterSize;fingerprintSize;buckets;count;hash;seed;constructor(e){this.filterSize=e.filterSize,this.bucketSize=e.bucketSize??4,this.fingerprintSize=e.fingerprintSize??2,this.count=0,this.buckets=[],this.hash=e.hash??iu,this.seed=e.seed??eu(0,Math.pow(2,10))}add(e){"string"==typeof e&&(e=(0,me.s)(e));const t=new Xc(e,this.hash,this.seed,this.fingerprintSize),n=this.hash.hash(e,this.seed)%this.filterSize,r=(n^t.hash())%this.filterSize;if(null==this.buckets[n]&&(this.buckets[n]=new tu(this.bucketSize)),null==this.buckets[r]&&(this.buckets[r]=new tu(this.bucketSize)),this.buckets[n].add(t)||this.buckets[r].add(t))return this.count++,!0;const o=[n,r];let i=o[eu(0,o.length-1)];null==this.buckets[i]&&(this.buckets[i]=new tu(this.bucketSize));for(let e=0;e<500;e++){const e=this.buckets[i].swap(t);if(null!=e&&(i=(i^e.hash())%this.filterSize,null==this.buckets[i]&&(this.buckets[i]=new tu(this.bucketSize)),this.buckets[i].add(e)))return this.count++,!0}return!1}has(e){"string"==typeof e&&(e=(0,me.s)(e));const t=new Xc(e,this.hash,this.seed,this.fingerprintSize),n=this.hash.hash(e,this.seed)%this.filterSize,r=this.buckets[n]?.has(t)??!1;if(r)return r;const o=(n^t.hash())%this.filterSize;return this.buckets[o]?.has(t)??!1}remove(e){"string"==typeof e&&(e=(0,me.s)(e));const t=new Xc(e,this.hash,this.seed,this.fingerprintSize),n=this.hash.hash(e,this.seed)%this.filterSize,r=this.buckets[n]?.remove(t)??!1;if(r)return this.count--,r;const o=(n^t.hash())%this.filterSize,i=this.buckets[o]?.remove(t)??!1;return i&&this.count--,i}get reliable(){return Math.floor(this.count/this.filterSize*100)<=95}}const au={1:.5,2:.84,4:.95,8:.98};function lu(e,t=.001){const n=function(e=.001){return e>.002?2:e>1e-5?4:8}(t),r=au[n],o=Math.round(e/r);return{filterSize:o,bucketSize:n,fingerprintSize:Math.min(Math.ceil(Math.log(o/n))+2,Jc)}}class cu{filterSize;bucketSize;fingerprintSize;scale;filterSeries;hash;seed;constructor(e){this.bucketSize=e.bucketSize??4,this.filterSize=e.filterSize??(1<<18)/this.bucketSize,this.fingerprintSize=e.fingerprintSize??2,this.scale=e.scale??2,this.hash=e.hash??iu,this.seed=e.seed??eu(0,Math.pow(2,10)),this.filterSeries=[new su({filterSize:this.filterSize,bucketSize:this.bucketSize,fingerprintSize:this.fingerprintSize,hash:this.hash,seed:this.seed})]}add(e){if("string"==typeof e&&(e=(0,me.s)(e)),this.has(e))return!0;let t=this.filterSeries.find((e=>e.reliable));if(null==t){const e=this.filterSize*Math.pow(this.scale,this.filterSeries.length);t=new su({filterSize:e,bucketSize:this.bucketSize,fingerprintSize:this.fingerprintSize,hash:this.hash,seed:this.seed}),this.filterSeries.push(t)}return t.add(e)}has(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.filterSeries.length;t++)if(this.filterSeries[t].has(e))return!0;return!1}remove(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.filterSeries.length;t++)if(this.filterSeries[t].remove(e))return!0;return!1}get count(){return this.filterSeries.reduce(((e,t)=>e+t.count),0)}}function uu(e,t=.001,n){return new cu({...lu(e,t),...n??{}})}var du=n(8209);class hu{log;peerId;peerStore;routers;constructor(e,t={}){this.log=e.logger.forComponent("libp2p:peer-routing"),this.peerId=e.peerId,this.peerStore=e.peerStore,this.routers=t.routers??[]}[Symbol.toStringTag]="@libp2p/peer-routing";async findPeer(e,t){if(0===this.routers.length)throw new h("No peer routers available",gc.ERR_NO_ROUTERS_AVAILABLE);if(e.toString()===this.peerId.toString())throw new h("Should not try to find self",gc.ERR_FIND_SELF);const n=this,r=(0,Cr.A)(...this.routers.map((r=>async function*(){try{yield await r.findPeer(e,t)}catch(e){n.log.error(e)}}())));for await(const e of r)if(null!=e)return e.multiaddrs.length>0&&await this.peerStore.merge(e.id,{multiaddrs:e.multiaddrs}),e;throw new h(mc.NOT_FOUND,gc.ERR_NOT_FOUND)}async*getClosestPeers(e,t={}){if(0===this.routers.length)throw new h("No peer routers available",gc.ERR_NO_ROUTERS_AVAILABLE);const n=this,r=uu(1024);for await(const o of(0,du.A)(async function*(){const r=(0,Cr.A)(...n.routers.map((n=>n.getClosestPeers(e,t))));for await(let e of r)yield async()=>{if(0===e.multiaddrs.length)try{e=await n.findPeer(e.id,{...t,useCache:!1})}catch(e){return void n.log.error("could not find peer multiaddrs",e)}return e}}()))null!=o&&(o.multiaddrs.length>0&&await this.peerStore.merge(o.id,{multiaddrs:o.multiaddrs}),r.has(o.id.toBytes())||(r.add(o.id.toBytes()),yield o))}}class fu extends l{peerRouting;log;walking;walkers;shutdownController;walkController;needNext;constructor(e){super(),this.log=e.logger.forComponent("libp2p:random-walk"),this.peerRouting=e.peerRouting,this.walkers=0,this.walking=!1,this.shutdownController=new AbortController,this.shutdownController.signal}[Symbol.toStringTag]="@libp2p/random-walk";start(){this.shutdownController=new AbortController,this.shutdownController.signal}stop(){this.shutdownController.abort()}async*walk(e){this.walking||this.startWalk(),this.walkers++;const t=a([this.shutdownController.signal,e?.signal]);try{for(;;){this.needNext?.resolve(),this.needNext=(0,A.A)();const e=await v(this,"walk:peer",t,{errorEvent:"walk:error"});yield e.detail}}finally{t.clear(),this.walkers--,0===this.walkers&&(this.walkController?.abort(),this.walkController=void 0)}}startWalk(){this.walking=!0,this.walkController=new AbortController,this.walkController.signal;const e=a([this.walkController.signal,this.shutdownController.signal]),t=Date.now();let n=0;Promise.resolve().then((async()=>{for(this.log("start walk");this.walkers>0;)try{const t=je(32);let r=Date.now();for await(const o of this.peerRouting.getClosestPeers(t,{signal:e}))e.aborted&&this.log("aborting walk"),e.throwIfAborted(),this.log("found peer %p after %dms for %d walkers",o.id,Date.now()-r,this.walkers),n++,this.safeDispatchEvent("walk:peer",{detail:o}),1===this.walkers&&null!=this.needNext&&(this.log("wait for need next"),await w(this.needNext.promise,e)),r=Date.now();this.log("walk iteration for %b and %d walkers finished, found %d peers",t,this.walkers,n)}catch(e){this.log.error("randomwalk errored",e),this.safeDispatchEvent("walk:error",{detail:e})}this.log("no walkers left, ended walk")})).catch((e=>{this.log.error("randomwalk errored",e)})).finally((()=>{this.log("finished walk, found %d peers after %dms",n,Date.now()-t),this.walking=!1}))}}class pu{log;topologies;handlers;components;constructor(e){this.log=e.logger.forComponent("libp2p:registrar"),this.topologies=new Map,this.handlers=new Map,this.components=e,this._onDisconnect=this._onDisconnect.bind(this),this._onPeerUpdate=this._onPeerUpdate.bind(this),this._onPeerIdentify=this._onPeerIdentify.bind(this),this.components.events.addEventListener("peer:disconnect",this._onDisconnect),this.components.events.addEventListener("peer:update",this._onPeerUpdate),this.components.events.addEventListener("peer:identify",this._onPeerIdentify)}[Symbol.toStringTag]="@libp2p/registrar";getProtocols(){return Array.from(new Set([...this.handlers.keys()])).sort()}getHandler(e){const t=this.handlers.get(e);if(null==t)throw new h(`No handler registered for protocol ${e}`,gc.ERR_NO_HANDLER_FOR_PROTOCOL);return t}getTopologies(e){const t=this.topologies.get(e);return null==t?[]:[...t.values()]}async handle(e,t,n){if(this.handlers.has(e))throw new h(`Handler already registered for protocol ${e}`,gc.ERR_PROTOCOL_HANDLER_ALREADY_REGISTERED);const r=yl.A.bind({ignoreUndefined:!0})({maxInboundStreams:32,maxOutboundStreams:64},n);this.handlers.set(e,{handler:t,options:r}),await this.components.peerStore.merge(this.components.peerId,{protocols:[e]})}async unhandle(e){(Array.isArray(e)?e:[e]).forEach((e=>{this.handlers.delete(e)})),await this.components.peerStore.patch(this.components.peerId,{protocols:this.getProtocols()})}async register(e,t){if(null==t)throw new h("invalid topology",gc.ERR_INVALID_PARAMETERS);const n=`${(1e9*Math.random()).toString(36)}${Date.now()}`;let r=this.topologies.get(e);return null==r&&(r=new Map,this.topologies.set(e,r)),r.set(n,t),n}unregister(e){for(const[t,n]of this.topologies.entries())n.has(e)&&(n.delete(e),0===n.size&&this.topologies.delete(t))}_onDisconnect(e){const t=e.detail;this.components.peerStore.get(t).then((e=>{for(const n of e.protocols){const e=this.topologies.get(n);if(null!=e)for(const n of e.values())!1!==n.filter?.has(t)&&(n.filter?.remove(t),n.onDisconnect?.(t))}})).catch((e=>{e.code!==gc.ERR_NOT_FOUND&&this.log.error("could not inform topologies of disconnecting peer %p",t,e)}))}_onPeerUpdate(e){const{peer:t,previous:n}=e.detail,r=(n?.protocols??[]).filter((e=>!t.protocols.includes(e)));for(const e of r){const n=this.topologies.get(e);if(null!=n)for(const e of n.values())!1!==e.filter?.has(t.id)&&(e.filter?.remove(t.id),e.onDisconnect?.(t.id))}}_onPeerIdentify(e){const t=e.detail.protocols,n=e.detail.connection,r=e.detail.peerId;for(const e of t){const t=this.topologies.get(e);if(null!=t)for(const e of t.values())n.transient&&!0!==e.notifyOnTransient||!0!==e.filter?.has(r)&&(e.filter?.add(r),e.onConnect?.(r,n))}}}class mu{log;components;transports;listeners;faultTolerance;started;constructor(e,t={}){this.log=e.logger.forComponent("libp2p:transports"),this.components=e,this.started=!1,this.transports=new Map,this.listeners=Ye({name:"libp2p_transport_manager_listeners",metrics:this.components.metrics}),this.faultTolerance=t.faultTolerance??uc.FATAL_ALL}[Symbol.toStringTag]="@libp2p/transport-manager";add(e){const t=e[Symbol.toStringTag];if(null==t)throw new h("Transport must have a valid tag",gc.ERR_INVALID_KEY);if(this.transports.has(t))throw new h(`There is already a transport with the tag ${t}`,gc.ERR_DUPLICATE_TRANSPORT);this.log("adding transport %s",t),this.transports.set(t,e),this.listeners.has(t)||this.listeners.set(t,[])}isStarted(){return this.started}start(){this.started=!0}async afterStart(){const e=this.components.addressManager.getListenAddrs();await this.listen(e)}async stop(){const e=[];for(const[t,n]of this.listeners)for(this.log("closing listeners for %s",t);n.length>0;){const t=n.pop();null!=t&&e.push(t.close())}await Promise.all(e),this.log("all listeners closed");for(const e of this.listeners.keys())this.listeners.set(e,[]);this.started=!1}async dial(e,t){const n=this.dialTransportForMultiaddr(e);if(null==n)throw new h(`No transport available for address ${String(e)}`,gc.ERR_TRANSPORT_UNAVAILABLE);t?.onProgress?.(new $.j("transport-manager:selected-transport",n[Symbol.toStringTag]));try{return await n.dial(e,{...t,upgrader:this.components.upgrader})}catch(e){throw null==e.code&&(e.code=gc.ERR_TRANSPORT_DIAL_FAILED),e}}getAddrs(){let e=[];for(const t of this.listeners.values())for(const n of t)e=[...e,...n.getAddrs()];return e}getTransports(){return Array.of(...this.transports.values())}getListeners(){return Array.of(...this.listeners.values()).flat()}dialTransportForMultiaddr(e){for(const t of this.transports.values())if(t.dialFilter([e]).length>0)return t}listenTransportForMultiaddr(e){for(const t of this.transports.values())if(t.listenFilter([e]).length>0)return t}async listen(e){if(!this.isStarted())throw new h("Not started",gc.ERR_NODE_NOT_STARTED);if(null==e||0===e.length)return void this.log("no addresses were provided for listening, this node is dial only");const t=[];for(const[n,r]of this.transports.entries()){const o=r.listenFilter(e),i=[];for(const e of o){this.log("creating listener for %s on %a",n,e);const t=r.createListener({upgrader:this.components.upgrader});let o=this.listeners.get(n)??[];null==o&&(o=[],this.listeners.set(n,o)),o.push(t),t.addEventListener("listening",(()=>{this.components.events.safeDispatchEvent("transport:listening",{detail:t})})),t.addEventListener("close",(()=>{const e=o.findIndex((e=>e===t));o.splice(e,1),this.components.events.safeDispatchEvent("transport:close",{detail:t})})),i.push(t.listen(e))}if(0!==i.length){if(null==(await Promise.allSettled(i)).find((e=>"fulfilled"===e.status))&&this.faultTolerance!==uc.NO_FATAL)throw new h(`Transport (${n}) could not listen on any available address`,gc.ERR_NO_VALID_ADDRESSES)}else t.push(n)}if(t.length===this.transports.size){const e=`no valid addresses were provided for transports [${t.join(", ")}]`;if(this.faultTolerance===uc.FATAL_ALL)throw new h(e,gc.ERR_NO_VALID_ADDRESSES);this.log(`libp2p in dial mode only: ${e}`)}}async remove(e){const t=this.listeners.get(e)??[];this.log.trace("removing transport %s",e);const n=[];for(this.log.trace("closing listeners for %s",e);t.length>0;){const e=t.pop();null!=e&&n.push(e.close())}await Promise.all(n),this.transports.delete(e),this.listeners.delete(e)}async removeAll(){const e=[];for(const t of this.transports.keys())e.push(this.remove(t));await Promise.all(e)}}class gu{readNext;haveNext;ended;nextResult;constructor(){this.ended=!1,this.readNext=(0,A.A)(),this.haveNext=(0,A.A)()}[Symbol.asyncIterator](){return this}async next(){if(null==this.nextResult&&await this.haveNext.promise,null==this.nextResult)throw new Error("HaveNext promise resolved but nextResult was undefined");const e=this.nextResult;return this.nextResult=void 0,this.readNext.resolve(),this.readNext=(0,A.A)(),e}async throw(e){return this.ended=!0,null!=e&&(this.haveNext.promise.catch((()=>{})),this.haveNext.reject(e)),{done:!0,value:void 0}}async return(){return await this._push(void 0),{done:!0,value:void 0}}async push(e,t){await this._push(e,t)}async end(e,t){null!=e?await this.throw(e):await this._push(void 0,t)}async _push(e,t){if(null!=e&&this.ended)throw new Error("Cannot push value onto an ended pushable");for(;null!=this.nextResult;)await this.readNext.promise;null!=e?this.nextResult={done:!1,value:e}:(this.ended=!0,this.nextResult={done:!0,value:void 0}),this.haveNext.resolve(),this.haveNext=(0,A.A)(),await w(this.readNext.promise,t?.signal,t)}}class yu extends Error{code;constructor(e,t){super(e),this.code=t}}class vu extends yu{type;constructor(e){super(e,"ABORT_ERR"),this.type="aborted"}}class bu extends Error{code;constructor(e,t){super(e),this.code=t}}function wu(e,t={}){const n=function(e,t){const n=new gu;e.sink(n).catch((async e=>{await n.end(e)})),e.sink=async e=>{for await(const t of e)await n.push(t);await n.end()};let r=e.source;null!=e.source[Symbol.iterator]?r=e.source[Symbol.iterator]():null!=e.source[Symbol.asyncIterator]&&(r=e.source[Symbol.asyncIterator]());const o=new R.I,i={read:async(e,t)=>{let n;t?.signal?.throwIfAborted();const i=new Promise(((e,r)=>{n=()=>{r(new vu("Read aborted"))},t?.signal?.addEventListener("abort",n)}));try{if(null==e){const{done:e,value:t}=await Promise.race([r.next(),i]);return!0===e?new R.I:t}for(;o.byteLength<e;){const{value:e,done:t}=await Promise.race([r.next(),i]);if(!0===t)throw new yu("unexpected end of input","ERR_UNEXPECTED_EOF");o.append(e)}const t=o.sublist(0,e);return o.consume(e),t}finally{null!=n&&t?.signal?.removeEventListener("abort",n)}},write:async(e,t)=>{t?.signal?.throwIfAborted(),e instanceof Uint8Array?await n.push(e,t):await n.push(e.subarray(),t)},unwrap:()=>{if(o.byteLength>0){const n=e.source;e.source=async function*(){!1===t?.yieldBytes?yield o:yield*o,yield*n}()}return e}};return i}(e,t);null!=t.maxDataLength&&null==t.maxLengthLength&&(t.maxLengthLength=_.OY(t.maxDataLength));const r=t?.lengthDecoder??_.D4,o=t?.lengthEncoder??_.lF,i={read:async e=>{let o=-1;const i=new R.I;for(;;){i.append(await n.read(1,e));try{o=r(i)}catch(e){if(e instanceof RangeError)continue;throw e}if(null!=t?.maxLengthLength&&i.byteLength>t.maxLengthLength)throw new bu("message length length too long","ERR_MSG_LENGTH_TOO_LONG");if(o>-1)break}if(null!=t?.maxDataLength&&o>t.maxDataLength)throw new bu("message length too long","ERR_MSG_DATA_TOO_LONG");return n.read(o,e)},write:async(e,t)=>{await n.write(new R.I(o(e.byteLength),e),t)},writeV:async(e,t)=>{const r=new R.I(...e.flatMap((e=>[o(e.byteLength),e])));await n.write(r,t)},unwrap:()=>n.unwrap()};return i}const Au="/multistream/1.0.0",Eu=1024,xu=(0,me.s)("\n");async function Su(e,t,n){await e.write(t,n)}async function ku(e,t){const n=await async function(e,t){const n=await e.read(t);if(0===n.byteLength||n.get(n.byteLength-1)!==xu[0])throw t.log.error("Invalid mss message - missing newline",n),new h("missing newline","ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.sublist(0,-1)}(e,t);return(0,ge.d)(n.subarray())}async function Iu(e,t,n){t=Array.isArray(t)?t:[t],n.log.trace("handle: available protocols %s",t);const r=wu(e,{...n,maxDataLength:Eu,maxLengthLength:2});for(;;){n.log.trace("handle: reading incoming string");const e=await ku(r,n);if(n.log.trace('handle: read "%s"',e),e!==Au){if(t.includes(e))return n.log.trace('handle: respond with "%s" for "%s"',e,e),await Su(r,(0,me.s)(`${e}\n`),n),n.log.trace('handle: responded with "%s" for "%s"',e,e),{stream:r.unwrap(),protocol:e};if("ls"!==e)n.log('handle: respond with "na" for "%s"',e),await Su(r,(0,me.s)("na\n"),n),n.log('handle: responded with "na" for "%s"',e);else{const o=new R.I(...t.map((e=>D.single((0,me.s)(`${e}\n`)))),(0,me.s)("\n"));n.log.trace('handle: respond with "%s" for %s',t,e),await Su(r,o,n),n.log.trace('handle: responded with "%s" for %s',t,e)}}else n.log.trace('handle: respond with "%s" for "%s"',Au,e),await Su(r,(0,me.s)(`${Au}\n`),n),n.log.trace('handle: responded with "%s" for "%s"',Au,e)}}async function _u(e,t,n){if(1===(t=Array.isArray(t)?[...t]:[t]).length&&!1===n.negotiateFully)return function(e,t,n){const r=e.sink.bind(e),o=e.source;let i=!1,s=!1;const a=(0,A.A)();let l=!1,c=!1;const u=(0,A.A)();let d=!1,f=!1;const p=(0,A.A)(),m=wu({sink:r,source:o},{...n,maxDataLength:Eu});async function g(){if(s)return n.log.trace("optimistic: already negotiating %s stream",t),void await a.promise;s=!0;try{l||(n.log.trace("optimistic: doing send protocol for %s stream",t),await async function(){if(c)await u.promise;else{c=!0;try{n.log.trace('optimistic: write ["%s", "%s", data] in source',Au,t),await m.writeV([(0,me.s)(`${Au}\n`),(0,me.s)(`${t}\n`)]),n.log.trace('optimistic: wrote ["%s", "%s", data] in source',Au,t)}finally{l=!0,c=!1,u.resolve()}}}()),d||(n.log.trace("optimistic: doing read protocol for %s stream",t),await async function(){if(f)await p.promise;else{f=!0;try{n.log.trace("optimistic: reading multistream select header");let e=await ku(m,n);if(n.log.trace('optimistic: read multistream select header "%s"',e),e===Au&&(e=await ku(m,n)),n.log.trace('optimistic: read protocol "%s", expecting "%s"',e,t),e!==t)throw new h("protocol selection failed","ERR_UNSUPPORTED_PROTOCOL")}finally{d=!0,f=!1,p.resolve()}}}())}finally{s=!1,i=!0,a.resolve()}}if(e.sink=async e=>{const{sink:r}=m.unwrap();await r(async function*(){let r=!1;for await(const o of e){if(c&&await u.promise,l)yield o;else{c=!0,n.log.trace('optimistic: write ["%s", "%s", data(%d)] in sink',Au,t,o.byteLength);const e=`${t}\n`;yield new R.I(Uint8Array.from([19]),(0,me.s)(`${Au}\n`),_.lF(e.length),(0,me.s)(e),o).subarray(),n.log.trace('optimistic: wrote ["%s", "%s", data(%d)] in sink',Au,t,o.byteLength),l=!0,c=!1,u.resolve(),g().catch((e=>{n.log.error("could not finish optimistic protocol negotiation of %s",t,e)}))}r=!0}r||await g()}())},e.source=async function*(){await g(),n.log.trace('optimistic: reading data from "%s" stream',t),yield*m.unwrap().source}(),null!=e.closeRead){const t=e.closeRead.bind(e);e.closeRead=async e=>{i||await g().catch((e=>{n.log.error("could not negotiate protocol before close read",e)})),await t(e)}}if(null!=e.closeWrite){const t=e.closeWrite.bind(e);e.closeWrite=async e=>{i||await g().catch((e=>{n.log.error("could not negotiate protocol before close write",e)})),await t(e)}}if(null!=e.close){const t=e.close.bind(e);e.close=async e=>{const n=[];c&&n.push(u.promise),f&&n.push(p.promise),n.length>0?await w(Promise.all(n),e?.signal):(i=!0,s=!1,a.resolve()),await t(e)}}return{stream:e,protocol:t}}(e,t[0],n);const r=wu(e,{...n,maxDataLength:Eu}),o=t.shift();if(null==o)throw new Error("At least one protocol must be specified");n.log.trace('select: write ["%s", "%s"]',Au,o);const i=(0,me.s)(`${Au}\n`),s=(0,me.s)(`${o}\n`);await async function(e,t,n){await e.writeV(t,n)}(r,[i,s],n),n.log.trace("select: reading multistream-select header");let a=await ku(r,n);if(n.log.trace('select: read "%s"',a),a===Au&&(n.log.trace("select: reading protocol response"),a=await ku(r,n),n.log.trace('select: read "%s"',a)),a===o)return{stream:r.unwrap(),protocol:o};for(const e of t){n.log.trace('select: write "%s"',e),await Su(r,(0,me.s)(`${e}\n`),n),n.log.trace("select: reading protocol response");const t=await ku(r,n);if(n.log.trace('select: read "%s" for "%s"',t,e),t===e)return{stream:r.unwrap(),protocol:e}}throw new h("protocol selection failed","ERR_UNSUPPORTED_PROTOCOL")}const Ru=Symbol.for("@libp2p/connection");class Cu{id;remoteAddr;remotePeer;direction;timeline;multiplexer;encryption;status;transient;log;tags;_newStream;_close;_abort;_getStreams;constructor(e){const{remoteAddr:t,remotePeer:n,newStream:r,close:o,abort:i,getStreams:s}=e;this.id=`${parseInt(String(1e9*Math.random())).toString(36)}${Date.now()}`,this.remoteAddr=t,this.remotePeer=n,this.direction=e.direction,this.status="open",this.timeline=e.timeline,this.multiplexer=e.multiplexer,this.encryption=e.encryption,this.transient=e.transient??!1,this.log=e.logger.forComponent(`libp2p:connection:${this.direction}:${this.id}`),null==this.remoteAddr.getPeerId()&&(this.remoteAddr=this.remoteAddr.encapsulate(`/p2p/${this.remotePeer}`)),this._newStream=r,this._close=o,this._abort=i,this._getStreams=s,this.tags=[]}[Symbol.toStringTag]="Connection";[Ru]=!0;get streams(){return this._getStreams()}async newStream(e,t){if("closing"===this.status)throw new h("the connection is being closed","ERR_CONNECTION_BEING_CLOSED");if("closed"===this.status)throw new h("the connection is closed","ERR_CONNECTION_CLOSED");if(Array.isArray(e)||(e=[e]),this.transient&&!0!==t?.runOnTransientConnection)throw new h("Cannot open protocol stream on transient connection","ERR_TRANSIENT_CONNECTION");const n=await this._newStream(e,t);return n.direction="outbound",n}async close(e={}){if("closed"!==this.status&&"closing"!==this.status){if(this.log("closing connection to %a",this.remoteAddr),this.status="closing",null==e.signal){const t=AbortSignal.timeout(500);e={...e,signal:t}}try{this.log.trace("closing all streams"),await Promise.all(this.streams.map((async t=>t.close(e)))),this.log.trace("closing underlying transport"),await this._close(e),this.log.trace("updating timeline with close time"),this.status="closed",this.timeline.close=Date.now()}catch(e){this.log.error("error encountered during graceful close of connection to %a",this.remoteAddr,e),this.abort(e)}}}abort(e){this.log.error("aborting connection to %a due to error",this.remoteAddr,e),this.status="closing",this.streams.forEach((t=>{t.abort(e)})),this.log.error("all streams aborted",this.streams.length),this._abort(e),this.timeline.close=Date.now(),this.status="closed"}}function Tu(e,t,n){let r=0;return n.streams.forEach((n=>{n.direction===t&&n.protocol===e&&r++})),r}class Pu{components;connectionEncryption;muxers;inboundUpgradeTimeout;events;constructor(e,t){this.components=e,this.connectionEncryption=new Map,t.connectionEncryption.forEach((e=>{this.connectionEncryption.set(e.protocol,e)})),this.muxers=new Map,t.muxers.forEach((e=>{this.muxers.set(e.protocol,e)})),this.inboundUpgradeTimeout=t.inboundUpgradeTimeout??2e3,this.events=e.events}[Symbol.toStringTag]="@libp2p/upgrader";async shouldBlockConnection(e,t,n){const r=this.components.connectionGater[n];if(void 0!==r&&await r(e,t))throw new h(`The multiaddr connection is blocked by gater.${n}`,gc.ERR_CONNECTION_INTERCEPTED)}async upgradeInbound(e,t){if(!await this.components.connectionManager.acceptIncomingConnection(e))throw new h("connection denied",gc.ERR_CONNECTION_DENIED);let n,r,o,i,s;const a=AbortSignal.timeout(this.inboundUpgradeTimeout),l=()=>{e.abort(new h("inbound upgrade timeout",p))};a.addEventListener("abort",l,{once:!0});try{if(!0===await(this.components.connectionGater.denyInboundConnection?.(e)))throw new h("The multiaddr connection is blocked by gater.acceptConnection",gc.ERR_CONNECTION_INTERCEPTED);this.components.metrics?.trackMultiaddrConnection(e),e.log("starting the inbound connection upgrade");let a=e;if(!0!==t?.skipProtection){const t=this.components.connectionProtector;null!=t&&(e.log("protecting the inbound connection"),a=await t.protect(e))}try{if(n=a,!0!==t?.skipEncryption){t?.onProgress?.(new $.j("upgrader:encrypt-inbound-connection")),({conn:n,remotePeer:r,protocol:s}=await this._encryptInbound(a));const e={...a,...n};await this.shouldBlockConnection(r,e,"denyInboundEncryptedConnection")}else{const t=e.remoteAddr.getPeerId();if(null==t)throw new h("inbound connection that skipped encryption must have a peer id",gc.ERR_INVALID_MULTIADDR);const n=Re(t);s="native",r=n}if(o=n,null!=t?.muxerFactory)i=t.muxerFactory;else if(this.muxers.size>0){t?.onProgress?.(new $.j("upgrader:multiplex-inbound-connection"));const e=await this._multiplexInbound({...a,...n},this.muxers);i=e.muxerFactory,o=e.stream}}catch(t){throw e.log.error("failed to upgrade inbound connection",t),t}return await this.shouldBlockConnection(r,e,"denyInboundUpgradedConnection"),e.log("successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:s,direction:"inbound",maConn:e,upgradedConn:o,muxerFactory:i,remotePeer:r,transient:t?.transient})}finally{a.removeEventListener("abort",l),this.components.connectionManager.afterUpgradeInbound()}}async upgradeOutbound(e,t){const n=e.remoteAddr.getPeerId();let r,o,i,s,a,l;null!=n&&(r=Re(n),await this.shouldBlockConnection(r,e,"denyOutboundConnection")),this.components.metrics?.trackMultiaddrConnection(e),e.log("starting the outbound connection upgrade");let c=e;if(!0!==t?.skipProtection){const t=this.components.connectionProtector;null!=t&&(c=await t.protect(e))}try{if(o=c,!0!==t?.skipEncryption){({conn:o,remotePeer:i,protocol:a}=await this._encryptOutbound(c,r));const e={...c,...o};await this.shouldBlockConnection(i,e,"denyOutboundEncryptedConnection")}else{if(null==r)throw new h("Encryption was skipped but no peer id was passed",gc.ERR_INVALID_PEER);a="native",i=r}if(s=o,null!=t?.muxerFactory)l=t.muxerFactory;else if(this.muxers.size>0){const e=await this._multiplexOutbound({...c,...o},this.muxers);l=e.muxerFactory,s=e.stream}}catch(t){throw e.log.error("failed to upgrade outbound connection",t),await e.close(t),t}return await this.shouldBlockConnection(i,e,"denyOutboundUpgradedConnection"),e.log("successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:a,direction:"outbound",maConn:e,upgradedConn:s,muxerFactory:l,remotePeer:i,transient:t?.transient})}_createConnection(e){const{cryptoProtocol:t,direction:n,maConn:r,upgradedConn:o,remotePeer:i,muxerFactory:s,transient:a}=e;let l,c,u;null!=s&&(l=s.createStreamMuxer({direction:n,onIncomingStream:e=>{null!=u&&Promise.resolve().then((async()=>{const t=this.components.registrar.getProtocols(),{stream:n,protocol:r}=await Iu(e,t,{log:e.log,yieldBytes:!1});if(null==u)return;u.log("incoming stream opened on %s",r);const o=function(e,t){try{const{options:n}=t.getHandler(e);return n.maxInboundStreams}catch(e){if(e.code!==gc.ERR_NO_HANDLER_FOR_PROTOCOL)throw e}return 32}(r,this.components.registrar);if(Tu(r,"inbound",u)===o){const t=new h(`Too many inbound protocol streams for protocol "${r}" - limit ${o}`,gc.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS);throw e.abort(t),t}e.source=n.source,e.sink=n.sink,e.protocol=r,null!=n.closeWrite&&(e.closeWrite=n.closeWrite),null!=n.closeRead&&(e.closeRead=n.closeRead),null!=n.close&&(e.close=n.close),await this.components.peerStore.merge(i,{protocols:[r]}),this.components.metrics?.trackProtocolStream(e,u),this._onStream({connection:u,stream:e,protocol:r})})).catch((async t=>{u.log.error("error handling incoming stream id %s",e.id,t.message,t.code,t.stack),null==e.timeline.close&&await e.close()}))}}),c=async(e,t={})=>{if(null==l)throw new h("Stream is not multiplexed",gc.ERR_MUXER_UNAVAILABLE);u.log("starting new stream for protocols %s",e);const n=await l.newStream();u.log.trace("started new stream %s for protocols %s",n.id,e);try{if(null==t.signal){n.log("no abort signal was passed while trying to negotiate protocols %s falling back to default timeout",e);const r=AbortSignal.timeout(3e4);t={...t,signal:r}}n.log.trace("selecting protocol from protocols %s",e);const{stream:r,protocol:o}=await _u(n,e,{...t,log:n.log,yieldBytes:!0});n.log("selected protocol %s",o);const s=function(e,t,n={}){try{const{options:n}=t.getHandler(e);if(null!=n.maxOutboundStreams)return n.maxOutboundStreams}catch(e){if(e.code!==gc.ERR_NO_HANDLER_FOR_PROTOCOL)throw e}return n.maxOutboundStreams??64}(o,this.components.registrar,t),a=Tu(o,"outbound",u);if(a>=s){const e=new h(`Too many outbound protocol streams for protocol "${o}" - ${a}/${s}`,gc.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS);throw n.abort(e),e}return await this.components.peerStore.merge(i,{protocols:[o]}),n.source=r.source,n.sink=r.sink,n.protocol=o,null!=r.closeWrite&&(n.closeWrite=r.closeWrite),null!=r.closeRead&&(n.closeRead=r.closeRead),null!=r.close&&(n.close=r.close),this.components.metrics?.trackProtocolStream(n,u),n}catch(t){if(u.log.error("could not create new stream for protocols %s",e,t),null==n.timeline.close&&n.abort(t),null!=t.code)throw t;throw new h(String(t),gc.ERR_UNSUPPORTED_PROTOCOL)}},Promise.all([l.sink(o.source),o.sink(l.source)]).catch((e=>{u.log.error("error piping data through muxer",e)})));const d=r.timeline;var f;return r.timeline=new Proxy(d,{set:(...e)=>(null!=u&&"close"===e[1]&&null!=e[2]&&null==d.close&&(async()=>{try{"open"===u.status&&await u.close()}catch(e){u.log.error("error closing connection after timeline close",e)}finally{this.events.safeDispatchEvent("connection:close",{detail:u})}})().catch((e=>{u.log.error("error thrown while dispatching connection:close event",e)})),Reflect.set(...e))}),r.timeline.upgraded=Date.now(),f={remoteAddr:r.remoteAddr,remotePeer:i,status:"open",direction:n,timeline:r.timeline,multiplexer:l?.protocol,encryption:t,transient:a,logger:this.components.logger,newStream:c??(()=>{throw new h("connection is not multiplexed",gc.ERR_CONNECTION_NOT_MULTIPLEXED)}),getStreams:()=>null!=l?l.streams:[],close:async e=>{null!=l&&(u.log.trace("close muxer"),await l.close(e)),u.log.trace("close maconn"),await r.close(e),u.log.trace("closed maconn")},abort:e=>{r.abort(e),null!=l&&l.abort(e)}},u=new Cu(f),this.events.safeDispatchEvent("connection:open",{detail:u}),u}_onStream(e){const{connection:t,stream:n,protocol:r}=e,{handler:o,options:i}=this.components.registrar.getHandler(r);if(t.transient&&!0!==i.runOnTransientConnection)throw new h("Cannot open protocol stream on transient connection","ERR_TRANSIENT_CONNECTION");o({connection:t,stream:n})}async _encryptInbound(e){const t=Array.from(this.connectionEncryption.keys());e.log("handling inbound crypto protocol selection",t);try{const{stream:n,protocol:r}=await Iu(e,t,{log:e.log}),o=this.connectionEncryption.get(r);if(null==o)throw new Error(`no crypto module found for ${r}`);return e.log("encrypting inbound connection using",r),{...await o.secureInbound(this.components.peerId,n),protocol:r}}catch(t){throw e.log.error("encrypting inbound connection failed",t),new h(t.message,gc.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t){const n=Array.from(this.connectionEncryption.keys());e.log("selecting outbound crypto protocol",n);try{e.log.trace("selecting encrypter from %s",n);const{stream:r,protocol:o}=await _u(e,n,{log:e.log,yieldBytes:!0}),i=this.connectionEncryption.get(o);if(null==i)throw new Error(`no crypto module found for ${o}`);return e.log("encrypting outbound connection to %p using %s",t,i),{...await i.secureOutbound(this.components.peerId,r,t),protocol:o}}catch(n){throw e.log.error("encrypting outbound connection to %p failed",t,n),new h(n.message,gc.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){const n=Array.from(t.keys());e.log("outbound selecting muxer %s",n);try{e.log.trace("selecting stream muxer from %s",n);const{stream:r,protocol:o}=await _u(e,n,{log:e.log,yieldBytes:!0});return e.log("selected %s as muxer protocol",o),{stream:r,muxerFactory:t.get(o)}}catch(t){throw e.log.error("error multiplexing outbound connection",t),new h(String(t),gc.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){const n=Array.from(t.keys());e.log("inbound handling muxers %s",n);try{const{stream:r,protocol:o}=await Iu(e,n,{log:e.log});return{stream:r,muxerFactory:t.get(o)}}catch(t){throw e.log.error("error multiplexing inbound connection",t),new h(String(t),gc.ERR_MUXER_UNAVAILABLE)}}}const Du="1.8.1",Ou="libp2p";class Mu extends l{peerId;peerStore;contentRouting;peerRouting;metrics;services;logger;status;components;log;constructor(e){super(),this.status="stopped";const t=new l,n=t.dispatchEvent.bind(t);t.dispatchEvent=e=>{const t=n(e),r=this.dispatchEvent(new u(e.type,{detail:e.detail}));return t||r},this.peerId=e.peerId,this.logger=e.logger??(0,_r.Um)(),this.log=this.logger.forComponent("libp2p"),this.services={};const r=this.components=function(e={}){const t=new nc(e);return new Proxy(t,{get(e,n,r){if("string"==typeof n&&!oc.includes(n)){const e=t.components[n];if(null==e&&!rc.includes(n))throw new h(`${n} not set`,"ERR_SERVICE_MISSING");return e}return Reflect.get(e,n,r)},set:(e,n,r)=>("string"==typeof n?t.components[n]=r:Reflect.set(e,n,r),!0)})}({peerId:e.peerId,privateKey:e.privateKey,nodeInfo:e.nodeInfo??{name:Ou,version:Du},logger:this.logger,events:t,datastore:e.datastore??new Fr,connectionGater:lc(e.connectionGater),dns:e.dns});this.peerStore=this.configureComponent("peerStore",new Jl(r,{addressFilter:this.components.connectionGater.filterMultiaddrForPeer,...e.peerStore})),null!=e.metrics&&(this.metrics=this.configureComponent("metrics",e.metrics(this.components))),r.events.addEventListener("peer:update",(e=>{if(null==e.detail.previous){const t={id:e.detail.peer.id,multiaddrs:e.detail.peer.addresses.map((e=>e.multiaddr))};r.events.safeDispatchEvent("peer:discovery",{detail:t})}})),null!=e.connectionProtector&&this.configureComponent("connectionProtector",e.connectionProtector(r)),this.components.upgrader=new Pu(this.components,{connectionEncryption:(e.connectionEncryption??[]).map(((e,t)=>this.configureComponent(`connection-encryption-${t}`,e(this.components)))),muxers:(e.streamMuxers??[]).map(((e,t)=>this.configureComponent(`stream-muxers-${t}`,e(this.components)))),inboundUpgradeTimeout:e.connectionManager?.inboundUpgradeTimeout}),this.configureComponent("transportManager",new mu(this.components,e.transportManager)),this.configureComponent("connectionManager",new Qc(this.components,e.connectionManager)),this.configureComponent("registrar",new pu(this.components)),this.configureComponent("addressManager",new tc(this.components,e.addresses));const o=(e.peerRouters??[]).map(((e,t)=>this.configureComponent(`peer-router-${t}`,e(this.components))));this.peerRouting=this.components.peerRouting=this.configureComponent("peerRouting",new hu(this.components,{routers:o}));const i=(e.contentRouters??[]).map(((e,t)=>this.configureComponent(`content-router-${t}`,e(this.components))));if(this.contentRouting=this.components.contentRouting=this.configureComponent("contentRouting",new Zc(this.components,{routers:i})),this.configureComponent("randomWalk",new fu(this.components)),(e.peerDiscovery??[]).forEach(((e,t)=>{this.configureComponent(`peer-discovery-${t}`,e(this.components)).addEventListener("peer",(e=>{this.#g(e)}))})),e.transports?.forEach(((e,t)=>{this.components.transportManager.add(this.configureComponent(`transport-${t}`,e(this.components)))})),null!=e.services)for(const t of Object.keys(e.services)){const n=(0,e.services[t])(this.components);null!=n?(this.services[t]=n,this.configureComponent(t,n),null!=n[Ur]&&(this.log("registering service %s for content routing",t),i.push(n[Ur])),null!=n[$r]&&(this.log("registering service %s for peer routing",t),o.push(n[$r])),null!=n[Rl]&&(this.log("registering service %s for peer discovery",t),n[Rl].addEventListener?.("peer",(e=>{this.#g(e)})))):this.log.error("service factory %s returned null or undefined instance",t)}!function(e){const t={};for(const n of Object.values(e.components))for(const e of ic(n))t[e]=!0;for(const n of Object.values(e.components))for(const e of sc(n))if(!0!==t[e])throw new h(`Service "${ac(n)}" required capability "${e}" but it was not provided by any component, you may need to add additional configuration when creating your node.`,"ERR_UNMET_SERVICE_DEPENDENCIES")}(r)}configureComponent(e,t){return null==t&&this.log.error("component %s was null or undefined",e),this.components[e]=t,t}async start(){if("stopped"===this.status){this.status="starting",this.log("libp2p is starting");try{await(this.components.beforeStart?.()),await this.components.start(),await(this.components.afterStart?.()),this.status="started",this.safeDispatchEvent("start",{detail:this}),this.log("libp2p has started")}catch(e){throw this.log.error("An error occurred starting libp2p",e),this.status="started",await this.stop(),e}}}async stop(){"started"===this.status&&(this.log("libp2p is stopping"),this.status="stopping",await(this.components.beforeStop?.()),await this.components.stop(),await(this.components.afterStop?.()),this.status="stopped",this.safeDispatchEvent("stop",{detail:this}),this.log("libp2p has stopped"))}getConnections(e){return this.components.connectionManager.getConnections(e)}getDialQueue(){return this.components.connectionManager.getDialQueue()}getPeers(){const e=new Cl;for(const t of this.components.connectionManager.getConnections())e.add(t.remotePeer);return Array.from(e)}async dial(e,t={}){return this.components.connectionManager.openConnection(e,{priority:75,...t})}async dialProtocol(e,t,n={}){if(null==t)throw new h("no protocols were provided to open a stream",gc.ERR_INVALID_PROTOCOLS_FOR_STREAM);if(0===(t=Array.isArray(t)?t:[t]).length)throw new h("no protocols were provided to open a stream",gc.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this.dial(e,n)).newStream(t,n)}getMultiaddrs(){return this.components.addressManager.getAddresses()}getProtocols(){return this.components.registrar.getProtocols()}async hangUp(e,t={}){Ut(e)&&(e=Re(e.getPeerId()??"")),await this.components.connectionManager.closeConnections(e,t)}async getPublicKey(e,t={}){if(this.log("getPublicKey %p",e),null!=e.publicKey)return e.publicKey;try{const t=await this.peerStore.get(e);if(null!=t.id.publicKey)return t.id.publicKey}catch(e){if(e.code!==gc.ERR_NOT_FOUND)throw e}const n=(0,ut.x)([(0,me.s)("/pk/"),e.multihash.digest]),r=await this.contentRouting.get(n,t);return ul(r),await this.peerStore.patch(e,{publicKey:r}),r}async handle(e,t,n){Array.isArray(e)||(e=[e]),await Promise.all(e.map((async e=>{await this.components.registrar.handle(e,t,n)})))}async unhandle(e){Array.isArray(e)||(e=[e]),await Promise.all(e.map((async e=>{await this.components.registrar.unhandle(e)})))}async register(e,t){return this.components.registrar.register(e,t)}unregister(e){this.components.registrar.unregister(e)}async isDialable(e,t={}){return this.components.connectionManager.isDialable(e,t)}#g(e){const{detail:t}=e;t.id.toString()!==this.peerId.toString()?this.components.peerStore.merge(t.id,{multiaddrs:t.multiaddrs}).catch((e=>{this.log.error(e)})):this.log.error(new Error(gc.ERR_DISCOVERED_SELF))}}function Nu(){const e=(0,A.A)();let t=!1;return{sink:async n=>{if(t)throw new Error("already piped");t=!0,e.resolve(n)},source:async function*(){const t=await e.promise;yield*t}()}}const Bu=65535,Lu=Boolean(globalThis.process?.env?.DUMP_SESSION_KEYS);function Fu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Uu(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function $u(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function ju(e,...t){if(!$u(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function zu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Vu=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Hu(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!$u(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}const Wu=(e,t)=>(Object.assign(t,e),t);function qu(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}const Ku=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Gu{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ju(e=Hu(e),32);const t=Ku(e,0),n=Ku(e,2),r=Ku(e,4),o=Ku(e,6),i=Ku(e,8),s=Ku(e,10),a=Ku(e,12),l=Ku(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Ku(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],m=i[9],g=Ku(e,t+0),y=Ku(e,t+2),v=Ku(e,t+4),b=Ku(e,t+6),w=Ku(e,t+8),A=Ku(e,t+10),E=Ku(e,t+12),x=Ku(e,t+14);let S=o[0]+(8191&g),k=o[1]+(8191&(g>>>13|y<<3)),I=o[2]+(8191&(y>>>10|v<<6)),_=o[3]+(8191&(v>>>7|b<<9)),R=o[4]+(8191&(b>>>4|w<<12)),C=o[5]+(w>>>1&8191),T=o[6]+(8191&(w>>>14|A<<2)),P=o[7]+(8191&(A>>>11|E<<5)),D=o[8]+(8191&(E>>>8|x<<8)),O=o[9]+(x>>>5|r),M=0,N=M+S*s+k*(5*m)+I*(5*p)+_*(5*f)+R*(5*h);M=N>>>13,N&=8191,N+=C*(5*d)+T*(5*u)+P*(5*c)+D*(5*l)+O*(5*a),M+=N>>>13,N&=8191;let B=M+S*a+k*s+I*(5*m)+_*(5*p)+R*(5*f);M=B>>>13,B&=8191,B+=C*(5*h)+T*(5*d)+P*(5*u)+D*(5*c)+O*(5*l),M+=B>>>13,B&=8191;let L=M+S*l+k*a+I*s+_*(5*m)+R*(5*p);M=L>>>13,L&=8191,L+=C*(5*f)+T*(5*h)+P*(5*d)+D*(5*u)+O*(5*c),M+=L>>>13,L&=8191;let F=M+S*c+k*l+I*a+_*s+R*(5*m);M=F>>>13,F&=8191,F+=C*(5*p)+T*(5*f)+P*(5*h)+D*(5*d)+O*(5*u),M+=F>>>13,F&=8191;let U=M+S*u+k*c+I*l+_*a+R*s;M=U>>>13,U&=8191,U+=C*(5*m)+T*(5*p)+P*(5*f)+D*(5*h)+O*(5*d),M+=U>>>13,U&=8191;let $=M+S*d+k*u+I*c+_*l+R*a;M=$>>>13,$&=8191,$+=C*s+T*(5*m)+P*(5*p)+D*(5*f)+O*(5*h),M+=$>>>13,$&=8191;let j=M+S*h+k*d+I*u+_*c+R*l;M=j>>>13,j&=8191,j+=C*a+T*s+P*(5*m)+D*(5*p)+O*(5*f),M+=j>>>13,j&=8191;let z=M+S*f+k*h+I*d+_*u+R*c;M=z>>>13,z&=8191,z+=C*l+T*a+P*s+D*(5*m)+O*(5*p),M+=z>>>13,z&=8191;let V=M+S*p+k*f+I*h+_*d+R*u;M=V>>>13,V&=8191,V+=C*c+T*l+P*a+D*s+O*(5*m),M+=V>>>13,V&=8191;let H=M+S*m+k*p+I*f+_*h+R*d;M=H>>>13,H&=8191,H+=C*u+T*c+P*l+D*a+O*s,M+=H>>>13,H&=8191,M=(M<<2)+M|0,M=M+N|0,N=8191&M,M>>>=13,B+=M,o[0]=N,o[1]=B,o[2]=L,o[3]=F,o[4]=U,o[5]=$,o[6]=j,o[7]=z,o[8]=V,o[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let o=(1^r)-1;for(let e=0;e<10;e++)n[e]&=o;o=~o;for(let t=0;t<10;t++)e[t]=e[t]&o|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let i=e[0]+t[0];e[0]=65535&i;for(let n=1;n<8;n++)i=(e[n]+t[n]|0)+(i>>>16)|0,e[n]=65535&i}update(e){zu(this);const{buffer:t,blockLen:n}=this,r=(e=Hu(e)).length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);if(i!==n)t.set(e.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-o;o+=n)this.process(e,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){zu(this),function(e,t){ju(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let t=0;t<8;t++)e[o++]=n[t]>>>0,e[o++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const Yu=function(e){const t=(t,n)=>e(n).update(Hu(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new Gu(e))),Qu=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),Zu=Qu("expand 16-byte k"),Ju=Qu("expand 32-byte k"),Xu=Vu(Zu),ed=Vu(Ju);function td(e,t){return e<<t|e>>>32-t}function nd(e){return e.byteOffset%4==0}ed.slice();const rd=2**32-1,od=new Uint32Array;function id(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,t);if("function"!=typeof e)throw new Error("core must be a function");return Fu(o),Fu(s),Uu(i),Uu(n),(t,a,l,c,u=0)=>{ju(t),ju(a),ju(l);const d=l.length;if(c||(c=new Uint8Array(d)),ju(c),Fu(u),u<0||u>=rd)throw new Error("arx: counter overflow");if(c.length<d)throw new Error(`arx: output (${c.length}) is shorter than data (${d})`);const h=[];let f,p,m=t.length;if(32===m)f=t.slice(),h.push(f),p=ed;else{if(16!==m||!n)throw new Error(`arx: invalid 32-byte key, got length=${m}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=Xu,h.push(f)}nd(a)||(a=a.slice(),h.push(a));const g=Vu(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,g,Vu(a.subarray(0,16)),g),a=a.subarray(16)}const y=16-o;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,h.push(a)}const v=Vu(a);for(function(e,t,n,r,o,i,s,a){const l=o.length,c=new Uint8Array(64),u=Vu(c),d=nd(o)&&nd(i),h=d?Vu(o):od,f=d?Vu(i):od;for(let p=0;p<l;s++){if(e(t,n,r,u,s,a),s>=rd)throw new Error("arx: counter overflow");const m=Math.min(64,l-p);if(d&&64===m){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<m;t++)e=p+t,i[e]=o[e]^c[t];p+=m}}}(e,p,g,v,l,c,u,s);h.length>0;)h.pop().fill(0);return c}}function sd(e,t,n,r,o,i=20){let s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],m=t[5],g=t[6],y=t[7],v=o,b=n[0],w=n[1],A=n[2],E=s,x=a,S=l,k=c,I=u,_=d,R=h,C=f,T=p,P=m,D=g,O=y,M=v,N=b,B=w,L=A;for(let e=0;e<i;e+=2)E=E+I|0,M=td(M^E,16),T=T+M|0,I=td(I^T,12),E=E+I|0,M=td(M^E,8),T=T+M|0,I=td(I^T,7),x=x+_|0,N=td(N^x,16),P=P+N|0,_=td(_^P,12),x=x+_|0,N=td(N^x,8),P=P+N|0,_=td(_^P,7),S=S+R|0,B=td(B^S,16),D=D+B|0,R=td(R^D,12),S=S+R|0,B=td(B^S,8),D=D+B|0,R=td(R^D,7),k=k+C|0,L=td(L^k,16),O=O+L|0,C=td(C^O,12),k=k+C|0,L=td(L^k,8),O=O+L|0,C=td(C^O,7),E=E+_|0,L=td(L^E,16),D=D+L|0,_=td(_^D,12),E=E+_|0,L=td(L^E,8),D=D+L|0,_=td(_^D,7),x=x+R|0,M=td(M^x,16),O=O+M|0,R=td(R^O,12),x=x+R|0,M=td(M^x,8),O=O+M|0,R=td(R^O,7),S=S+C|0,N=td(N^S,16),T=T+N|0,C=td(C^T,12),S=S+C|0,N=td(N^S,8),T=T+N|0,C=td(C^T,7),k=k+I|0,B=td(B^k,16),P=P+B|0,I=td(I^P,12),k=k+I|0,B=td(B^k,8),P=P+B|0,I=td(I^P,7);let F=0;r[F++]=s+E|0,r[F++]=a+x|0,r[F++]=l+S|0,r[F++]=c+k|0,r[F++]=u+I|0,r[F++]=d+_|0,r[F++]=h+R|0,r[F++]=f+C|0,r[F++]=p+T|0,r[F++]=m+P|0,r[F++]=g+D|0,r[F++]=y+O|0,r[F++]=v+M|0,r[F++]=b+N|0,r[F++]=w+B|0,r[F++]=A+L|0}const ad=id(sd,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ld=id(sd,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let o=e[0],i=e[1],s=e[2],a=e[3],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=n[0],y=n[1],v=n[2],b=n[3];for(let e=0;e<20;e+=2)o=o+l|0,g=td(g^o,16),h=h+g|0,l=td(l^h,12),o=o+l|0,g=td(g^o,8),h=h+g|0,l=td(l^h,7),i=i+c|0,y=td(y^i,16),f=f+y|0,c=td(c^f,12),i=i+c|0,y=td(y^i,8),f=f+y|0,c=td(c^f,7),s=s+u|0,v=td(v^s,16),p=p+v|0,u=td(u^p,12),s=s+u|0,v=td(v^s,8),p=p+v|0,u=td(u^p,7),a=a+d|0,b=td(b^a,16),m=m+b|0,d=td(d^m,12),a=a+d|0,b=td(b^a,8),m=m+b|0,d=td(d^m,7),o=o+c|0,b=td(b^o,16),p=p+b|0,c=td(c^p,12),o=o+c|0,b=td(b^o,8),p=p+b|0,c=td(c^p,7),i=i+u|0,g=td(g^i,16),m=m+g|0,u=td(u^m,12),i=i+u|0,g=td(g^i,8),m=m+g|0,u=td(u^m,7),s=s+d|0,y=td(y^s,16),h=h+y|0,d=td(d^h,12),s=s+d|0,y=td(y^s,8),h=h+y|0,d=td(d^h,7),a=a+l|0,v=td(v^a,16),f=f+v|0,l=td(l^f,12),a=a+l|0,v=td(v^a,8),f=f+v|0,l=td(l^f,7);let w=0;r[w++]=o,r[w++]=i,r[w++]=s,r[w++]=a,r[w++]=g,r[w++]=y,r[w++]=v,r[w++]=b},allowShortKeys:!1}),cd=new Uint8Array(16),ud=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(cd.subarray(n))},dd=new Uint8Array(32);function hd(e,t,n,r,o){const i=e(t,n,dd),s=Yu.create(i);o&&ud(s,o),ud(s,r);const a=new Uint8Array(16),l=(c=a,new DataView(c.buffer,c.byteOffset,c.byteLength));var c;qu(l,0,BigInt(o?o.length:0),!0),qu(l,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return i.fill(0),u}const fd=e=>(t,n,r)=>(ju(t,32),ju(n),{encrypt:(o,i)=>{const s=o.length,a=s+16;i?ju(i,a):i=new Uint8Array(a),e(t,n,o,i,1);const l=hd(e,t,n,i.subarray(0,-16),r);return i.set(l,s),i},decrypt:(o,i)=>{const s=o.length,a=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");i?ju(i,a):i=new Uint8Array(a);const l=o.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o.subarray(-16),hd(e,t,n,l,r)))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),pd=Wu({blockSize:64,nonceLength:12,tagLength:16},fd(ad));fd(ld);var md=n(9190),gd=n(1454);const yd=new Uint8Array([0]),vd=new Uint8Array;const bd={hashSHA256:e=>(0,ii.s)(e.subarray()),getHKDF(e,t){const n=function(e,t,n){return(0,md.tW)(e),void 0===n&&(n=new Uint8Array(e.outputLen)),(0,gd.w)(e,(0,$e.ZJ)(n),(0,$e.ZJ)(t))}(ii.s,t,e),r=function(e,t,n,r=32){if((0,md.tW)(e),(0,md.ai)(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);void 0===n&&(n=vd);const i=new Uint8Array(o*e.outputLen),s=gd.w.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let t=0;t<o;t++)yd[0]=t+1,a.update(0===t?vd:l).update(n).update(yd).digestInto(l),i.set(l,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),yd.fill(0),i.slice(0,r)}(ii.s,n,void 0,96);return[r.subarray(0,32),r.subarray(32,64),r.subarray(64,96)]},generateX25519KeyPair(){const e=ui.TU.utils.randomPrivateKey();return{publicKey:ui.TU.getPublicKey(e),privateKey:e}},generateX25519KeyPairFromSeed:e=>({publicKey:ui.TU.getPublicKey(e),privateKey:e}),generateX25519SharedKey:(e,t)=>ui.TU.getSharedSecret(e.subarray(),t.subarray()),chaCha20Poly1305Encrypt:(e,t,n,r)=>pd(r,t,n).encrypt(e.subarray()),chaCha20Poly1305Decrypt:(e,t,n,r,o)=>pd(r,t,n).decrypt(e.subarray(),o)},wd=e=>{const t=(0,C.K)(2);return t[0]=e>>8,t[1]=e,t};wd.bytes=2;const Ad=e=>{if(e.length<2)throw RangeError("Could not decode int16BE");if(e instanceof Uint8Array){let t=0;return t+=e[0]<<8,t+=e[1],t}return e.getUint16(0)};function Ed(e,t){t.enabled&&Lu&&(e?(t(`LOCAL_STATIC_PUBLIC_KEY ${(0,ge.d)(e.publicKey,"hex")}`),t(`LOCAL_STATIC_PRIVATE_KEY ${(0,ge.d)(e.privateKey,"hex")}`)):t("Missing local static keys."))}function xd(e,t){t.enabled&&Lu&&(e?(t(`LOCAL_PUBLIC_EPHEMERAL_KEY ${(0,ge.d)(e.publicKey,"hex")}`),t(`LOCAL_PRIVATE_EPHEMERAL_KEY ${(0,ge.d)(e.privateKey,"hex")}`)):t("Missing local ephemeral keys."))}function Sd(e,t){t.enabled&&Lu&&t(e?`REMOTE_EPHEMERAL_PUBLIC_KEY ${(0,ge.d)(e.subarray(),"hex")}`:"Missing remote ephemeral keys.")}function kd(e,t,n){n.enabled&&Lu&&(n(`CIPHER_STATE_1 ${e.n.getUint64()} ${e.k&&(0,ge.d)(e.k,"hex")}`),n(`CIPHER_STATE_2 ${t.n.getUint64()} ${t.k&&(0,ge.d)(t.k,"hex")}`))}Ad.bytes=2;var Id=n(5986);class _d extends Error{code;constructor(e="Unexpected Peer"){super(e),this.code=_d.code}static code="ERR_UNEXPECTED_PEER"}class Rd extends Error{code;constructor(e="Invalid crypto exchange"){super(e),this.code=Rd.code}static code="ERR_INVALID_CRYPTO_EXCHANGE"}class Cd{n;bytes;view;constructor(e=0){this.n=e,this.bytes=(0,C.c)(12),this.view=new DataView(this.bytes.buffer,this.bytes.byteOffset,this.bytes.byteLength),this.view.setUint32(4,e,!0)}increment(){this.n++,this.view.setUint32(4,this.n,!0)}getBytes(){return this.bytes}getUint64(){return this.n}assertValue(){if(this.n>4294967295)throw new Error("Cipherstate has reached maximum n, a new handshake must be performed")}}const Td=(0,C.c)(0);class Pd{k;n;crypto;constructor(e,t=void 0,n=0){this.crypto=e,this.k=t,this.n=new Cd(n)}hasKey(){return Boolean(this.k)}encryptWithAd(e,t){if(!this.hasKey())return t;this.n.assertValue();const n=this.crypto.encrypt(t,this.n.getBytes(),e,this.k);return this.n.increment(),n}decryptWithAd(e,t,n){if(!this.hasKey())return t;this.n.assertValue();const r=this.crypto.decrypt(t,this.n.getBytes(),e,this.k,n);return this.n.increment(),r}}class Dd{cs;ck;h;crypto;constructor(e,t){this.crypto=e;const n=(0,Id.sH)(t,"utf-8");this.h=function(e,t){if(t.length<=32){const e=(0,C.c)(32);return e.set(t),e}return e.hash(t)}(e,n),this.ck=this.h,this.cs=new Pd(e)}mixKey(e){const[t,n]=this.crypto.hkdf(this.ck,e);this.ck=t,this.cs=new Pd(this.crypto,n)}mixHash(e){this.h=this.crypto.hash(new R.I(this.h,e))}encryptAndHash(e){const t=this.cs.encryptWithAd(this.h,e);return this.mixHash(t),t}decryptAndHash(e){const t=this.cs.decryptWithAd(this.h,e);return this.mixHash(e),t}split(){const[e,t]=this.crypto.hkdf(this.ck,Td);return[new Pd(this.crypto,e),new Pd(this.crypto,t)]}}class Od{ss;s;e;rs;re;initiator;crypto;constructor(e){const{crypto:t,protocolName:n,prologue:r,initiator:o,s:i,e:s,rs:a,re:l}=e;this.crypto=t,this.ss=new Dd(t,n),this.ss.mixHash(r),this.initiator=o,this.s=i,this.e=s,this.rs=a,this.re=l}writeE(){if(this.e)throw new Error("ephemeral keypair is already set");const e=this.crypto.generateKeypair();return this.ss.mixHash(e.publicKey),this.e=e,e.publicKey}writeS(){if(!this.s)throw new Error("static keypair is not set");return this.ss.encryptAndHash(this.s.publicKey)}writeEE(){if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.re))}writeES(){if(this.initiator){if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.rs)throw new Error("remote static public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.rs))}else{if(!this.s)throw new Error("static keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.s,this.re))}}writeSE(){if(this.initiator){if(!this.s)throw new Error("static keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.s,this.re))}else{if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.rs)throw new Error("remote static public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.rs))}}readE(e,t=0){if(this.re)throw new Error("remote ephemeral public key is already set");if(e.byteLength<t+32)throw new Error("message is not long enough");this.re=e.sublist(t,t+32),this.ss.mixHash(this.re)}readS(e,t=0){if(this.rs)throw new Error("remote static public key is already set");const n=32+(this.ss.cs.hasKey()?16:0);if(e.byteLength<t+n)throw new Error("message is not long enough");const r=e.sublist(t,t+n);return this.rs=this.ss.decryptAndHash(r),n}readEE(){this.writeEE()}readES(){this.writeES()}readSE(){this.writeSE()}}class Md extends Od{writeMessageA(e){return new R.I(this.writeE(),this.ss.encryptAndHash(e))}writeMessageB(e){const t=this.writeE();this.writeEE();const n=this.writeS();return this.writeES(),new R.I(t,n,this.ss.encryptAndHash(e))}writeMessageC(e){const t=this.writeS();return this.writeSE(),new R.I(t,this.ss.encryptAndHash(e))}readMessageA(e){try{return this.readE(e),this.ss.decryptAndHash(e.sublist(32))}catch(e){throw new Rd(`handshake stage 0 validation fail: ${e.message}`)}}readMessageB(e){try{this.readE(e),this.readEE();const t=this.readS(e,32);return this.readES(),this.ss.decryptAndHash(e.sublist(32+t))}catch(e){throw new Rd(`handshake stage 1 validation fail: ${e.message}`)}}readMessageC(e){try{const t=this.readS(e);return this.readSE(),this.ss.decryptAndHash(e.sublist(t))}catch(e){throw new Rd(`handshake stage 2 validation fail: ${e.message}`)}}}var Nd,Bd;async function Ld(e,t,n){const r=await e.sign(Ud(t));return Bd.encode({identityKey:e.public.bytes,identitySig:r,extensions:n})}async function Fd(e,t,n){try{const r=Bd.decode(e);if(n){const e=n.subarray();if(!(0,Id.aI)(e,r.identityKey))throw new Error(`Payload identity key ${(0,Id.dI)(r.identityKey,"hex")} does not match expected remote identity key ${(0,Id.dI)(e,"hex")}`)}if(!t)throw new Error("Remote static does not exist");const o=Ud(t),i=ul(r.identityKey);if(!await i.verify(o,r.identitySig))throw new Error("Invalid payload signature");return r}catch(e){throw new _d(e.message)}}function Ud(e){const t=(0,me.s)("noise-libp2p-static-key:");return e instanceof Uint8Array?(0,ut.x)([t,e],t.length+e.length):(e.prepend(t),e)}!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.webtransportCerthashes)for(const n of e.webtransportCerthashes)t.uint32(10),t.bytes(n);!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={webtransportCerthashes:[]},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();t>>>3==1?n.webtransportCerthashes.push(e.bytes()):e.skipType(7&t)}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Nd||(Nd={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.identityKey&&e.identityKey.byteLength>0&&(t.uint32(10),t.bytes(e.identityKey)),null!=e.identitySig&&e.identitySig.byteLength>0&&(t.uint32(18),t.bytes(e.identitySig)),null!=e.extensions&&(t.uint32(34),Nd.codec().encode(e.extensions,t)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={identityKey:(0,C.c)(0),identitySig:(0,C.c)(0)},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.identityKey=e.bytes();break;case 2:n.identitySig=e.bytes();break;case 4:n.extensions=Nd.codec().decode(e,e.uint32());break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Bd||(Bd={}));class $d{protocol="/noise";crypto;prologue;staticKey;extensions;metrics;components;constructor(e,t={}){const{staticNoiseKey:n,extensions:r,crypto:o,prologueBytes:i}=t,{metrics:s}=e;this.components=e;const a=o??bd;this.crypto=function(e){return{generateKeypair:e.generateX25519KeyPair,dh:(t,n)=>e.generateX25519SharedKey(t.privateKey,n).subarray(0,32),encrypt:e.chaCha20Poly1305Encrypt,decrypt:e.chaCha20Poly1305Decrypt,hash:e.hashSHA256,hkdf:e.getHKDF}}(a),this.extensions=r,this.metrics=s?function(e){return{xxHandshakeSuccesses:e.registerCounter("libp2p_noise_xxhandshake_successes_total",{help:"Total count of noise xxHandshakes successes_"}),xxHandshakeErrors:e.registerCounter("libp2p_noise_xxhandshake_error_total",{help:"Total count of noise xxHandshakes errors"}),encryptedPackets:e.registerCounter("libp2p_noise_encrypted_packets_total",{help:"Total count of noise encrypted packets successfully"}),decryptedPackets:e.registerCounter("libp2p_noise_decrypted_packets_total",{help:"Total count of noise decrypted packets"}),decryptErrors:e.registerCounter("libp2p_noise_decrypt_errors_total",{help:"Total count of noise decrypt errors"})}}(s):void 0,this.staticKey=n?a.generateX25519KeyPairFromSeed(n):a.generateX25519KeyPair(),this.prologue=i??(0,C.c)(0)}[Symbol.toStringTag]="@chainsafe/libp2p-noise";[pl]=["@libp2p/connection-encryption","@chainsafe/libp2p-noise"];async secureOutbound(e,t,n){const r=wu(t,{lengthEncoder:wd,lengthDecoder:Ad,maxDataLength:Bu});if(!e.privateKey)throw new h("local peerId does not contain private key","ERR_NO_PRIVATE_KEY");const o=await hl(e.privateKey),i=n?.publicKey,s=await this.performHandshakeInitiator(r,o,i),a=await this.createSecureConnection(r,s);return t.source=a.source,t.sink=a.sink,{conn:t,remoteExtensions:s.payload.extensions,remotePeer:await Te(s.payload.identityKey)}}async secureInbound(e,t,n){const r=wu(t,{lengthEncoder:wd,lengthDecoder:Ad,maxDataLength:Bu});if(!e.privateKey)throw new h("local peerId does not contain private key","ERR_NO_PRIVATE_KEY");const o=await hl(e.privateKey),i=n?.publicKey,s=await this.performHandshakeResponder(r,o,i),a=await this.createSecureConnection(r,s);return t.source=a.source,t.sink=a.sink,{conn:t,remoteExtensions:s.payload.extensions,remotePeer:await Te(s.payload.identityKey)}}async performHandshakeInitiator(e,t,n){let r;try{r=await async function(e){const{log:t,connection:n,crypto:r,privateKey:o,prologue:i,s,remoteIdentityKey:a,extensions:l}=e,c=await Ld(o,s.publicKey,l),u=new Md({crypto:r,protocolName:"Noise_XX_25519_ChaChaPoly_SHA256",initiator:!0,prologue:i,s});Ed(u.s,t),t.trace("Stage 0 - Initiator starting to send first message."),await n.write(u.writeMessageA(Td)),t.trace("Stage 0 - Initiator finished sending first message."),xd(u.e,t),t.trace("Stage 1 - Initiator waiting to receive first message from responder...");const d=u.readMessageB(await n.read());var h,f;t.trace("Stage 1 - Initiator received the message."),Sd(u.re,t),h=u.rs,(f=t).enabled&&Lu&&f(h?`REMOTE_STATIC_PUBLIC_KEY ${(0,ge.d)(h.subarray(),"hex")}`:"Missing remote static public key."),t.trace("Initiator going to check remote's signature...");const p=await Fd(d,u.rs,a);t.trace("All good with the signature!"),t.trace("Stage 2 - Initiator sending third handshake message."),await n.write(u.writeMessageC(c)),t.trace("Stage 2 - Initiator sent message with signed payload.");const[m,g]=u.ss.split();return kd(m,g,t),{payload:p,encrypt:e=>m.encryptWithAd(Td,e),decrypt:(e,t)=>g.decryptWithAd(Td,e,t)}}({connection:e,privateKey:t,remoteIdentityKey:n,log:this.components.logger.forComponent("libp2p:noise:xxhandshake"),crypto:this.crypto,prologue:this.prologue,s:this.staticKey,extensions:this.extensions}),this.metrics?.xxHandshakeSuccesses.increment()}catch(e){throw this.metrics?.xxHandshakeErrors.increment(),e}return r}async performHandshakeResponder(e,t,n){let r;try{r=await async function(e){const{log:t,connection:n,crypto:r,privateKey:o,prologue:i,s,remoteIdentityKey:a,extensions:l}=e,c=await Ld(o,s.publicKey,l),u=new Md({crypto:r,protocolName:"Noise_XX_25519_ChaChaPoly_SHA256",initiator:!1,prologue:i,s});Ed(u.s,t),t.trace("Stage 0 - Responder waiting to receive first message."),u.readMessageA(await n.read()),t.trace("Stage 0 - Responder received first message."),Sd(u.re,t),t.trace("Stage 1 - Responder sending out first message with signed payload and static key."),await n.write(u.writeMessageB(c)),t.trace("Stage 1 - Responder sent the second handshake message with signed payload."),xd(u.e,t),t.trace("Stage 2 - Responder waiting for third handshake message...");const d=u.readMessageC(await n.read());t.trace("Stage 2 - Responder received the message, finished handshake.");const h=await Fd(d,u.rs,a),[f,p]=u.ss.split();return kd(f,p,t),{payload:h,encrypt:e=>p.encryptWithAd(Td,e),decrypt:(e,t)=>f.decryptWithAd(Td,e,t)}}({connection:e,privateKey:t,remoteIdentityKey:n,log:this.components.logger.forComponent("libp2p:noise:xxhandshake"),crypto:this.crypto,prologue:this.prologue,s:this.staticKey,extensions:this.extensions}),this.metrics?.xxHandshakeSuccesses.increment()}catch(e){throw this.metrics?.xxHandshakeErrors.increment(),e}return r}async createSecureConnection(e,t){const[n,r]=function(){const e=Nu(),t=Nu();return[{source:e.source,sink:t.sink},{source:t.source,sink:e.sink}]}(),o=e.unwrap();return await(0,F.F)(n,function(e,t){return async function*(n){for await(const r of n)for(let n=0;n<r.length;n+=65519){let o,i=n+65519;i>r.length&&(i=r.length),o=r instanceof Uint8Array?e.encrypt(r.subarray(n,i)):e.encrypt(r.sublist(n,i)),t?.encryptedPackets.increment(),yield new R.I(wd(o.byteLength),o)}}}(t,this.metrics),o,(e=>B(e,{lengthDecoder:Ad})),function(e,t){return async function*(n){for await(const r of n)for(let n=0;n<r.length;n+=Bu){let o=n+Bu;if(o>r.length&&(o=r.length),o-16<n)throw new Error("Invalid chunk");const i=r.sublist(n,o),s=r.subarray(n,o-16);try{const n=e.decrypt(i,s);t?.decryptedPackets.increment(),yield n}catch(e){throw t?.decryptErrors.increment(),e}}}}(t,this.metrics),n),r}}function jd(e={}){return t=>new $d(t,e)}function zd(e){if(null!=e){if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if("function"==typeof e.next)return e}throw new Error("argument is not an iterator or iterable")}const Vd="ERR_INVALID_FRAME",Hd="ERR_UNREQUESTED_PING",Wd="ERR_NOT_MATCHING_PING",qd="ERR_STREAM_ALREADY_EXISTS",Kd="ERR_DECODE_INVALID_VERSION",Gd="ERR_BOTH_CLIENTS",Yd="ERR_RECV_WINDOW_EXCEEDED",Qd=new Set([Vd,Hd,Wd,qd,Kd,Gd,Yd]),Zd="ERR_INVALID_CONFIG",Jd="ERR_MUXER_LOCAL_CLOSED",Xd="ERR_MUXER_REMOTE_CLOSED",eh=262144,th={enableKeepAlive:!0,keepAliveInterval:3e4,maxInboundStreams:1e3,maxOutboundStreams:1e3,initialStreamWindowSize:eh,maxStreamWindowSize:16777216,maxMessageSize:65536};var nh,rh,oh;!function(e){e[e.Data=0]="Data",e[e.WindowUpdate=1]="WindowUpdate",e[e.Ping=2]="Ping",e[e.GoAway=3]="GoAway"}(nh||(nh={})),function(e){e[e.SYN=1]="SYN",e[e.ACK=2]="ACK",e[e.FIN=4]="FIN",e[e.RST=8]="RST"}(rh||(rh={})),Object.values(rh).filter((e=>"string"!=typeof e)),function(e){e[e.NormalTermination=0]="NormalTermination",e[e.ProtocolError=1]="ProtocolError",e[e.InternalError=2]="InternalError"}(oh||(oh={}));const ih=2**24;class sh{source;buffer;frameInProgress;constructor(e){this.source=function(e){if(void 0!==e[Symbol.iterator]){const t=e[Symbol.iterator]();return t.return=void 0,{[Symbol.iterator]:()=>t}}if(void 0!==e[Symbol.asyncIterator]){const t=e[Symbol.asyncIterator]();return t.return=void 0,{[Symbol.asyncIterator]:()=>t}}throw new Error("a source must be either an iterable or an async iterable")}(e),this.buffer=new R.I,this.frameInProgress=!1}async*emitFrames(){for await(const e of this.source)for(this.buffer.append(e);;){const e=this.readHeader();if(void 0===e)break;const{type:t,length:n}=e;t===nh.Data?(this.frameInProgress=!0,yield{header:e,readData:this.readBytes.bind(this,n)}):yield{header:e}}}readHeader(){if(this.frameInProgress)throw new h("decoding frame already in progress","ERR_DECODE_IN_PROGRESS");if(this.buffer.length<12)return;const e=function(e){if(0!==e[0])throw new h("Invalid frame version",Kd);return{type:e[1],flag:(e[2]<<8)+e[3],streamID:e[4]*ih+(e[5]<<16)+(e[6]<<8)+e[7],length:e[8]*ih+(e[9]<<16)+(e[10]<<8)+e[11]}}(this.buffer.subarray(0,12));return this.buffer.consume(12),e}async readBytes(e){if(this.buffer.length<e)for await(const t of this.source)if(this.buffer.append(t),this.buffer.length>=e)break;const t=this.buffer.sublist(0,e);return this.buffer.consume(e),this.frameInProgress=!1,t}}function ah(e){const t=new Uint8Array(12);return t[1]=e.type,t[2]=e.flag>>>8,t[3]=e.flag,t[4]=e.streamID>>>24,t[5]=e.streamID>>>16,t[6]=e.streamID>>>8,t[7]=e.streamID,t[8]=e.length>>>24,t[9]=e.length>>>16,t[10]=e.length>>>8,t[11]=e.length,t}function lh(e,t){const n=zd(e).return?.();var r;null!=(r=n)&&"function"==typeof r.then&&"function"==typeof r.catch&&"function"==typeof r.finally&&n.catch((e=>{t.error("could not cause iterator to return",e)}))}function ch(e){return null!=e&&"function"==typeof e.then&&"function"==typeof e.catch&&"function"==typeof e.finally}class uh{id;direction;timeline;protocol;metadata;source;status;readStatus;writeStatus;log;sinkController;sinkEnd;closed;endErr;streamSource;onEnd;onCloseRead;onCloseWrite;onReset;onAbort;sendCloseWriteTimeout;sendingData;constructor(e){this.sinkController=new AbortController,this.sinkEnd=(0,A.A)(),this.closed=(0,A.A)(),this.log=e.log,this.status="open",this.readStatus="ready",this.writeStatus="ready",this.id=e.id,this.metadata=e.metadata??{},this.direction=e.direction,this.timeline={open:Date.now()},this.sendCloseWriteTimeout=e.sendCloseWriteTimeout??5e3,this.onEnd=e.onEnd,this.onCloseRead=e?.onCloseRead,this.onCloseWrite=e?.onCloseWrite,this.onReset=e?.onReset,this.onAbort=e?.onAbort,this.source=this.streamSource=(0,g.Ny)({onEnd:e=>{null!=e?this.log.trace("source ended with error",e):this.log.trace("source ended"),this.onSourceEnd(e)}}),this.sink=this.sink.bind(this)}async sink(e){if("ready"!==this.writeStatus)throw new h(`writable end state is "${this.writeStatus}" not "ready"`,"ERR_SINK_INVALID_STATE");try{this.writeStatus="writing";const t={signal:this.sinkController.signal};if("outbound"===this.direction){const e=this.sendNewStream(t);ch(e)&&await e}const n=()=>{lh(e,this.log)};try{this.sinkController.signal.addEventListener("abort",n),this.log.trace("sink reading from source");for await(let n of e){n=n instanceof Uint8Array?new R.I(n):n;const e=this.sendData(n,t);ch(e)&&(this.sendingData=(0,A.A)(),await e,this.sendingData.resolve(),this.sendingData=void 0)}}finally{this.sinkController.signal.removeEventListener("abort",n)}this.log.trace('sink finished reading from source, write status is "%s"',this.writeStatus),"writing"===this.writeStatus&&(this.writeStatus="closing",this.log.trace("send close write to remote"),await this.sendCloseWrite({signal:AbortSignal.timeout(this.sendCloseWriteTimeout)}),this.writeStatus="closed"),this.onSinkEnd()}catch(e){throw this.log.trace("sink ended with error, calling abort with error",e),this.abort(e),e}finally{this.log.trace("resolve sink end"),this.sinkEnd.resolve()}}onSourceEnd(e){null==this.timeline.closeRead&&(this.timeline.closeRead=Date.now(),this.readStatus="closed",null!=e&&null==this.endErr&&(this.endErr=e),this.onCloseRead?.(),null!=this.timeline.closeWrite?(this.log.trace("source and sink ended"),this.timeline.close=Date.now(),"aborted"!==this.status&&"reset"!==this.status&&(this.status="closed"),null!=this.onEnd&&this.onEnd(this.endErr),this.closed.resolve()):this.log.trace("source ended, waiting for sink to end"))}onSinkEnd(e){null==this.timeline.closeWrite&&(this.timeline.closeWrite=Date.now(),this.writeStatus="closed",null!=e&&null==this.endErr&&(this.endErr=e),this.onCloseWrite?.(),null!=this.timeline.closeRead?(this.log.trace("sink and source ended"),this.timeline.close=Date.now(),"aborted"!==this.status&&"reset"!==this.status&&(this.status="closed"),null!=this.onEnd&&this.onEnd(this.endErr),this.closed.resolve()):this.log.trace("sink ended, waiting for source to end"))}async close(e){this.log.trace("closing gracefully"),this.status="closing",await w(Promise.all([this.closeWrite(e),this.closeRead(e),this.closed.promise]),e?.signal),this.status="closed",this.log.trace("closed gracefully")}async closeRead(e={}){if("closing"===this.readStatus||"closed"===this.readStatus)return;this.log.trace('closing readable end of stream with starting read status "%s"',this.readStatus);const t=this.readStatus;this.readStatus="closing","reset"!==this.status&&"aborted"!==this.status&&null==this.timeline.closeRead&&(this.log.trace("send close read to remote"),await this.sendCloseRead(e)),"ready"===t&&(this.log.trace("ending internal source queue with %d queued bytes",this.streamSource.readableLength),this.streamSource.end()),this.log.trace("closed readable end of stream")}async closeWrite(e={}){"closing"!==this.writeStatus&&"closed"!==this.writeStatus&&(this.log.trace('closing writable end of stream with starting write status "%s"',this.writeStatus),"ready"===this.writeStatus&&(this.log.trace("sink was never sunk, sink an empty array"),await w(this.sink([]),e.signal)),"writing"===this.writeStatus&&(null!=this.sendingData&&await w(this.sendingData.promise,e.signal),this.log.trace("aborting source passed to .sink"),this.sinkController.abort(),await w(this.sinkEnd.promise,e.signal)),this.writeStatus="closed",this.log.trace("closed writable end of stream"))}abort(e){if("closed"===this.status||"aborted"===this.status||"reset"===this.status)return;this.log("abort with error",e),this.log("try to send reset to remote");const t=this.sendReset();ch(t)&&t.catch((e=>{this.log.error("error sending reset message",e)})),this.status="aborted",this.timeline.abort=Date.now(),this._closeSinkAndSource(e),this.onAbort?.(e)}reset(){if("closed"===this.status||"aborted"===this.status||"reset"===this.status)return;const e=new h("stream reset","ERR_STREAM_RESET");this.status="reset",this.timeline.reset=Date.now(),this._closeSinkAndSource(e),this.onReset?.()}_closeSinkAndSource(e){this._closeSink(e),this._closeSource(e)}_closeSink(e){"writing"===this.writeStatus&&(this.log.trace("end sink source"),this.sinkController.abort()),this.onSinkEnd(e)}_closeSource(e){"closing"!==this.readStatus&&"closed"!==this.readStatus&&(this.log.trace("ending source with %d bytes to be read by consumer",this.streamSource.readableLength),this.readStatus="closing",this.streamSource.end(e))}remoteCloseWrite(){"closing"!==this.readStatus&&"closed"!==this.readStatus?(this.log.trace("remote close write"),this._closeSource()):this.log("received remote close write but local source is already closed")}remoteCloseRead(){"closing"!==this.writeStatus&&"closed"!==this.writeStatus?(this.log.trace("remote close read"),this._closeSink()):this.log("received remote close read but local sink is already closed")}destroy(){"closed"!==this.status&&"aborted"!==this.status&&"reset"!==this.status?(this.log.trace("stream destroyed"),this._closeSinkAndSource()):this.log("received destroy but we are already closed")}sourcePush(e){this.streamSource.push(e)}sourceReadableLength(){return this.streamSource.readableLength}}var dh;!function(e){e[e.Init=0]="Init",e[e.SYNSent=1]="SYNSent",e[e.SYNReceived=2]="SYNReceived",e[e.Established=3]="Established",e[e.Finished=4]="Finished"}(dh||(dh={}));class hh extends uh{name;state;config;_id;sendWindowCapacity;sendWindowCapacityUpdate;recvWindow;recvWindowCapacity;epochStart;getRTT;sendFrame;constructor(e){super({...e,onEnd:t=>{this.state=dh.Finished,e.onEnd?.(t)}}),this.config=e.config,this._id=parseInt(e.id,10),this.name=e.name,this.state=e.state,this.sendWindowCapacity=eh,this.recvWindow=this.config.initialStreamWindowSize,this.recvWindowCapacity=this.recvWindow,this.epochStart=Date.now(),this.getRTT=e.getRTT,this.sendFrame=e.sendFrame,this.source=Ho(this.source,(()=>{this.sendWindowUpdate()}))}async sendNewStream(){}async sendData(e,t={}){for(e=e.sublist();0!==e.byteLength;){if(0===this.sendWindowCapacity&&(this.log?.trace("wait for send window capacity, status %s",this.status),await this.waitForSendWindowCapacity(t),"closed"===this.status||"aborted"===this.status||"reset"===this.status))return void this.log?.trace("%s while waiting for send window capacity",this.status);const n=Math.min(this.sendWindowCapacity,this.config.maxMessageSize-12,e.length),r=this.getSendFlags();this.sendFrame({type:nh.Data,flag:r,streamID:this._id,length:n},e.sublist(0,n)),this.sendWindowCapacity-=n,e.consume(n)}}async sendReset(){this.sendFrame({type:nh.WindowUpdate,flag:rh.RST,streamID:this._id,length:0})}async sendCloseWrite(){const e=this.getSendFlags()|rh.FIN;this.sendFrame({type:nh.WindowUpdate,flag:e,streamID:this._id,length:0})}async sendCloseRead(){}async waitForSendWindowCapacity(e={}){if(this.sendWindowCapacity>0)return;let t,n;const r=()=>{"open"===this.status||"closing"===this.status?n(new h("stream aborted","ERR_STREAM_ABORT")):t()};e.signal?.addEventListener("abort",r);try{await new Promise(((e,r)=>{this.sendWindowCapacityUpdate=()=>{e()},n=r,t=e}))}finally{e.signal?.removeEventListener("abort",r)}}handleWindowUpdate(e){this.log?.trace("stream received window update id=%s",this._id),this.processFlags(e.flag);const t=this.sendWindowCapacity;this.sendWindowCapacity+=e.length,0===t&&e.length>0&&this.sendWindowCapacityUpdate?.()}async handleData(e,t){if(this.log?.trace("stream received data id=%s",this._id),this.processFlags(e.flag),this.recvWindowCapacity<e.length)throw new h("receive window exceeded",Yd,{available:this.recvWindowCapacity,recv:e.length});const n=await t();this.recvWindowCapacity-=e.length,this.sourcePush(n)}processFlags(e){(e&rh.ACK)===rh.ACK&&this.state===dh.SYNSent&&(this.state=dh.Established),(e&rh.FIN)===rh.FIN&&this.remoteCloseWrite(),(e&rh.RST)===rh.RST&&this.reset()}getSendFlags(){switch(this.state){case dh.Init:return this.state=dh.SYNSent,rh.SYN;case dh.SYNReceived:return this.state=dh.Established,rh.ACK;default:return 0}}sendWindowUpdate(){const e=this.getSendFlags(),t=Date.now(),n=this.getRTT();if(0===e&&n>-1&&t-this.epochStart<4*n&&(this.recvWindow=Math.min(2*this.recvWindow,this.config.maxStreamWindowSize)),this.recvWindowCapacity>=this.recvWindow&&0===e)return;const r=this.recvWindow-this.recvWindowCapacity;this.recvWindowCapacity=this.recvWindow,this.epochStart=t,this.sendFrame({type:nh.WindowUpdate,flag:e,streamID:this._id,length:r})}}const fh="/yamux/1.0.0";class ph{protocol=fh;_components;_init;constructor(e,t={}){this._components=e,this._init=t}createStreamMuxer(e){return new mh(this._components,{...this._init,...e})}}class mh{protocol=fh;source;sink;config;log;logger;closeController;nextStreamID;_streams;nextPingID;activePing;rtt;client;localGoAway;remoteGoAway;numInboundStreams;numOutboundStreams;onIncomingStream;onStreamEnd;constructor(e,t){this.client="outbound"===t.direction,this.config={...th,...t},this.logger=e.logger,this.log=this.logger.forComponent("libp2p:yamux"),function(e){if(e.keepAliveInterval<=0)throw new h("keep-alive interval must be positive",Zd);if(e.maxInboundStreams<0)throw new h("max inbound streams must be larger or equal 0",Zd);if(e.maxOutboundStreams<0)throw new h("max outbound streams must be larger or equal 0",Zd);if(e.initialStreamWindowSize<eh)throw new h("InitialStreamWindowSize must be larger or equal 256 kB",Zd);if(e.maxStreamWindowSize<e.initialStreamWindowSize)throw new h("MaxStreamWindowSize must be larger than the InitialStreamWindowSize",Zd);if(e.maxStreamWindowSize>2**32-1)throw new h("MaxStreamWindowSize must be less than equal MAX_UINT32",Zd);if(e.maxMessageSize<1024)throw new h("MaxMessageSize must be greater than a kilobyte",Zd)}(this.config),this.closeController=new AbortController,this.closeController.signal,this.onIncomingStream=t.onIncomingStream,this.onStreamEnd=t.onStreamEnd,this._streams=new Map,this.source=(0,g.Ny)({onEnd:()=>{this.log?.trace("muxer source ended"),this._streams.forEach((e=>{e.destroy()}))}}),this.sink=async e=>{const t=()=>{const t=zd(e);if(null!=t.return){const e=t.return();null!=(n=e)&&"function"==typeof n.then&&e.catch((e=>{this.log?.("could not cause sink source to return",e)}))}var n};let n,r;try{const r=new sh(e);try{this.closeController.signal.addEventListener("abort",t);for await(const e of r.emitFrames())await this.handleFrame(e.header,e.readData)}finally{this.closeController.signal.removeEventListener("abort",t)}n=oh.NormalTermination}catch(e){const t=e.code;Qd.has(t)?(this.log?.error("protocol error in sink",e),n=oh.ProtocolError):(this.log?.error("internal error in sink",e),n=oh.InternalError),r=e}this.log?.trace("muxer sink ended"),null!=r?this.abort(r,n):await this.close({reason:n})},this.numInboundStreams=0,this.numOutboundStreams=0,this.nextStreamID=this.client?1:2,this.nextPingID=0,this.rtt=-1,this.log?.trace("muxer created"),this.config.enableKeepAlive&&this.keepAliveLoop().catch((e=>this.log?.error("keepalive error: %s",e))),this.ping().catch((e=>this.log?.error("ping error: %s",e)))}get streams(){return Array.from(this._streams.values())}newStream(e){if(void 0!==this.remoteGoAway)throw new h("muxer closed remotely",Xd);if(void 0!==this.localGoAway)throw new h("muxer closed locally",Jd);const t=this.nextStreamID;if(this.nextStreamID+=2,this.numOutboundStreams>=this.config.maxOutboundStreams)throw new h("max outbound streams exceeded","ERROR_MAX_OUTBOUND_STREAMS_EXCEEDED");this.log?.trace("new outgoing stream id=%s",t);const n=this._newStream(t,e,dh.Init,"outbound");return this._streams.set(t,n),this.numOutboundStreams++,n.sendWindowUpdate(),n}async ping(){if(void 0!==this.remoteGoAway)throw new h("muxer closed remotely",Xd);if(void 0!==this.localGoAway)throw new h("muxer closed locally",Jd);if(void 0===this.activePing){let e=()=>{};this.activePing={id:this.nextPingID++,promise:new Promise(((t,n)=>{const r=()=>{n(new h("muxer closed locally",Jd))};this.closeController.signal.addEventListener("abort",r,{once:!0}),e=()=>{this.closeController.signal.removeEventListener("abort",r),t()}})),resolve:e};const t=Date.now();this.sendPing(this.activePing.id);try{await this.activePing.promise}finally{delete this.activePing}const n=Date.now();this.rtt=n-t}else await this.activePing.promise;return this.rtt}getRTT(){return this.rtt}async close(e={}){if(this.closeController.signal.aborted)return;const t=e?.reason??oh.NormalTermination;if(this.log?.trace("muxer close reason=%s",t),null==e.signal){const t=AbortSignal.timeout(500);e={...e,signal:t}}try{await Promise.all([...this._streams.values()].map((async t=>t.close(e)))),this.sendGoAway(t),this._closeMuxer()}catch(e){this.abort(e)}}abort(e,t){if(!this.closeController.signal.aborted){t=t??oh.InternalError,this.log?.error("muxer abort reason=%s error=%s",t,e);for(const t of this._streams.values())t.abort(e);this.sendGoAway(t),this._closeMuxer()}}isClosed(){return this.closeController.signal.aborted}_closeMuxer(){this.closeController.abort(),this.source.end()}_newStream(e,t,n,r){if(null!=this._streams.get(e))throw new h("Stream already exists",qd,{id:e});const o=new hh({id:e.toString(),name:t,state:n,direction:r,sendFrame:this.sendFrame.bind(this),onEnd:()=>{this.closeStream(e),this.onStreamEnd?.(o)},log:this.logger.forComponent(`libp2p:yamux:${r}:${e}`),config:this.config,getRTT:this.getRTT.bind(this)});return o}closeStream(e){this.client===(e%2==0)?this.numInboundStreams--:this.numOutboundStreams--,this._streams.delete(e)}async keepAliveLoop(){const e=new Promise(((e,t)=>{this.closeController.signal.addEventListener("abort",t,{once:!0})}));for(this.log?.trace("muxer keepalive enabled interval=%s",this.config.keepAliveInterval);;){let t;try{await Promise.race([e,new Promise((e=>{t=setTimeout(e,this.config.keepAliveInterval)}))]),this.ping().catch((e=>this.log?.error("ping error: %s",e)))}catch(e){return void clearInterval(t)}}}async handleFrame(e,t){const{streamID:n,type:r,length:o}=e;if(this.log?.trace("received frame %o",e),0===n)switch(r){case nh.Ping:return void this.handlePing(e);case nh.GoAway:return void this.handleGoAway(o);default:throw new h("Invalid frame type",Vd,{header:e})}else switch(e.type){case nh.Data:case nh.WindowUpdate:return void await this.handleStreamMessage(e,t);default:throw new h("Invalid frame type",Vd,{header:e})}}handlePing(e){if(e.flag===rh.SYN)this.log?.trace("received ping request pingId=%s",e.length),this.sendPing(e.length,rh.ACK);else{if(e.flag!==rh.ACK)throw new h("Invalid frame flag",Vd,{header:e});this.log?.trace("received ping response pingId=%s",e.length),this.handlePingResponse(e.length)}}handlePingResponse(e){if(void 0===this.activePing)throw new h("ping not requested",Hd);if(this.activePing.id!==e)throw new h("ping doesn't match our id",Wd);this.activePing.resolve()}handleGoAway(e){this.log?.trace("received GoAway reason=%s",oh[e]??"unknown"),this.remoteGoAway=e;for(const e of this._streams.values())e.reset();this._closeMuxer()}async handleStreamMessage(e,t){const{streamID:n,flag:r,type:o}=e;(r&rh.SYN)===rh.SYN&&this.incomingStream(n);const i=this._streams.get(n);if(void 0!==i)switch(o){case nh.WindowUpdate:return void i.handleWindowUpdate(e);case nh.Data:if(void 0===t)throw new Error("unreachable");return void await i.handleData(e,t);default:throw new Error("unreachable")}else if(o===nh.Data){if(this.log?.("discarding data for stream id=%s",n),void 0===t)throw new Error("unreachable");await t()}else this.log?.("frame for missing stream id=%s",n)}incomingStream(e){if(this.client!==(e%2==0))throw new h("both endpoints are clients",Gd);if(this._streams.has(e))return;if(this.log?.trace("new incoming stream id=%s",e),void 0!==this.localGoAway)return void this.sendFrame({type:nh.WindowUpdate,flag:rh.RST,streamID:e,length:0});if(this.numInboundStreams>=this.config.maxInboundStreams)return this.log?.("maxIncomingStreams exceeded, forcing stream reset"),void this.sendFrame({type:nh.WindowUpdate,flag:rh.RST,streamID:e,length:0});const t=this._newStream(e,void 0,dh.SYNReceived,"inbound");this.numInboundStreams++,this._streams.set(e,t),this.onIncomingStream?.(t)}sendFrame(e,t){if(this.log?.trace("sending frame %o",e),e.type===nh.Data){if(void 0===t)throw new h("invalid frame",Vd);this.source.push(new R.I(ah(e),t))}else this.source.push(ah(e))}sendPing(e,t=rh.SYN){t===rh.SYN?this.log?.trace("sending ping request pingId=%s",e):this.log?.trace("sending ping response pingId=%s",e),this.sendFrame({type:nh.Ping,flag:t,streamID:0,length:e})}sendGoAway(e=oh.NormalTermination){this.log?.("sending GoAway reason=%s",oh[e]),this.localGoAway=e,this.sendFrame({type:nh.GoAway,flag:0,streamID:0,length:e})}}function gh(e={}){return t=>new ph(t,e)}async function*yh(e,t={}){const n=e.getReader();try{for(;;){const e=await n.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&await n.cancel(),n.releaseLock()}}const vh="ERR_UNRECOGNIZED_VALIDITY",bh="ERR_SIGNATURE_VERIFICATION",wh="ERR_UNDEFINED_PARAMETER",Ah="ERR_RECORD_TOO_LARGE";var Eh;!function(e){let t,n,r;!function(e){e.EOL="EOL"}(t=e.ValidityType||(e.ValidityType={})),function(e){e[e.EOL=0]="EOL"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.ValidityType||(e.ValidityType={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.value&&(n.uint32(10),n.bytes(t.value)),null!=t.signatureV1&&(n.uint32(18),n.bytes(t.signatureV1)),null!=t.validityType&&(n.uint32(24),e.ValidityType.codec().encode(t.validityType,n)),null!=t.validity&&(n.uint32(34),n.bytes(t.validity)),null!=t.sequence&&(n.uint32(40),n.uint64(t.sequence)),null!=t.ttl&&(n.uint32(48),n.uint64(t.ttl)),null!=t.pubKey&&(n.uint32(58),n.bytes(t.pubKey)),null!=t.signatureV2&&(n.uint32(66),n.bytes(t.signatureV2)),null!=t.data&&(n.uint32(74),n.bytes(t.data)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.value=t.bytes();break;case 2:r.signatureV1=t.bytes();break;case 3:r.validityType=e.ValidityType.codec().decode(t);break;case 4:r.validity=t.bytes();break;case 5:r.sequence=t.uint64();break;case 6:r.ttl=t.uint64();break;case 7:r.pubKey=t.bytes();break;case 8:r.signatureV2=t.bytes();break;case 9:r.data=t.bytes();break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Eh||(Eh={}));const xh=(0,_r.vF)("ipns:utils"),Sh=(0,me.s)("/ipns/"),kh=async(e,t)=>{if(null==t||null==e){const e=new Error("one or more of the provided parameters are not defined");throw xh.error(e),M(e,wh)}let n;if(null!=t.pubKey){try{n=ul(t.pubKey)}catch(e){throw xh.error(e),e}if(!(await Te(t.pubKey)).equals(e))throw M(new Error("Embedded public key did not match PeerID"),"ERR_INVALID_EMBEDDED_KEY")}else null!=e.publicKey&&(n=ul(e.publicKey));if(null!=n)return n;throw M(new Error("no public key is available"),wh)},Ih=e=>"signatureV1"in e?Eh.encode({value:(0,me.s)(e.value),signatureV1:e.signatureV1,validityType:e.validityType,validity:(0,me.s)(e.validity),sequence:e.sequence,ttl:e.ttl,pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data}):Eh.encode({pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data});function _h(e){const t=Eh.decode(e);if(null!=t.sequence&&(t.sequence=BigInt(t.sequence)),null!=t.ttl&&(t.ttl=BigInt(t.ttl)),null==t.signatureV2||null==t.data)throw M(new Error("missing data or signatureV2"),bh);const n=Ch(t.data),r=Th(n.Value),o=(0,ge.d)(n.Validity);if(null!=t.value&&null!=t.signatureV1)return Ph(t),{value:r,validityType:Eh.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV1:t.signatureV1,signatureV2:t.signatureV2,data:t.data};if(null!=t.signatureV2)return{value:r,validityType:Eh.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data};throw new Error("invalid record: does not include signatureV1 or signatureV2")}const Rh=e=>Ce(e.slice(Sh.length)),Ch=e=>{const t=eo.D4(e);if(0!==t.ValidityType)throw M(new Error("Unknown validity type"),vh);return t.ValidityType=Eh.ValidityType.EOL,Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),t},Th=e=>{if(null!=e){if(ae(e))return`/ipns/${e.toCID().toString(to.base36)}`;if(e instanceof Uint8Array){const t=(0,ge.d)(e);t.startsWith("/")&&(e=t)}const t=e.toString().trim();if(t.startsWith("/")&&t.length>1)return t;const n=ue.TO.asCID(e);if(null!=n)return 114===n.code?`/ipns/${n.toString(to.base36)}`:`/ipfs/${n.toV1().toString()}`;try{return e instanceof Uint8Array?`/ipfs/${ue.TO.decode(e).toV1().toString()}`:`/ipfs/${ue.TO.parse(t).toV1().toString()}`}catch{}}throw M(new Error("Value must be a valid content path starting with /"),"ERR_INVALID_VALUE")},Ph=e=>{if(null==e.data)throw M(new Error("Record data is missing"),"ERR_INVALID_RECORD_DATA");const t=Ch(e.data);if(!(0,pe.a)(t.Value,e.value??new Uint8Array(0)))throw M(new Error('Field "value" did not match between protobuf and CBOR'),bh);if(!(0,pe.a)(t.Validity,e.validity??new Uint8Array(0)))throw M(new Error('Field "validity" did not match between protobuf and CBOR'),bh);if(t.ValidityType!==e.validityType)throw M(new Error('Field "validityType" did not match between protobuf and CBOR'),bh);if(t.Sequence!==e.sequence)throw M(new Error('Field "sequence" did not match between protobuf and CBOR'),bh);if(t.TTL!==e.ttl)throw M(new Error('Field "ttl" did not match between protobuf and CBOR'),bh)};var Dh=n(5454);const Oh=(0,_r.vF)("ipns:validator"),Mh=10240,Nh=async(e,t)=>{const n=_h(t);let r;try{const t=(e=>{const t=(0,me.s)("ipns-signature:");return(0,ut.x)([t,e])})(n.data);r=await e.verify(t,n.signatureV2)}catch(e){r=!1}if(!r)throw Oh.error("record signature verification failed"),M(new Error("record signature verification failed"),bh);if(n.validityType===Eh.ValidityType.EOL){if(Dh.fromString(n.validity).toDate().getTime()<Date.now())throw Oh.error("record has expired"),M(new Error("record has expired"),"ERR_IPNS_EXPIRED_RECORD")}else if(null!=n.validityType)throw Oh.error("unrecognized validity type"),M(new Error("unrecognized validity type"),vh);Oh("ipns record for %s is valid",n.value)};async function Bh(e,t){if(t.byteLength>Mh)throw M(new Error("record too large"),Ah);const n=Rh(e),r=_h(t),o=await kh(n,r);await Nh(o,t)}async function*Lh(e){const t=/\r?\n/,n=new TextDecoder("utf8");let r="";for await(let o of e){"string"==typeof o&&(o=(new TextEncoder).encode(o)),r+=n.decode(o,{stream:!0});const e=r.split(t);r=e.pop()??"";for(let t=0;t<e.length;t++)yield JSON.parse(e[t])}r+=n.decode(),""!==r&&(yield JSON.parse(r))}var Fh=n(9230);const Uh=(0,me.s)("/ipns/");function $h(e){return(0,pe.a)(e.subarray(0,Uh.byteLength),Uh)}const jh=e=>Ce(e.slice(Uh.length));class zh{client;constructor(e){this.client=e}async*findProviders(e,t={}){yield*(0,L.A)(this.client.getProviders(e,t),(e=>({id:e.ID,multiaddrs:e.Addrs??[]})))}async provide(){}async put(e,t,n){if(!$h(e))return;const r=jh(e),o=_h(t);await this.client.putIPNS(r,o,n)}async get(e,t){if(!$h(e))throw new h("Not found","ERR_NOT_FOUND");const n=jh(e);try{const e=await this.client.getIPNS(n,t);return Ih(e)}catch(e){if("ERR_BAD_RESPONSE"===e.code)throw new h("Not found","ERR_NOT_FOUND");throw e}}}class Vh{client;constructor(e){this.client=e}async findPeer(e,t={}){const n=await(0,Fh.A)(this.client.getPeers(e,t));if(null!=n)return{id:n.ID,multiaddrs:n.Addrs??[]};throw new h("Not found","ERR_NOT_FOUND")}async*getClosestPeers(e,t={}){}}const Hh=(0,_r.vF)("delegated-routing-v1-http-api-client");class Wh{started;httpQueue;shutDownController;clientUrl;timeout;contentRouting;peerRouting;constructor(e,t={}){this.started=!1,this.shutDownController=new AbortController,this.shutDownController.signal,this.httpQueue=new Hr.A({concurrency:t.concurrentRequests??4}),this.clientUrl=e instanceof URL?e:new URL(e),this.timeout=t.timeout??3e4,this.contentRouting=new zh(this),this.peerRouting=new Vh(this)}get[Ur](){return this.contentRouting}get[$r](){return this.peerRouting}isStarted(){return this.started}start(){this.started=!0}stop(){this.httpQueue.clear(),this.shutDownController.abort(),this.started=!1}async*getProviders(e,t={}){Hh("getProviders starts: %c",e);const n=AbortSignal.timeout(this.timeout),r=a([this.shutDownController.signal,n,t.signal]),o=(0,A.A)(),i=(0,A.A)();this.httpQueue.add((async()=>(o.resolve(),i.promise)));try{await o.promise;const t=`${this.clientUrl}routing/v1/providers/${e.toString()}`,n={headers:{Accept:"application/x-ndjson"},signal:r},i=await fetch(t,n);if(404===i.status)throw new h("No matching records found.","ERR_NOT_FOUND");if(422===i.status)throw new h("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==i.body)throw new h("Routing response had no body","ERR_BAD_RESPONSE");if("application/json"===i.headers.get("Content-Type")){const e=await i.json();for(const t of e.Providers){const e=this.#y(t);null!=e&&(yield e)}}else for await(const e of Lh(yh(i.body))){const t=this.#y(e);null!=t&&(yield t)}}catch(e){Hh.error("getProviders errored:",e)}finally{r.clear(),i.resolve(),Hh("getProviders finished: %c",e)}}async*getPeers(e,t={}){Hh("getPeers starts: %c",e);const n=AbortSignal.timeout(this.timeout),r=a([this.shutDownController.signal,n,t.signal]),o=(0,A.A)(),i=(0,A.A)();this.httpQueue.add((async()=>(o.resolve(),i.promise)));try{await o.promise;const t=`${this.clientUrl}routing/v1/peers/${e.toCID().toString()}`,n={headers:{Accept:"application/x-ndjson"},signal:r},i=await fetch(t,n);if(404===i.status)throw new h("No matching records found.","ERR_NOT_FOUND");if(422===i.status)throw new h("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==i.body)throw new h("Routing response had no body","ERR_BAD_RESPONSE");if("application/json"===i.headers.get("Content-Type")){const e=await i.json();for(const t of e.Peers){const e=this.#y(t);null!=e&&(yield e)}}else for await(const e of Lh(yh(i.body))){const t=this.#y(e);null!=t&&(yield t)}}catch(e){Hh.error("getPeers errored:",e)}finally{r.clear(),i.resolve(),Hh("getPeers finished: %c",e)}}async getIPNS(e,t={}){Hh("getIPNS starts: %c",e);const n=AbortSignal.timeout(this.timeout),r=a([this.shutDownController.signal,n,t.signal]),o=(0,A.A)(),i=(0,A.A)();this.httpQueue.add((async()=>(o.resolve(),i.promise)));const s=`${this.clientUrl}routing/v1/ipns/${e.toCID().toString()}`;try{await o.promise;const n={headers:{Accept:"application/vnd.ipfs.ipns-record"},signal:r},i=await fetch(s,n);if(Hh("getIPNS GET %s %d",s,i.status),404===i.status)throw new h("No matching records found.","ERR_NOT_FOUND");if(422===i.status)throw new h("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==i.body)throw new h("GET ipns response had no body","ERR_BAD_RESPONSE");const a=await i.arrayBuffer(),l=new Uint8Array(a,0,a.byteLength);return!1!==t.validate&&await Bh((e=>(0,ut.x)([Sh,e.toBytes()]))(e),l),_h(l)}catch(e){throw Hh.error("getIPNS GET %s error:",s,e),e}finally{r.clear(),i.resolve(),Hh("getIPNS finished: %c",e)}}async putIPNS(e,t,n={}){Hh("putIPNS starts: %c",e);const r=AbortSignal.timeout(this.timeout),o=a([this.shutDownController.signal,r,n.signal]),i=(0,A.A)(),s=(0,A.A)();this.httpQueue.add((async()=>(i.resolve(),s.promise)));const l=`${this.clientUrl}routing/v1/ipns/${e.toCID().toString()}`;try{await i.promise;const e={method:"PUT",headers:{"Content-Type":"application/vnd.ipfs.ipns-record"},body:Ih(t),signal:o},n=await fetch(l,e);if(Hh("putIPNS PUT %s %d",l,n.status),200!==n.status)throw new h("PUT ipns response had status other than 200","ERR_BAD_RESPONSE")}catch(e){throw Hh.error("putIPNS PUT %s error:",l,e.stack),e}finally{o.clear(),s.resolve(),Hh("putIPNS finished: %c",e)}}#y(e){const t=[],n=e.Addrs?.map($t)??[];return null!=e.Protocols&&t.push(...e.Protocols),null!=e.Protocol&&(t.push(e.Protocol),delete e.Protocol),{...e,Schema:"peer",ID:Re(e.ID),Addrs:n,Protocols:t}}}var qh;!function(e){let t,n,r,o,i,s,a,l;!function(e){e.DIAL="DIAL",e.DIAL_RESPONSE="DIAL_RESPONSE"}(t=e.MessageType||(e.MessageType={})),function(e){e[e.DIAL=0]="DIAL",e[e.DIAL_RESPONSE=1]="DIAL_RESPONSE"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.MessageType||(e.MessageType={})),function(e){e.OK="OK",e.E_DIAL_ERROR="E_DIAL_ERROR",e.E_DIAL_REFUSED="E_DIAL_REFUSED",e.E_BAD_REQUEST="E_BAD_REQUEST",e.E_INTERNAL_ERROR="E_INTERNAL_ERROR"}(r=e.ResponseStatus||(e.ResponseStatus={})),function(e){e[e.OK=0]="OK",e[e.E_DIAL_ERROR=100]="E_DIAL_ERROR",e[e.E_DIAL_REFUSED=101]="E_DIAL_REFUSED",e[e.E_BAD_REQUEST=200]="E_BAD_REQUEST",e[e.E_INTERNAL_ERROR=300]="E_INTERNAL_ERROR"}(o||(o={})),function(e){e.codec=()=>(0,X.eG)(o)}(r=e.ResponseStatus||(e.ResponseStatus={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.id&&(t.uint32(10),t.bytes(e.id)),null!=e.addrs)for(const n of e.addrs)t.uint32(18),t.bytes(n);!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={addrs:[]},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.id=e.bytes();break;case 2:n.addrs.push(e.bytes());break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(i=e.PeerInfo||(e.PeerInfo={})),function(t){let n;t.codec=()=>(null==n&&(n=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.peer&&(n.uint32(10),e.PeerInfo.codec().encode(t.peer,n)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();n>>>3==1?r.peer=e.PeerInfo.codec().decode(t,t.uint32()):t.skipType(7&n)}return r}))),n),t.encode=e=>(0,X.mH)(e,t.codec()),t.decode=e=>(0,X.Y8)(e,t.codec())}(s=e.Dial||(e.Dial={})),function(t){let n;t.codec=()=>(null==n&&(n=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.status&&(n.uint32(8),e.ResponseStatus.codec().encode(t.status,n)),null!=t.statusText&&(n.uint32(18),n.string(t.statusText)),null!=t.addr&&(n.uint32(26),n.bytes(t.addr)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.status=e.ResponseStatus.codec().decode(t);break;case 2:r.statusText=t.string();break;case 3:r.addr=t.bytes();break;default:t.skipType(7&n)}}return r}))),n),t.encode=e=>(0,X.mH)(e,t.codec()),t.decode=e=>(0,X.Y8)(e,t.codec())}(a=e.DialResponse||(e.DialResponse={})),e.codec=()=>(null==l&&(l=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.MessageType.codec().encode(t.type,n)),null!=t.dial&&(n.uint32(18),e.Dial.codec().encode(t.dial,n)),null!=t.dialResponse&&(n.uint32(26),e.DialResponse.codec().encode(t.dialResponse,n)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.type=e.MessageType.codec().decode(t);break;case 2:r.dial=e.Dial.codec().decode(t,t.uint32());break;case 3:r.dialResponse=e.DialResponse.codec().decode(t,t.uint32());break;default:t.skipType(7&n)}}return r}))),l),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(qh||(qh={}));class Kh{components;startupDelay;refreshInterval;protocol;timeout;maxInboundStreams;maxOutboundStreams;verifyAddressTimeout;started;log;constructor(e,t){this.components=e,this.log=e.logger.forComponent("libp2p:autonat"),this.started=!1,this.protocol=`/${t.protocolPrefix??"libp2p"}/autonat/1.0.0`,this.timeout=t.timeout??3e4,this.maxInboundStreams=t.maxInboundStreams??1,this.maxOutboundStreams=t.maxOutboundStreams??1,this.startupDelay=t.startupDelay??5e3,this.refreshInterval=t.refreshInterval??6e4,this._verifyExternalAddresses=this._verifyExternalAddresses.bind(this)}[Symbol.toStringTag]="@libp2p/autonat";isStarted(){return this.started}async start(){this.started||(await this.components.registrar.handle(this.protocol,(e=>{this.handleIncomingAutonatStream(e).catch((e=>{this.log.error("error handling incoming autonat stream",e)}))}),{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams}),this.verifyAddressTimeout=setTimeout(this._verifyExternalAddresses,this.startupDelay),this.started=!0)}async stop(){await this.components.registrar.unhandle(this.protocol),clearTimeout(this.verifyAddressTimeout),this.started=!1}async handleIncomingAutonatStream(e){const t=AbortSignal.timeout(this.timeout),n=()=>{e.stream.abort(new h("handleIncomingAutonatStream timeout",p))};t.addEventListener("abort",n,{once:!0});try{const n=this;await(0,F.F)(e.stream,(e=>B(e)),(async function*(r){const o=await(0,Fh.A)(r);if(null==o)return n.log("no message received"),void(yield qh.encode({type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"No message was sent"}}));let i;try{i=qh.decode(o)}catch(e){return n.log.error("could not decode message",e),void(yield qh.encode({type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"Could not decode message"}}))}yield qh.encode(await n.handleAutonatMessage(i,e.connection,{signal:t}))}),(e=>D(e)),e.stream)}catch(e){this.log.error("error handling incoming autonat stream",e)}finally{t.removeEventListener("abort",n)}}_verifyExternalAddresses(){this.verifyExternalAddresses().catch((e=>{this.log.error("error verifying external address",e)}))}async handleAutonatMessage(e,t,n){const r=this.components.addressManager.getAddresses().map((e=>e.toOptions().host)),o=e.dial;if(null==o)return this.log.error("dial was missing from message"),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"No Dial message found in message"}};let i;const s=o.peer;if(null==s||null==s.id)return this.log.error("PeerId missing from message"),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"missing peer info"}};try{i=Ce(s.id)}catch(e){return this.log.error("invalid PeerId",e),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"bad peer id"}}}if(this.log("incoming request from %p",i),!t.remotePeer.equals(i))return this.log("target peer %p did not equal sending peer %p",i,t.remotePeer),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_BAD_REQUEST,statusText:"peer id mismatch"}};const a=s.addrs.map((e=>$t(e))).filter((e=>{const n=e.toOptions().host===t.remoteAddr.toOptions().host;return this.log.trace("request to dial %a was sent from %a is same host %s",e,t.remoteAddr,n),n})).filter((e=>{const t=e.toOptions().host,n=!ct(t);return this.log.trace("host %s was public %s",t,n),n})).filter((e=>{const t=e.toOptions().host,n=!r.includes(t);return this.log.trace("host %s was not our host %s",t,n),n})).filter((e=>{const t=Boolean(this.components.transportManager.dialTransportForMultiaddr(e));return this.log.trace("transport for %a is supported %s",e,t),t})).map((e=>(null==e.getPeerId()&&(e=e.encapsulate(`/p2p/${i.toString()}`)),e)));if(0===a.length)return this.log("no valid multiaddrs for %p in message",i),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_DIAL_REFUSED,statusText:"no dialable addresses"}};this.log("dial multiaddrs %s for peer %p",a.map((e=>e.toString())).join(", "),i);let l="",c=a[0];for await(const e of a){let t;c=e;try{if(t=await this.components.connectionManager.openConnection(e,n),!t.remoteAddr.equals(e))throw this.log.error("tried to dial %a but dialed %a",e,t.remoteAddr),new Error("Unexpected remote address");return this.log("Success %p",i),{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.OK,addr:t.remoteAddr.decapsulateCode(bt("p2p").code).bytes}}}catch(e){this.log("could not dial %p",i,e),l=e.message}finally{null!=t&&await t.close()}}return{type:qh.MessageType.DIAL_RESPONSE,dialResponse:{status:qh.ResponseStatus.E_DIAL_ERROR,statusText:l,addr:c.bytes}}}async verifyExternalAddresses(){if(clearTimeout(this.verifyAddressTimeout),!this.isStarted())return;const e=this.components.addressManager,t=e.getObservedAddrs().filter((e=>!ct(e.toOptions().host)));if(0===t.length)return this.log("no public addresses found, not requesting verification"),void(this.verifyAddressTimeout=setTimeout(this._verifyExternalAddresses,this.refreshInterval));const n=AbortSignal.timeout(this.timeout),r=this;try{this.log("verify multiaddrs %s",t.map((e=>e.toString())).join(", "));const o=qh.encode({type:qh.MessageType.DIAL,dial:{peer:{id:this.components.peerId.toBytes(),addrs:t.map((e=>e.bytes))}}}),i={},s=[],a=async e=>{let t=()=>{};try{this.log("asking %p to verify multiaddr",e.id);const i=await r.components.connectionManager.openConnection(e.id,{signal:n}),a=await i.newStream(this.protocol,{signal:n});t=()=>{a.abort(new h("verifyAddress timeout",p))},n.addEventListener("abort",t,{once:!0});const l=await(0,F.F)([o],(e=>D(e)),a,(e=>B(e)),(async e=>(0,Fh.A)(e)));if(null==l)return void this.log("no response received from %p",i.remotePeer);const c=qh.decode(l);if(c.type!==qh.MessageType.DIAL_RESPONSE||null==c.dialResponse)return void this.log("invalid autonat response from %p",i.remotePeer);if(c.dialResponse.status===qh.ResponseStatus.OK){const e=i.remoteAddr.toOptions();let t;if(4===e.family)t=e.host.split(".")[0];else{if(6!==e.family)return void this.log('remote address "%s" was not IP4 or IP6?',e.host);t=e.host.split(":")[0]}if(s.includes(t))return void this.log("already have response from network segment %d - %s",t,e.host);s.push(t)}return c.dialResponse}catch(e){this.log.error("error asking remote to verify multiaddr",e)}finally{n.removeEventListener("abort",t)}};for await(const r of(0,du.A)((0,L.A)(this.components.randomWalk.walk({signal:n}),(e=>async()=>a(e))),{concurrency:4}))try{if(null==r)continue;const n=null==r.addr?t[0]:$t(r.addr);if(this.log("autonat response for %a is %s",n,r.status),r.status===qh.ResponseStatus.E_BAD_REQUEST)continue;if(r.status===qh.ResponseStatus.E_DIAL_REFUSED)continue;if(null==r.addr&&t.length>1)continue;if(!t.some((e=>e.equals(n)))){this.log("peer reported %a as %s but it was not in our observed address list",n,r.status);continue}const o=n.toString();if(null==i[o]&&(i[o]={success:0,failure:0}),r.status===qh.ResponseStatus.OK?i[o].success++:r.status===qh.ResponseStatus.E_DIAL_ERROR&&i[o].failure++,4===i[o].success)return this.log("%a is externally dialable",n),void e.confirmObservedAddr(n);if(4===i[o].failure)return this.log("%a is not externally dialable",n),void e.removeObservedAddr(n)}catch(e){this.log.error("could not verify external address",e)}}finally{this.verifyAddressTimeout=setTimeout(this._verifyExternalAddresses,this.refreshInterval)}}}function Gh(e={}){return t=>new Kh(t,e)}const Yh=_f("dns4"),Qh=_f("dns6"),Zh=_f("dnsaddr"),Jh=If(_f("dns"),Zh,Yh,Qh),Xh=If(_f("ip4"),_f("ip6")),ef=If(kf(Xh,_f("tcp")),kf(Jh,_f("tcp"))),tf=kf(Xh,_f("udp")),nf=kf(tf,_f("utp")),rf=kf(tf,_f("quic")),of=kf(tf,_f("quic-v1")),sf=If(kf(ef,_f("ws")),kf(Jh,_f("ws"))),af=If(kf(sf,_f("p2p")),sf),lf=If(kf(ef,_f("wss")),kf(Jh,_f("wss")),kf(ef,_f("tls"),_f("ws")),kf(Jh,_f("tls"),_f("ws"))),cf=If(kf(lf,_f("p2p")),lf),uf=If(kf(ef,_f("http")),kf(Xh,_f("http")),kf(Jh,_f("http"))),df=If(kf(ef,_f("https")),kf(Xh,_f("https")),kf(Jh,_f("https"))),hf=kf(tf,_f("webrtc-direct"),_f("certhash")),ff=If(kf(hf,_f("p2p")),hf),pf=kf(of,_f("webtransport"),_f("certhash"),_f("certhash")),mf=If(kf(pf,_f("p2p")),pf),gf=If(kf(af,_f("p2p-webrtc-star"),_f("p2p")),kf(cf,_f("p2p-webrtc-star"),_f("p2p")),kf(af,_f("p2p-webrtc-star")),kf(cf,_f("p2p-webrtc-star"))),yf=(If(kf(af,_f("p2p-websocket-star"),_f("p2p")),kf(cf,_f("p2p-websocket-star"),_f("p2p")),kf(af,_f("p2p-websocket-star")),kf(cf,_f("p2p-websocket-star"))),If(kf(uf,_f("p2p-webrtc-direct"),_f("p2p")),kf(df,_f("p2p-webrtc-direct"),_f("p2p")),kf(uf,_f("p2p-webrtc-direct")),kf(df,_f("p2p-webrtc-direct")))),vf=If(sf,lf,uf,df,gf,yf,ef,nf,rf,Jh,ff,mf),bf=(If(kf(vf,_f("p2p-stardust"),_f("p2p")),kf(vf,_f("p2p-stardust"))),If(kf(vf,_f("p2p")),gf,yf,ff,mf,_f("p2p"))),wf=If(kf(bf,_f("p2p-circuit"),bf),kf(bf,_f("p2p-circuit")),kf(_f("p2p-circuit"),bf),kf(vf,_f("p2p-circuit")),kf(_f("p2p-circuit"),vf),_f("p2p-circuit")),Af=()=>If(kf(wf,Af),wf),Ef=Af(),xf=If(kf(Ef,bf,Ef),kf(bf,Ef),kf(Ef,bf),Ef,bf);function Sf(e){return function(t){let n;try{n=$t(t)}catch(e){return!1}const r=e(n.protoNames());return null!==r&&(!0===r||!1===r?r:0===r.length)}}function kf(...e){function t(t){if(t.length<e.length)return null;let n=t;return e.some((e=>(n="function"==typeof e?e().partialMatch(t):e.partialMatch(t),Array.isArray(n)&&(t=n),null===n))),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:Sf(t),partialMatch:t}}function If(...e){function t(t){let n=null;return e.some((e=>{const r="function"==typeof e?e().partialMatch(t):e.partialMatch(t);return null!=r&&(n=r,!0)})),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:Sf(t),partialMatch:t}}function _f(e){const t=e;return{toString:function(){return t},matches:function(e){let n;try{n=$t(e)}catch(e){return!1}const r=n.protoNames();return 1===r.length&&r[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}If(kf(Ef,_f("webrtc"),_f("p2p")),kf(Ef,_f("webrtc")),kf(vf,_f("webrtc"),_f("p2p")),kf(vf,_f("webrtc")),_f("webrtc"));class Rf extends l{static tag="bootstrap";log;timer;list;timeout;components;_init;constructor(e,t={list:[]}){if(null==t.list||0===t.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this.components=e,this.log=e.logger.forComponent("libp2p:bootstrap"),this.timeout=t.timeout??1e3,this.list=[];for(const e of t.list){if(!xf.matches(e)){this.log.error("Invalid multiaddr");continue}const t=$t(e),n=t.getPeerId();if(null==n){this.log.error("Invalid bootstrap multiaddr without peer id");continue}const r={id:Re(n),multiaddrs:[t]};this.list.push(r)}this._init=t}[Rl]=this;[Symbol.toStringTag]="@libp2p/bootstrap";[pl]=["@libp2p/peer-discovery"];isStarted(){return Boolean(this.timer)}start(){this.isStarted()||(this.log("Starting bootstrap node discovery, discovering peers after %s ms",this.timeout),this.timer=setTimeout((()=>{this._discoverBootstrapPeers().catch((e=>{this.log.error(e)}))}),this.timeout))}async _discoverBootstrapPeers(){if(null!=this.timer)for(const e of this.list){if(await this.components.peerStore.merge(e.id,{tags:{[this._init.tagName??"bootstrap"]:{value:this._init.tagValue??50,ttl:this._init.tagTTL??12e4}}}),null==this.timer)return;this.safeDispatchEvent("peer",{detail:e})}}stop(){null!=this.timer&&clearTimeout(this.timer),this.timer=void 0}}function Cf(e){return t=>new Rf(t,e)}class Tf{filter;constructor(e,t){this.filter=uu(e,t)}has(e){return this.filter.has(e.toBytes())}add(e){this.filter.add(e.toBytes())}remove(e){this.filter.remove?.(e.toBytes())}}function Pf(e,t=.001){return new Tf(e,t)}function Df(e){const{stream:t,remoteAddr:n,logger:r}=e,o=r.forComponent("libp2p:stream:converter");let i=!1,s=!1;const a=t.close.bind(t);t.close=async e=>{await a(e),d(!0)};const l=t.abort.bind(t);t.abort=e=>{l(e),d(!0)};const c=t.sink.bind(t);t.sink=async e=>{try{await c(e)}catch(e){"aborted"!==e.type&&o.error("%s error in sink",n,e)}finally{s=!0,d()}};const u={log:o,sink:t.sink,source:async function*(){try{for await(const e of t.source)e instanceof Uint8Array?yield e:yield*e}finally{i=!0,d()}}(),remoteAddr:n,timeline:{open:Date.now(),close:void 0},close:t.close,abort:t.abort};function d(e){!0===e&&(i=!0,s=!0),i&&s&&null==u.timeline.close&&(u.timeline.close=Date.now())}return u}function Of(e,t){const n=wu(e,t),r={read:async(e,t)=>{const r=await n.read(t);return e.decode(r)},write:async(e,t,r)=>{await n.write(t.encode(e),r)},writeV:async(e,t,r)=>{await n.writeV(e.map((e=>t.encode(e))),r)},pb:e=>({read:async t=>r.read(e,t),write:async(t,n)=>r.write(t,e,n),writeV:async(t,n)=>r.writeV(t,e,n),unwrap:()=>r}),unwrap:()=>n.unwrap()};return r}const Mf="circuit-relay-relay",Nf=(BigInt(1<<17),"/libp2p/circuit/relay/0.2.0/hop"),Bf="/libp2p/circuit/relay/0.2.0/stop",Lf="ERR_RELAYED_DIAL";var Ff,Uf,$f,jf,zf,Vf,Hf,Wf;!function(e){let t,n,r;!function(e){e.RESERVE="RESERVE",e.CONNECT="CONNECT",e.STATUS="STATUS"}(t=e.Type||(e.Type={})),function(e){e[e.RESERVE=0]="RESERVE",e[e.CONNECT=1]="CONNECT",e[e.STATUS=2]="STATUS"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.Type||(e.Type={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.Type.codec().encode(t.type,n)),null!=t.peer&&(n.uint32(18),$f.codec().encode(t.peer,n)),null!=t.reservation&&(n.uint32(26),jf.codec().encode(t.reservation,n)),null!=t.limit&&(n.uint32(34),zf.codec().encode(t.limit,n)),null!=t.status&&(n.uint32(40),Vf.codec().encode(t.status,n)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n,r={})=>{const o={},i=null==n?t.len:t.pos+n;for(;t.pos<i;){const n=t.uint32();switch(n>>>3){case 1:o.type=e.Type.codec().decode(t);break;case 2:o.peer=$f.codec().decode(t,t.uint32(),{limits:r.limits?.peer});break;case 3:o.reservation=jf.codec().decode(t,t.uint32(),{limits:r.limits?.reservation});break;case 4:o.limit=zf.codec().decode(t,t.uint32(),{limits:r.limits?.limit});break;case 5:o.status=Vf.codec().decode(t);break;default:t.skipType(7&n)}}return o}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(Ff||(Ff={})),function(e){let t,n,r;!function(e){e.CONNECT="CONNECT",e.STATUS="STATUS"}(t=e.Type||(e.Type={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.STATUS=1]="STATUS"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.Type||(e.Type={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.Type.codec().encode(t.type,n)),null!=t.peer&&(n.uint32(18),$f.codec().encode(t.peer,n)),null!=t.limit&&(n.uint32(26),zf.codec().encode(t.limit,n)),null!=t.status&&(n.uint32(32),Vf.codec().encode(t.status,n)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n,r={})=>{const o={},i=null==n?t.len:t.pos+n;for(;t.pos<i;){const n=t.uint32();switch(n>>>3){case 1:o.type=e.Type.codec().decode(t);break;case 2:o.peer=$f.codec().decode(t,t.uint32(),{limits:r.limits?.peer});break;case 3:o.limit=zf.codec().decode(t,t.uint32(),{limits:r.limits?.limit});break;case 4:o.status=Vf.codec().decode(t);break;default:t.skipType(7&n)}}return o}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(Uf||(Uf={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.id&&e.id.byteLength>0&&(t.uint32(10),t.bytes(e.id)),null!=e.addrs)for(const n of e.addrs)t.uint32(18),t.bytes(n);!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={id:(0,C.c)(0),addrs:[]},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.id=e.bytes();break;case 2:if(null!=n.limits?.addrs&&r.addrs.length===n.limits.addrs)throw new X.Ak('decode error - map field "addrs" had too many elements',"ERR_MAX_LENGTH");r.addrs.push(e.bytes());break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}($f||($f={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.expire&&0n!==e.expire&&(t.uint32(8),t.uint64(e.expire)),null!=e.addrs)for(const n of e.addrs)t.uint32(18),t.bytes(n);null!=e.voucher&&(t.uint32(26),t.bytes(e.voucher)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={expire:0n,addrs:[]},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.expire=e.uint64();break;case 2:if(null!=n.limits?.addrs&&r.addrs.length===n.limits.addrs)throw new X.Ak('decode error - map field "addrs" had too many elements',"ERR_MAX_LENGTH");r.addrs.push(e.bytes());break;case 3:r.voucher=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(jf||(jf={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.duration&&(t.uint32(8),t.uint32(e.duration)),null!=e.data&&(t.uint32(16),t.uint64(e.data)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.duration=e.uint32();break;case 2:r.data=e.uint64();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(zf||(zf={})),function(e){e.UNUSED="UNUSED",e.OK="OK",e.RESERVATION_REFUSED="RESERVATION_REFUSED",e.RESOURCE_LIMIT_EXCEEDED="RESOURCE_LIMIT_EXCEEDED",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONNECTION_FAILED="CONNECTION_FAILED",e.NO_RESERVATION="NO_RESERVATION",e.MALFORMED_MESSAGE="MALFORMED_MESSAGE",e.UNEXPECTED_MESSAGE="UNEXPECTED_MESSAGE"}(Vf||(Vf={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.OK=100]="OK",e[e.RESERVATION_REFUSED=200]="RESERVATION_REFUSED",e[e.RESOURCE_LIMIT_EXCEEDED=201]="RESOURCE_LIMIT_EXCEEDED",e[e.PERMISSION_DENIED=202]="PERMISSION_DENIED",e[e.CONNECTION_FAILED=203]="CONNECTION_FAILED",e[e.NO_RESERVATION=204]="NO_RESERVATION",e[e.MALFORMED_MESSAGE=400]="MALFORMED_MESSAGE",e[e.UNEXPECTED_MESSAGE=401]="UNEXPECTED_MESSAGE"}(Hf||(Hf={})),function(e){e.codec=()=>(0,X.eG)(Hf)}(Vf||(Vf={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.relay&&e.relay.byteLength>0&&(t.uint32(10),t.bytes(e.relay)),null!=e.peer&&e.peer.byteLength>0&&(t.uint32(18),t.bytes(e.peer)),null!=e.expiration&&0n!==e.expiration&&(t.uint32(24),t.uint64(e.expiration)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={relay:(0,C.c)(0),peer:(0,C.c)(0),expiration:0n},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.relay=e.bytes();break;case 2:r.peer=e.bytes();break;case 3:r.expiration=e.uint64();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(Wf||(Wf={}));class qf extends l{peerStore;registrar;connectionManager;randomWalk;started;running;topologyId;log;discoveryController;filter;constructor(e,t={}){super(),this.log=e.logger.forComponent("libp2p:circuit-relay:discover-relays"),this.started=!1,this.running=!1,this.peerStore=e.peerStore,this.registrar=e.registrar,this.connectionManager=e.connectionManager,this.randomWalk=e.randomWalk,this.filter=t.filter,this.discoveryController=new AbortController,this.discoveryController.signal}isStarted(){return this.started}async start(){this.topologyId=await this.registrar.register(Nf,{filter:this.filter,onConnect:e=>{this.log("discovered relay %p",e),this.safeDispatchEvent("relay:discover",{detail:e})}}),this.started=!0}stop(){null!=this.topologyId&&this.registrar.unregister(this.topologyId),this.discoveryController?.abort(),this.started=!1}startDiscovery(){this.running||(this.log("start discovery"),this.running=!0,this.discoveryController=new AbortController,this.discoveryController.signal,Promise.resolve().then((async()=>{this.log("searching peer store for relays");const e=await this.peerStore.all({filters:[e=>e.protocols.includes(Nf)],orders:[()=>Math.random()<.5?1:-1]});for(const t of e)this.log.trace("found relay peer %p in peer store",t.id),this.safeDispatchEvent("relay:discover",{detail:t.id});this.log("found %d relay peers in peer store",e.length);const t=new k({concurrency:5});this.log("start random walk");for await(const e of this.randomWalk.walk({signal:this.discoveryController.signal}))this.log.trace("found random peer %p",e.id),t.has(e.id)?this.log.trace("random peer %p was already in queue",e.id):this.connectionManager.getConnections(e.id)?.length>0?this.log.trace("random peer %p was already connected",e.id):await this.connectionManager.isDialable(e.multiaddrs)?(this.log.trace("wait for space in queue for %p",e.id),await w(t.onSizeLessThan(10),this.discoveryController.signal),this.log("adding random peer %p to dial queue (length: %d)",e.id,t.size),t.add((async()=>{const t=a([this.discoveryController.signal,AbortSignal.timeout(5e3)]);try{await this.connectionManager.openConnection(e.id,{signal:t})}finally{t.clear()}}),{peerId:e.id,signal:this.discoveryController.signal}).catch((t=>{this.log.error("error opening connection to random peer %p",e.id,t)}))):this.log.trace("random peer %p was not dialable",e.id,e.multiaddrs.map((e=>e.toString())));await t.onIdle()})).catch((e=>{this.discoveryController.signal.aborted||this.log.error("failed when finding relays on the network",e)})))}stopDiscovery(){this.log("stop discovery"),this.running=!1,this.discoveryController?.abort()}}class Kf extends l{connectionManager;relayStore;listeningAddrs;log;constructor(e){super(),this.log=e.logger.forComponent("libp2p:circuit-relay:transport:listener"),this.connectionManager=e.connectionManager,this.relayStore=e.relayStore,this.listeningAddrs=new De,this.relayStore.addEventListener("relay:removed",this._onRemoveRelayPeer)}_onRemoveRelayPeer=e=>{this.#v(e.detail)};async listen(e){this.log("listen on %a",e);const t=e.decapsulate("/p2p-circuit"),n=await this.connectionManager.openConnection(t);if(!this.relayStore.hasReservation(n.remotePeer))return this.log("making reservation on peer %p",n.remotePeer),void await this.relayStore.addRelay(n.remotePeer,"configured");const r=this.relayStore.getReservation(n.remotePeer);if(null==r)throw new h("Did not have reservation after making reservation","ERR_NO_RESERVATION");this.listeningAddrs.has(n.remotePeer)?this.log("already listening on relay %p",n.remotePeer):(this.listeningAddrs.set(n.remotePeer,r.addrs.map((e=>$t(e).encapsulate("/p2p-circuit")))),this.safeDispatchEvent("listening",{}))}getAddrs(){return[...this.listeningAddrs.values()].flat()}async close(){}#v(e){const t=this.listeningAddrs.has(e);this.log("relay peer removed %p - had reservation",e,t),this.listeningAddrs.delete(e),t&&(this.log.trace("removing relay event listener for peer %p",e),this.relayStore.removeEventListener("relay:removed",this._onRemoveRelayPeer),this.safeDispatchEvent("close",{}))}}const Gf=Math.LN2*Math.LN2;class Yf{seeds;bits;buffer;constructor(e={}){null!=e.seeds?this.seeds=e.seeds:this.seeds=function(e){let t,n;const r=[];for(let o=0;o<e;o++)for(t=new R.I(je(4)),r[o]=t.getUint32(0,!0),n=0;n<o;n++)if(r[o]===r[n]){o--;break}return r}(e.hashes??8),this.bits=e.bits??1024,this.buffer=(0,C.c)(Math.ceil(this.bits/8))}add(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.seeds.length;t++){const n=ze.x86.hash32(e,this.seeds[t])%this.bits;this.setbit(n)}}has(e){"string"==typeof e&&(e=(0,me.s)(e));for(let t=0;t<this.seeds.length;t++){const n=ze.x86.hash32(e,this.seeds[t])%this.bits;if(!this.getbit(n))return!1}return!0}clear(){this.buffer.fill(0)}setbit(e){let t=0,n=e;for(;n>7;)t++,n-=8;let r=this.buffer[t];r|=1<<n,this.buffer[t]=r}getbit(e){let t=0,n=e;for(;n>7;)t++,n-=8;return!!(this.buffer[t]&1<<n)}}function Qf(e){const t=e*BigInt(1e3),n=(new Date).getTime();return Number(t-BigInt(n))}class Zf extends l{peerId;connectionManager;transportManager;peerStore;events;reserveQueue;reservations;maxDiscoveredRelays;maxReservationQueueLength;reservationCompletionTimeout;started;log;relayFilter;constructor(e,t){super(),this.log=e.logger.forComponent("libp2p:circuit-relay:transport:reservation-store"),this.peerId=e.peerId,this.connectionManager=e.connectionManager,this.transportManager=e.transportManager,this.peerStore=e.peerStore,this.events=e.events,this.reservations=new De,this.maxDiscoveredRelays=t?.discoverRelays??0,this.maxReservationQueueLength=t?.maxReservationQueueLength??100,this.reservationCompletionTimeout=t?.reservationCompletionTimeout??1e3,this.started=!1,this.relayFilter=function(e,t=.005){const n=function(e,t=.005){const n=Math.round(-1*e*Math.log(t)/Gf);return{bits:n,hashes:Math.round(n/e*Math.LN2)}}(e,t);return new Yf(n)}(100),this.reserveQueue=new k({concurrency:t?.reservationConcurrency??1,metricName:"libp2p_relay_reservation_queue",metrics:e.metrics}),this.events.addEventListener("peer:disconnect",(e=>{this.#b(e.detail)}))}isStarted(){return this.started}start(){this.started=!0}afterStart(){this.reservations.size<this.maxDiscoveredRelays&&(this.log("not enough relays %d/%d",this.reservations.size,this.maxDiscoveredRelays),this.safeDispatchEvent("relay:not-enough-relays",{}))}stop(){this.reserveQueue.clear(),this.reservations.forEach((({timeout:e})=>{clearTimeout(e)})),this.reservations.clear(),this.started=!1}async addRelay(e,t){this.peerId.equals(e)?this.log("not trying to use self as relay"):this.reserveQueue.size>this.maxReservationQueueLength?this.log("not adding potential relay peer %p as the queue is full",e):this.reserveQueue.has(e)?this.log("potential relay peer %p is already in the reservation queue",e):this.relayFilter.has(e.toBytes())?this.log("potential relay peer %p has failed previously, not trying again",e):(this.log("try to reserve relay slot with %p",e),await this.reserveQueue.add((async()=>{const n=Date.now();try{const n=this.reservations.get(e);if(null!=n){if(Qf(n.reservation.expire)>6e5)return void this.log("already have reservation on relay peer %p and it expires in more than 10 minutes",e);clearTimeout(n.timeout),this.reservations.delete(e)}if("discovered"===t&&[...this.reservations.values()].reduce(((e,t)=>("discovered"===t.type&&e++,e)),0)>=this.maxDiscoveredRelays)return void this.log("already have enough discovered relays");const r=AbortSignal.timeout(this.reservationCompletionTimeout),o=await this.connectionManager.openConnection(e,{signal:r});if(o.remoteAddr.protoNames().includes("p2p-circuit"))return void this.log("not creating reservation over relayed connection");const i=await this.#w(o,{signal:r});this.log("created reservation on relay peer %p",e);const s=Qf(i.expire),a=Math.min(Math.max(s-3e5,3e4),Math.pow(2,31)-1),l=setTimeout((()=>{this.addRelay(e,t).catch((t=>{this.log.error("could not refresh reservation to relay %p",e,t)}))}),a);this.reservations.set(e,{timeout:l,reservation:i,type:t}),await this.peerStore.merge(e,{tags:{[Mf]:{value:1,ttl:s}}}),await this.transportManager.listen([$t(`/p2p/${e.toString()}/p2p-circuit`)]),this.safeDispatchEvent("relay:created-reservation",{detail:e})}catch(t){this.log.error("could not reserve slot on %p after %dms",e,Date.now()-n,t);const r=this.reservations.get(e);null!=r&&clearTimeout(r.timeout),this.reservations.delete(e),this.relayFilter.add(e.toBytes())}}),{peerId:e}))}hasReservation(e){return this.reservations.has(e)}getReservation(e){return this.reservations.get(e)?.reservation}reservationCount(){return this.reservations.size}async#w(e,t){t.signal?.throwIfAborted(),this.log("requesting reservation from %p",e.remotePeer);const n=await e.newStream(Nf,t),r=Of(n).pb(Ff);let o;await r.write({type:Ff.Type.RESERVE},t);try{o=await r.read(t)}catch(e){throw n.abort(e),e}finally{"closed"!==n.status&&await n.close(t)}if(o.status===Vf.OK&&null!=o.reservation){let t=!1;const n=e.remoteAddr.bytes;for(const e of o.reservation.addrs)if((0,pe.a)(n,e)){t=!0;break}return t||o.reservation.addrs.push(n),o.reservation}const i=`reservation failed with status ${o.status??"undefined"}`;throw this.log.error(i),new Error(i)}#b(e){const t=this.reservations.get(e);null!=t&&(this.log("connection to relay %p closed, removing reservation from local store",e),clearTimeout(t.timeout),this.reservations.delete(e),this.safeDispatchEvent("relay:removed",{detail:e}),this.reservations.size<this.maxDiscoveredRelays&&(this.log("not enough relays %d/%d",this.reservations.size,this.maxDiscoveredRelays),this.safeDispatchEvent("relay:not-enough-relays",{})))}}class Jf{discovery;registrar;peerStore;connectionManager;transportManager;peerId;upgrader;addressManager;connectionGater;reservationStore;logger;maxInboundStopStreams;maxOutboundStopStreams;stopTimeout;started;log;constructor(e,t){this.log=e.logger.forComponent("libp2p:circuit-relay:transport"),this.registrar=e.registrar,this.peerStore=e.peerStore,this.connectionManager=e.connectionManager,this.transportManager=e.transportManager,this.logger=e.logger,this.peerId=e.peerId,this.upgrader=e.upgrader,this.addressManager=e.addressManager,this.connectionGater=e.connectionGater,this.maxInboundStopStreams=t.maxInboundStopStreams??300,this.maxOutboundStopStreams=t.maxOutboundStopStreams??300,this.stopTimeout=t.stopTimeout??3e4;const n=t.discoverRelays??0;n>0&&(this.discovery=new qf(e,{filter:t.discoveryFilter??Pf(4096,.001)}),this.discovery.addEventListener("relay:discover",(e=>{this.reservationStore.addRelay(e.detail,"discovered").catch((t=>{this.log.error("could not add discovered relay %p",e.detail,t)}))}))),this.reservationStore=new Zf(e,t),this.reservationStore.addEventListener("relay:not-enough-relays",(()=>{this.discovery?.startDiscovery()})),this.reservationStore.addEventListener("relay:created-reservation",(()=>{this.reservationStore.reservationCount()>=n&&this.discovery?.stopDiscovery()})),this.started=!1}[Symbol.toStringTag]="@libp2p/circuit-relay-v2-transport";[pl]=["@libp2p/transport","@libp2p/circuit-relay-v2-transport"];get[ml](){return null!=this.discovery?["@libp2p/identify"]:[]}[cc]=!0;isStarted(){return this.started}async start(){await this.registrar.handle(Bf,(e=>{this.onStop(e).catch((t=>{this.log.error("error while handling STOP protocol",t),e.stream.abort(t)}))}),{maxInboundStreams:this.maxInboundStopStreams,maxOutboundStreams:this.maxOutboundStopStreams,runOnTransientConnection:!0}),await zr(this.discovery,this.reservationStore),this.started=!0}async stop(){await Vr(this.discovery,this.reservationStore),await this.registrar.unhandle(Bf),this.started=!1}async dial(e,t){if(1!==e.protoCodes().filter((e=>290===e)).length){const t="Invalid circuit relay address";throw this.log.error(t,e),new h(t,Lf)}const n=e.toString().split("/p2p-circuit"),r=$t(n[0]),o=$t(n[n.length-1]),i=r.getPeerId(),s=o.getPeerId();if(null==i||null==s){const t=`Circuit relay dial to ${e.toString()} failed as address did not have peer ids`;throw this.log.error(t),new h(t,Lf)}const a=Re(i),l=Re(s);let c,u=!1,d=this.connectionManager.getConnections(a)[0];null==d?(await this.peerStore.merge(a,{multiaddrs:[r]}),t.onProgress?.(new $.j("circuit-relay:open-connection")),d=await this.connectionManager.openConnection(a,t),u=!0):t.onProgress?.(new $.j("circuit-relay:reuse-connection"));try{return t.onProgress?.(new $.j("circuit-relay:open-hop-stream")),c=await d.newStream(Nf),await this.connectV2({stream:c,connection:d,destinationPeer:l,destinationAddr:o,relayAddr:r,ma:e,disconnectOnFailure:u,onProgress:t.onProgress})}catch(e){throw this.log.error("circuit relay dial to destination %p via relay %p failed",l,a,e),null!=c&&c.abort(e),u&&await d.close(),e}}async connectV2({stream:e,connection:t,destinationPeer:n,destinationAddr:r,relayAddr:o,ma:i,disconnectOnFailure:s,onProgress:a}){try{const t=Of(e),s=t.pb(Ff);a?.(new $.j("circuit-relay:write-connect-message")),await s.write({type:Ff.Type.CONNECT,peer:{id:n.toBytes(),addrs:[$t(r).bytes]}}),a?.(new $.j("circuit-relay:read-connect-response"));const l=await s.read();if(l.status!==Vf.OK)throw new h(`failed to connect via relay with status ${l?.status?.toString()??"undefined"}`,"ERR_HOP_REQUEST_FAILED");const c=Df({stream:t.unwrap(),remoteAddr:i,localAddr:o.encapsulate(`/p2p-circuit/p2p/${this.peerId.toString()}`),logger:this.logger});return this.log("new outbound relayed connection %a",c.remoteAddr),await this.upgrader.upgradeOutbound(c,{transient:null!=l.limit,onProgress:a})}catch(e){throw this.log.error(`Circuit relay dial to destination ${n.toString()} via relay ${t.remotePeer.toString()} failed`,e),s&&await t.close(),e}}createListener(e){return function(e){return new Kf(e)}({connectionManager:this.connectionManager,relayStore:this.reservationStore,logger:this.logger})}listenFilter(e){return(e=Array.isArray(e)?e:[e]).filter((e=>Ef.matches(e)))}dialFilter(e){return this.listenFilter(e)}async onStop({connection:e,stream:t}){if(!this.reservationStore.hasReservation(e.remotePeer))try{this.log("dialed via relay we did not have a reservation on, start listening on that relay address"),await this.transportManager.listen([e.remoteAddr.encapsulate("/p2p-circuit")])}catch(e){this.log.error("failed to listen on a relay peer we were dialed via but did not have a reservation on",e)}const n=AbortSignal.timeout(this.stopTimeout),r=Of(t).pb(Uf),o=await r.read({signal:n});if(this.log("new circuit relay v2 stop stream from %p with type %s",e.remotePeer,o.type),void 0===o?.type)return this.log.error("type was missing from circuit v2 stop protocol request from %s",e.remotePeer),await r.write({type:Uf.Type.STATUS,status:Vf.MALFORMED_MESSAGE},{signal:n}),void await t.close();if(o.type!==Uf.Type.CONNECT)return this.log.error("invalid stop connect request via peer %p",e.remotePeer),await r.write({type:Uf.Type.STATUS,status:Vf.UNEXPECTED_MESSAGE},{signal:n}),void await t.close();if(!(e=>{if(null==e.peer)return!1;try{e.peer.addrs.forEach($t)}catch{return!1}return!0})(o))return this.log.error("invalid stop connect request via peer %p",e.remotePeer),await r.write({type:Uf.Type.STATUS,status:Vf.MALFORMED_MESSAGE},{signal:n}),void await t.close();const i=Ce(o.peer.id);if(!0===await(this.connectionGater.denyInboundRelayedConnection?.(e.remotePeer,i)))return this.log.error("connection gater denied inbound relayed connection from %p",e.remotePeer),await r.write({type:Uf.Type.STATUS,status:Vf.PERMISSION_DENIED},{signal:n}),void await t.close();this.log.trace("sending success response to %p",e.remotePeer),await r.write({type:Uf.Type.STATUS,status:Vf.OK},{signal:n});const s=e.remoteAddr.encapsulate(`/p2p-circuit/p2p/${i.toString()}`),a=this.addressManager.getAddresses()[0],l=Df({stream:r.unwrap().unwrap(),remoteAddr:s,localAddr:a,logger:this.logger});this.log("new inbound relayed connection %a",l.remoteAddr),await this.upgrader.upgradeInbound(l,{transient:null!=o.limit}),this.log("%s connection %a upgraded","inbound",l.remoteAddr)}}function Xf(e={}){return t=>new Jf(t,e)}var ep;function tp(e,t){return!En.matches(e)&&(null!=t.dialTransportForMultiaddr(e)&&(!!tn.matches(e)||!!ln.matches(e)&&!1===ct(e.toOptions().host)))}!function(e){let t,n,r;!function(e){e.UNUSED="UNUSED",e.CONNECT="CONNECT",e.SYNC="SYNC"}(t=e.Type||(e.Type={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.CONNECT=100]="CONNECT",e[e.SYNC=300]="SYNC"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.Type||(e.Type={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{if(!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.Type.codec().encode(t.type,n)),null!=t.observedAddresses)for(const e of t.observedAddresses)n.uint32(18),n.bytes(e);!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={observedAddresses:[]},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.type=e.Type.codec().decode(t);break;case 2:r.observedAddresses.push(t.bytes());break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(ep||(ep={}));class np{started;timeout;retries;maxInboundStreams;maxOutboundStreams;peerStore;registrar;connectionManager;addressManager;transportManager;topologyId;log;constructor(e,t){this.log=e.logger.forComponent("libp2p:dcutr"),this.started=!1,this.peerStore=e.peerStore,this.registrar=e.registrar,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.transportManager=e.transportManager,this.timeout=t.timeout??5e3,this.retries=t.retries??3,this.maxInboundStreams=t.maxInboundStreams??1,this.maxOutboundStreams=t.maxOutboundStreams??1}[Symbol.toStringTag]="@libp2p/dcutr";[ml]=["@libp2p/identify"];isStarted(){return this.started}async start(){this.started||(this.topologyId=await this.registrar.register(rp,{notifyOnTransient:!0,onConnect:(e,t)=>{t.transient&&"inbound"===t.direction&&this.upgradeInbound(t).catch((e=>{this.log.error("error during outgoing DCUtR attempt",e)}))}}),await this.registrar.handle(rp,(e=>{this.handleIncomingUpgrade(e.stream,e.connection).catch((t=>{this.log.error("error during incoming DCUtR attempt",t),e.stream.abort(t)}))}),{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams,runOnTransientConnection:!0}),this.started=!0)}async stop(){await this.registrar.unhandle(rp),null!=this.topologyId&&this.registrar.unregister(this.topologyId),this.started=!1}async upgradeInbound(e){if(await this.attemptUnilateralConnectionUpgrade(e))return;let t;for(let n=0;n<this.retries;n++){const r={signal:AbortSignal.timeout(this.timeout)};try{t=await e.newStream([rp],{signal:r.signal,runOnTransientConnection:!0});const n=Of(t,{maxDataLength:4096}).pb(ep);this.log("B sending connect to %p",e.remotePeer);const o=Date.now();await n.write({type:ep.Type.CONNECT,observedAddresses:this.addressManager.getAddresses().map((e=>e.bytes))},r),this.log("B receiving connect from %p",e.remotePeer);const i=await n.read(r);if(i.type!==ep.Type.CONNECT)throw this.log("A sent wrong message type"),new h("DCUtR message type was incorrect",m);const s=this.getDialableMultiaddrs(i.observedAddresses);if(0===s.length)throw this.log("A did not have any dialable multiaddrs"),new h("DCUtR connect message had no multiaddrs",m);const a=Date.now()-o;this.log("A sending sync, rtt %dms",a),await n.write({type:ep.Type.SYNC,observedAddresses:[]},r),this.log("A waiting for half RTT"),await wc(a/2),this.log("B dialing",s);const l=await this.connectionManager.openConnection(s,{signal:r.signal,priority:100});this.log("DCUtR to %p succeeded to address %a, closing relayed connection",e.remotePeer,l.remoteAddr),await e.close(r);break}catch(e){if(this.log.error("error while attempting DCUtR on attempt %d of %d",n+1,this.retries,e),t?.abort(e),n===this.retries)throw e}finally{null!=t&&await t.close(r)}}}async attemptUnilateralConnectionUpgrade(e){const t=(await this.peerStore.get(e.remotePeer)).addresses.map((t=>{const n=t.multiaddr;return null==n.getPeerId()?n.encapsulate(`/p2p/${e.remotePeer}`):n})).filter((e=>tp(e,this.transportManager)));if(t.length>0){const n=AbortSignal.timeout(this.timeout);try{this.log("attempting unilateral connection upgrade to %a",t);const r=await this.connectionManager.openConnection(t,{signal:n,force:!0});if(r.transient)throw new Error("Could not open a new, non-transient, connection");return this.log("unilateral connection upgrade to %p succeeded via %a, closing relayed connection",e.remotePeer,r.remoteAddr),await e.close({signal:n}),!0}catch(n){this.log.error("unilateral connection upgrade to %p on addresses %a failed",e.remotePeer,t,n)}}else this.log("peer %p has no public addresses, not attempting unilateral connection upgrade",e.remotePeer);return!1}async handleIncomingUpgrade(e,t){const n={signal:AbortSignal.timeout(this.timeout)};try{const r=Of(e,{maxDataLength:4096}).pb(ep);this.log("A receiving connect");const o=await r.read(n);if(o.type!==ep.Type.CONNECT)throw this.log("B sent wrong message type"),new h("DCUtR message type was incorrect",m);if(0===o.observedAddresses.length)throw this.log("B sent no multiaddrs"),new h("DCUtR connect message had no multiaddrs",m);const i=this.getDialableMultiaddrs(o.observedAddresses);if(0===i.length)throw this.log("B had no dialable multiaddrs"),new h("DCUtR connect message had no dialable multiaddrs",m);if(this.log("A sending connect"),await r.write({type:ep.Type.CONNECT,observedAddresses:this.addressManager.getAddresses().map((e=>e.bytes))}),this.log("A receiving sync"),(await r.read(n)).type!==ep.Type.SYNC)throw new h("DCUtR message type was incorrect",m);this.log("A dialing",i);const s=await this.connectionManager.openConnection(i,{signal:n.signal,priority:100,force:!0});this.log("DCUtR to %p succeeded via %a, closing relayed connection",t.remotePeer,s.remoteAddr),await t.close(n)}catch(n){this.log.error("incoming DCUtR from %p failed",t.remotePeer,n),e.abort(n)}finally{await e.close(n)}}getDialableMultiaddrs(e){const t=[];for(const n of e)if(null!=n&&0!==n.length)try{const e=$t(n);if(!tp(e,this.transportManager))continue;t.push(e)}catch{}return t}}const rp="/libp2p/dcutr";function op(e={}){return t=>new np(t,e)}var ip;!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.protocolVersion&&(t.uint32(42),t.string(e.protocolVersion)),null!=e.agentVersion&&(t.uint32(50),t.string(e.agentVersion)),null!=e.publicKey&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.listenAddrs)for(const n of e.listenAddrs)t.uint32(18),t.bytes(n);if(null!=e.observedAddr&&(t.uint32(34),t.bytes(e.observedAddr)),null!=e.protocols)for(const n of e.protocols)t.uint32(26),t.string(n);null!=e.signedPeerRecord&&(t.uint32(66),t.bytes(e.signedPeerRecord)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={listenAddrs:[],protocols:[]},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 5:n.protocolVersion=e.string();break;case 6:n.agentVersion=e.string();break;case 1:n.publicKey=e.bytes();break;case 2:n.listenAddrs.push(e.bytes());break;case 4:n.observedAddr=e.bytes();break;case 3:n.protocols.push(e.string());break;case 8:n.signedPeerRecord=e.bytes();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(ip||(ip={}));var sp=n(4866);const ap="object"==typeof window&&"object"==typeof document&&9===document.nodeType,lp=sp(),cp=ap&&!lp,up=lp&&!ap,dp=lp&&ap,hp=void 0!==globalThis.process&&void 0!==globalThis.process.release&&"node"===globalThis.process.release.name&&!lp,fp="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,pp=(void 0!==globalThis.process&&void 0!==globalThis.process.env&&globalThis.process.env.NODE_ENV,"undefined"!=typeof navigator&&"ReactNative"===navigator.product),mp="ipfs",gp=5e3,yp=1,vp=1,bp=10,wp=8192,Ap=!0,Ep=!0,xp=!0,Sp=32;async function kp(e,t,n,r,o){if(n("received identify from %p",r.remotePeer),null==o)throw new h("message was null or undefined","ERR_INVALID_MESSAGE");const i={};if(o.listenAddrs.length>0&&(i.addresses=o.listenAddrs.map((e=>({isCertified:!1,multiaddr:$t(e)})))),o.protocols.length>0&&(i.protocols=o.protocols),null!=o.publicKey&&(i.publicKey=o.publicKey,!(await Te(o.publicKey)).equals(r.remotePeer)))throw new h("public key did not match remote PeerId","ERR_INVALID_PUBLIC_KEY");let s;if(null!=o.signedPeerRecord){n("received signedPeerRecord from %p",r.remotePeer);let t=o.signedPeerRecord;const a=await Dl.openAndCertify(t,Bl.DOMAIN);let l,c=Bl.createFromProtobuf(a.payload);if(!c.peerId.equals(a.peerId))throw new h("signing key does not match PeerId in the PeerRecord","ERR_INVALID_SIGNING_KEY");if(!r.remotePeer.equals(c.peerId))throw new h("signing key does not match remote PeerId","ERR_INVALID_PEER_RECORD_KEY");try{l=await e.get(c.peerId)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}if(null!=l&&(i.metadata=l.metadata,null!=l.peerRecordEnvelope)){const e=await Dl.createFromProtobuf(l.peerRecordEnvelope),r=Bl.createFromProtobuf(e.payload);r.seqNumber>=c.seqNumber&&(n("sequence number was lower or equal to existing sequence number - stored: %d received: %d",r.seqNumber,c.seqNumber),c=r,t=l.peerRecordEnvelope)}i.peerRecordEnvelope=t,i.addresses=c.multiaddrs.map((e=>({isCertified:!0,multiaddr:e}))),s={seq:c.seqNumber,addresses:c.multiaddrs}}else n("%p did not send a signed peer record",r.remotePeer);if(n("patching %p with",r.remotePeer,i),await e.patch(r.remotePeer,i),null!=o.agentVersion||null!=o.protocolVersion){const t={};null!=o.agentVersion&&(t.AgentVersion=(0,me.s)(o.agentVersion)),null!=o.protocolVersion&&(t.ProtocolVersion=(0,me.s)(o.protocolVersion)),n("merging %p metadata",r.remotePeer,t),await e.merge(r.remotePeer,{metadata:t})}const a={peerId:r.remotePeer,protocolVersion:o.protocolVersion,agentVersion:o.agentVersion,publicKey:o.publicKey,listenAddrs:o.listenAddrs.map((e=>$t(e))),observedAddr:null==o.observedAddr?void 0:$t(o.observedAddr),protocols:o.protocols,signedPeerRecord:s,connection:r};return t.safeDispatchEvent("peer:identify",{detail:a}),a}class Ip{host;protocol;started;timeout;peerId;peerStore;registrar;addressManager;maxInboundStreams;maxOutboundStreams;maxMessageSize;maxObservedAddresses;events;runOnTransientConnection;log;constructor(e,t){var n,r;this.protocol=t.protocol,this.started=!1,this.peerId=e.peerId,this.peerStore=e.peerStore,this.registrar=e.registrar,this.addressManager=e.addressManager,this.events=e.events,this.log=t.log,this.timeout=t.timeout??gp,this.maxInboundStreams=t.maxInboundStreams??yp,this.maxOutboundStreams=t.maxOutboundStreams??vp,this.maxMessageSize=t.maxMessageSize??wp,this.maxObservedAddresses=t.maxObservedAddresses??bp,this.runOnTransientConnection=t.runOnTransientConnection??xp,this.host={protocolVersion:`${t.protocolPrefix??mp}/0.1.0`,agentVersion:(n=e.nodeInfo,r=t.agentVersion,null!=r||(r=`${n.name}/${n.version}`,hp||up?r+=` UserAgent=${globalThis.process.version}`:(cp||fp||dp||pp)&&(r+=` UserAgent=${globalThis.navigator.userAgent}`)),r)}}isStarted(){return this.started}async start(){this.started||(await this.peerStore.merge(this.peerId,{metadata:{AgentVersion:(0,me.s)(this.host.agentVersion),ProtocolVersion:(0,me.s)(this.host.protocolVersion)}}),await this.registrar.handle(this.protocol,(e=>{this.handleProtocol(e).catch((e=>{this.log.error(e)}))}),{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams,runOnTransientConnection:this.runOnTransientConnection}),this.started=!0)}async stop(){await this.registrar.unhandle(this.protocol),this.started=!1}}class _p extends Ip{connectionManager;concurrency;constructor(e,t={}){super(e,{...t,protocol:`/${t.protocolPrefix??mp}/id/push/1.0.0`,log:e.logger.forComponent("libp2p:identify-push")}),this.connectionManager=e.connectionManager,this.concurrency=t.concurrency??Sp,(t.runOnSelfUpdate??Ep)&&e.events.addEventListener("self:peer:update",(e=>{this.push().catch((e=>{this.log.error(e)}))}))}[pl]=["@libp2p/identify-push"];async push(){if(!this.isStarted())return;const e=this.addressManager.getAddresses().map((e=>e.decapsulateCode(bt("p2p").code))),t=new Bl({peerId:this.peerId,multiaddrs:e}),n=await Dl.seal(t,this.peerId),r=this.registrar.getProtocols(),o=await this.peerStore.get(this.peerId),i=(0,ge.d)(o.metadata.get("AgentVersion")??(0,me.s)(this.host.agentVersion)),s=(0,ge.d)(o.metadata.get("ProtocolVersion")??(0,me.s)(this.host.protocolVersion)),a=this;await I((0,du.A)(async function*(){for(const t of a.connectionManager.getConnections())(await a.peerStore.get(t.remotePeer)).protocols.includes(a.protocol)&&(yield async()=>{let o;const l=AbortSignal.timeout(a.timeout);try{o=await t.newStream(a.protocol,{signal:l,runOnTransientConnection:a.runOnTransientConnection});const c=Of(o,{maxDataLength:a.maxMessageSize}).pb(ip);await c.write({listenAddrs:e.map((e=>e.bytes)),signedPeerRecord:n.marshal(),protocols:r,agentVersion:i,protocolVersion:s},{signal:l}),await o.close({signal:l})}catch(e){a.log.error("could not push identify update to peer",e),o?.abort(e)}})}(),{concurrency:this.concurrency}))}async handleProtocol(e){const{connection:t,stream:n}=e;try{if(this.peerId.equals(t.remotePeer))throw new Error("received push from ourselves?");const e={signal:AbortSignal.timeout(this.timeout)},r=Of(n,{maxDataLength:this.maxMessageSize}).pb(ip),o=await r.read(e);await n.close(e),await kp(this.peerStore,this.events,this.log,t,o)}catch(e){return this.log.error("received invalid message",e),void n.abort(e)}this.log("handled push from %p",t.remotePeer)}}class Rp extends Ip{constructor(e,t={}){super(e,{...t,protocol:`/${t.protocolPrefix??mp}/id/1.0.0`,log:e.logger.forComponent("libp2p:identify")}),(t.runOnConnectionOpen??Ap)&&e.events.addEventListener("connection:open",(e=>{const t=e.detail;this.identify(t).catch((e=>{this.log.error("error during identify trigged by connection:open",e)}))}))}[pl]=["@libp2p/identify"];async _identify(e,t={}){let n;if(null==t.signal){const e=AbortSignal.timeout(this.timeout);t={...t,signal:e}}try{n=await e.newStream(this.protocol,{...t,runOnTransientConnection:this.runOnTransientConnection});const r=Of(n,{maxDataLength:this.maxMessageSize}).pb(ip),o=await r.read(t);return await n.close(t),o}catch(e){throw this.log.error("error while reading identify message",e),n?.abort(e),e}}async identify(e,t={}){const n=await this._identify(e,t),{publicKey:r,protocols:o,observedAddr:i}=n;if(null==r)throw new h("public key was missing from identify message","ERR_MISSING_PUBLIC_KEY");const s=await Te(r);if(!e.remotePeer.equals(s))throw new h("identified peer does not match the expected peer","ERR_INVALID_PEER");if(this.peerId.equals(s))throw new h("identified peer is our own peer id?","ERR_INVALID_PEER");const a=function(e){if(null!=e&&e.length>0)try{return $t(e)}catch{}}(i);return this.log("identify completed for peer %p and protocols %o",s,o),this.log("our observed address is %a",a),null!=a&&this.addressManager.getObservedAddrs().length<(this.maxObservedAddresses??1/0)&&(this.log("storing our observed address %a",a),this.addressManager.addObservedAddr(a)),kp(this.peerStore,this.events,this.log,e,n)}async handleProtocol(e){const{connection:t,stream:n}=e,r=AbortSignal.timeout(this.timeout);try{const e=this.peerId.publicKey??new Uint8Array(0),o=await this.peerStore.get(this.peerId),i=this.addressManager.getAddresses().map((e=>e.decapsulateCode(bt("p2p").code)));let s=o.peerRecordEnvelope;if(i.length>0&&null==s){const e=new Bl({peerId:this.peerId,multiaddrs:i});s=(await Dl.seal(e,this.peerId)).marshal().subarray()}let a=t.remoteAddr.bytes;an.matches(t.remoteAddr)||(a=void 0);const l=Of(n).pb(ip);await l.write({protocolVersion:this.host.protocolVersion,agentVersion:this.host.agentVersion,publicKey:e,listenAddrs:i.map((e=>e.bytes)),signedPeerRecord:s,observedAddr:a,protocols:o.protocols},{signal:r}),await n.close({signal:r})}catch(e){this.log.error("could not respond to identify request",e),n.abort(e)}}}function Cp(e={}){return t=>new Rp(t,e)}function Tp(e={}){return t=>new _p(t,e)}const Pp=36e5,Dp=36*Pp,Op="/dht/provider",Mp=Pp,Np=20,Bp=3;var Lp,Fp,Up,$p,jp,zp,Vp,Hp;function Wp(e){const t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0"),o=String(e.getUTCHours()).padStart(2,"0"),i=String(e.getUTCMinutes()).padStart(2,"0"),s=String(e.getUTCSeconds()).padStart(2,"0"),a=e.getUTCMilliseconds();return`${t}-${n}-${r}T${o}:${i}:${s}.${String(1e3*a*1e3).padStart(9,"0")}Z`}!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.key&&e.key.byteLength>0&&(t.uint32(10),t.bytes(e.key)),null!=e.value&&e.value.byteLength>0&&(t.uint32(18),t.bytes(e.value)),null!=e.timeReceived&&""!==e.timeReceived&&(t.uint32(42),t.string(e.timeReceived)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t,n={})=>{const r={key:(0,C.c)(0),value:(0,C.c)(0),timeReceived:""},o=null==t?e.len:e.pos+t;for(;e.pos<o;){const t=e.uint32();switch(t>>>3){case 1:r.key=e.bytes();break;case 2:r.value=e.bytes();break;case 5:r.timeReceived=e.string();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=(t,n)=>(0,X.Y8)(t,e.codec(),n)}(Lp||(Lp={}));class qp{key;value;timeReceived;constructor(e,t,n){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(t instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=t,this.timeReceived=n}serialize(){return Lp.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:Wp(this.timeReceived)}}static deserialize(e){const t=Lp.decode(e);return new qp(t.key,t.value,new Date(t.timeReceived))}static fromDeserialized(e){const t=function(e){const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),n=String(e).trim().match(t);if(null==n)throw new Error("Invalid format");const r=parseInt(n[1],10),o=parseInt(n[2],10)-1,i=parseInt(n[3],10),s=parseInt(n[4],10),a=parseInt(n[5],10),l=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,o,i,s,a,l,c))}(e.timeReceived);if(null==e.key)throw new Error("key missing from deserialized object");if(null==e.value)throw new Error("value missing from deserialized object");return new qp(e.key,e.value,t)}}function Kp(e,t={}){const n={...e,name:"SEND_QUERY",type:0,messageName:e.type,messageType:e.type};return t.onProgress?.(new u("kad-dht:query:send-query",{detail:n})),n}function Gp(e,t={}){const n={...e,name:"PEER_RESPONSE",type:1,messageName:e.messageType,closer:null!=e.closer?e.closer:[],providers:null!=e.providers?e.providers:[]};return t.onProgress?.(new u("kad-dht:query:peer-response",{detail:n})),n}function Yp(e,t={}){const n={...e,name:"FINAL_PEER",type:2};return t.onProgress?.(new u("kad-dht:query:final-peer",{detail:n})),n}function Qp(e,t={}){const n={...e,name:"QUERY_ERROR",type:3};return t.onProgress?.(new u("kad-dht:query:query-error",{detail:n})),n}function Zp(e,t={}){const n={...e,name:"PROVIDER",type:4};return t.onProgress?.(new u("kad-dht:query:provider",{detail:n})),n}function Jp(e,t={}){const n={...e,name:"VALUE",type:5};return t.onProgress?.(new u("kad-dht:query:value",{detail:n})),n}function Xp(e,t={}){const n={...e,name:"DIAL_PEER",type:7};return t.onProgress?.(new u("kad-dht:query:dial-peer",{detail:n})),n}!function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{!1!==n.lengthDelimited&&t.fork(),null!=e.key&&(t.uint32(10),t.bytes(e.key)),null!=e.value&&(t.uint32(18),t.bytes(e.value)),null!=e.author&&(t.uint32(26),t.bytes(e.author)),null!=e.signature&&(t.uint32(34),t.bytes(e.signature)),null!=e.timeReceived&&(t.uint32(42),t.string(e.timeReceived)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.key=e.bytes();break;case 2:n.value=e.bytes();break;case 3:n.author=e.bytes();break;case 4:n.signature=e.bytes();break;case 5:n.timeReceived=e.string();break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Fp||(Fp={})),function(e){e.PUT_VALUE="PUT_VALUE",e.GET_VALUE="GET_VALUE",e.ADD_PROVIDER="ADD_PROVIDER",e.GET_PROVIDERS="GET_PROVIDERS",e.FIND_NODE="FIND_NODE",e.PING="PING"}(Up||(Up={})),function(e){e[e.PUT_VALUE=0]="PUT_VALUE",e[e.GET_VALUE=1]="GET_VALUE",e[e.ADD_PROVIDER=2]="ADD_PROVIDER",e[e.GET_PROVIDERS=3]="GET_PROVIDERS",e[e.FIND_NODE=4]="FIND_NODE",e[e.PING=5]="PING"}($p||($p={})),function(e){e.codec=()=>(0,X.eG)($p)}(Up||(Up={})),function(e){e.NOT_CONNECTED="NOT_CONNECTED",e.CONNECTED="CONNECTED",e.CAN_CONNECT="CAN_CONNECT",e.CANNOT_CONNECT="CANNOT_CONNECT"}(jp||(jp={})),function(e){e[e.NOT_CONNECTED=0]="NOT_CONNECTED",e[e.CONNECTED=1]="CONNECTED",e[e.CAN_CONNECT=2]="CAN_CONNECT",e[e.CANNOT_CONNECT=3]="CANNOT_CONNECT"}(zp||(zp={})),function(e){e.codec=()=>(0,X.eG)(zp)}(jp||(jp={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.id&&e.id.byteLength>0&&(t.uint32(10),t.bytes(e.id)),null!=e.multiaddrs)for(const n of e.multiaddrs)t.uint32(18),t.bytes(n);null!=e.connection&&(t.uint32(24),jp.codec().encode(e.connection,t)),!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={id:(0,C.c)(0),multiaddrs:[]},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.id=e.bytes();break;case 2:n.multiaddrs.push(e.bytes());break;case 3:n.connection=jp.codec().decode(e);break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Vp||(Vp={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,X.iU)(((e,t,n={})=>{if(!1!==n.lengthDelimited&&t.fork(),null!=e.type&&0!==$p[e.type]&&(t.uint32(8),Up.codec().encode(e.type,t)),null!=e.clusterLevel&&(t.uint32(80),t.int32(e.clusterLevel)),null!=e.key&&(t.uint32(18),t.bytes(e.key)),null!=e.record&&(t.uint32(26),t.bytes(e.record)),null!=e.closer)for(const n of e.closer)t.uint32(66),Vp.codec().encode(n,t);if(null!=e.providers)for(const n of e.providers)t.uint32(74),Vp.codec().encode(n,t);!1!==n.lengthDelimited&&t.ldelim()}),((e,t)=>{const n={type:Up.PUT_VALUE,closer:[],providers:[]},r=null==t?e.len:e.pos+t;for(;e.pos<r;){const t=e.uint32();switch(t>>>3){case 1:n.type=Up.codec().decode(e);break;case 10:n.clusterLevel=e.int32();break;case 2:n.key=e.bytes();break;case 3:n.record=e.bytes();break;case 8:n.closer.push(Vp.codec().decode(e,e.uint32()));break;case 9:n.providers.push(Vp.codec().decode(e,e.uint32()));break;default:e.skipType(7&t)}}return n}))),t),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Hp||(Hp={}));const em={pk:function(e,t){return 0}};async function tm(e,t){const n=t.key,r=(0,ge.d)(n).split("/");if(r.length<3)return;const o=e[r[1].toString()];if(null==o){const e=`No validator available for key type "${r[1]}"`;throw new h(e,"ERR_INVALID_RECORD_KEY_TYPE")}await o(n,t.value)}const nm={pk:async(e,t)=>{if(!(e instanceof Uint8Array))throw new h('"key" must be a Uint8Array',"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(e.byteLength<5)throw new h("invalid public key record","ERR_INVALID_RECORD_KEY_TOO_SHORT");if("/pk/"!==(0,ge.d)(e.subarray(0,4)))throw new h("key was not prefixed with /pk/","ERR_INVALID_RECORD_KEY_BAD_PREFIX");const n=e.slice(4),r=await fe.sha256.digest(t);if(!(0,pe.a)(n,r.bytes))throw new h("public key does not match passed in key","ERR_INVALID_RECORD_HASH_MISMATCH")}},rm=(0,me.s)("/pk/");function om(e){return{...e,multiaddrs:e.multiaddrs.filter((e=>{const[[t,n]]=e.stringTuples();if(53===t||54===t||55===t)return"localhost"!==n;if(4!==t&&6!==t)return!1;if(null==n)return!1;const r=ct(n);return null==r||!r}))}}async function im(e){return(await fe.sha256.digest(e)).digest}async function sm(e){return im(e.toBytes())}function am(e){return new Mr(`/dht/record/${(0,ge.d)(e,"base32")}`,!1)}function lm(e,t){const n=new Date;return new qp(e,t,n).serialize()}class cm{log;components;validators;selectors;peerRouting;queryManager;network;constructor(e,t){const{validators:n,selectors:r,peerRouting:o,queryManager:i,network:s,logPrefix:a}=t;this.components=e,this.log=e.logger.forComponent(`${a}:content-fetching`),this.validators=n,this.selectors=r,this.peerRouting=o,this.queryManager=i,this.network=s}async getLocal(e){this.log("getLocal %b",e);const t=am(e);this.log("fetching record for key %k",t);const n=await this.components.datastore.get(t);this.log("found %k in local datastore",t);const r=qp.deserialize(n);return await tm(this.validators,r),r}async*sendCorrectionRecord(e,t,n,r={}){this.log("sendCorrection for %b",e);const o=lm(e,n);for(const{value:i,from:s}of t){if((0,pe.a)(i,n)){this.log("record was ok");continue}if(this.components.peerId.equals(s)){try{const t=am(e);this.log(`Storing corrected record for key ${t.toString()}`),await this.components.datastore.put(t,o.subarray())}catch(e){this.log.error("Failed error correcting self",e)}continue}let t=!1;const a={type:Up.PUT_VALUE,key:e,record:o};for await(const e of this.network.sendRequest(s,a,r))"PEER_RESPONSE"===e.name&&null!=e.record&&(0,pe.a)(e.record.value,qp.deserialize(o).value)&&(t=!0),yield e;t||(yield Qp({from:s,error:new h("value not put correctly","ERR_PUT_VALUE_INVALID")},r)),this.log.error("Failed error correcting entry")}}async*put(e,t,n={}){this.log("put key %b value %b",e,t);const r=lm(e,t),o=am(e);this.log(`storing record for key ${o.toString()}`),await this.components.datastore.put(o,r.subarray()),yield*(0,F.F)(this.peerRouting.getClosestPeers(e,{signal:n.signal}),(t=>(0,L.A)(t,(t=>async()=>{if("FINAL_PEER"!==t.name)return[t];const o=[],i={type:Up.PUT_VALUE,key:e,record:r};this.log("send put to %p",t.peer.id);for await(const e of this.network.sendRequest(t.peer.id,i,n))o.push(e),"PEER_RESPONSE"===e.name&&(null!=e.record&&(0,pe.a)(e.record.value,qp.deserialize(r).value)||o.push(Qp({from:t.peer.id,error:new h("value not put correctly","ERR_PUT_VALUE_INVALID")},n)));return o}))),(e=>(0,du.A)(e,{ordered:!1,concurrency:Bp})),(async function*(e){for await(const t of e)yield*t}))}async*get(e,t={}){this.log("get %b",e);const n=[];for await(const r of this.getMany(e,t))"VALUE"===r.name&&n.push(r),yield r;if(0===n.length)return;const r=n.map((e=>e.value));let o=0;try{o=function(e,t,n){if(0===n.length)throw new h("No records given","ERR_NO_RECORDS_RECEIVED");const r=(0,ge.d)(t).split("/");if(r.length<3)throw new h("Record key does not have a selector function","ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY");const o=e[r[1].toString()];if(null==o){const e=`No selector function configured for key type "${r[1]}"`;throw new h(e,"ERR_UNRECOGNIZED_KEY_PREFIX")}return 1===n.length?0:o(t,n)}(this.selectors,e,r)}catch(e){if("ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY"!==e.code)throw e}const i=r[o];if(this.log("GetValue %b %b",e,i),null==i)throw new h("best value was not found","ERR_NOT_FOUND");yield*this.sendCorrectionRecord(e,n,i,t),yield n[o]}async*getMany(e,t={}){this.log("getMany values for %b",e);try{const n=await this.getLocal(e);yield Jp({value:n.value,from:this.components.peerId},t)}catch(t){this.log("error getting local value for %b",e,t)}const n=this;yield*this.queryManager.run(e,(async function*({peer:r,signal:o}){for await(const i of n.peerRouting.getValueOrPeers(r,e,{signal:o}))yield i,"PEER_RESPONSE"===i.name&&null!=i.record&&(yield Jp({from:r,value:i.record.value},t))}),t)}}function um(e){if(null==e.id)throw new Error("Invalid peer in message");return{id:Ce(e.id),multiaddrs:(e.multiaddrs??[]).map((e=>$t(e)))}}class dm{log;components;network;peerRouting;queryManager;routingTable;providers;constructor(e,t){const{network:n,peerRouting:r,queryManager:o,routingTable:i,providers:s,logPrefix:a}=t;this.components=e,this.log=e.logger.forComponent(`${a}:content-routing`),this.network=n,this.peerRouting=r,this.queryManager=o,this.routingTable=i,this.providers=s}async*provide(e,t,n={}){this.log("provide %s",e);const r=e.multihash.bytes;await this.providers.addProvider(e,this.components.peerId);const o={type:Up.ADD_PROVIDER,key:r,providers:[(i={id:this.components.peerId,multiaddrs:t},{id:i.id.toBytes(),multiaddrs:(i.multiaddrs??[]).map((e=>e.bytes)),connection:undefined})]};var i;let s=0;const a=t=>async()=>{if("FINAL_PEER"!==t.name)return[t];const r=[];this.log("putProvider %s to %p",e,t.peer.id);try{this.log("sending provider record for %s to %p",e,t.peer.id);for await(const i of this.network.sendMessage(t.peer.id,o,n))"PEER_RESPONSE"===i.name&&(this.log("sent provider record for %s to %p",e,t.peer.id),s++),r.push(i)}catch(e){this.log.error("error sending provide record to peer %p",t.peer.id,e),r.push(Qp({from:t.peer.id,error:e},n))}return r};yield*(0,F.F)(this.peerRouting.getClosestPeers(r,n),(e=>(0,L.A)(e,(e=>a(e)))),(e=>(0,du.A)(e,{ordered:!1,concurrency:Bp})),(async function*(e){for await(const t of e)yield*t})),this.log("sent provider records to %d peers",s)}async*findProviders(e,t){const n=this.routingTable.kBucketSize;let r=0;const o=e.multihash.bytes,i=this;this.log("findProviders %c",e);const s=await this.providers.getProviders(e);if(s.length>0){const e=[];for(const t of s.slice(0,n))try{const n=await this.components.peerStore.get(t);e.push({id:t,multiaddrs:n.addresses.map((({multiaddr:e})=>e))})}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e;this.log("no peer store entry for %p",t)}if(yield Gp({from:this.components.peerId,messageType:Up.GET_PROVIDERS,providers:e},t),yield Zp({from:this.components.peerId,providers:e},t),r+=e.length,r>=n)return}const a=async function*({peer:e,signal:n}){const r={type:Up.GET_PROVIDERS,key:o};yield*i.network.sendRequest(e,r,{...t,signal:n})},l=new Cl(s);for await(const i of this.queryManager.run(o,a,t))if(yield i,"PEER_RESPONSE"===i.name){this.log("Found %d provider entries for %c and %d closer peers",i.providers.length,e,i.closer.length);const o=[];for(const e of i.providers)l.has(e.id)||(l.add(e.id),o.push(e));if(o.length>0&&(yield Zp({from:i.from,providers:o},t),r+=o.length,r>=n))return}}}class hm{movingAverage;variance;deviation;forecast;timespan;previousTime;constructor(e){this.timespan=e,this.movingAverage=0,this.variance=0,this.deviation=0,this.forecast=0}alpha(e,t){return 1-Math.exp(-(e-t)/this.timespan)}push(e,t=Date.now()){if(null!=this.previousTime){const n=this.alpha(t,this.previousTime),r=e-this.movingAverage,o=n*r;this.movingAverage=n*e+(1-n)*this.movingAverage,this.variance=(1-n)*(this.variance+r*o),this.deviation=Math.sqrt(this.variance),this.forecast=this.movingAverage+n*r}else this.movingAverage=e;this.previousTime=t}}class fm{success;failure;next;metric;timeoutMultiplier;failureMultiplier;minTimeout;constructor(e={}){this.success=new hm(e.interval??5e3),this.failure=new hm(e.interval??5e3),this.next=new hm(e.interval??5e3),this.failureMultiplier=e.failureMultiplier??2,this.timeoutMultiplier=e.timeoutMultiplier??1.2,this.minTimeout=e.minTimeout??2e3,null!=e.metricName&&(this.metric=e.metrics?.registerMetricGroup(e.metricName))}getTimeoutSignal(e={}){const t=Math.max(Math.round(this.next.movingAverage*(e.timeoutFactor??this.timeoutMultiplier)),this.minTimeout),n=AbortSignal.timeout(t),r=a([e.signal,n]);return r.start=Date.now(),r.timeout=t,r}cleanUp(e){const t=Date.now()-e.start;e.aborted?(this.failure.push(t),this.next.push(t*this.failureMultiplier),this.metric?.update({failureMovingAverage:this.failure.movingAverage,failureDeviation:this.failure.deviation,failureForecast:this.failure.forecast,failureVariance:this.failure.variance,failure:t})):(this.success.push(t),this.next.push(t),this.metric?.update({successMovingAverage:this.success.movingAverage,successDeviation:this.success.deviation,successForecast:this.success.forecast,successVariance:this.success.variance,success:t}))}}class pm extends l{log;protocol;running;components;timeout;constructor(e,t){super();const{protocol:n}=t;this.components=e,this.log=e.logger.forComponent(`${t.logPrefix}:network`),this.running=!1,this.protocol=n,this.timeout=new fm({...t.timeout??{},metrics:e.metrics,metricName:`${t.logPrefix.replaceAll(":","_")}_network_message_send_times_milliseconds`})}async start(){this.running||(this.running=!0)}async stop(){this.running=!1}isStarted(){return this.running}async*sendRequest(e,t,n={}){if(!this.running)return;const r=t.type;if(null==r)throw new X.Ak("Message type was missing","ERR_INVALID_PARAMETERS");let o;this.log("sending %s to %p",t.type,e),yield Xp({peer:e},n),yield Kp({to:e,type:r},n);const i=this.timeout.getTimeoutSignal(n);n={...n,signal:i};try{const r=await this.components.connectionManager.openConnection(e,n);o=await r.newStream(this.protocol,n);const i=await this._writeReadMessage(o,t,n);o.close(n).catch((t=>{this.log.error("error closing stream to %p",e,t),o?.abort(t)})),yield Gp({from:e,messageType:i.type,closer:i.closer.map(um),providers:i.providers.map(um),record:null==i.record?void 0:qp.deserialize(i.record)},n)}catch(r){o?.abort(r),this.log.error("could not send %s to %p",t.type,e,r),yield Qp({from:e,error:r},n)}finally{this.timeout.cleanUp(i)}}async*sendMessage(e,t,n={}){if(!this.running)return;const r=t.type;if(null==r)throw new X.Ak("Message type was missing","ERR_INVALID_PARAMETERS");let o;this.log("sending %s to %p",t.type,e),yield Xp({peer:e},n),yield Kp({to:e,type:r},n);const i=this.timeout.getTimeoutSignal(n);n={...n,signal:i};try{const i=await this.components.connectionManager.openConnection(e,n);o=await i.newStream(this.protocol,n),await this._writeMessage(o,t,n),o.close(n).catch((t=>{this.log.error("error closing stream to %p",e,t),o?.abort(t)})),yield Gp({from:e,messageType:r},n)}catch(t){o?.abort(t),yield Qp({from:e,error:t},n)}finally{this.timeout.cleanUp(i)}}async _writeMessage(e,t,n){const r=Of(e);await r.write(t,Hp,n),await r.unwrap().close(n)}async _writeReadMessage(e,t,n){const r=Of(e);await r.write(t,Hp,n);const o=await r.read(Hp,n);return await r.unwrap().close(n),o.closer.forEach((e=>{this.safeDispatchEvent("peer",{detail:um(e)})})),o.providers.forEach((e=>{this.safeDispatchEvent("peer",{detail:um(e)})})),o}}var mm=n(7057);function gm(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const n=(0,C.K)(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return(0,mm.o)(n)}function ym(e,t){if(e.byteLength!==t.byteLength)throw new Error("Inputs should have the same length");for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}class vm{originDhtKey;capacity;peerDistances;constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map((e=>e.peer))}async add(e){const t=await sm(e.id);this.addWitKadId(e,t)}addWitKadId(e,t){if(null!=this.peerDistances.find((t=>t.peer.id.equals(e.id))))return;const n={peer:e,distance:gm(this.originDhtKey,t)};this.peerDistances.push(n),this.peerDistances.sort(((e,t)=>ym(e.distance,t.distance))),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async isCloser(e){return 0===this.length||-1===ym(gm(await sm(e),this.originDhtKey),this.peerDistances[this.peerDistances.length-1].distance)}async anyCloser(e){return 0!==e.length&&Promise.any(e.map((async e=>this.isCloser(e))))}}class bm{log;routingTable;network;validators;queryManager;peerStore;peerId;constructor(e,t){const{routingTable:n,network:r,validators:o,queryManager:i,logPrefix:s}=t;this.routingTable=n,this.network=r,this.validators=o,this.queryManager=i,this.peerStore=e.peerStore,this.peerId=e.peerId,this.log=e.logger.forComponent(`${s}:peer-routing`)}async findPeerLocal(e){let t;const n=await this.routingTable.find(e);if(null!=n){this.log("findPeerLocal found %p in routing table",e);try{t=await this.peerStore.get(n)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}}if(null==t)try{t=await this.peerStore.get(e)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}if(null!=t)return this.log("findPeerLocal found %p in peer store",e),{id:t.id,multiaddrs:t.addresses.map((e=>e.multiaddr))}}async*_getValueSingle(e,t,n={}){const r={type:Up.GET_VALUE,key:t};yield*this.network.sendRequest(e,r,n)}async*getPublicKeyFromNode(e,t={}){const n=function(e){return(0,ut.x)([rm,e.toBytes()])}(e);for await(const r of this._getValueSingle(e,n,t))if(yield r,"PEER_RESPONSE"===r.name&&null!=r.record){const n=await Te(dl({bytes:r.record.value}));if(!n.equals(e))throw new h("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");if(null==n.publicKey)throw new h("public key missing","ERR_PUBLIC_KEY_MISSING");yield Jp({from:e,value:n.publicKey},t)}throw new h(`Node not responding with its public key: ${e.toString()}`,"ERR_INVALID_RECORD")}async*findPeer(e,t={}){if(this.log("findPeer %p",e),!1!==t.useCache){const n=await this.findPeerLocal(e);if(null!=n)return this.log("found local"),void(yield Yp({from:this.peerId,peer:n},t))}let n=!1;if(!1!==t.useNetwork){const r=this,o=async function*({peer:n,signal:o}){const i={type:Up.FIND_NODE,key:e.toBytes()};for await(const s of r.network.sendRequest(n,i,{...t,signal:o}))if(yield s,"PEER_RESPONSE"===s.name){const n=s.closer.find((t=>t.id.equals(e)));null!=n&&(yield Yp({from:s.from,peer:n},t))}};for await(const r of this.queryManager.run(e.toBytes(),o,t))"FINAL_PEER"===r.name&&(n=!0),yield r}n||(yield Qp({from:this.peerId,error:new h("Not found","ERR_NOT_FOUND")},t))}async*getClosestPeers(e,t={}){this.log("getClosestPeers to %b",e);const n=await im(e),r=this.routingTable.closestPeers(n),o=this,i=new vm(n,this.routingTable.kBucketSize);await Promise.all(r.map((async e=>{await i.add({id:e,multiaddrs:[]})})));const s=async function*({peer:n,signal:r}){o.log("closerPeersSingle %s from %p",(0,ge.d)(e,"base32"),n);const i={type:Up.FIND_NODE,key:e};yield*o.network.sendRequest(n,i,{...t,signal:r})};for await(const n of this.queryManager.run(e,s,t))"PEER_RESPONSE"===n.name&&await Promise.all(n.closer.map((async e=>{await i.add(e)}))),yield n;this.log("found %d peers close to %b",i.length,e);for(const e of i.peers)yield Yp({from:this.peerId,peer:e},t)}async*getValueOrPeers(e,t,n={}){for await(const r of this._getValueSingle(e,t,n)){if("PEER_RESPONSE"===r.name&&null!=r.record)try{await this._verifyRecordOnline(r.record)}catch(e){const t="invalid record received, discarded";this.log(t),yield Qp({from:r.from,error:new h(t,"ERR_INVALID_RECORD")},n);continue}yield r}}async _verifyRecordOnline(e){if(null==e.timeReceived)throw new h("invalid record received","ERR_INVALID_RECORD");await tm(this.validators,new qp(e.key,e.value,e.timeReceived))}async getCloserPeersOffline(e,t){const n=await im(e),r=this.routingTable.closestPeers(n),o=[];for(const e of r)if(!e.equals(t))try{const t=await this.peerStore.get(e);o.push({id:e,multiaddrs:t.addresses.map((({multiaddr:e})=>e))})}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}return o.length>0?this.log("getCloserPeersOffline found %d peer(s) closer to %b than %p",o.length,e,t):this.log("getCloserPeersOffline could not find peer closer to %b than %p with %d peers in the routing table",e,t,this.routingTable.size),o}}class wm{log;datastore;cache;cleanupInterval;provideValidity;syncQueue;started;cleaner;constructor(e,t={}){const{cacheSize:n,cleanupInterval:r,provideValidity:o}=t;this.log=e.logger.forComponent("libp2p:kad-dht:providers"),this.datastore=e.datastore,this.cleanupInterval=r??Mp,this.provideValidity=o??864e5,this.cache=Qr(n??256),this.syncQueue=new Hr.A({concurrency:1}),this.started=!1}isStarted(){return this.started}async start(){this.started||(this.started=!0,this.cleaner=setInterval((()=>{this._cleanup().catch((e=>{this.log.error(e)}))}),this.cleanupInterval))}async stop(){this.started=!1,null!=this.cleaner&&(clearInterval(this.cleaner),this.cleaner=void 0)}async _cleanup(){await this.syncQueue.add((async()=>{const e=Date.now();let t=0,n=0;const r=new Map,o=this.datastore.batch(),i=this.datastore.query({prefix:Op});for await(const e of i)try{const{cid:i,peerId:s}=Em(e.key),a=xm(e.value).getTime(),l=Date.now(),c=l-a,u=c>this.provideValidity;if(this.log("comparing: %d - %d = %d > %d %s",l,a,c,this.provideValidity,u?"(expired)":""),u){n++,o.delete(e.key);const t=r.get(i)??new Set;t.add(s),r.set(i,t)}t++}catch(e){this.log.error(e.message)}r.size>0?(this.log("deleting %d / %d entries",n,t),await o.commit()):this.log("nothing to delete");for(const[e,t]of r){const n=Am(e),r=this.cache.get(n);if(null!=r){for(const e of t)r.delete(e);0===r.size?this.cache.remove(n):this.cache.set(n,r)}}this.log("Cleanup successful (%dms)",Date.now()-e)}))}async _getProvidersMap(e){const t=Am(e);let n=this.cache.get(t);return null==n&&(n=await async function(e,t){const n=new Map,r=e.query({prefix:Am(t)});for await(const e of r){const{peerId:t}=Em(e.key);n.set(t,xm(e.value))}return n}(this.datastore,e),this.cache.set(t,n)),n}async addProvider(e,t){await this.syncQueue.add((async()=>{this.log("%p provides %s",t,e);const n=await this._getProvidersMap(e);this.log("loaded %s provs",n.size);const r=new Date;n.set(t.toString(),r);const o=Am(e);this.cache.set(o,n),await async function(e,t,n,r){const o=[Am(t),"/",n.toString()].join(""),i=new Mr(o),s=_.lF(r.getTime());await e.put(i,s)}(this.datastore,e,t,r)}))}async getProviders(e){return this.syncQueue.add((async()=>(this.log("get providers for %s",e),[...(await this._getProvidersMap(e)).keys()].map((e=>Re(e))))),{throwOnTimeout:!0})}}function Am(e){const t="string"==typeof e?e:(0,ge.d)(e.multihash.bytes,"base32");return`${Op}/${t}`}function Em(e){const t=e.toString().split("/");if(5!==t.length)throw new Error(`incorrectly formatted provider entry key in datastore: ${e.toString()}`);return{cid:t[3],peerId:t[4]}}function xm(e){return new Date(_.D4(e))}class Sm{disjointPaths;alpha;shutDownController;running;queries;logger;peerId;connectionManager;routingTable;initialQuerySelfHasRun;logPrefix;metrics;constructor(e,t){const{disjointPaths:n=Np,alpha:r=Bp,logPrefix:o}=t;this.logPrefix=o,this.disjointPaths=n??Np,this.running=!1,this.alpha=r??Bp,this.queries=0,this.initialQuerySelfHasRun=t.initialQuerySelfHasRun,this.routingTable=t.routingTable,this.logger=e.logger,this.peerId=e.peerId,this.connectionManager=e.connectionManager,null!=e.metrics&&(this.metrics={runningQueries:e.metrics.registerMetric(`${o.replaceAll(":","_")}_running_queries`),queryTime:e.metrics.registerMetric(`${o.replaceAll(":","_")}_query_time_seconds`)}),this.shutDownController=new AbortController,this.shutDownController.signal}isStarted(){return this.running}async start(){this.running=!0,this.shutDownController=new AbortController,this.shutDownController.signal}async stop(){this.running=!1,this.shutDownController.abort()}async*run(e,t,n={}){if(!this.running)throw new Error("QueryManager not started");const r=this.metrics?.queryTime.timer();if(null==n.signal){const e=AbortSignal.timeout(18e4);n={...n,signal:e}}const o=new AbortController,i=a([this.shutDownController.signal,o.signal,n.signal]);o.signal;const s=this.logger.forComponent(`${this.logPrefix}:query:`+(0,ge.d)(e,"base58btc")),l=Date.now();let c=!1;try{!0!==n.isSelfQuery&&null!=this.initialQuerySelfHasRun&&(s("waiting for initial query-self query before continuing"),await w(this.initialQuerySelfHasRun.promise,i),this.initialQuerySelfHasRun=void 0),s("query:start"),this.queries++,this.metrics?.runningQueries.update(this.queries);const r=await im(e),o=this.routingTable.closestPeers(r),l=o.slice(0,Math.min(this.disjointPaths,o.length));if(0===o.length)return void s.error("Running query with no peers");const u=new Cl,d=l.map(((r,o)=>async function*(e){const{key:t,startingPeer:n,ourPeerId:r,signal:o,query:i,alpha:s,pathIndex:l,numPaths:c,queryFuncTimeout:u,log:d,peersSeen:f,connectionManager:p}=e,m=new S({concurrency:s,sort:(e,t)=>ym(e.options.distance,t.options.distance)}),g=await im(t);!function n(s,h){if(null==s)return;f.add(s);const y=gm(h,g);m.add((async()=>{const h=[o];null!=u&&h.push(AbortSignal.timeout(u));const v=a(h);try{for await(const e of i({key:t,peer:s,signal:v,pathIndex:l,numPaths:c})){if(v.aborted)return;if("PEER_RESPONSE"===e.name)for(const o of e.closer){if(f.has(o.id)){d("already seen %p in query",o.id);continue}if(r.equals(o.id)){d("not querying ourselves");continue}if(!await p.isDialable(o.multiaddrs)){d("not querying undialable peer");continue}const e=await sm(o.id);-1===ym(gm(e,g),y)?(d("querying closer peer %p",o.id),n(o.id,e)):d("skipping %p as they are not closer to %b than %p",o.id,t,s)}m.safeDispatchEvent("completed",{detail:e})}}catch(t){if(!o.aborted)return Qp({from:s,error:t},e)}finally{v.clear()}}),{distance:y}).catch((e=>{d.error(e)}))}(n,await sm(n));try{for await(const e of m.toGenerator({signal:o}))null!=e&&(yield e)}catch(e){if(o.aborted)throw new h("Query aborted","ERR_QUERY_ABORTED");throw e}}({key:e,startingPeer:r,ourPeerId:this.peerId,signal:i,query:t,pathIndex:o,numPaths:l.length,alpha:this.alpha,queryFuncTimeout:n.queryFuncTimeout,log:s,peersSeen:u,onProgress:n.onProgress,connectionManager:this.connectionManager})));for await(const e of(0,Cr.A)(...d)){if("QUERY_ERROR"===e.name&&s.error("query error",e.error),"PEER_RESPONSE"===e.name)for(const t of[...e.closer,...e.providers])await this.connectionManager.isDialable(t.multiaddrs)&&await this.routingTable.add(t.id);yield e}c=!0}catch(e){if(this.running||"ERR_QUERY_ABORTED"!==e.code)throw e}finally{c||(s("query exited early"),o.abort()),i.clear(),this.queries--,this.metrics?.runningQueries.update(this.queries),null!=r&&r(),s("query:done in %dms",Date.now()-l)}}}const km=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{let t=0;for await(const n of e)t++;return t})();{let t=0;for(const n of e)t++;return t}};function Im(e,t,n){"function"==typeof n&&(n={filter:n});const r=function(e,t,n){let r;const o=new Promise(((o,i)=>{if(!((n={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...n}).count>=0)||n.count!==Number.POSITIVE_INFINITY&&!Number.isInteger(n.count))throw new TypeError("The `count` option should be at least 0 or more");n.signal?.throwIfAborted();const s=[t].flat(),a=[],{addListener:l,removeListener:c}=(e=>{const t=e.addEventListener||e.on||e.addListener,n=e.removeEventListener||e.off||e.removeListener;if(!t||!n)throw new TypeError("Emitter is not compatible");return{addListener:t.bind(e),removeListener:n.bind(e)}})(e),u=(...e)=>{const t=n.multiArgs?e:e[0];n.filter&&!n.filter(t)||(a.push(t),n.count===a.length&&(r(),o(a)))},d=e=>{r(),i(e)};r=()=>{for(const e of s)c(e,u);for(const e of n.rejectionEvents)c(e,d)};for(const e of s)l(e,u);for(const e of n.rejectionEvents)l(e,d);n.signal&&n.signal.addEventListener("abort",(()=>{d(n.signal.reason)}),{once:!0}),n.resolveImmediately&&o(a)}));if(o.cancel=r,"number"==typeof n.timeout){const e=(0,co.Ay)(o,{milliseconds:n.timeout});return e.cancel=r,e}return o}(e,t,n={...n,count:1,resolveImmediately:!1}),o=r.then((e=>e[0]));return o.cancel=r.cancel,o}class _m{log;peerId;peerRouting;routingTable;count;interval;initialInterval;queryTimeout;started;timeoutId;controller;initialQuerySelfHasRun;querySelfPromise;constructor(e,t){const{peerRouting:n,logPrefix:r,count:o,interval:i,queryTimeout:s,routingTable:a}=t;this.peerId=e.peerId,this.log=e.logger.forComponent(`${r}:query-self`),this.started=!1,this.peerRouting=n,this.routingTable=a,this.count=o??Np,this.interval=i??3e5,this.initialInterval=t.initialInterval??1e3,this.queryTimeout=s??5e3,this.initialQuerySelfHasRun=t.initialQuerySelfHasRun}isStarted(){return this.started}start(){this.started||(this.started=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.querySelf().catch((e=>{this.log.error("error running self-query",e)}))}),this.initialInterval))}stop(){this.started=!1,null!=this.timeoutId&&clearTimeout(this.timeoutId),null!=this.controller&&this.controller.abort()}async querySelf(){if(this.started){if(null!=this.querySelfPromise)return this.log("joining existing self query"),this.querySelfPromise.promise;if(this.querySelfPromise=(0,A.A)(),this.started){this.controller=new AbortController;const e=AbortSignal.timeout(this.queryTimeout),t=a([this.controller.signal,e]);this.controller.signal;try{0===this.routingTable.size&&(this.log("routing table was empty, waiting for some peers before running query"),await Im(this.routingTable,"peer:add",{signal:t})),this.log("run self-query, look for %d peers timing out after %dms",this.count,this.queryTimeout);const e=Date.now(),n=await(0,F.F)(this.peerRouting.getClosestPeers(this.peerId.toBytes(),{signal:t,isSelfQuery:!0}),(e=>U(e,this.count)),(async e=>km(e)));this.log("self-query found %d peers in %dms",n,Date.now()-e)}catch(e){this.log.error("self-query error",e)}finally{t.clear(),null!=this.initialQuerySelfHasRun&&(this.initialQuerySelfHasRun.resolve(),this.initialQuerySelfHasRun=void 0)}}this.querySelfPromise.resolve(),this.querySelfPromise=void 0,this.started&&(this.timeoutId=setTimeout((()=>{this.querySelf().catch((e=>{this.log.error("error running self-query",e)}))}),this.interval))}else this.log("skip self-query because we are not started")}}function Rm(e,t){if(!(t instanceof Uint8Array))throw new TypeError(e+" is not a Uint8Array");if(32!==t.byteLength)throw new TypeError(e+" had incorrect length")}function Cm(e){return Array.isArray(e?.peers)}class Tm extends l{root;localPeer;prefixLength;splitThreshold;kBucketSize;numberOfNodesToPing;constructor(e){super(),this.localPeer=e.localPeer,this.prefixLength=e.prefixLength,this.kBucketSize=e.kBucketSize??Pm,this.splitThreshold=e.splitThreshold??this.kBucketSize,this.numberOfNodesToPing=e.numberOfNodesToPing??3,Rm("options.localPeer.kadId",e.localPeer.kadId),this.root={prefix:"",depth:0,peers:[]}}add(e){Rm("peer.kadId",e?.kadId);const t=this._determineBucket(e.kadId);if(!(this._indexOf(t,e.kadId)>-1))return t.peers.length===this.splitThreshold&&t.depth<this.prefixLength?(this._split(t),void this.add(e)):t.peers.length<this.kBucketSize?(t.peers.push(e),void this.safeDispatchEvent("added",{detail:e})):void this.safeDispatchEvent("ping",{detail:{oldContacts:t.peers.slice(0,this.numberOfNodesToPing),newContact:e}})}*closest(e,t=this.kBucketSize){const n=new vm(e,t);for(const e of this.toIterable())n.addWitKadId({id:e.peerId,multiaddrs:[]},e.kadId);yield*(0,L.A)(n.peers,(e=>e.id))}count(){return function e(t){if(Cm(t))return t.peers.length;let n=0;return null!=t.left&&(n+=e(t.left)),null!=t.right&&(n+=e(t.right)),n}(this.root)}get(e){const t=this._determineBucket(e),n=this._indexOf(t,e);return t.peers[n]}remove(e){const t=this._determineBucket(e),n=this._indexOf(t,e);if(n>-1){const e=t.peers.splice(n,1)[0];this.safeDispatchEvent("removed",{detail:e})}}*toIterable(){yield*function*e(t){Cm(t)?yield*t.peers:(yield*e(t.left),yield*e(t.right))}(this.root)}distance(e,t){return BigInt("0x"+(0,ge.d)(gm(e,t),"base16"))}_determineBucket(e){const t=(0,ge.d)(e,"base2").substring(0,this.prefixLength);return function e(n,r=0){return Cm(n)?n:e("0"===t[r]?n.left:n.right,r+1)}(this.root)}_indexOf(e,t){return e.peers.findIndex((e=>function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}(e.kadId,t)))}_split(e){const t=e.depth+1,n={prefix:"0",depth:t,peers:[]},r={prefix:"1",depth:t,peers:[]};for(const o of e.peers)"0"===(0,ge.d)(o.kadId,"base2")[t]?n.peers.push(o):r.peers.push(o);delete e.peers,e.left=n,e.right=r}}const Pm=20;class Dm extends l{kBucketSize;kb;pingQueue;log;components;prefixLength;splitThreshold;pingTimeout;pingConcurrency;running;protocol;tagName;tagValue;metrics;constructor(e,t){super(),this.components=e,this.log=e.logger.forComponent(`${t.logPrefix}:routing-table`),this.kBucketSize=t.kBucketSize??Pm,this.pingTimeout=t.pingTimeout??1e4,this.pingConcurrency=t.pingConcurrency??10,this.running=!1,this.protocol=t.protocol,this.tagName=t.tagName??"kad-close",this.tagValue=t.tagValue??50,this.prefixLength=t.prefixLength??32,this.splitThreshold=t.splitThreshold??Pm,this.pingQueue=new k({concurrency:this.pingConcurrency,metricName:`${t.logPrefix.replaceAll(":","_")}_ping_queue`,metrics:this.components.metrics}),this.pingQueue.addEventListener("error",(e=>{this.log.error("error pinging peer",e.detail)})),null!=this.components.metrics&&(this.metrics={routingTableSize:this.components.metrics.registerMetric(`${t.logPrefix.replaceAll(":","_")}_routing_table_size`),routingTableKadBucketTotal:this.components.metrics.registerMetric(`${t.logPrefix.replaceAll(":","_")}_routing_table_kad_bucket_total`),routingTableKadBucketAverageOccupancy:this.components.metrics.registerMetric(`${t.logPrefix.replaceAll(":","_")}_routing_table_kad_bucket_average_occupancy`),routingTableKadBucketMaxDepth:this.components.metrics.registerMetric(`${t.logPrefix.replaceAll(":","_")}_routing_table_kad_bucket_max_depth`)})}isStarted(){return this.running}async start(){this.running=!0;const e=new Tm({localPeer:{kadId:await sm(this.components.peerId),peerId:this.components.peerId},kBucketSize:this.kBucketSize,prefixLength:this.prefixLength,splitThreshold:this.splitThreshold,numberOfNodesToPing:1});this.kb=e,e.addEventListener("ping",(e=>{this._onPing(e).catch((e=>{this.log.error("could not process k-bucket ping event",e)}))}));let t=0;for(const e of await this.components.peerStore.all())if(e.protocols.includes(this.protocol)){const n=await sm(e.id);this.kb.add({kadId:n,peerId:e.id}),t++}this.log("added %d peer store peers to the routing table",t),this._tagPeers(e)}async stop(){this.running=!1,this.pingQueue.clear(),this.kb=void 0}_tagPeers(e){let t=new Cl;const n=function(e,t=100){let n;return()=>{clearTimeout(n),n=setTimeout((()=>{e()}),t)}}((()=>{const n=new Cl(e.closest(e.localPeer.kadId,Pm)),r=n.difference(t),o=t.difference(n);Promise.resolve().then((async()=>{for(const e of r)await this.components.peerStore.merge(e,{tags:{[this.tagName]:{value:this.tagValue}}});for(const e of o)await this.components.peerStore.merge(e,{tags:{[this.tagName]:void 0}})})).catch((e=>{this.log.error("Could not update peer tags",e)})),t=n}));e.addEventListener("added",(e=>{n(),this.safeDispatchEvent("peer:add",{detail:e.detail.peerId})})),e.addEventListener("removed",(e=>{n(),this.safeDispatchEvent("peer:remove",{detail:e.detail.peerId})}))}async _onPing(e){if(!this.running)return;const{oldContacts:t,newContact:n}=e.detail,r=await Promise.all(t.map((async e=>{const t=this.pingQueue.find(e.peerId);return null!=t?t.join():this.pingQueue.add((async()=>{let t;try{const n={signal:AbortSignal.timeout(this.pingTimeout)};this.log("pinging old contact %p",e.peerId);const r=await this.components.connectionManager.openConnection(e.peerId,n);t=await r.newStream(this.protocol,n);const o=Of(t);await o.write({type:Up.PING},Hp,n);const i=await o.read(Hp,n);if(await o.unwrap().close(),i.type!==Up.PING)throw new h(`Incorrect message type received, expected PING got ${i.type}`,"ERR_BAD_PING_RESPONSE");return!0}catch(n){return this.running&&null!=this.kb&&(this.log.error("could not ping peer %p",e.peerId,n),this.log("evicting old contact after ping failed %p",e.peerId),this.kb.remove(e.kadId)),t?.abort(n),!1}finally{this.metrics?.routingTableSize.update(this.size)}}),{peerId:e.peerId})}))),o=r.filter((e=>e)).length;this.running&&o<t.length&&null!=this.kb&&(this.log("adding new contact %p",n.peerId),this.kb.add(n))}get size(){return null==this.kb?0:this.kb.count()}async find(e){const t=await sm(e);return this.kb?.get(t)?.peerId}closestPeer(e){const t=this.closestPeers(e,1);if(t.length>0)return t[0]}closestPeers(e,t=this.kBucketSize){return null==this.kb?[]:[...this.kb.closest(e,t)]}async add(e){if(null==this.kb)throw new Error("RoutingTable is not started");const t=await sm(e);this.kb.add({kadId:t,peerId:e}),this.log("added %p with kad id %b",e,t),this.updateMetrics()}async remove(e){if(null==this.kb)throw new Error("RoutingTable is not started");const t=await sm(e);this.kb.remove(t),this.updateMetrics()}updateMetrics(){if(null==this.metrics||null==this.kb)return;let e=0,t=0,n=0;!function r(o){if(Cm(o))return o.depth>n&&(n=o.depth),t++,void(e+=o.peers.length);r(o.left),r(o.right)}(this.kb.root),this.metrics.routingTableSize.update(e),this.metrics.routingTableKadBucketTotal.update(t),this.metrics.routingTableKadBucketAverageOccupancy.update(Math.round(e/t)),this.metrics.routingTableKadBucketMaxDepth.update(n)}}const Om=[77591,22417,43971,28421,740,29829,71467,228973,196661,78537,27689,36431,44415,14362,19456,106025,96308,2882,49509,21149,87173,131409,75844,23676,121838,30291,17492,2953,7564,110620,129477,127283,53113,72417,165166,109690,21200,102125,24049,71504,90342,25307,72039,26812,26715,32264,133800,71161,88956,171987,51779,24425,16671,30251,186294,247761,14202,2121,8465,35024,4876,85917,169730,3638,256836,96184,943,18678,6583,52907,35807,112254,214097,18796,11595,9243,23554,887,268203,382004,24590,111335,11625,16619,29039,102425,69006,97976,92362,32552,63717,41433,128974,137630,59943,10019,13986,35430,33665,108037,43799,43280,38195,29078,58629,18265,14425,46832,235538,40830,77881,110717,58937,3463,325358,51300,47623,117252,19007,10170,20540,91237,294813,4951,79841,56232,36270,128547,69209,66275,100156,32063,73531,34439,80937,28892,44466,88595,216307,32583,49620,16605,82127,45807,21630,78726,20235,40163,111007,96926,5567,72083,21665,58844,39419,179767,48328,42662,51550,5251,37811,49608,81056,50854,55513,20922,18891,197409,164656,32593,71449,220474,58919,85682,67854,13758,35066,3565,61905,214793,119572,141419,21504,10302,27354,67003,46131,32668,15165,64871,34450,17821,2757,11452,34189,5160,12257,85523,560,53385,65887,119549,135620,312353,115979,122356,10867,193231,124537,54783,90675,120791,4715,142253,50943,17271,43358,25331,4917,120566,34580,12878,33786,160528,32523,4869,301307,104817,81491,23276,8832,97911,31265,52065,7998,49622,9715,43998,34091,84587,20664,69041,29419,53205,10838,58288,116145,6185,5154,141795,35924,21307,144738,43730,12085,8279,10002,119,133779,199668,72938,31768,39176,67875,38453,9700,44144,4121,116048,41733,12868,82669,92308,128,34262,11332,7712,90764,36141,13553,71312,77470,117314,96549,49135,23602,54468,28605,6327,62308,17171,67531,21319,14105,894,107722,46157,8503,51069,100472,45138,15246,14577,35609,191464,1757,13364,161349,32067,91705,81144,52339,5408,91066,21983,14157,100545,4372,26630,129112,1423,29676,213626,4397,88436,99190,6877,49958,26122,114348,60661,29818,293118,50042,179738,16400,163423,89627,31040,43973,36638,45952,5153,1894,109322,1898,134021,12402,112077,68309,190269,69866,31938,107383,11522,105232,11248,14868,39852,71707,186525,16530,38162,106212,11700,5130,16608,26998,59586,108399,230033,43683,48135,82179,2073,5015,196684,189293,16378,23452,8301,35640,11632,214551,29240,57644,33137,91949,55157,52384,117313,5090,17717,89668,49363,82238,241035,66216,29066,184088,97206,62820,26595,4241,135635,173672,8202,459,71355,146294,29587,3008,135385,141203,14803,6634,45094,69362,50925,546,51884,62011,83296,234584,44515,56050,89476,87751,19373,12691,149923,19794,13833,35846,87557,58339,2884,19145,25647,12224,11024,77338,64608,122297,53025,7205,36189,36294,170779,21750,7739,173883,75192,35664,224240,113121,30181,26267,27036,117827,92015,106516,55628,203549,67949,60462,60844,35911,20457,1820,920,19773,8738,73173,181993,38521,98254,76257,46008,92796,5384,26868,151566,22124,2411,15919,186872,180021,28099,152961,78811,80237,62352,102653,74259,184890,16792,123702,224945,29940,19512,75283,14059,112691,92811,233329,20411,138569,53341,109802,50600,134528,66747,5529,166531,31578,64732,67189,1596,126357,967,167999,206598,109752,119431,207825,78791,91938,10301,27311,24233,252343,28831,32812,66002,112267,90895,8786,8095,16824,22866,21813,60507,174833,19549,130985,117051,52110,6938,81923,123864,38061,919,18680,53534,46739,112893,161529,85429,26761,11900,81121,91968,15390,217947,56524,1713,6654,37089,85630,138866,61850,16491,75577,16884,98296,73523,6140,44645,6062,36366,29844,57946,37932,42472,5266,20834,19309,33753,127182,134259,35810,41805,45878,312001,14881,47757,49251,120050,44252,3708,25856,107864,120347,1228,36550,41682,34496,47025,8393,173365,246526,12894,161607,35670,90785,126572,2095,124731,157033,58694,554,12786,9642,4817,16136,47864,174698,66992,4639,69284,10625,40710,27763,51738,30404,264105,137904,109882,52487,42824,57514,2740,10479,146799,107390,16586,88038,174951,9410,16185,44158,5568,40658,46108,12763,97385,26175,108859,664,230732,67470,46663,14395,50750,141320,93140,15361,47997,55784,6791,307840,118569,107326,18056,58281,260415,54691,8790,73332,45633,7511,45674,143373,14031,11799,94491,35646,96544,14560,26049,32983,25791,83814,42094,231370,63955,139212,2359,169908,3108,183486,105867,28197,32941,124968,26402,88267,149768,23053,3078,19091,52924,25383,19209,111548,97361,3959,24880,235061,9099,24921,161254,151405,20508,7159,34381,20133,11434,74036,19974,34769,36585,1076,22454,17354,38727,235160,111547,96454,117448,156940,91330,37299,7310,26915,117060,51369,22620,61861,322264,106850,111694,15091,2624,40345,300446,177064,1707,27389,54792,327783,132669,183543,59003,17744,20603,151134,106923,53084,71803,279424,319816,11579,21946,16728,38274,72711,5085,83391,88646,40159,25027,34680,10752,12988,54126,30365,18338,100445,230674,44874,84974,143877,123253,139372,28082,91477,144002,13096,219729,46016,50029,42377,14601,6660,58244,58978,23918,88206,113611,64452,17541,41032,10942,12021,49189,10978,40175,37156,10947,71709,106894,112538,57007,137486,150608,152719,40615,7746,279716,13101,19524,28708,40578,72320,1096,182051,94527,51275,22833,45164,81917,77519,48508,5421,140302,37845,149830,5587,27579,5357,428725,248187,6326,206760,39814,32585,89923,44341,288753,284443,96368,31201,94189,119504,20359,52073,103216,179,27934,32801,96035,34111,34309,101326,18198,20704,210266,37643,27880,141873,106e3,19414,56614,167714,66483,107885,86602,4379,20796,75467,4987,5017,118857,26003,34308,114428,29198,6686,29697,73632,3739,69795,16798,41504,7207,30722,21436,36735,28067,28545,3239,11221,36031,41889,100010,19247,317673,29495,174554,6424,129725,53845,94986,7955,59676,2604,191497,19735,102214,62954,23844,11872,179525,261436,34492,428,78404,142035,16747,17246,27578,37021,33672,57944,26056,135760,2369,61674,122066,31327,19374,157065,40553,130982,69619,71290,38855,72100,92903,95940,51422,165999,65713,57873,50726,7288,20272,2081,42326,22624,81120,57914,79352,19447,1684,72302,11774,302559,161481,96396,13692,414988,3721,79066,56627,46883,21150,11747,12184,5856,113458,176117,84416,52079,27933,3354,59765,141359,2212,216309,2555,23458,196722,142463,45701,44548,28798,19418,215,29916,9396,10574,114226,84475,13520,18694,34056,4524,90302,62930,13539,19407,77209,7728,38088,9535,2263,23875,183945,17750,26274,67172,10585,28042,22199,7478,51331,66030,26774,192929,31434,25850,50197,52926,178158,4679,181256,70184,229600,9959,105594,72158,73974,2726,35085,78087,23284,35568,51713,155676,5401,27254,11966,17569,223253,71993,103357,111477,55722,30504,26034,46774,35392,36285,214814,41143,163465,1051,16094,81044,6636,76489,179102,20712,39178,35683,125177,54219,30617,52994,25324,50123,2543,87529,58995,10688,125199,12388,60158,125481,131646,7642,133350,65874,3438,97277,101450,10075,56344,116821,50778,60547,98016,106135,13859,14255,16300,77373,173521,8285,45932,37426,4054,114295,55947,7703,39114,52,51119,128135,19714,60715,9554,50492,88180,2823,118271,52993,122625,97919,23859,37895,25040,33614,32102,20431,3577,9275,15686,43031,157741,110358,1884,40291,125391,13736,5008,64881,87336,77381,70711,43032,49155,118587,70494,4318,10168,30126,12580,10524,280104,104001,145413,2862,84140,6603,106005,13566,12780,11251,42830,571,179910,82443,13146,469,42714,32591,265217,424024,92553,54721,134100,6007,15242,114681,59030,16718,85465,200214,85982,55174,165013,23493,56964,82529,109150,32706,27568,82442,5350,14976,13165,44890,60021,21343,33978,17264,4655,22328,27819,75730,16567,55483,14510,17926,45827,150609,3704,7385,272531,161543,76904,122163,52405,2039,19165,41623,14423,228354,3369,176360,85491,7122,35789,303724,4465,13628,2233,55311,118771,20713,10006,221519,45115,71021,35650,29775,7337,10864,20665,21142,1746,15080,1624,32449,10905,105743,229797,7701,3940,22997,178467,57208,389057,39683,59403,63344,63125,54847,69691,18336,56448,3362,37202,18282,29648,138224,35867,10495,5911,28814,26653,31514,176702,26550,45621,11734,4525,40543,73944,121080,27858,155561,14887,44670,30742,8796,107455,113472,56369,75581,183777,240095,133699,153299,8768,160464,26058,49078,103971,21875,71486,44888,17156,9678,89541,123019,102337,3972,83930,21245,87852,109660,287918,183019,686,10100,39177,283941,11274,24736,26793,26214,25995,77011,141580,4070,23742,46285,46632,30700,26669,19056,35951,115575,174034,56097,35463,87425,24575,44245,38701,82317,85922,281616,100333,147697,61503,7730,84330,8530,59917,61597,17173,9092,32658,90288,193136,39023,20381,56654,31132,7779,1919,1375,117128,30819,11169,40938,23935,115201,101155,151034,4835,11231,74550,89388,59951,91704,107312,167882,115062,12732,72738,88703,464019,158267,57995,60496,737,14371,123867,4174,243339,159946,7568,16025,134556,110916,38103,191,80226,88794,29688,27230,10454,76308,57647,77409,113483,66864,14745,19808,12023,46583,84805,16015,17102,2231,20611,3547,95740,250131,34559,108894,8498,15853,159169,148920,20942,2813,93160,45188,210613,45531,52587,149062,39782,28194,57849,60965,84954,89766,84453,100927,16501,27658,165311,103841,54192,207341,19558,20084,319622,5672,205467,98462,61849,36279,13609,147177,24726,165015,209489,59591,31157,6551,117580,75060,141146,277310,21072,22023,106474,63041,137443,122965,68371,5383,42146,98961,113467,30863,23794,4843,99630,30392,82679,13699,241612,33601,93146,24319,18643,32155,95669,40440,15333,34089,67799,142144,58245,38633,114531,117400,77861,188726,5507,2568,8853,10987,107222,2663,2421,11530,13345,30075,41785,118661,104786,17459,12490,16281,71936,193555,17431,5944,71758,26485,77317,20803,367167,158,7362,93430,11735,172445,46002,11532,54482,930,62911,2235,23004,179236,4764,101859,208113,22477,55163,95579,14098,67320,162556,90709,156949,3826,57492,4025,34092,87442,104565,6718,186015,28214,14209,10039,107186,233912,58877,81637,55265,39828,6194,145813,50831,105849,4974,88319,122296,10272,197216,95714,51540,72418,23324,91555,8743,140452,250249,51666,34124,7229,38592,129641,78169,174242,22464,149964,51450,14034,10026,95376,26190,120062,14401,8700,265,31386,143573,7203,229889,61567,4227,140981,2466,72052,10787,10062,30958,6099,38471,30103,23202,208101,70847,467,58934,32271,32984,36637,24107,30771,17109,73353,13650,2098,157040,67366,66904,106018,265380,107238,18535,44025,32681,144983,62505,91295,56120,3082,77508,10322,63023,36700,81885,224127,16721,45023,239261,111272,13852,7866,149243,204199,32309,22084,42029,38316,126644,104973,14406,43454,67322,61310,15789,40285,24026,181047,6301,70927,23319,115823,27248,66693,115875,278566,63007,146844,56841,59007,87368,180001,22370,42114,80605,12022,10374,308,25079,14689,12618,63368,7936,264973,212291,136713,95999,105801,18965,32075,48700,52230,35119,96912,32992,8586,16606,101333,101812,14969,39930,759,193090,27387,42914,12937,5058,62646,64528,38624,25743,37502,3716,4435,30352,178687,26461,132611,42002,138442,35833,59582,16345,8048,60319,49349,309,47800,49739,90482,26405,34470,63786,32479,85028,39866,47846,11649,23934,29466,2816,42864,31828,7410,74885,49632,47629,111801,90749,19536,18767,105764,59606,21223,10746,76298,22220,39408,7190,79654,64856,11602,82156,272765,17079,70089,245473,51813,184407,384678,1576,122249,5064,27481,6188,25790,74361,27541,318284,45430,31488,620,93579,45723,192118,22670,51913,4162,70244,35966,26397,16199,50899,209613,121702,287507,2993,36101,132229,67345,33062,76295,118628,78705,52316,34375,107083,107454,44863,127561,33964,3073,154010,190914,55967,39074,6272,31047,5550,41123,26154,98638,47110,19998,148091,50229,31329,59900,195442,19106,61347,73497,70015,682,45850,25776,38022,148951,6288,37411,232526,109277,27286,32342,9262,5220,16651,23175,46740,129438,78614,121925,66914,88710,127952,5563,21500,34521,10739,14863,191006,62956,17359,16749,67027,56284,69134,43301,35039,58883,54466,60823,404451,75743,59856,86979,7923,34273,83785,32142,7693,268986,197428,282681,17049,22346,22990,92245,107180,3357,37104,96724,49153,7683,31197,43267,82231,164276,23696,20848,188364,22309,24821,158707,1018,22514,70922,27792,45589,59709,10765,736,35218,63479,51987,24275,63588,55361,92929,81964,4658,20122,12330,44058,13065,311456,72224,8337,211229,38979,22590,138478,52757,32595,133600,8838,31549,94412,43391,90056,1585,94802,127271,6223,31889,137038,132910,2165,57616,230152,6080,10748,36737,74579,134062,50525,180532,119270,34556,76155,82394,52595,29258,31435,87820,67996,26943,183878,38007,2410,13526,180297,69856,3503,187396,167700,7838,16701,9199,56267,3661,37407,65994,23767,5708,62508,221700,67088,86978,46776,84434,32088,5612,9149,88244,21685,95151,46750,189612,2979,506311,2594,3628,40074,105039,78243,28523,6651,38058,71999,30992,12764,68261,108991,6165,26450,61961,13400,22426,7490,60890,109623,2070,12958,50355,67979,257096,7213,42578,52121,35716,65461,7516,124758,39268,302,64712,14977,1467,219452,2840,34229,11121,21602,19270,63574,8024,1532,17331,79839,78885,52029,180767,57957,6069,91265,61380,55767,8927,32881,287603,22149,35029,68876,6428,199567,46926,13412,104132,21434,366616,45060,110046,81924,128910,45886,52821,130416,29416,77342,21762,67329,121432,79924,11724,38625,81006,102033,28338,13326,3250,82056,82526,38212,21112,12382,111495,3263,7414,86274,93490,40844,30224,45212,24019,48411,71367,24941,76729,57776,3769,38114,202019,197745,31953,237533,33270,201580,255648,100798,44741,32241,98468,106931,10085,15090,170358,33154,66787,18819,69760,25061,234005,82660,6295,131975,16874,9076,4094,25005,17740,40908,19533,220019,44330,99792,50040,19619,13950,55228,24423,31253,95308,103177,184795,28590,82285,5059,3210,75525,49894,70007,56178,10580,36051,139681,21617,98736,3555,106306,164189,37352,63915,47824,24883,145530,61904,28444,11483,19837,145446,30420,112972,85939,11835,191233,2262,20705,58630,1753,148334,1197,144714,6887,11223,107667,60879,77914,4151,57417,81594,96681,169430,1784,20444,95138,254041,27038,596,7117,72808,13759,3353,126776,21074,55322,27081,36942,39547,139830,179275,4453,713,8722,71399,19204,25785,22794,23923,104114,11291,25458,102309,88396,75288,230440,206396,104551,58447,130857,37247,94734,31548,176529,226077,65159,20104,10096,66881,94191,237909,27109,37404,1520,27421,25220,113003,23423,24884,50585,6286,231877,150800,11789,3226,90004,60642,5053,202400,61442,132531,175329,57138,30116,103847,9973,75367,16452,32360,59119,21246,10191,164804,23305,61051,37348,154530,13214,5468,50403,66754,130976,50559,80515,14436,155492,84017,5472,43107,41240,2890,90431,70188,382,76234,48040,50211,281038,237007,32115,142178,1536,22761,96429,1811,31243,1679,49143,55209,17402,235054,61494,7462,77030,34925,87609,78002,9499,9027,73289,201078,101379,63544,27666,5469,10642,30029,49816,132979,95620,58086,351930,116300,2110,2043,30845,6154,11279,16727,4122,2277,27281,4971,3650,39060,61970,65951,39674,75686,38151,11370,130809,177895,32665,63725,122267,7857,39618,118483,44792,157755,178624,136994,24260,41308,22471,12404,21707,12486,30473,52781,50246,20247,39065,909,56825,103158,128603,31542,1089,41935,32744,12428,37963,84420,33134,72921,208449,42622,168151,127335,147107,46699,38216,12591,94342,85814,31423,24944,2605,87542,67473,192551,4496,56321,91819,17630,6300,256183,114569,202090,33209,35289,34897,24967,40520,43470,5344,10199,34810,14283,10381,10017,62923,49924,23233,64539,13051,35686,19698,11570,135555,120868,44924,87065,52318,52335,47586,140906,245885,109834,78668,9065,46990,25258,72022,61243,40838,4545,146387,10537,11557,17470,36930,68104,46711,24264,79401,81043,18225,120488,24746,84338,81652,28266,13776,21878,46973,1047,230465,73357,95777,24973,210160,62210,58404,110633,169651,6937,41870,9909,26822,191062,76553,27519,96256,239070,2478,205678,67955,58532,20601,50120,19148,78501,195724,110740,8249,109665,27446,30568,57631,31425,49752,32820,65504,50079,3663,102256,219898,23849,211315,14645,4359,91767,9528,12449,49366,7941,49763,107848,8930,27086,50686,9744,10447,81935,39513,46514,1670,29229,6172,22312,137280,97759,9806,14445,22976,56458,73391,34983,93760,174219,52573,33149,59747,2429,136277,75123,165263,91040,7446,57632,48633,97140,246081,84766,151684,79918,93268,120346,54059,54875,77858,32996,103590,45276,11968,19600,25849,17159,132907,42828,16817,4913,99462,103303,27395,5737,74184,20749,21160,14377,77062,131403,158735,10999,27799,77785,9320,34366,51593,61070,33746,47048,29268,36675,30262,53297,9832,82e3,20188,122292,39917,7331,18160,68301,185935,134830,15031,4935,10004,165845,185534,46923,30109,44134,122631,18874,22903,112790,26561,18549,348902,82871,140345,255565,135390,63556,103747,145055,179600,145662,296111,61661,211987,23952,52342,126343,48450,32919,44277,82185,9591,62139,205363,376969,394874,108461,18040,120885,14798,39863,16571,16794,58271,81025,55206,14640,118656,6361,44092,85970,6262,153863,108244,180200,72264,79947,38044,10050,5735,61221,80712,5471,115689,11391,11661,184257,20010,60116,30320,19327,134598,45455,27542,18004,125092,452272,1549,91523,46567,180063,156026,2608,11174,58848,37788,65907,80194,30490,5786,40775,119519,106241,11323,156297,8425,61495,2617,29675,2425,59886,112582,49142,59618,4863,50597,86710,50650,168632,27693,85641,83643,18993,25768,84284,28090,93592,36627,312804,43381,9887,9402,100931,97165,3311,173330,66805,28935,4963,184460,3201,78102,19126,21607,37496,24938,22615,16153,32862,134792,153318,61120,6067,2812,12826,12792,23825,37559,64662,202250,102694,155488,85881,149193,46233,65383,15521,106982,11358,176786,25752,39717,34208,24510,32464,77742,39371,72028,138229,60688,71386,102834,132477,2208,11548,63670,271279,28351,30338,38620,32491,99845,143885,152266,13252,2825,178663,108097,1775,78201,14897,113573,163346,62292,171129,22183,96598,38733,64971,166776,117445,9968,146393,44677,74867,20908,97328,12761,25656,26785,9148,112344,26115,99176,110121,22437,49547,6180,79320,5835,31392,43328,33377,75870,119860,69497,80273,7325,155219,43167,111173,28347,20222,3763,71752,55041,47252,14618,28088,15012,97805,194698,54636,2036,41349,6173,96604,61530,51859,43782,13361,24334,22668,24792,7070,23441,16789,3209,36211,208475,26242,32880,122181,182407,21444,31060,88459,29929,77907,12716,10934,97005,20599,31690,8403,58445,30303,22700,10336,86731,103115,337709,72556,46788,112566,47684,67089,53548,36874,56487,41387,125985,26893,40071,106683,73712,18787,40105,72992,67246,137276,50802,36790,70328,138827,22466,39263,183295,29858,50975,9322,57397,10654,24364,30383,55799,41600,23584,127295,296610,129078,143558,244131,86397,36049,1085,80677,3820,108139,5476,34767,24683,7758,13060,7239,131671,250593,59556,103392,29810,4188,252323,39404,116877,7651,43600,40338,13554,157253,39196,25978,144387,61211,234,50104,6129,10449,93777,9240,356378,274148,4439,72970,3724,147770,78680,62570,115877,40027,40547,36817,224392,64609,34795,165027,67440,2477,37206,23431,50754,164797,46018,94995,170982,27051,7957,22767,3674,27900,56419,18930,60701,41302,2692,84749,339721,61996,111094,80221,50129,1045,8153,62945,19202,8250,37208,37418,32560,79477,41106,88569,33963,36693,5892,30570,1581,66471,49647,11922,160717,29442,5643,114865,82962,95982,132098,22633,22838,94726,54556,28566,205039,162340,33216,16849,35847,221339,94851,26533,71469,1805,3804,12935,45483,71020,36310,65381,192960,34240,35165,59773,1248,46954,155332,96864,4246,388800,16129,57133,74592,44807,442014,38203,42574,80818,91592,26377,36424,65760,977,77387,22628,147610,28018,30561,98454,6969,119628,63648,18170,36854,26601,64018,22027,37279,51395,152934,21153,9430,58760,194742,5330,55115,34158,28917,174111,13171,122326,1526,43896,66094,25325,4234,148354,11450,275,18999,112191,44365,22723,68409,8733,57746,96565,75007,14196,108844,29475,88599,177563,100792,106156,86323,93726,14248,135341,194131,40126,47099,14779,8272,39597,95983,171398,65882,28052,10393,47213,40689,22120,72212,106829,34964,109146,753,648,21660,30047,17527,181025,5619,145357,4085,216883,9359,186951,24779,53931,24545,36197,223296,62628,168101,4243,107313,30321,26642,13049,51059,31027,107912,807,73550,26551,84369,122422,165872,49754,74213,234264,33151,52014,33100,87183,22365,52500,40013,23302,5652,72723,21404,26107,48434,587,94049,168493,96418,32871,70860,31709,25128,443,71597,166253,15670,70994,26341,133675,28280,75491,54756,47955,56028,26182,11952,113272,472197,64640,110753,17919,337,50642,22576,142,87371,53391,93210,126694,15285,19642,85667,14148,1506,42092,52962,33243,11970,20734,135843,57044,58880,13002,219134,22876,64754,232519,4257,43120,321573,24799,64526,124728,52579,81472,70831,276848,17403,74359,23021,182101,74597,23744,148267,12055,7976,5349,11772,67540,167347,65318,18720,127832,108238,22828,90233,9987,259080,118185,73209,79270,13775,90100,137742,90799,70569,15699,19961,9087,67475,57872,39731,8810,134897,131868,146849,19898,3334,2281,167061,91073,60356,467742,74712,188,53179,137679,92769,29241,9537,132595,80119,1041,88962,5976,40171,44911,102859,139059,104558,98987,47761,19272,71472,113864,175377,73338,10857,23402,23758,1591,139864,5644,4076,118760,16427,134198,18853,20291,100849,37423,22038,36677,19071,195521,57445,11069,31869,55718,66882,148490,44,41296,75242,49704,166810,9906,20943,122258,49112,105667,15969,10344,6408,187694,21399,72742,58970,14867,14376,81889,41856,23225,15042,56993,16074,131389,74276,72407,53875,383108,53597,37363,68993,44854,122548,430927,198279,38430,80409,12245,2981,628,2818,17760,37437,238229,7968,46892,2200,3730,34190,65983,37959,112291,87850,70827,6522,20750,73913,111621,41652,19587,2780,58668,25916,85259,18200,168962,95781,42445,102050,7776,57662,103313,47742,96358,41964,66174,100396,29069,204735,19679,27978,7479,40264,22534,61183,36081,107436,58223,14680,23002,101311,24716,124108,12908,5646,31750,40380,14215,232799,102772,14122,96775,61398,50917,12096,149880,67833,598749,124194,155871,49216,790,14677,65319,56917,7440,145744,95701,12206,49405,129269,76199,45732,9767,11058,9047,210885,11051,7392,26307,2130,8132,147526,20802,232698,115660,50060,59789,57344,107623,80343,112676,23291,9866,160971,34032,118291,15719,59730,164911,28975,2659,58046,78480,21854,66209,53863,109085,116045,29021,46481,107552,22130,18764,70254,31272,11300,52460,43933,84738,20721,53869,190840,79673,105300,7561,321817,66924,13940,33281,101046,183181,32176,71878,5678,62924,79535,56646,40303,19559,27703,93042,73368,42187,3670,37376,46440,7023,36816,109628,20680,5940,276440,275233,170848,112093,136996,14984,20226,111441,77693,112960,48577,39370,55707,50314,123404,26570,54281,61372,123391,4857,35928,246740,132507,106646,44241,7196,92258,9825,37688,51197,303141,5590,15476,132986,10955,85782,34486,26696,7991,28813,18858,39546,11703,11365,38185,5716,93555,11925,40121,60002,6985,10976,171384,3887,43394,13337,56346,6381,252336,39573,75042,53711,1028,31781,44295,95925,131713,7214,68125,43571,70954,213234,1628,8760,13391,65485,17320,56038,1710,25248,60803,57399,19839,3870,326,281556,50945,72400,21460,316244,75619,56246,98775,481,13513,55765,50427,7388,123519,32929,57908,27124,61316,101097,57467,30228,48792,10788,20402,37318,50526,155730,34456,158065,145305,17832,43733,64052,4506,35072,205355,177028,184004,187081,68616,35938,83703,10367,36892,93186,260137,51934,89970,4985,23445,26755,21558,7948,78741,23376,124405,85594,68596,57536,49351,12619,56593,132668,99924,109728,71844,71935,196018,65464,17617,14987,89701,143773,33997,8687,22701,33258,2914,4436,72108,85610,9671,49067,2327,82988,1361,1672,44033,35777,30269,24057,10605,82236,616,15793,13919,47249,112086,116698,9484,80207,90574,33304,68624,93127,56101,42210,160929,4827,38995,38095,4701,125119,5027,33680,9236,231236,14135,87837,23318,70261,78893,30151,81482,14332,1084,74256,27532,46644,79185,3148,62615,6981,55672,31668,36825,1849,14536,37446,14738,23779,43058,162749,72199,1168,21346,5592,85932,85302,9668,18351,57135,150360,2080,228015,77953,34670,119302,151751,31009,106725,84265,45214,59289,74178,113071,263206,111009,4021,44449,188119,192629,123592,392506,292847,114487,12831,205858,9852,20780,79648,75767,357014,97721,18166,21005,67950,33226,204009,16536,2987,11335,66717,144910,47950,17262,55060,15063,2934,51038,26775,178497,66008,3427,49433,128592,20036,157553,63861,3089,23015,51210,28696,35933,49942,71135,231518,99620,17248,21835,176536,20676,16944,38700,165831,233253,295625,36723,13023,52745,10907,19423,67972,125868,95473,82875,1183,108455,52685,33417,64095,21433,52438,33191,127809,44505,211823,7810,2752,95548,162031,7185,91196,47563,61721,33359,17897,23682,42806,178101,22874,49707,199897,75419,82456,8618,11171,79712,116847,18783,44190,46564,5346,59046,95032,7893,14916,3214,26800,24172,121453,34362,10250,17408,18888,4840,68696,22831,13162,36005,32512,14800,62357,41723,45046,27247,37486,5372,2564,34261,298500,66509,133920,89138,31305,117697,19097,108304,81386,84106,23802,46411,63304,946,51417,41777,41041,19501,115864,60743,294354,37955,94165,18116,1156,17937,20645,57114,90804,58042,48643,92288,9861,2557,88546,61333,101008,12853,5148,87856,4152,144503,73841,18718,9789,147565,10846,42085,12789,30223,8993,56352,67203,2448,28215,6052,23540,126319,75933,36689,80235,23231,23561,21383,38800,77548,102798,21234,31468,158608,46188,63960,191679,8051,67014,11185,170078,42186,28827,34777,41930,212079,12421,34750,24111,110344,73918,45171,70826,141949,40063,23979,24254,37309,26724,27179,24718,83648,54938,14591,17425,29525,102675,48975,48654,12316,8929,60640,41709,50168,63264,89812,50716,48632,38755,138583,160123,55579,71829,24230,233277,46322,39650,166388,34718,24108,98252,7031,106695,62498,18258,35062,217827,78731,34824,33354,19520,60852,2432,60224,8587,2836,62955,702,20227,42285,40560,95592,62486,11094,53035,143291,18842,46177,77994,1770,9657,107422,172915,32655,128716,25886,25164,156740,119928,165875,85817,11007,89110,33956,12652,65156,180266,8494,36889,19958,20955,96,1264,118288,135769,44754,86671,5632,19026,168220,289120,33569,93821,66144,70635,7687,5642,2714,55445,56636,71545,184182,93133,7332,37389,12643,52315,22729,11014,158742,17050,152889,50178,34601,41945,52136,9948,26914,63548,95721,115951,40759,8960,158258,38938,49232,48325,42234,81523,253019,66128,40978,20048,238048,38760,62928,122560,118532,43687,137472,163689,26680,9878,17448,51035,16211,60834,36749,29178,14241,59868,150086,2305,26477,42422,34342,165341,83279,33894,14257,29928,12743,13957,125571,89134,66712,10952,16507,147839,30146,7249,16565,45399,39874,114565,215780,31990,230881,171477,102,196546,44538,10880,84948,281705,86651,10617,31395,2342,453658,43569,60561,132901,21845,17727,58556,258242,22262,58728,4008,77997,11806,37431,30599,81375,109137,185787,114085,217292,97453,169085,30593,60212,11544,102056,65580,2384,91655,4855,95725,7295,157994,16228,20669,53276,141590,105246,17334,25440,76067,17967,39321,38911,11362,28559,63807,21627,26468,85816,40120,1025,15234,58319,69516,66512,124548,75845,78873,22137,46681,51242,85683,32909,76747,35555,43396,101465,1765,73094,1077,2962,39028,66777,57831,42048,15828,13962,36041,63657,52412,5242,58846,2141,5506,219012,134451,3936,182230,17558,17153,152237,22621,49377,170216,35257,68233,65374,6510,11126,212151,7184,2480,22517,3437,33073,30156,16557,3768,55067,86829,91e3,12350,148650,66017,79424,70885,49066,28250,21369,51213,34533,11510,3258,18176,18465,84413,6315,36411,163765,4346,356,107618,598,13727,285026,162695,8749,14583,7132,63521,184253,32378,25991,5604,30961,53675,4874,84693,5086,34811,26978,56564,7904,33519,51221,113942,69253,6664,125563,22055,220680,102008,742,51930,19494,176108,44424,35123,13025,75685,11759,74335,22250,181453,131147,16984,132115,154311,11991,76452,52609,85351,196,30969,9198,74919,2529,56838,71779,29187,116304,3504,62330,41190,86153,28393,254926,104228,105189,13264,84359,3574,12415,8534,57147,10175,188174,59504,60932,66318,16407,107921,17638,99103,49278,28403,39786,145865,8462,3558,43406,142271,29139,21989,36552,93955,72365,7176,13556,106185,37957,321774,17782,129017,51154,27938,24952,1935,39366,2791,33489,41582,56078,24558,9311,5449,218786,27808,190429,68013,36020,86003,29735,3404,87348,119357,115714,2324,86796,81973,40992,43376,93621,28784,16808,36367,2517,2909,191926,24978,55303,53308,205724,60068,3098,21375,64784,23949,26579,63121,12319,80145,39967,97861,6757,70143,67642,37082,34698,69140,122883,46151,62187,80934,429,19437,135071,137885,222647,13331,154065,327,61778,74257,40116,37493,14855,85079,237641,42342,102164,199965,71204,4662,29368,5042,113914,122214,8955,13149,102503,43173,5659,163787,69003,307084,63392,171080,21390,81918,86666,36622,24126,28887,5736,28054,207170,163428,79891,346467,95363,38980,111806,80828,9200,19288,294896,114468,87405,111715,141705,7015,72754,68463,48738,243147,33397,101210,37051,98801,82847,20397,4940,185559,18716,54718,83491,11725,40803,1128,12128,23060,5174,7745,67007,46701,1571,27807,180186,256996,18975,16837,7877,212758,250379,15440,87954,57755,24719,124057,83461,258,50864,8874,29038,71289,31627,15429,9005,4061,113851,107716,82819,13651,79656,117851,17539,111446,12938,39724,190787,4352,15402,21070,62708,8539,23777,73853,13552,38810,86117,16285,56400,1718,75342,142863,29033,378,110113,180321,32586,23606,26393,160984,207987,23783,8406,16904,24596,47274,11693,46539,60524,78595,48423,31718,20170,9009,146268,15183,191060,172765,1349,138436,37365,10970,40509,225817,20021,70394,152138,21541,66559,66544,89352,2725,17258,91345,7313,3815,115868,8660,40362,4071,103524,39388,118275,21950,6549,38226,32754,209574,29201,43495,18028,20296,40597,18370,47520,202450,24134,2219,8195,69545,38041,136934,46374,19041,159811,84865,58620,846,98749,13569,30714,97246,32186,4479,27355,92973,35214,151491,75963,37631,1561,27200,238083,23182,60756,12291,25766,39355,102333,87362,65741,59906,19538,201575,48772,102938,24438,292580,39964,66366,9004,61379,50548,37622,38732,28379,68180,76622,17488,69849,5963,7219,48143,43413,55358,540,58691,29506,19245,52193,48621,5518,13048,118625,44755,191081,42061,89197,2259,60665,66994,71210,51232,3585,142096,55024,7892,8345,58653,463307,65658,64319,137941,136323,53499,12746,43492,6978,95163,29925,60175,5128,7352,41463,184756,121146,20473,18426,4598,5309,54580,14277,121151,10691,56711,43880,63409,76682,11830,172218,264898,32632,66536,81062,31649,25788,92774,60222,11100,63159,9432,224657,25240,53613,152,138620,163829,2397,85345,12501,37507,64932,38575,43522,65789,80198,78796,35226,3851,108891,73311,3060,28391,93671,39663,46142,30982,66041,37281,68157,26553,71872,81142,211527,39747,118119,22695,2859,11066,20232,168911,7933,197005,17066,111071,44434,133994,120798,12766,227798,45756,132852,29917,36076,55352,65281,129800,41958,18944,84678,18580,168093,132621,39997,54092,27740,32354,3770,114118,103242,43918,15899,18574,145944,3190,123469,219903,24169,100571,62403,16776,92779,14535,17168,16475,14304,37231,1712,28218,242754,61688,28980,1318,51359,222657,99200,67989,31772,23932,35351,201251,49041,27306,19128,40135,3986,77333,19649,120683,151927,21081,7076,78375,77501,101599,8011,89585,96715,58179,5378,102138,106793,26051,217276,4197,16297,27014,46721,13322,22806,5278,29629,70632,9647,71519,58818,40603,128530,8903,36770,56900,31483,26935,43845,34265,34920,87658,6114,84767,64250,47318,50720,19264,162514,33357,13117,6705,46696,75032,71054,87004,42035,69138,11903,99854,102328,19611,34525,69312,6431,49842,101600,133178,108751,41829,89939,225664,48916,99556,9195,130387,5960,36857,116724,53518,94002,39077,53996,6945,22261,64291,8314,152785,57588,16522,9091,5048,87671,35441,39509,1945,12423,158923,178413,37549,14095,1475,73188,62878,4819,24012,68534,42606,4010,120809,57497,59564,101758,103718,32701,80116,12345,95834,46918,21468,53213,15665,31200,3867,5140,96013,250744,21016,10069,13968,35449,180829,27683,39704,59956,22893,3115,26293,32785,75934,62445,141162,62720,2018,83638,19949,114012,95006,3330,99829,130935,309272,9565,55874,121727,37017,23586,319858,40970,27602,8625,112329,61060,100088,118525,25922,16232,1907,60671,51583,44553,80993,5262,94679,8676,940,20736,11823,3020,16476,12340,152600,97416,3703,25744,66826,16245,16876,46446,84798,74227,176020,45192,61955,75496,23946,23626,40372,26036,6149,11822,30582,16541,41914,82385,232823,40921,80773,14930,3631,7517,39619,4348,36180,126106,138939,62611,1477,113512,47321,25052,14546,118881,29060,23589,128322,36795,18401,137921,104699,267929,36194,172791,18113,4766,188215,30083,332586,94089,5805,77909,22194,68234,154976,43220,40660,70001,184893,138095,11128,103010,22663,5108,212615,8485,5565,49222,54614,26530,42639,16319,55062,152662,105595,21114,22216,10294,68158,10436,86950,7206,62115,3977,3657,59874,456,118617,18156,106663,112229,80992,17442,8217,55551,5133,34344,251927,51153,39364,201321,7816,66803,23057,156724,145664,14276,95705,979,2796,6875,13429,212525,50602,26276,28284,3424,19465,52397,46963,31420,51399,206476,92317,48851,637,100820,83349,10317,60227,21972,6908,282439,32857,224767,95629,83882,42106,87338,69757,29840,68709,37665,45244,114577,49188,175943,54009,186746,106158,70168,3358,234002,50555,9221,129338,9562,20118,32923,78479,118280,65752,4977,10474,102174,60947,129006,10570,83451,8598,8078,159367,123785,80438,16742,5905,5281,181513,42402,6977,163136,93179,42191,14968,50421,112401,105440,33456,57347,121611,4221,94954,36517,24046,27796,6255,33394,72990,135408,116627,1233,57874,25654,95419,68156,401399,313338,55208,45573,93124,119251,47200,38196,11909,130667,45391,73904,64964,167846,4137,115606,52036,62214,7969,160925,7187,1132,134835,40309,73195,64494,80472,444841,61111,26500,45323,40743,53625,52797,22659,15631,29739,36706,28841,39147,102836,26794,10536,14845,87305,45874,12241,127587,83833,57183,79722,30844,41304,84655,20825,92500,3722,25655,27811,10157,81634,31362,34088,92487,70123,22190,185100,72658,139035,192523,88241,2078,230490,44528,85638,100198,22088,29982,291233,241062,13865,4445,137791,37835,107218,31726,19718,38234,72528,23046,19177,66695,5109,17251,28077,5617,21554,47839,72425,133825,1486,73065,181275,141508,21768,62971,63082,2512,34200,9904,120309,6392,91243,68416,268253,41199,116757,138551,185526,41246,28986,4093,19057,17295,4148,245766,122360,35356,112075,20301,75441,10998,7977,19769,62922,937,63547,100196,26427,157820,20983,236696,22935,8140,90315,156004,47204,140973,7726,45097,52725,22636,23436,257282,105247,522,88389,216031,202204,46812,211666,19693,68828,81691,45925,11256,30292,372,5236,167826,88328,232776,151611,5360,82104,18841,80393,25465,18285,20320,72377,31730,33160,45803,38715,27705,37379,24163,18360,103586,4015,32305,269494,91252,20080,36567,54650,7797,57073,12650,31164,42209,6375,261663,105528,81661,106002,2800,5375,17247,43151,4442,15727,194619,100855,144898,62320,78465,39929,16454,1967,28311,61363,17219,9395,8745,121445,76939,80385,162380,22009,54191,44248,16299,122830,48151,74429,78291,64755,14238,44966,2511,17712,67954,93583,829,105899,49935,84750,11591,33185,85447,42717,27409,208542,28965,62052,52525,5597,25694,65594,16343,63224,276188,12475,9331,127507,38522,57287,24128,133161,79723,105548,133695,48917,27558,43278,46520,13778,141954,110785,83366,17715,46317,105763,66298,147013,41086,94180,16478,220447,44611,730,19722,78975,117889,125643,26254,16574,18480,65006,15806,38549,246418,46052,36056,8440,34984,30170,3163,59800,4458,115442,4283,41970,33507,104078,1653,22,121158,276486,3655,6338,24048,133421,23641,2161,24422,36006,8086,10675,181474,12307,29514,59143,14729,52509,87128,122470,19446,80852,33314,24573,119864,14237,9652,57779,6612,51851,15284,98871,90581,124466,156831,21190,22015,71380,161906,87247,69201,18392,17908,108470,72962,40719,14338,17911,95260,43339,20610,78916,20710,72451,11315,31448,17263,58853,178878,48111,116002,45497,80506,82605,85880,36300,121755,25215,36118,301929,88728,405223,276136,553,34704,212438,49970,78329,922,20711,25036,257130,38295,145369,18128,15385,30829,55656,48345,8012,3561,28004,122041,192900,58338,112508,41085,29976,87040,47117,23905,4336,92061,138880,97407,42083,172121,6256,25192,172671,5,93568,1420,12677,31605,56743,40620,6015,78415,231077,31298,80026,13902,19048,24924,170586,32955,176119,87859,36731,6773,27711,24658,26475,115216,133207,93250,95820,88522,8317,5714,124047,55219,86860,19677,23961,22928,162209,8904,225992,359835,56084,96201,29392,96558,86071,93643,55114,13347,8183,95129,82012,2017,123336,34219,115554,157159,47747,101684,41008,18735,193781,104151,226906,7552,179874,124113,31159,21162,44010,14771,51268,166128,31382,73124,77438,92830,205709,12113,1292,38937,13114,1334,2118,15597,69581,14449,21934,76618,48728,67038,14967,51495,24243,87736,147249,26720,11119,46063,43749,5843,44147,152629,133428,65703,14269,45604,57982,28672,55616,45957,8438,95433,37698,220862,132034,39456,61870,4161,26501,73560,56418,9845,4654,20916,10456,88920,119358,9015,65931,96507,48029,38534,21676,109081,43078,34943,25089,6131,28766,23665,5477,10255,16695,67,45778,42443,42770,29534,23733,100513,62617,42630,48746,14191,43753,50295,26007,8792,57243,43119,54725,164253,58250,112304,131796,25165,4651,3188,24831,47748,3705,19540,13211,102095,5593,18699,23666,32005,117571,33541,60584,74573,86311,99443,25172,27222,168938,7143,11853,53560,18834,19960,86522,28217,53266,117700,72989,34323,18721,66450,34346,74056,47217,202002,46269,9429,68582,75458,37823,82843,96652,32549,145144,27958,19820,158086,31955,201406,135379,31207,192545,12950,51704,9094,248263,76147,64028,110009,79407,89345,99284,223492,47966,26848,15359,201137,2861,110507,71231,72297,31851,118777,71039,151051,240855,16333,50766,14727,7939,4149,80908,418780,88378,59276,1327,7284,38576,79814,65820,42199,84860,49574,62596,12396,70598,40117,8648,7994,16836,7630,14047,359699,106878,525,29037,28064,13380,11675,50669,74216,103539,180314,27449,56299,172344,19274,7301,246099,32043,19422,36506,129317,6806,30140,4614,46639,66926,932,86600,6322,27847,233103,10541,39025,34887,3517,12972,26220,2031,66561,115015,48658,47596,12714,33845,3893,16165,35237,89983,14769,11962,147224,47018,29977,27979,5552,82338,86023,131368,1218,24853,237840,132193,15455,40873,3668,65351,53388,15229,59889,272245,47934,11858,34347,18038,90853,86981,300602,19343,114181,29362,84921,6095,106059,79472,38015,1206,48741,6208,8e4,21916,17423,6002,108083,24479,34931,56661,9511,26995,100694,163853,35997,81254,58321,18919,171890,86877,91341,74503,70477,53412,7027,59281,39892,131302,5864,15947,61301,67466,162369,47956,27874,35624,282324,21270,111847,102548,41482,30955,116737,28264,8592,55458,22301,75090,29821,30697,51709,3041,19208,8038,24634,30467,87509,126428,19389,18814,152686,20701,83474,45832,80891,105808,11378,153223,120770,98186,150633,49838,9141,12755,30962,5260,74490,21256,31678,65062,33326,289838,187831,20595,89768,2805,58535,10844,70085,12090,2451,138068,98544,24461,4511,6754,41684,28203,3383,65355,82833,30161,83924,234361,128424,28921,222594,33975,125491,34069,11508,67464,144226,41850,98703,34371,7901,21254,38398,65651,23549,53883,213340,123269,12028,71764,177701,28758,2623,68395,11549,15232,68603,9660,63116,36079,57093,31198,20475,48467,89984,35619,186847,107469,31389,43631,73867,41949,68841,114250,1605,30564,63403,17588,27680,99533,12641,70325,50428,73426,78379,11855,91651,72081,91720,60198,15743,12065,83398,140046,6761,46598,45900,5068,886,62448,148968,37347,19405,9680,15819,43496,63370,75667,163700,37639,3633,22774,34341,183131,134335,37200,23915,7054,14194,12970,26438,13350,285521,25594,8219,104410,91039,168804,138480,149734,15907,33818,61132,60082,4622,110187,56736,13551,73571,3945,73463,65498,17758,263266,17593,2710,27585,54469,38200,45367,63754,28881,3473,12791,98287,31895,65787,4463,94536,24951,36332,59901,28803,52130,86403,7668,181822,74831,18977,9850,177206,145485,109798,7292,31421,26280,77211,58511,12507,127004,11113,147,8729,56208,43066,79926,129937,31345,83947,39915,46146,98763,42566,1337,13192,18323,105163,80570,117753,16555,72883,11077,159438,40764,70933,83329,26066,12276,72059,21655,173836,126713,69454,153482,91585,70644,102558,110483,6764,127864,190133,3961,101798,20945,71138,82402,90884,69669,44753,923,16939,59700,164258,25969,27082,31399,43846,6306,246093,51342,6153,151581,202801,182731,56475,162188,89426,141356,14355,121815,27536,28023,65257,77523,106668,127314,24947,12790,38796,169698,23555,10725,44573,183083,42088,62716,43265,105958,32050,44067,50118,1668,3874,6243,318411,16599,1691,94999,52378,28671,216728,123258,2059,34969,69225,5913,136280,171443,141515,91662,22175,135282,80020,92270,1663,4808,4482,3495,34691,5226,109830,108512,17342,107488,11606,123190,100247,29666,146527,113014,15794,30894,13224,39585,243192,22351,9903,7836,47699,11078,25468,122291,48821,26780,122679,75521,81450,630,4895,92900,55074,74293,17441,3563,111657,103102,51613,12318,52370,36191,68245,34269,40445,41354,122901,168604,182500,62012,42557,11259,24428,115113,86345,12362,3909,78430,86852,134602,20459,47853,93879,22577,7659,3688,38555,13349,17381,56715,91639,12493,10895,92438,3142,37057,28928,2004,36427,32268,34222,209974,10432,67436,41989,173518,107930,27079,62729,30908,55558,5828,45031,14902,53546,8204,144263,60255,14520,88212,86582,109589,69356,8064,47449,8505,66558,16886,4844,52817,111260,215129,12941,91118,650,20770,6273,73089,40618,62790,2873,35002,14023,97208,19386,102646,36993,143736,135457,35385,113601,17893,32627,84439,100619,56016,6581,57264,172160,45452,111710,203627,70131,24100,322787,1996,35665,70078,22358,90922,83658,4097,63200,58499,14542,99153,52159,6615,12414,63415,31986,16823,1579,65405,137809,8841,16898,48082,259,33014,42375,12260,179850,73667,91389,98882,29532,17311,326251,41092,5928,20742,44964,48019,43505,9317,49265,6643,192712,48424,163487,19861,20113,70848,31928,105333,23685,78563,14638,54755,7158,24142,44018,20774,125255,20331,24280,10163,1285,2336,39851,4299,117269,46714,63816,87779,159624,11731,9971,990,137317,108831,50994,74554,162680,23640,131597,146962,170620,34829,91205,21184,1913,63616,18427,93136,156592,17519,67565,115882,138220,78622,88535,18115,2711,33554,109492,54298,971,24914,25863,36363,45715,27099,194995,14299,178181,111488,72395,322385,157719,130787,11897,81843,83999,11369,49280,118604,40922,61332,110343,53407,75639,40582,300440,54722,25637,13694,48248,48278,194521,56203,52779,48783,72627,10953,376,16733,280238,26351,230789,15132,25168,137270,3588,63704,73376,94031,74284,19443,159557,9697,39901,13351,119050,15406,146455,3460,29556,75195,37673,102524,92329,47289,98413,15311,100684,56345,7116,95480,11590,7200,167,23610,58426,17730,136656,27944,53151,2701,8824,103124,3017,90744,113588,53216,79736,65940,26931,498,29568,80540,143543,21292,1740,59268,16561,180816,42323,50174,40890,52866,10703,57169,4700,17191,4424,93511,49698,166650,26972,48631,165169,82879,69326,202970,4007,2376,231325,139592,22119,62851,37504,68816,58345,67398,186643,43331,277416,53749,15746,23102,17432,4793,151138,48822,54265,48203,198688,14305,54287,2291,18018,113378,123260,7180,97549,87027,120085,2920,76080,8190,102005,5641,64580,14955,59802,54028,58884,19367,81779,412567,85957,97053,103637,78871,29364,27637,141728,4767,30686,112738,130146,42745,12730,105040,14844,232,210944,36581,152317,135543,29744,3129,55647,58149,46319,27265,17499,28005,59948,7170,34138,5702,293047,110892,408,91760,218674,18469,46095,81403,14389,4610,35672,73060,11006,74848,104820,118143,190357,20043,105358,141735,5115,27093,45924,123073,52599,29433,9616,238350,78610,24851,58858,26769,31969,24613,18294,4982,32735,39639,143563,112073,202205,12567,4873,88601,44897,81503,101648,81362,34662,85277,17574,48173,21435,221188,40215,39576,80786,26544,64668,81841,10731,37733,247986,149188,127703,495,18382,54388,72446,43071,30974,198723,89608,41360,190,33045,8386,31658,19992,237838,119015,137622,50890,100913,6460,116233,267230,26621,104129,65114,14190,41542,14888,85962,23342,23041,26453,43725,71809,45186,4770,46452,53894,56616,221286,18973,9038,109299,55365,19366,26863,18808,60909,69353,41738,83463,12100,68561,72860,3980,13796,49340,12332,31311,27418,4255,53430,18976,45523,510,14224,30477,26581,4530,3651,101663,139840,22709,150861,31996,63923,120623,262522,3076,10528,2929,14672,130238,18087,9816,121894,100308,25085,55111,14565,18952,53293,2042,369988,23674,61789,133529,28783,108293,35477,47119,36448,71049,40015,33055,78598,198442,1833,159937,40654,77444,189245,113153,8621,18599,38553,35223,166072,2375,11659,21786,89523,6032,12116,63046,159398,18454,3678,32521,47626,11411,103527,38896,42946,15696,26370,10185,8413,37080,165583,4331,63555,14907,72220,50056,6623,62236,36565,49783,10049,17503,100581,55951,146244,24724,9626,17969,25524,109300,173965,99994,101056,46459,43647,53737,277968,8347,123521,74858,33829,44762,77574,877,81377,222525,123532,30602,43881,53145,2973,16284,81940,61281,127044,63620,9875,14756,114829,19032,9202,52759,119141,23928,120551,19607,3599,33401,76821,73233,117430,39968,36539,7071,5446,121735,194059,15206,45283,6706,15603,65615,1207,165723,92275,34773,104447,8396,32353,205240,164323,13600,60555,79205,25532,22907,33410,57480,107111,69630,32137,47832,70913,33161,20321,2371,117348,10714,86246,1625,11763,17900,268,78457,99175,97940,101092,86660,32221,14041,128504,125080,53744,124263,31017,13897,403,31859,21964,5633,111630,5547,77329,17961,18241,84995,25984,12983,67491,62168,47262,5241,297,51191,7351,8967,147212,82060,16821,782,11033,82431,62957,5026,43459,77963,203477,53528,6247,191852,87774,74164,215654,13467,1522,219964,28589,244104,16242,117821,67725,72570,156792,17186,15979,26990,44128,193014,35276,57125,16212,166451,68017,6905,77608,16364,53777,75921,76426,37975,26203,269296,64099,84122,12077,38533,830,4407,20139,963,43028,38902,42911,37503,83343,85045,16979,1165,60835,137387,58380,86990,110066,134540,56331,193845,81238,17922,163093,38744,110641,12502,56404,34862,26865,125964,12965,111648,25547,7771,27196,136980,9555,29551,107158,57885,18831,37705,35505,101742,13970,102109,62548,124657,23328,11124,89592,146376,248050,6241,22033,18337,80685,29898,11908,216623,67721,106162,146610,21377,15085,91552,42041,62560,122532,125336,102365,121537,142559,29693,223919,11515,110495,18776,22494,5895,185059,103592,229351,51220,100102,37027,257855,29359,54123,36066,106493,12244,79258,32002,432,56205,94836,90182,6726,14762,29391,48938,26864,38083,60364,3310,60192,14766,205567,57504,110760,22649,24666,46333,21517,3430,13135,28873,27052,158809,11597,20529,6695,23138,22960,37137,45574,6545,305877,43423,26153,24769,59844,14501,10430,134352,56169,13213,103432,49523,35181,13435,12408,129475,64620,230854,77390,51990,15653,83248,33466,44571,117828,51481,2187,10559,68019,18021,54895,48247,18354,33737,4554,108595,37288,39767,116707,9175,3726,108877,21616,83684,49862,1938,8543,276466,20134,108498,48770,102254,31914,131520,185291,100559,51890,209,19526,76471,50544,71814,99351,8172,198526,28816,20419,9109,98389,136777,76479,75596,30635,165417,48216,120220,25955,211071,39314,24308,32164,2559,146280,43403,9233,17947,90585,1786,86920,125662,2457,64741,32152,32918,122882,78538,44001,31723,56426,23375,103172,88177,145697,52506,49319,68016,31664,41488,18486,110400,7030,28241,986,109199,19900,42147,56864,65287,49183,7858,24e3,30453,840,16673,25907,68916,89927,6309,158335,36407,199737,130464,13137,59603,201778,195292,21015,42466,179062,172561,89492,11075,180407,31868,72493,20998,60217,9865,19530,39274,130266,54539,21623,12535,13505,40641,73375,4087,85633,2153,3117,70680,55788,92096,47509,98493,37490,271936,151475,3032,16171,96642,34106,78425,125761,19591,3366,19316,54508,24183,50786,194248,91528,33253,34622,108355,41741,705,3814,3883,108929,13203,67831,10142,59754,68208,29128,84820,56880,38794,24972,48571,40821,40476,18137,164254,24064,236309,79181,11282,395,39169,2013,51587,28551,9645,701,109513,115899,113566,12762,62045,58322,103726,41343,40866,244102,143816,2490,70346,40973,52618,15412,30720,104315,38917,42027,93676,17513,107418,20706,123890,13399,97727,24044,87962,65606,44250,98044,65276,74790,101473,19350,91570,1326,87790,172042,7577,100813,86896,85891,41512,108130,27794,14875,71431,12835,156250,58135,3759,22476,42176,115873,34686,56523,73643,108505,51491,20838,12721,32863,45700,29496,13700,34294,55360,29206,155942,123812,7706,163234,203,132720,49358,144431,8130,175788,35818,3270,76832,25710,54095,97274,28779,94621,74396,19092,128242,58067,20885,14670,93255,15107,63291,23654,126900,129421,59294,262659,9798,3251,67344,28600,44629,50672,29072,26999,31526,23183,49175,165843,175455,17282,175411,32022,45989,30298,90690,78118,83156,23749,35636,31317,7069,80381,94561,133756,14960,97404,6138,41065,78041,32843,16601,34123,9559,146529,123377,96395,54441,42012,84257,123541,10745,22139,106459,11720,150883,172651,154996,110538,4728,53447,25704,2009,71152,119354,21166,66604,1429,216162,8637,122250,63520,27180,29172,36124,276428,107787,77184,4680,14952,104903,24418,14793,51561,52931,8371,26342,48526,7118,92066,67280,40653,8847,34597,105438,14198,50163,61188,146286,50315,41205,170829,161496,585,197359,95056,1687,365794,91349,48507,5804,49263,5146,104902,96365,117343,132222,46084,96919,16875,8073,262381,79982,52663,13928,16056,153908,15145,109256,132308,18763,24904,167644,13618,40750,18686,147124,114709,150038,52849,2938,12568,48617,8778,5459,44202,44591,74914,17183,248689,13878,7822,80060,23116,194037,18487,2067,7798,43077,33678,244028,31320,74273,2794,19466,8218,36280,183997,48124,19416,29656,19280,98734,7715,18311,30701,133602,150307,126956,7378,2933,79903,13178,12593,86571,26604,92446,13574,44205,65699,427599,21118,8245,14407,27877,47936,33542,7916,26460,117762,21596,37818,2249,127359,209394,60044,47677,308089,36791,154971,31417,6998,150042,174360,12255,43009,29335,48739,3912,101398,53340,2580,146939,151295,45360,125275,15273,45383,27456,48761,23314,8750,60801,85823,104759,27894,123685,66968,39480,26917,55290,83305,2696,98390,57569,145853,340733,4919,20024,52268,30884,7413,203685,70989,112855,4129,50536,349518,68205,332641,159581,135361,236026,37563,176404,64899,6578,122033,63871,1850,85234,82089,66124,74145,121098,107351,12687,36881,117334,13136,14698,85933,93866,18047,32620,310,15094,46e3,88451,23632,36645,27940,87618,80520,58892,20976,27702,140090,96075,67841,103292,238964,87778,107338,17019,83427,67522,7302,8261,47570,116787,8730,80484,61772,174422,56005,131193,52875,14588,28471,59817,9586,15720,158155,51307,109734,15196,11025,59331,3884,52626,102602,84797,25158,27314,4437,20488,76214,189248,35023,114952,157376,2827,62439,102878,129749,36405,10329,109339,108633,36662,1254,13267,5470,87105,58004,15397,10434,159667,21864,52022,179464,3013,32147,31496,116832,18494,105502,129227,107267,50033,13481,9954,24267,22141,16257,116154,36185,950,115685,11305,176708,2048,178671,112573,287867,162328,497663,95170,50979,193861,50987,30368,136257,31830,46549,15119,169876,23788,17462,249887,57377,1949,35448,14791,43769,210091,3783,34612,282103,88380,245190,5457,20491,98908,11402,86899,117916,16028,162584,60644,320177,156096,31065,55876,22e3,77655,9992,23397,13757,317623,63978,215255,2443,17648,93231,27388,104529,93807,55505,140477,12046,112040,70887,40152,94365,112353,25063,114679,266061,71248,119555,15589,2244,617,14129,211431,70110,100652,7777,4383,85911,89221,21010,120615,58357,86405,37554,41647,18,15143,69662,60491,14714,186134,148344,42347,5410,168175,44535,42449,343894,129417,99682,20659,27272,140483,63455,222159,17536,13722,42637,62324,11976,114691,148109,2283,32057,182393,4295,147364,33705,2075,44303,30274,28331,63740,69740,29148,10346,44862,33716,73937,153333,12930,38784,247159,2515,41053,20256,83368,256189,54639,115240,5096,24661,175419,153552,26516,141,138176,63885,34115,47222,55709,2765,28479,38875,236608,12229,22921,77291,54426,45388,2860,57787,114579,295139,105782,17826,71066,19119,54364,69385,16568,12323,28057,33346,34919,124763,155533,101386,31644,8627,49001,303600,29868,63213,9103,77280,71333,9696,138789,37059,24823,5057,21352,32368,114208,56803,19424,10445,58514,8661,209508,26187,171838,10460,63454,14016,122504,41328,21329,46618,32493,38225,7855,31763,7945,29876,8734,6438,24205,97490,139977,130740,47323,33195,85390,57194,13813,60600,21313,96251,7699,27584,170521,139271,1363,4402,336738,129223,84983,69150,13147,3590,163929,207225,155260,55916,20288,4503,8398,98490,11773,27512,37113,84976,86558,28365,11756,116005,182148,13733,115313,47644,67208,85069,9347,14995,226141,14704,101835,41159,35314,13113,63526,214039,29978,50446,83339,17440,129441,72522,118641,97816,24907,73844,15717,118884,167255,96509,162793,30847,36849,51297,78974,77793,10427,1873,2972,9999,35074,28190,64297,146836,46298,60038,163007,108919,61219,2403,75022,127339,4233,110389,69022,9833,128097,88016,79390,222936,22570,94657,28462,56956,38803,81536,30474,152794,19566,16481,147408,74574,81895,20731,1918,1366,76367,187321,54494,24366,21690,61696,33283,107477,77499,31112,414383,74362,18463,218441,120929,59848,258629,201924,69269,454,19989,13054,59894,3623,58908,20681,35723,78523,102680,38988,184112,108087,50944,132704,52966,21699,18860,96349,201411,82697,85395,95658,5093,6427,177894,44191,32755,26961,155739,6249,31310,81030,26574,84311,120155,86730,113535,7424,48888,13516,45747,98098,20077,183995,81945,43210,26704,40420,75831,45648,11180,6855,57927,65528,124096,34851,2598,156633,107572,127352,38169,123845,60142,62722,105584,232364,23211,68120,1601,22169,89299,747,258039,80572,7258,152249,11862,101204,8834,121434,33761,19175,133142,46343,40178,48723,3589,41977,30210,38868,62257,10087,82658,87827,90646,16415,47552,351723,28298,72225,91146,272760,1701,11295,1652,109651,300747,51863,198800,29446,11794,32345,37538,22356,33102,37590,113544,37970,11478,179743,25454,103417,59905,221970,105196,145604,7817,164809,102360,16974,75840,255333,56902,6659,1954,645,59400,67769,7689,18675,5215,13793,20536,27852,3387,29523,259718,16860,94625,43143,29245,15848,233581,22685,63631,78557,22836,133302,84513,1348,51826,47129,98836,58284,1830,1749,94642,10933,6145,12506,10975,13879,103781,144434,10268,28409,32346,52968,121567,107374,77268,23686,35097,10501,155275,15303,47136,21102,168741,55332,90385,15996,84817,681,137803,25054,142275,6163,38175,8056,124296,240642,65621,4934,178205,16101,62803,60964,18230,100622,76465,44689,14545,9543,47514,16852,93380,28048,12047,107106,37575,101485,77047,57326,34819,96137,76916,6469,46264,115983,75768,87668,69942,13027,165,8373,114231,26434,52844,42799,182044,23580,146254,38081,43236,33883,146220,382894,14606,46035,36481,166621,35417,95382,2957,59384,60428,36358,66343,75378,22267,22950,83528,17577,56474,25285,4619,179691,75355,95836,53295,34588,171410,4487,14679,84208,44015,18562,109133,54101,11531,86052,174479,303157,28095,9953,35642,14564,39802,16145,77606,117406,53038,121117,53624,22062,1212,7632,127157,237292,189087,10478,127345,102515,181997,86752,87623,10966,121602,68783,68681,83042,114380,138349,191305,67176,50085,39016,1427,42384,1412,67118,122616,72389,25260,2237,13576,137346,19938,20304,2191,68759,5373,61364,238507,75814,23931,69565,38993,131741,38364,12528,87762,5679,129853,5310,186831,32653,90338,260176,389531,108118,26843,43985,50175,30563,25106,56965,18130,140428,4542,165503,117991,24219,229605,1819,129663,1240,3797,76093,18398,71339,51919,93043,27175,47060,216257,6483,35051,1217,16512,80798,129064,13225,69339,8548,237079,72298,2575,34280,51379,117910,55671,53345,247552,29486,39328,140821,34681,57045,60177,5004,90269,78522,2479,322607,48474,61296,13057,31558,4678,59271,6699,27044,31988,35944,12503,83480,4389,136508,3781,114121,70279,4488,155829,42214,2898,68191,75695,305850,45041,74344,106509,30087,17429,93292,12477,290,23080,114802,35714,18751,26554,105424,17775,2144,2412,100610,65192,113975,52975,180272,135050,129815,76238,106483,21440,63186,4260,46189,9711,28249,4169,23429,23390,8324,141585,63809,67668,38457,38063,39226,59972,1189,203916,62368,14403,16949,61767,85801,1739,40147,35049,76757,33124,62102,15780,103593,103009,53484,22952,67973,114645,6566,5245,50462,7601,8288,3513,194571,80276,1908,54592,5124,58571,2513,6800,273997,193904,1119,17991,117245,2508,129156,82366,26278,71465,63341,56943,39662,106116,94966,156875,9736,2204,122308,94418,27134,1280,24539,49022,45314,3764,50904,46424,30699,28087,293839,9400,33646,40165,822,147499,50263,116179,29085,11863,31314,5578,17797,5104,12454,1604,15342,219206,10232,67800,94261,25872,13565,90339,78971,75377,26649,41184,47695,11514,35369,20767,14227,41953,309396,148270,147938,33074,14453,27499,109019,39018,25738,240196,158931,52820,8612,95853,21524,137010,84901,70869,70021,116794,48404,38771,6732,1070,70990,187297,49140,5238,576,3564,253975,16027,16483,2811,37775,19034,25259,4053,2e3,70083,95774,19713,33431,92703,91314,42381,288770,48194,95985,3991,77418,13406,241328,245086,56533,35275,62725,9246,51924,70181,95331,16163,31410,79016,39312,120878,119371,275987,80124,27712,9186,220,23598,146167,85209,68238,282190,57048,31273,30555,80913,17594,75779,59160,135002,101219,189377,29225,96735,60126,62522,104e3,27620,86814,17240,147533,11001,5425,43682,410,49460,87270,69480,46315,59448,1816,76201,9431,11788,87960,29063,65539,47347,11678,33846,7008,196704,9895,6753,8633,120892,59970,572824,115934,6646,202559,892,48351,37611,251282,57823,67263,57750,26527,34485,90747,7685,88370,6144,64182,1709,41969,21458,62327,181657,49247,225330,122600,114574,107124,85361,111833,63243,71420,15655,191178,72430,18063,51425,54002,12364,53225,86557,18193,97580,41232,138398,67821,128724,8944,233212,101353,52099,42127,14006,120107,32789,32132,3498,18123,33758,56058,5779,128760,59888,98869,18445,84702,51911,13234,218379,20093,39031,8074,70195,20708,23462,24355,131384,60189,26390,10403,41060,7140,10781,49410,42261,87202,82566,41663,43105,60276,2768,5733,74176,28329,2297,145430,131632,83615,122915,105441,655,224102,5284,136426,67763,16294,188511,32538,61049,27893,3394,13951,159099,28542,17930,145360,9492,190122,32285,78855,26440,13570,58648,73908,4239,124561,2444,74172,53131,11468,10794,73566,11623,35343,64710,30481,4163,10328,38309,29901,10538,154377,76132,92405,24839,11679,3465,13449,11637,7824,2337,57754,1260,14458,41118,19878,38661,13416,159180,37074,163164,54137,28627,52134,184900,8520,40385,29546,30502,22386,66527,107458,6850,24022,47983,30603,35083,8934,304066,39500,9,28261,33026,77251,9374,44833,116312,34990,29236,63563,125639,135405,165398,159055,55690,88141,69643,236964,31983,25572,20436,36746,60896,31850,16179,11828,5888,3043,66368,9750,31167,7915,53111,36430,1333,64344,93659,20061,60596,180191,51630,6792,30244,43509,101058,22409,420,44210,109783,43223,27030,72477,72831,32679,29235,7675,47556,12258,39907,149412,84926,118247,24692,71717,105038,86009,45941,41189,89453,29856,52543,30627,226798,67303,59230,67415,34408,1367,99685,16867,128419,52147,4111,125381,117881,16173,44093,102224,31575,23234,24870,83790,127407,239098,3200,994,1255,100903,242275,117266,55116,38205,16140,29662,11307,40414,208793,123355,56470,4862,75600,30119,58218,70828,24075,26974,7802,192353,4851,5475,78720,66596,3409,28573,64396,30381,30690,59859,88256,5406,99945,103064,34463,37727,24238,86643,60088,4057,23741,5967,162904,38240,28356,93858,25510,122879,6897,3278,7057,11971,4400,35461,211413,21395,59615,39471,87233,55795,128426,3051,22470,41950,14705,3974,180108,80476,78442,204996,91987,15634,67610,139015,142373,35611,51134,10387,4353,153456,57749,181039,14183,68447,151532,21107,36452,20551,3186,46247,46383,129666,88736,140662,146243,2066,8360,7978,64818,106963,17896,47801,10723,114821,223295,74192,3293,3393,16987,74064,11277,91622,4270,29828,27951,387869,103235,1374,61988,120083,477,145892,128378,11779,211263,61354,18221,17869,46530,83061,108538,157981,90608,67199,95080,49064,195814,12302,66307,10348,231346,160732,112859,63633,146558,21271,31037,198802,47622,12862,95710,3910,77850,73961,85585,34752,61e3,4082,24595,103679,71107,8208,79568,150019,16615,24961,139857,32664,197366,4559,54735,32696,4126,162019,75698,13916,70108,159638,19834,9349,24675,175560,49643,18206,52459,27992,10809,88865,401975,133172,29e3,34558,30915,3658,25834,42430,36562,125265,18182,10155,40149,97082,208980,19575,60853,90529,66545,9600,789,46420,2317,88593,55595,98980,115302,5742,169155,1073,177901,3472,11189,63711,78643,65472,50459,127979,93,42202,67053,21720,157650,11145,141378,42033,22824,85705,79114,35584,15974,1510,54172,28562,12451,104226,19190,97151,73024,20948,5151,81741,21499,29006,84183,198074,54003,45120,170125,26240,35177,28389,64863,79974,60778,176915,232183,45342,2038,80253,41564,40703,32689,5430,100689,5366,23007,134279,14266,26712,73993,24934,64242,52113,102887,61801,46415,201049,54251,62133,122757,164883,30815,139966,2319,30842,766,13362,10287,134518,86111,81665,82440,28333,43019,18963,8804,161944,23439,102144,101145,80029,39052,248708,30350,117340,11878,128467,974,138625,63961,5237,74778,61834,67040,43814,13690,65947,33809,232476,115258,181745,28824,94013,9510,10246,93722,81976,7217,114383,3493,16014,69045,72692,12145,80981,9507,6692,1620,60820,330444,35474,33962,4797,7053,295463,46445,27026,12491,77988,49524,35675,90947,29114,166705,101385,133782,32704,6186,84595,176031,185623,45966,151302,63069,1699,107491,947,15458,74452,196212,6046,10498,12163,10239,35191,243951,9277,9090,29539,54460,22820,26514,112549,60372,51753,48756,21812,70861,260326,41,44222,10441,16961,48148,138771,216194,5914,52153,53400,212036,56519,26245,10117,45888,15294,138019,90913,26368,43842,42111,23348,6082,194845,161089,156206,51546,11647,30759,302912,262094,8635,78876,26535,35283,54183,31183,85484,147873,12989,5197,6356,72894,65347,20150,27370,73787,1493,45918,12366,190217,20724,13858,10981,67449,81213,7553,14115,72242,271517,11842,48310,88743,143726,22177,3290,243231,58452,62937,12592,1654,40066,33477,13751,9921,128442,15868,7106,75236,83773,10775,36938,10482,170465,17368,17469,161508,32752,98340,800,19824,264456,3901,87319,2867,26782,9630,113102,185815,24197,44584,86366,40224,3636,140916,31731,267731,9567,53678,72984,29389,27963,17106,50282,284911,60170,8322,12608,23374,89652,5268,39044,229766,8869,151350,31436,177342,12269,183212,120418,116270,2843,78888,69192,7865,184099,1086,129897,18383,70508,20242,18508,229924,124569,35749,50589,55626,9884,83115,40971,30671,18135,14452,38861,17844,201826,5549,26413,17189,13561,38539,10679,143331,3314,36785,171194,49685,187713,67506,4618,104039,17060,195080,50648,33159,19238,67559,134840,28599,157523,17130,38064,117398,94355,31918,13575,34538,40326,13997,3494,348283,62481,26862,3603,104426,244363,153709,112487,304612,199674,41239,35545,54869,293005,28223,26277,26899,4533,18518,15492,38587,80488,70485,160395,263,60162,11382,222152,4696,250751,51921,182609,10707,48463,46243,1227,49111,111564,46502,33342,56846,68541,63559,858,139927,16654,229375,76759,26478,33205,95828,23399,92945,2637,35630,28470,143992,50214,14174,21456,166191,65665,1711,21594,78019,97599,111701,36,147151,110246,189022,43021,30397,40757,131935,42065,73335,48039,26596,28984,15102,2361,7421,202167,69744,43766,52826,3642,83304,33873,75140,63169,192389,36551,92748,13039,123959,233220,21738,84447,77230,20228,187852,19095,25799,92136,108774,29237,53947,2299,118106,2687,8830,42331,202924,33667,2023,73763,30704,19363,19779,16737,35629,48081,24068,101013,162338,291912,13749,24745,328289,167679,70086,48299,23306,16732,17801,43322,54589,3586,63653,43624,53474,925,109177,251316,43805,13082,19511,86565,142182,92461,17117,101033,103319,64589,4022,4351,235897,5352,82705,107142,46391,156084,5860,61365,10558,13045,7717,18357,33922,12590,33065,6928,46993,783,46937,67846,8952,26295,6107,119656,18799,17458,50747,4229,179559,112727,118080,20683,41464,125468,51560,49749,44231,7359,35339,62988,136487,67015,5208,29150,24956,105186,48858,6143,18097,6972,16404,73489,58742,97196,36357,164616,5834,32267,13746,147733,15113,132091,34127,106298,39729,106426,22294,9780,15602,36213,71502,42808,66802,599,60755,5851,39120,67363,108623,126368,72770,91263,32486,30596,151717,7951,52002,43103,11768,68942,40901,39344,24037,127500,116890,48403,16926,86750,17745,48648,159545,34460,58419,5634,114317,67865,31462,23352,24010,98185,125708,69686,68337,13610,26271,70691,2980,4768,27225,102402,75453,28106,8104,6931,1176,6274,6475,112635,22498,6176,238686,26832,28893,90319,14441,15682,15087,39517,45270,109134,104440,45965,47645,81772,7876,52683,87720,12898,4505,185665,2769,113401,15664,57592,105229,137381,97059,119268,6876,43309,33886,128363,35476,144249,67013,143587,83367,25703,91436,59347,53236,2289,16519,19844,46309,58558,99834,23313,218816,231303,36388,51333,183535,109792,139277,54306,90139,18235,8275,32710,37677,82464,86025,92204,88842,117723,37570,128723,234242,76350,73795,34896,148247,58424,11105,11744,45746,63372,17118,49772,199520,81902,38004,22911,33752,3125,1995,53792,4689,26909,108150,146062,69674,41811,161444,84855,8999,28561,16731,93937,3189,21967,24890,22943,1356,145300,51569,28802,517,118679,31703,40607,48098,108854,25003,10233,73969,177495,5248,24516,215347,146192,48712,60626,69188,40735,5866,586,101541,6509,47590,52129,5969,222045,110933,25733,24223,65339,62812,2414,155418,35819,16022,78423,43138,20995,128255,240673,46745,236093,72176,57085,97841,61248,107,36068,193177,105427,55726,215229,20446,47228,100420,87091,14429,121708,23605,21157,187721,21880,2997,203976,99166,95068,25877,7724,98925,83401,4829,13182,18229,13718,239662,38653,116505,153497,30589,89029,38962,181302,43853,78872,180301,4786,248240,7401,106136,112590,77745,19731,60880,77789,125748,135487,5975,48627,34084,12419,215770,47557,254582,10364,106495,21856,67539,88981,38805,21428,48732,42316,12149,16078,52808,25327,51322,33850,51147,12253,122354,46077,56483,254553,115417,81834,150991,94662,86668,7381,12841,100650,18218,15741,22372,68294,50705,15535,84660,61887,22553,72299,31361,24824,17743,46820,64288,31582,77006,111674,116384,30760,80920,86149,77192,51979,79691,60342,122805,103800,240873,160744,233114,78962,54920,8608,3484,316104,72548,24337,5088,230040,21926,10172,36838,26,86221,83458,102176,12062,17571,41929,41170,28428,68239,41750,103930,2634,18313,53019,34825,97837,63115,24606,73157,152474,14715,91439,37033,109806,140259,30668,174760,380,135597,95673,136073,65073,134249,13829,17279,122305,4420,46444,10237,64848,203623,70728,10349,182885,65075,24519,25783,40318,34139,22222,63394,55266,102764,41422,20126,65100,90408,53640,35128,48932,11192,38935,96839,34782,39492,19396,41332,6250,5511,19492,51304,25936,104466,54099,73771,86115,5080,7669,30891,111700,13931,25276,72289,135447,14820,258641,25265,31005,281179,75286,393,95359,14623,13584,6680,101227,80173,44933,76666,54542,13244,39348,458,25379,109451,134348,81143,6959,65554,12027,51311,8716,57589,140731,28467,23316,17272,30458,25980,55229,77197,83798,28302,114784,7428,34548,26241,14712,39336,103304,18928,54080,12870,334,87722,15208,16895,142098,114262,39820,83913,57817,28682,7721,14900,108672,11250,62246,42849,415188,1724,26555,24549,25505,26443,107450,145899,61035,43528,6901,60726,65906,267741,21338,147590,42079,18924,73017,135236,15393,5206,4026,84185,1531,5988,113890,82647,303391,7386,69844,71611,189865,76523,31877,13315,19314,198575,32821,1928,67641,25913,104475,103489,3297,70391,18406,15446,113347,19295,93790,27856,1792,167471,116449,8541,4408,41757,63233,25765,86680,64501,27034,24816,34975,6079,4486,49693,36229,16917,21581,62426,27862,11612,54284,35702,194034,355,24277,48262,87411,70504,310164,118018,12516,47559,43502,57433,107139,9290,66533,80863,14634,34312,91725,28606,21342,67241,72355,43244,375789,37402,174015,105070,8342,44167,67494,1890,16365,11723,271002,1865,47918,8350,45564,27742,25110,125803,8553,49504,81925,62211,4534,15491,19011,80373,206920,667,102405,128623,245524,5553,113309,192739,65766,19567,22832,261958,29679,21293,71134,20962,105123,24721,860,21752,33448,18372,157167,94822,35770,173224,232737,75729,28937,46828,28062,25453,5207,140366,36665,30652,6169,67920,150458,92040,23186,184604,92330,20891,176492,49427,27828,38305,42495,143982,49560,25503,90043,29747,65328,47830,12932,11068,77721,9003,25213,94205,140426,46090,89945,138173,192691,33329,112232,129905,35709,27514,1841,19957,31411,127476,53572,17497,173549,55063,175135,19841,69314,5192,237921,117660,150697,4060,273045,50414,98940,65348,153665,164423,58804,156695,48994,213928,86036,28608,8355,39574,34540,16927,135680,18374,151587,10830,53805,16878,16623,4282,48030,8537,14986,46102,13062,72897,72,33050,108227,39451,45935,651,113320,40535,95176,57450,48843,5003,19019,10407,211163,3848,1068,4988,32091,30095,41692,15099,43602,107434,50744,7627,171349,16313,150832,352665,207750,33937,38256,51091,156e3,87889,90663,84175,24908,114900,50365,31494,83829,5398,169342,47521,54818,18935,8356,43094,41212,174536,10082,92550,6678,60614,23355,69721,14796,34149,128830,58187,3179,208,40325,28399,225029,401412,51150,31580,207268,6657,10993,69818,64282,289845,23308,12961,38447,6681,52944,31855,2572,47646,120728,179148,37240,45196,218274,4816,3695,21961,50084,35209,18073,51452,27004,6100,33941,1377,84831,171214,85,141510,9078,99227,32610,6417,11718,49868,65579,87902,73018,49062,46280,61742,21512,40862,107733,15941,29168,157765,144919,14487,5767,158014,140070,7241,573,71584,16921,223566,40331,179473,35081,47926,140885,41508,52104,59180,42310,32811,29048,123517,102413,80208,10104,14746,12649,153641,126022,37965,113017,4171,83,142592,2809,6362,50416,71323,116894,260776,16204,1524,5760,30351,12658,20703,54403,36083,45408,74772,4946,14485,50759,111222,10890,2195,167147,92962,130534,16283,177256,35016,15472,210156,151187,73922,117691,43250,52051,37392,24811,24358,30830,5775,818,21969,1476,127322,151783,58392,31021,106913,65215,89407,90802,28531,11690,20234,95249,44602,37256,18707,11928,5161,4410,26571,51903,49768,22008,25252,65780,209499,68769,203726,13249,137363,48845,86823,6658,5674,31881,1083,1823,108676,34518,166752,13791,14287,91576,91429,8665,11529,26401,16191,91972,30964,5254,28486,54697,79613,66520,18447,22870,45203,194466,22822,51703,12278,76716,44595,73455,33546,12235,144843,36154,51247,11116,33040,3180,225753,60864,1972,28469,12891,28879,10338,144157,56294,353058,38302,41447,87532,110616,27065,168438,6557,1213,50804,144643,24817,2390,136531,38174,247513,16190,4059,122791,131994,137430,39506,57650,16305,5188,54309,106128,20628,88071,67394,395446,250285,66176,91254,1399,114196,43915,60230,44853,27206,106353,43013,18733,345105,226453,51202,16607,57106,117175,35492,10476,89598,127439,15187,39624,13688,61570,10615,31111,59370,6238,175252,32143,224492,41388,95408,34384,148238,78307,38959,9340,160091,61443,15737,11216,41244,170,38299,102443,113097,26382,14027,33707,3957,76300,66160,19431,18900,6952,1717,108656,82206,188021,257335,27295,43999,41210,31777,46956,57457,12657,11489,15697,48060,204748,53583,82422,284790,30503,137341,8120,19615,220311,15991,10217,63424,9808,67431,70976,98221,4491,15177,28535,144789,751,13230,2394,1504,33977,132104,30316,22230,931,97193,185240,24826,22687,174322,15307,22988,1390,188745,180325,29580,59068,74903,18994,29195,79,15436,7622,38462,11566,138710,44828,45774,37768,99236,68137,84083,19282,22698,17134,74807,126662,173497,46248,16938,119735,3212,28292,213652,49013,9975,32180,45660,86250,4801,68788,95490,77482,113751,11994,44624,94452,46839,128497,100316,5798,58588,73184,202987,65417,37790,88524,1606,43156,97964,105717,34947,11203,100060,37742,130074,93653,107799,94311,196106,41347,8035,10780,16390,27883,118236,167395,1979,25006,19375,31628,18916,144723,78502,114047,103107,86492,107686,5844,20934,206963,23556,22591,16562,146333,20167,10471,117434,33085,2863,9740,36669,41849,37271,22790,18209,28979,8231,12952,54408,21731,25130,45208,55748,138120,75826,414,29593,9925,292865,25999,683,123149,7036,92159,86055,61827,103680,23176,54918,58466,57578,13305,5709,86479,16697,31064,17660,200919,10770,49793,33423,32370,52047,16488,62555,6459,8426,83493,7763,59725,82812,18628,67760,79405,68557,9612,7673,28102,56517,69620,171797,32458,29541,15870,81109,32080,207644,71495,21202,11039,91036,61230,2810,130800,32260,4613,60590,37112,75214,33979,126402,155062,30642,63875,12810,194463,82799,47664,16725,36685,43367,61099,449,172150,102867,21691,301838,36745,7130,18671,57316,34852,38034,54182,35578,65900,99486,19771,3456,2658,16914,99866,28390,28109,8262,21147,34353,20006,4228,137085,1675,203023,283196,198286,214375,163329,290603,152574,40471,83506,30068,14730,23177,131539,34759,27668,32178,71896,104799,116305,85430,119262,42860,25160,8911,23428,49437,105322,6519,16203,6349,74711,1230,38045,8540,75165,44736,25909,51026,317034,4984,32281,91312,27060,44431,17817,45363,155937,239085,35697,59784,91993,29531,126740,213757,76560,167776,285273,24262,8237,65030,41160,74437,48804,118916,13159,37842,1031,75349,1478,11655,108777,23435,277425,101734,67469,70231,124711,43532,28514,65526,54956,1e3,21882,17728,25302,40952,52214,149632,1999,2111,3259,63362,89961,220561,39777,26335,9063,10572,12416,34551,34623,38604,24723,5947,15588,69927,66252,119177,69173,46629,28714,70715,212408,20521,406913,74380,11716,50659,50862,37009,88460,130101,7210,53853,538,65120,151950,55806,163748,52837,13153,21100,16674,64536,6091,138201,44837,58547,3723,163,2177,32288,85454,34033,8497,14282,25742,10535,10741,79559,117493,243787,49337,100718,79495,40139,42956,7551,55433,15421,31509,23034,45081,547,61176,53434,328001,8470,36263,30145,4519,74173,53935,11845,73774,60211,78025,3,4102,73782,109293,315332,48412,26683,13714,6865,20128,18490,104141,325,39470,171970,115860,15707,7268,73301,74336,31370,2368,111827,107757,136231,142844,97138,96638,84053,38691,23801,1588,10573,122098,77039,240,186135,146101,11996,18143,112963,46171,155836,348769,47795,121213,116266,132515,3344,144804,31286,99187,255838,129694,35894,48779,55235,148582,71967,65282,15174,13920,47080,6147,108242,157593,125025,7136,1286,28957,127956,28402,98813,20805,7532,109417,40610,5041,32958,15142,18408,108596,33543,50517,27748,80114,233434,91447,487,37094,100048,30541,43477,10639,89862,155868,37667,8726,60684,237903,73408,99589,12190,38739,97348,3914,13594,2680,149016,13907,30171,28343,23530,115225,61104,35821,147679,14337,4297,244282,24085,326976,56428,7851,21303,131620,71446,83253,68692,111870,5224,15813,38197,49026,45057,13660,3306,76345,40671,27905,91072,996,68527,62085,91351,122634,55109,168209,2024,27560,112707,17352,8306,167115,169921,166958,5031,46020,11844,67284,19130,76185,6920,32849,5450,14610,22451,21002,17392,31872,66682,84796,13709,40210,59898,12029,8719,53564,21462,91884,21647,88379,194428,12754,37797,132826,160016,22567,54383,53186,77611,31107,8339,4694,19185,90355,23597,17222,140675,28442,23668,55977,9128,61555,28774,155229,17658,9390,24379,69357,15752,127381,239631,62460,93181,55913,45133,140155,18676,25249,33164,29581,82837,67223,22362,29975,7317,52813,1943,29613,20012,207130,49617,49651,5636,15334,36313,29226,28084,95247,72072,19e3,224932,15811,114,32127,38097,37508,88507,37225,27359,91626,12193,69279,20608,11055,88156,92808,2152,57259,55275,72789,24475,104414,1708,9882,3818,48661,66897,1631,34806,227930,85815,87753,18321,250664,72733,25107,206797,50891,8082,196411,92596,96764,152823,65514,22819,387277,62176,51225,40329,15563,189,3659,73670,64357,51793,275136,33482,86653,74615,67058,11318,125720,15388,22388,8267,1730,102663,170910,40784,7144,85373,13040,7088,94309,583,44224,140424,77439,18496,164026,36578,4722,9151,5824,63365,26510,35199,40500,79277,32495,44614,35233,9566,203293,152144,7097,2330,183480,98629,13423,330887,44130,68600,30939,97829,31012,345465,56747,94879,4939,160027,149761,99423,46099,32251,15332,8761,96094,128555,5763,235318,222223,55729,30241,55420,201746,3987,81382,8259,49325,23287,7719,24633,251100,92311,18591,110533,64759,170260,393860,7175,21144,132887,3593,75346,101277,91109,16387,259187,11627,57459,173829,44694,55780,49797,89192,120443,62622,3904,14814,23887,1027,112258,64955,99800,11132,66353,36202,48624,18158,88481,96882,43059,11040,2455,7077,21651,181159,99126,100434,61388,68186,19161,110468,120052,8819,55324,41494,7014,37689,3618,87729,92615,207943,9823,128657,12587,15857,6379,67628,51216,71775,157617,63244,1503,3864,218754,110864,5769,21492,7243,1192,87921,85529,31512,18537,42698,35350,73510,84474,34301,8991,21013,35034,566,38832,19838,35586,37216,39413,55006,12178,59742,856,84563,6900,25632,17437,49786,30723,13847,70845,4044,7843,23944,235976,55530,48942,6518,20939,73769,192653,52936,95207,23895,132542,142982,22632,87452,48042,54018,178468,10728,26230,23559,363,81269,142012,5718,346258,31456,84333,246476,51018,66692,101804,120570,39962,30373,70593,2864,60541,19425,54209,104092,7201,31545,48018,25865,15442,46257,40443,8328,6451,111782,47527,97754,33046,470,245116,31095,39,91934,87208,73470,36708,36521,12801,70624,36272,8892,79768,12427,55454,103756,5908,52390,62962,22720,141138,94634,41689,128402,126390,6628,106394,35527,134394,82727,254651,194502,148064,89549,3202,28359,957,21954,27906,49840,142747,8307,24206,48978,1186,71728,133038,71474,91306,6333,110959,74600,70387,18983,62609,56057,22970,1147,135850,1321,28834,3578,59715,102227,32827,81415,99952,55636,257598,390,22702,35701,85872,402916,39216,189795,14929,19467,10112,144422,61514,5279,63421,134686,41436,8424,51925,10598,132295,124416,4604,194739,210929,57866,31829,51626,50007,9976,91878,61906,56168,81906,60918,61859,40017,23059,16887,40927,62064,12785,32893,32913,21782,93965,20169,44387,79084,38463,11457,93950,27127,157050,2697,337088,5116,54128,48255,33279,8821,27352,25515,124022,65710,28906,38557,33390,1722,104435,72215,38551,12094,30978,25113,6671,37355,175109,42862,98024,65406,221276,59624,118012,64637,78760,86697,21426,1639,40350,12584,67193,84144,31396,7863,143011,69629,63112,9454,28666,65798,46372,134721,6314,51402,30837,151922,2847,38676,38008,92823,136245,17540,5504,109295,205242,37606,5211,214892,1586,20670,208711,137743,19328,40652,16995,20023,14657,154919,34422,12996,13918,38221,47690,16398,2959,37680,89122,6721,198469,91876,172043,83898,101992,26084,94570,3635,76958,22853,76497,38266,176590,168403,44464,142840,79180,184594,1984,41806,83147,11985,6546,366068,59732,24533,271505,8736,39084,222992,93429,28962,58985,86665,8432,30028,14548,32439,54424,165029,55175,27458,69046,121277,46168,33732,20661,24581,135574,123110,37556,79260,72611,16957,12939,46162,58238,44907,72936,253758,41324,32518,96480,11949,124438,65280,43256,34107,53533,43531,37037,28366,45970,32741,173438,6121,194202,62969,26355,30314,58370,28455,1848,50519,82830,90393,21761,295490,10936,256940,133568,44050,20269,4089,27457,21610,219460,36743,14821,101388,52005,13124,30979,140816,167362,26054,18458,60789,34917,40447,26606,33422,9066,3452,83614,5761,20263,137238,25038,91310,101,52322,74548,42572,38084,214054,186568,31802,17665,30620,141936,37730,14420,4265,187218,49640,188208,51441,55388,96452,66659,40869,42039,60967,221027,19234,178581,29105,96050,9165,196118,157335,3738,40354,117436,2965,34136,59659,15570,50843,230035,31444,71260,43886,18316,5387,38500,168508,17406,32174,8828,103373,143806,90367,3560,18719,122310,16508,26719,2541,105429,6645,37998,73190,10591,235916,49737,87112,233941,53188,32193,79154,4544,52905,126477,7580,63501,57314,3216,31337,6541,103083,60846,49,9756,15481,1355,43840,14319,13743,27486,10222,73114,230718,418644,16706,6674,279748,23058,45273,295831,86306,2743,5535,88773,21829,35253,120938,31153,3169,16839,42847,8751,80974,33942,36867,35514,16485,26474,77775,56877,5391,48346,3882,108713,31403,27804,55248,26235,43821,136104,40118,175507,28034,203908,18732,1788,34030,106427,36958,54359,7251,44936,15356,69139,455,157915,22173,140291,50348,43275,82066,49621,54952,15216,36226,96695,66855,6936,1987,8227,196087,4631,68827,99004,47541,110265,17953,147605,110242,58520,31312,38724,329975,642,3155,34497,75937,6207,73843,6120,17249,51429,117746,3218,910,68961,319671,14938,29555,34700,1649,66673,72268,9655,76800,153087,6941,210168,27130,35398,1780,73242,3135,56689,19556,165307,8765,35967,121458,13333,70453,17350,117253,22265,13340,44265,39869,441,3742,135025,23581,33309,16543,17731,13291,157637,283005,21408,101360,63887,52312,83873,5338,233779,23759,186949,34531,177320,38069,156465,91004,19353,59852,68160,14891,1338,1072,29823,1950,28901,81407,313445,73038,84807,162348,240257,37162,138934,16111,58013,41253,102951,16457,96056,19541,56402,67217,41638,94381,89674,29481,37456,80815,151579,13937,13683,132537,19699,134545,67020,29816,222341,141235,427578,48868,129557,233342,23077,87871,16213,18728,16184,9469,37913,19680,2798,171356,178328,13216,50049,72690,71904,124644,55455,7504,29052,41036,266546,19899,30391,188755,8659,59469,16,104298,112943,53865,76203,138226,68857,139953,14125,107625,119795,173133,4398,50273,48808,54390,16466,122086,31835,67035,50971,48859,7508,46427,66477,73021,84615,39985,83076,46779,201569,53336,36443,60865,168164,143810,51393,25548,169307,32896,24485,38424,21837,29087,275813,51674,6714,64883,46169,187369,55186,76192,12852,12018,62134,31067,118303,16542,12125,10579,4928,26291,43854,7091,10946,253716,109062,39283,17261,113012,258512,47764,125126,32646,55892,80279,201623,149872,3192,385,1208,48750,5376,58738,22335,5427,82416,47811,32435,143086,38930,94128,59975,156037,37977,38224,62485,7698,50405,71027,16462,21559,136153,34131,107506,162069,63703,3101,215029,40407,4178,3774,9187,80019,17880,97926,67579,2600,18405,8351,47924,86638,70820,92206,86453,29610,42241,119200,3198,15466,67813,57863,35454,4779,99518,4649,104641,144269,33730,38073,65864,6838,109456,193298,154007,5623,45741,30846,182578,25573,157224,1543,58575,138703,146140,44971,49356,18275,59064,20300,13122,11848,24453,11973,9797,86843,2919,25530,49210,1130,161220,76788,75373,85604,34926,36014,17777,17255,51533,11676,92226,51845,119859,21525,5936,18507,28050,1140,31418,14857,34207,47859,10750,36382,32079,106909,59426,87757,38393,110042,15965,97104,33757,35344,97993,53979,33651,45407,41884,82515,173089,7177,58371,35365,47543,51927,35587,10670,23544,29306,84233,39976,76076,62097,9007,8668,28119,78281,120790,19835,143020,54968,18670,64959,20649,34469,42570,33001,136570,87796,120044,1106,58700,63951,127623,12805,83057,40212,31773,49850,7361,54336,347524,101314,23751,19569,48791,29174,49369,20467,7465,75842,38281,623,112457,60210,28849,51003,94720,6426,90047,85560,43761,3579,85105,34607,90410,118528,7224,42907,111163,18168,6960,161135,191298,5247,100584,127552,171568,20121,91173,12636,54615,20199,63730,98105,2396,40387,14438,125012,4765,33235,12865,45299,37728,82098,77872,114037,59253,19675,24838,398016,102561,11446,17069,57508,178277,65836,99941,26114,2585,271882,136866,50126,11027,155648,118367,14585,8910,123015,335383,40434,41016,53021,14439,87098,176860,201543,121888,2358,9286,5739,22666,54270,37884,169381,33984,93859,16124,89364,72207,51639,76366,99029,65812,2198,12147,174891,194289,6986,30252,88822,21284,11445,288337,160821,33034,100869,43852,25761,52882,1144,103809,1924,84458,86079,43411,13542,139276,18141,34978,41298,7276,26481,173800,33210,17951,142652,33616,33677,2210,19941,98568,2486,192414,80136,12058,235883,50963,249638,29572,27221,47034,6124,72107,63346,97620,158513,299699,40388,23235,37176,224244,198386,121323,67992,23827,63170,17838,106622,158590,26807,5345,23489,91891,55474,74834,37981,13058,5977,72552,34706,26828,145172,19904,21367,34043,960,77092,91381,4733,47446,7680,41697,5170,16960,14741,46101,13656,473,51842,37433,11103,11551,121951,13191,97536,165932,50397,51628,129028,9069,44885,6590,59195,47045,32940,225472,90345,21833,13303,29407,96615,141951,5198,6028,18395,7181,3861,14966,156358,167182,36529,55253,25942,173153,30959,27261,50691,150176,162201,38467,48462,80602,42163,118482,168,108756,26011,17166,54149,456538,22512,91374,13816,90358,131615,18132,226707,1824,28139,26860,42253,93877,77351,65575,8980,80574,22020,27948,40422,91324,76376,13528,39281,91685,82215,122541,144066,1983,193851,17283,26320,2739,194978,4790,26845,42627,61300,65815,174612,55133,4200,191130,79771,158321,52280,166796,221620,62461,11278,4067,88152,83409,31717,121367,13522,47325,37945,10406,174348,249321,154101,64912,29938,51775,17220,15776,166138,78890,84425,54121,42861,16368,24572,291647,10197,32073,22651,11677,97509,26952,35787,18424,41910,71614,94977,72318,41594,70024,275419,37702,60199,7335,39107,61315,18271,18394,33768,87884,104277,123724,7277,56288,71981,189803,49320,3352,6798,14240,8954,69220,94433,57372,28620,68863,193727,85575,42309,41667,67689,42081,22543,44824,12719,28540,114236,101553,27638,27296,4300,5353,4663,19379,94098,3758,95888,95144,80344,87320,28447,259518,12718,71391,152731,37063,24132,31911,104896,15672,103782,1521,4945,72541,23717,122632,15619,87175,206120,29428,189780,61416,28350,44457,972,1175,47233,198738,95789,41907,21953,97034,59341,22864,53713,16873,32971,20693,20954,31336,21477,16169,38370,16412,9019,3841,24599,21938,17085,6484,81198,76413,5849,72514,12320,65247,276175,37234,59796,52642,16312,57349,198507,94148,46134,18958,125552,1747,18725,151873,14901,5490,68287,29470,3689,64794,40814,26018,25692,54450,2703,88278,124886,173087,174e3,24159,179477,24276,46004,201876,209202,445,52876,31948,30206,157610,39180,18439,44124,50469,5774,96278,222758,200216,50290,45486,20435,46986,46276,140133,142326,15569,13363,47522,92583,2182,7135,16853,22998,30272,4952,63263,35623,39096,53789,44864,20053,110392,124213,4630,16087,28221,127787,25839,77481,44693,13464,113146,6983,27069,55717,50102,4760,7107,26186,66507,59145,36032,104182,71328,29425,64317,50781,47465,94298,69706,74899,22754,120756,25108,93077,56834,73286,39928,16218,41699,176763,7555,70819,50083,26895,23315,26014,16773,123079,41712,5719,31516,90427,158540,85051,183128,40864,27505,55392,9058,45224,96857,30901,136622,96557,56304,120061,11501,151448,5773,89743,7769,86069,2935,18471,41628,10114,33660,110170,49479,26745,92846,33221,26731,18795,87076,8550,2100,29972,120289,3077,72490,33784,2630,208722,50861,63483,79029,6419,39467,14302,45286,64207,9686,67513,44170,1050,77246,59266,17055,53801,7150,11111,42432,4278,94579,362117,36175,42902,41933,39002,98489,22913,74161,84773,57036,17556,162288,74485,178760,93867,73635,128860,50362,261,67455,80001,46080,35662,4368,25247,19230,74393,22588,1822,27682,235324,13798,85998,13194,235067,23514,71669,147632,23191,134748,214683,105101,1518,25489,247114,7380,54842,26922,3971,26361,20844,68642,170517,77339,123255,8963,77818,150998,48466,36806,2732,23261,11741,236162,18243,126216,28690,50546,16385,92760,197383,246558,201295,88255,67588,71687,176076,172653,169058,33906,63747,24835,157621,43338,30050,46152,132741,2770,51371,94835,6614,15112,11749,56936,1250,19027,399017,58036,100215,23388,55815,308768,124152,94803,9521,64186,8971,28,30427,62163,7616,103838,35079,29203,131235,7743,17389,10882,37420,61460,228512,85363,41581,131077,62822,119647,10130,54445,26925,19968,29016,24446,74028,24176,61448,67185,9254,8563,119129,9771,99184,37716,39514,10532,221512,258753,218630,55980,23394,32141,61924,66749,32411,3741,36475,26678,77010,44946,91203,128749,116953,20476,49625,53116,13735,102335,29376,51946,83407,67892,59212,34685,21083,1546,112982,32972,74397,1078,190545,16082,86140,58591,89611,101531,10061,105104,76319,20035,17551,52611,169061,190842,100780,23907,90413,115619,9675,34710,193435,49443,129734,11183,258877,16318,136182,126808,44635,27304,192375,2599,125648,47051,12091,23814,721,58800,40137,66726,97930,60877,74487,7942,54326,9841,41428,13762,8211,85383,6950,99177,79806,201786,296464,124087,13144,29741,41721,47634,55088,254286,106408,17041,99064,12942,64086,45233,14005,2612,55827,255,7984,13980,38574,12776,46654,73499,249951,2101,26676,25996,132326,116415,119062,50449,31033,23038,11589,179252,20007,14860,129270,21143,17796,144715,60106,70758,69842,34674,282133,44014,16774,57268,38528,24053,46373,201667,28327,471023,51889,102667,21193,114909,84132,69317,96723,67969,16134,68145,15058,28765,32035,2524,101089,98664,25045,76571,14957,86040,118506,262428,154764,81573,39681,283900,73287,127825,544,80448,52347,38512,175971,15180,45467,33086,46552,48894,81107,43213,36672,54025,76703,8053,7608,13299,56619,20752,238099,54164,105133,1444,32942,953,37564,8e3,66316,119463,106817,404,13667,149108,128597,31267,10269,49836,106150,1484,52330,76965,160486,171648,38456,31263,22424,37738,66245,67467,143369,60471,75610,20895,115528,86070,60854,40796,49347,18989,15030,11371,37578,15779,79867,10187,86462,46402,155626,93200,40229,7090,57547,108053,99598,11088,47505,41218,206017,2173,20988,30219,22919,80563,57566,42369,93141,41675,2407,182519,120495,27154,16702,29456,14349,7958,16688,117177,140375,42467,261919,74916,153569,10836,34742,49526,7621,105997,12212,2270,392377,7755,17959,25086,232152,138791,33847,13860,35316,5811,1344,71259,50452,207539,92635,50359,5821,33674,30255,2086,2587,96264,17543,42,6029,9580,43007,139248,82831,12917,29607,25786,51467,42137,85161,100698,31561,88989,121990,278500,3602,109344,37982,15279,116442,28936,30880,87894,58079,128661,126731,67392,28051,146885,4861,16216,97344,42827,147561,153948,22684,21335,47685,1853,43349,15185,59642,10229,25520,187921,108972,5579,98037,24945,6697,19193,63734,137934,75056,89740,19767,224268,56138,63643,151661,39313,70618,84031,89723,84074,13703,85626,35460,8867,64845,3439,57906,99776,63968,49270,81130,34356,16210,23547,36446,34090,140028,72439,2221,22163,57058,363492,113754,18913,95451,48663,54464,54037,176097,68425,3023,34906,29482,117389,341780,80431,58330,16753,92616,60907,94846,147486,4498,48646,7773,46801,7778,18946,464978,47558,33223,177444,7328,15626,63337,94700,11743,9351,255024,39098,16447,42647,96230,39769,58840,10068,63439,35800,65843,58823,413844,9156,51258,7434,61791,85018,6872,3692,28096,7121,33024,6009,75532,31997,192535,9661,3304,9547,14753,31987,25314,55689,15896,20430,39472,31340,99744,25398,115569,54883,28719,205423,23071,57855,64638,149867,25671,82403,37616,20668,39989,77996,74948,140555,175248,64810,36515,46595,4958,248773,24045,28728,136673,168704,20804,114833,100325,27135,21205,96151,153134,45992,7093,13992,76047,1980,19432,145001,75159,87462,17710,1013,45556,34297,144882,20648,26061,11319,129567,108555,18872,464580,33386,22717,65948,167189,5603,135042,79542,8801,202632,18114,91882,5973,5239,67315,4431,60916,47819,71693,32597,32606,18183,45072,80329,76385,24749,51305,40314,156514,14693,130345,13168,66214,18029,12858,34801,27628,14544,10823,40522,40185,33739,148694,23548,9923,61012,28859,17933,19442,34364,99849,164107,141167,30629,21054,6744,36491,8096,42474,41706,155060,30650,10600,163442,1143,96655,61390,52359,7559,51568,64256,203854,4467,22453,14504,436398,7878,6980,8293,63610,293747,16167,35763,19627,147603,15419,18032,110744,51346,33681,54571,40472,48615,39073,21604,13754,173027,92560,11083,47299,63062,11813,52007,29883,9734,139722,15953,1550,20651,13616,49306,16113,90089,92326,7584,30712,72424,164858,6831,152871,55746,197721,34167,196442,6022,112107,55215,7538,123381,4920,43539,77165,8939,50392,34192,20225,79762,22505,58667,40770,29788,97180,82835,4568,8579,13273,363569,35898,49983,436,36598,3237,131691,62418,35591,8101,4073,379438,65218,76072,33887,2968,27573,212619,288680,68278,72851,150504,217896,6913,121339,22017,35340,51072,43616,75043,31437,10833,81487,4364,22968,41454,106687,85446,19863,109625,149241,524,141850,214404,54376,657,237023,9401,108137,53800,32474,49712,53334,126876,27337,45552,177696,8269,15036,12097,42240,2328,125374,119295,99715,2500,19624,39441,27220,102691,60957,94543,39101,18566,67362,13975,78230,25017,34017,239007,90027,39351,41681,35354,43822,1043,916,58587,141983,94818,38799,75459,41114,67432,16195,36606,59568,22272,126769,31424,68659,12287,134302,257977,5756,207285,95637,47248,117689,19583,77451,22373,12200,54993,117118,34244,29386,34562,53819,71267,64172,77665,49368,7716,59301,25749,45426,194789,17297,2650,1766,32501,45198,20403,20984,6600,14171,94604,19037,5402,29896,9938,59935,109708,88081,145182,44844,39167,352626,164173,35374,45982,6122,154,73419,220487,53834,53601,17992,8609,229321,5610,68098,66815,71012,95069,140968,27396,8957,134489,24656,86659,56598,134852,17316,123838,255436,6613,41610,138033,81452,32023,32396,123687,63398,8693,29712,30407,19296,121188,3551,36099,20032,111948,56624,16547,27453,35916,15378,52039,56849,13489,22214,73177,53097,277349,2157,14029,187886,10260,141743,246460,91880,50869,3788,49486,133566,54950,33120,129337,53768,18333,9525,26902,312251,10297,9020,70759,16647,112432,59260,84609,9818,82766,73569,468,46001,75780,55028,52106,11498,43645,108069,17150,17753,29417,16705,31799,9606,289,122254,115975,8620,6133,255357,56908,14456,133464,43554,79224,11247,29630,160,12756,25464,65960,350428,62521,321796,100359,67358,35169,46172,113128,48988,88868,31094,33266,6847,60887,98188,49659,69117,92977,220228,13947,80181,35103,62170,97351,13475,2440,199768,19498,36597,46971,25234,67806,62881,84717,73648,181966,10488,94149,21550,26655,63436,48375,14405,165650,9621,24439,28043,42735,4490,29963,56674,45373,1934,262446,50855,67098,26898,5261,52696,40644,33900,9440,180286,87162,22940,19704,26936,69769,10254,101759,27406,12243,48e3,73926,113215,54935,5726,192787,4312,106216,9366,11550,52949,23457,212271,277152,133895,108374,6191,96477,29980,218916,58024,54696,40853,91124,65894,91170,65908,252552,6793,29212,15389,44516,122515,52617,35058,9017,103536,39510,49136,19242,130652,662077,74699,47024,31422,8517,73351,24399,13867,128360,4810,4434,61779,111983,61036,17798,110240,59722,102960,39688,10001,23803,23039,176498,56659,44814,134295,17188,77577,74466,226175,102472,154333,63900,111747,18062,41171,79669,32773,408933,42562,28931,30907,107388,43487,2946,240310,23938,24354,319,184983,7927,6488,1422,10790,68809,68209,64775,4361,202,17123,59634,51200,44391,18188,17843,2619,74278,3230,9540,47187,21702,36274,56894,43907,16310,34790,16866,6150,5561,13587,107545,108873,126867,86986,28640,33427,19017,5762,80637,17430,46903,2047,131055,25958,13558,5444,47152,13900,44563,122857,45348,70863,39593,54332,38068,33637,318,40310,143467,18502,24520,11377,62013,28942,27246,28269,83545,17999,59015,90707,30065,15161,34720,1263,37008,2012,6060,98575,92933,5721,299,199555,24578,29223,2985,743,115825,109523,136657,47454,26378,53586,3733,174945,93340,244456,5693,37386,28782,89767,27545,23573,18798,136425,34320,84778,20041,48453,38215,7477,71958,40621,8773,5874,187927,105965,51100,43533,18083,8443,10180,43597,2003,183999,69689,12216,129696,146188,62389,34044,68410,12765,43273,26949,266807,3345,34477,79197,5688,47539,213110,21634,22257,50092,32222,42346,39530,63668,98,134978,74022,5152,59088,174145,37220,9934,9545,118937,5724,87240,19875,15784,40143,23263,87513,181654,285152,37881,263241,4966,43934,10433,186657,6470,74416,225854,25908,142677,246262,32280,6192,75890,45546,143264,135305,29742,47013,77787,11732,126658,8763,37950,21806,57557,113464,89465,108995,164574,23894,22996,23169,15369,23117,17642,130607,40503,36239,280990,44666,9981,40427,147487,26869,168452,32886,32991,46798,240839,15111,70502,65697,88548,44145,28701,48767,31139,206777,35659,181164,166262,14554,171445,31786,66523,76607,17956,6507,31279,90476,116611,167918,6560,1243,115324,80128,41867,55897,187323,37069,32596,189444,145931,13390,105530,65709,26805,6999,55714,41300,22915,68951,22138,21120,22264,10058,19945,33635,56123,99085,10032,5818,6016,46649,57476,35264,94413,112522,262288,93686,83038,14341,23204,28807,66084,77987,6101,126673,7133,38126,5923,122091,170240,97772,46874,215746,43948,41622,3272,55596,8332,146411,251315,13533,8561,81521,115449,48616,175175,2063,186556,3036,134537,75772,29728,82360,22973,186559,86348,89100,38388,82297,45610,2613,87082,9986,177812,57884,23591,47485,42543,33582,44713,74439,257444,252451,31825,35631,38540,33066,5147,13973,4343,51830,70378,22827,26448,95560,36896,241741,48067,203953,298860,61620,20450,3220,67272,6586,107662,100160,108684,6929,57226,4762,7457,1320,40404,77204,99309,62750,208653,59977,44e3,74315,34332,5819,172217,64904,114077,18147,84012,1791,98456,90930,21446,116669,103938,7422,85140,59713,5768,326211,16239,75411,13229,29398,10758,236107,1539,112472,95979,152154,151294,306,21196,38146,10700,6891,84282,109646,56492,40539,6589,119491,51354,30685,140209,136906,29622,73617,49553,70525,51671,166869,139616,74395,37439,49595,45678,11959,33211,86560,52434,9282,62690,112155,130810,5243,108261,99970,265613,72551,80049,6391,33365,90721,66737,69872,87011,1860,9032,112544,60905,37371,89015,140351,19076,850,373531,2802,36725,218795,72062,28990,16550,24614,7815,6187,26336,33373,32162,42791,73555,32062,23386,10244,56392,49442,27076,136262,12412,14883,1134,33675,97153,199281,15608,100152,74072,47942,254301,36451,16026,10687,65067,56708,254030,30290,50490,13864,57941,259331,35588,23485,43486,24869,21620,92971,22072,88645,1048,182050,13343,32452,14825,19509,3325,216938,45740,99716,189082,53740,78245,25609,24311,176777,47340,308354,40669,66085,14102,125339,9225,128709,97207,1271,200933,78439,113451,88975,18324,46521,11819,18570,141756,72512,170020,52754,63550,118515,103073,93330,32736,50499,14722,31600,68452,398867,29316,172786,18417,104924,2606,5670,84818,16288,67106,59580,82929,607401,291,85829,359,15897,35830,50696,65630,52672,22115,356968,29895,40837,231192,34024,38957,26722,406,23335,124952,72068,68804,13268,147101,164740,276569,162596,66943,11569,26654,66358,4777,23229,102127,5848,978,2921,59666,5371,28212,90108,42938,39320,2499,4271,108792,33510,125072,71653,65239,38250,66357,38577,13964,86251,35708,50755,36010,29448,12209,3844,38222,206337,100876,67827,137088,14167,252225,84163,195270,1306,5703,54198,779,46802,22028,51124,86759,70560,113164,35685,162145,45471,34561,422,2611,6464,47486,19223,38246,9191,18331,89942,243642,212364,15893,17518,22617,6409,30046,126182,59716,36560,104428,18846,26592,19458,50793,147333,30826,1388,27647,10922,14495,33545,19269,135828,39727,41601,46931,233379,49169,131130,182112,16276,82381,118209,142445,128310,19672,28740,82907,33436,3118,102206,28723,24819,41937,38854,5157,3881,111491,1142,9776,421673,152241,29309,14961,87854,6054,15424,3796,82656,54996,2108,55367,239450,154525,9643,118103,106041,64601,68549,48707,30266,25772,18740,9462,229669,91798,112152,191327,14493,72828,8175,66636,236474,25817,87351,129027,76653,20422,22983,71240,27846,44661,12399,46158,77704,53101,35032,11072,17300,109294,33638,24408,1895,11241,760,17584,82479,125877,63150,141075,34259,23274,81698,15732,43577,48340,91584,14688,16379,24481,150280,96420,262050,48635,43727,61819,56268,72003,88178,17281,79912,13218,122519,125295,166396,11811,2171,118930,67746,17636,178278,174656,95661,173039,83845,79689,17473,98555,127696,203415,54730,22925,232239,9309,12136,175026,20740,180188,10747,39816,314017,266131,10040,175732,112550,220651,31974,37393,888,23008,86799,4303,64905,148467,75337,251,3284,370102,50264,9835,5438,23655,4481,29851,329,12855,7162,64931,78141,12804,42372,296771,83547,18624,34874,86271,3360,48665,77735,88767,11463,63527,28889,22258,29140,194315,113924,25499,6406,31334,1845,4802,49184,43455,35469,127594,92970,61038,115005,38840,87761,106838,8811,20572,55637,11162,96721,132425,108925,2948,125457,36356,3502,75270,27622,127192,2561,123095,49394,61155,16897,110064,9699,89448,53356,19628,220310,21622,83036,9885,112214,6087,26713,17901,161912,91492,3440,68594,9266,92238,8087,6866,150194,72175,80701,13459,31836,43243,239700,95846,44749,50647,21945,230538,120612,132371,244604,5193,105637,34661,41341,68775,85393,1874,8771,33718,49672,77403,595452,99507,6490,58895,128742,7704,39239,73217,43816,62824,37804,199976,22361,80005,87514,94832,14089,4574,139975,59142,75523,100268,43906,53442,15152,2547,186002,17011,19513,204282,3343,60568,128318,119250,4298,51871,41336,71759,21921,45074,98169,145889,99427,11350,1237,5520,28799,7803,53702,21026,136352,38293,128690,12158,90132,44600,10184,26957,39459,126025,78904,82999,59373,39301,150198,120529,153042,20177,50089,14764,271571,30530,123161,38975,101562,22941,5648,124654,109243,69817,71675,49162,106884,21241,107795,30258,16572,188262,141456,7688,60718,8271,11044,32440,104608,103419,236109,93156,43293,128929,42107,67180,25201,115254,185488,130954,72813,167547,20537,39969,38432,22582,184022,1139,27199,5655,17767,97412,122606,209377,27070,35871,326617,188954,42680,73512,80911,22629,3011,95021,315242,157737,383,41821,41808,19335,27950,15674,25677,110950,35375,76835,59108,57370,35262,16569,160415,37706,78086,32041,49691,137143,9782,172080,50148,77917,6323,10110,69172,17711,21795,59511,76184,135114,31046,132319,59105,157578,20549,80778,57649,158421,65143,4575,72235,21899,10797,92745,34035,106079,80159,4508,78304,25350,75457,46458,32937,25623,47,8531,104751,84953,8138,36508,187199,66310,115274,13253,32461,38536,1916,42007,187160,35055,26325,84394,35963,94216,45590,97782];class Mm{log;peerRouting;routingTable;refreshInterval;refreshQueryTimeout;commonPrefixLengthRefreshedAt;refreshTimeoutId;constructor(e,t){const{peerRouting:n,routingTable:r,refreshInterval:o,refreshQueryTimeout:i,logPrefix:s}=t;this.log=e.logger.forComponent(`${s}:routing-table:refresh`),this.peerRouting=n,this.routingTable=r,this.refreshInterval=o??3e5,this.refreshQueryTimeout=i??3e4,this.commonPrefixLengthRefreshedAt=[],this.refreshTable=this.refreshTable.bind(this)}async afterStart(){this.log(`refreshing routing table every ${this.refreshInterval}ms`),this.refreshTable(!0)}async stop(){null!=this.refreshTimeoutId&&clearTimeout(this.refreshTimeoutId)}refreshTable(e=!1){this.log("refreshing routing table");const t=this._maxCommonPrefix(),n=this._getTrackedCommonPrefixLengthsForRefresh(t);this.log(`max common prefix length ${t}`),this.log(`tracked CPLs [ ${n.map((e=>e.toISOString())).join(", ")} ]`),Promise.all(n.map((async(r,o)=>{try{if(await this._refreshCommonPrefixLength(o,r,e),0===this._numPeersForCpl(t)){const t=Math.min(2*(o+1),n.length-1);for(let n=o+1;n<t+1;n++)try{await this._refreshCommonPrefixLength(n,r,e)}catch(e){this.log.error(e)}}}catch(e){this.log.error(e)}}))).catch((e=>{this.log.error(e)})).then((()=>{this.refreshTimeoutId=setTimeout(this.refreshTable,this.refreshInterval),null!=this.refreshTimeoutId.unref&&this.refreshTimeoutId.unref()})).catch((e=>{this.log.error(e)}))}async _refreshCommonPrefixLength(e,t,n){if(!n&&t.getTime()>Date.now()-this.refreshInterval)return void this.log("not running refresh for cpl %s as time since last refresh not above interval",e);const r=await this._generateRandomPeerId(e);this.log("starting refreshing cpl %s with key %p (routing table size was %s)",e,r,this.routingTable.size);const o=AbortSignal.timeout(this.refreshQueryTimeout),i=await km(this.peerRouting.getClosestPeers(r.toBytes(),{signal:o}));this.log(`found ${i} peers that were close to imaginary peer %p`,r),this.log("finished refreshing cpl %s with key %p (routing table size is now %s)",e,r,this.routingTable.size)}_getTrackedCommonPrefixLengthsForRefresh(e){e>15&&(e=15);const t=[];for(let n=0;n<=e;n++)t[n]=this.commonPrefixLengthRefreshedAt[n]??new Date;return t}async _generateRandomPeerId(e){if(null==this.routingTable.kb)throw new Error("Routing table not started");const t=je(2),n=(t[1]<<8)+t[0];return Ce(await this._makePeerId(this.routingTable.kb.localPeer.kadId,n,e))}async _makePeerId(e,t,n){if(n>15)throw new Error("Cannot generate peer ID for common prefix length greater than 15");const r=new DataView(e.buffer,e.byteOffset,e.byteLength).getUint16(0,!1),o=65535<<16-(n+1),i=Om[(r^32768>>n)&o|t&~o],s=new ArrayBuffer(34),a=new DataView(s,0,s.byteLength);return a.setUint8(0,fe.sha256.code),a.setUint8(1,32),a.setUint32(2,i,!1),new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}_maxCommonPrefix(){let e=0;for(const t of this._prefixLengths())t>e&&(e=t);return e}_numPeersForCpl(e){let t=0;for(const n of this._prefixLengths())n===e&&t++;return t}*_prefixLengths(){if(null!=this.routingTable.kb)for(const{kadId:e}of this.routingTable.kb.toIterable()){const t=gm(this.routingTable.kb.localPeer.kadId,e);let n=0;for(const e of t){if(0!==e)break;n++}yield n}}}class Nm{providers;log;constructor(e,t){this.log=e.logger.forComponent(`${t.logPrefix}:rpc:handlers:add-provider`),this.providers=t.providers}async handle(e,t){if(this.log("start"),null==t.key||0===t.key.length)throw new h("Missing key","ERR_MISSING_KEY");let n;try{n=ue.TO.decode(t.key)}catch(e){throw new h("Invalid CID","ERR_INVALID_CID")}null!=t.providers&&0!==t.providers.length||this.log.error("no providers found in message"),await Promise.all(t.providers.map((async t=>{e.equals(t.id)?t.multiaddrs.length<1?this.log("no valid addresses for provider %p. Ignore",e):(this.log("received provider %p for %s (addrs %s)",e,n,t.multiaddrs.map((e=>$t(e).toString()))),await this.providers.addProvider(n,Ce(t.id))):this.log("invalid provider peer %p from %p",t.id,e)})))}}class Bm{peerRouting;peerInfoMapper;peerId;addressManager;log;constructor(e,t){const{peerRouting:n,logPrefix:r}=t;this.log=e.logger.forComponent(`${r}:rpc:handlers:find-node`),this.peerId=e.peerId,this.addressManager=e.addressManager,this.peerRouting=n,this.peerInfoMapper=t.peerInfoMapper}async handle(e,t){if(this.log("incoming request from %p for peers closer to %b",e,t.key),null==t.key)throw new h("Invalid FIND_NODE message received - key was missing","ERR_INVALID_MESSAGE");const n=await this.peerRouting.getCloserPeersOffline(t.key,e);(0,Id.aI)(this.peerId.toBytes(),t.key)&&n.push({id:this.peerId,multiaddrs:this.addressManager.getAddresses().map((e=>e.decapsulateCode(bt("p2p").code)))});const r={type:Up.FIND_NODE,clusterLevel:t.clusterLevel,closer:n.map(this.peerInfoMapper).filter((({multiaddrs:e})=>e.length)).map((e=>({id:e.id.toBytes(),multiaddrs:e.multiaddrs.map((e=>e.bytes))}))),providers:[]};return 0===r.closer.length&&this.log("could not find any peers closer to %b than %p",t.key,e),r}}class Lm{peerRouting;providers;peerStore;peerInfoMapper;log;constructor(e,t){const{peerRouting:n,providers:r,logPrefix:o}=t;this.log=e.logger.forComponent(`${o}:rpc:handlers:get-providers`),this.peerStore=e.peerStore,this.peerRouting=n,this.providers=r,this.peerInfoMapper=t.peerInfoMapper}async handle(e,t){if(null==t.key)throw new h("Invalid GET_PROVIDERS message received - key was missing","ERR_INVALID_MESSAGE");let n;try{n=ue.TO.decode(t.key)}catch(e){throw new h("Invalid CID","ERR_INVALID_CID")}this.log("%p asking for providers for %s",e,n);const[r,o]=await Promise.all([this.providers.getProviders(n),this.peerRouting.getCloserPeersOffline(t.key,e)]),i=await this._getPeers(r),s=await this._getPeers(o.map((({id:e})=>e))),a={type:Up.GET_PROVIDERS,key:t.key,clusterLevel:t.clusterLevel,closer:s.map(this.peerInfoMapper).filter((({multiaddrs:e})=>e.length)).map((e=>({id:e.id.toBytes(),multiaddrs:e.multiaddrs.map((e=>e.bytes))}))),providers:i.map(this.peerInfoMapper).filter((({multiaddrs:e})=>e.length)).map((e=>({id:e.id.toBytes(),multiaddrs:e.multiaddrs.map((e=>e.bytes))})))};return this.log("got %s providers %s closerPeers",a.providers.length,a.closer.length),a}async _getAddresses(e){return[]}async _getPeers(e){const t=[];for(const n of e)try{const e=await this.peerStore.get(n),r=this.peerInfoMapper({id:n,multiaddrs:e.addresses.map((({multiaddr:e})=>e))});r.multiaddrs.length>0&&t.push(r)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}return t}}class Fm{peerStore;datastore;peerRouting;log;constructor(e,t){this.log=e.logger.forComponent(`${t.logPrefix}:rpc:handlers:get-value`),this.peerStore=e.peerStore,this.datastore=e.datastore,this.peerRouting=t.peerRouting}async handle(e,t){const n=t.key;if(this.log("%p asked for key %b",e,n),null==n||0===n.length)throw new h("Invalid key","ERR_INVALID_KEY");const r={type:Up.GET_VALUE,key:n,clusterLevel:t.clusterLevel,closer:[],providers:[]};if(function(e){return"/pk/"===(0,ge.d)(e.subarray(0,4))}(n)){this.log("is public key");const e=function(e){return Ce(e.subarray(4))}(n);let t;try{const n=await this.peerStore.get(e);if(null==n.id.publicKey)throw new h("No public key found in key book","ERR_NOT_FOUND");t=n.id.publicKey}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}if(null!=t)return this.log("returning found public key"),r.record=new qp(n,t,new Date).serialize(),r}const[o,i]=await Promise.all([this._checkLocalDatastore(n),this.peerRouting.getCloserPeersOffline(n,e)]);return null!=o&&(this.log("had record for %b in local datastore",n),r.record=o.serialize()),i.length>0&&(this.log("had %s closer peers in routing table",i.length),r.closer=i.map((e=>({id:e.id.toBytes(),multiaddrs:e.multiaddrs.map((e=>e.bytes))})))),r}async _checkLocalDatastore(e){this.log("checkLocalDatastore looking for %b",e);const t=am(e);let n;try{n=await this.datastore.get(t)}catch(e){if("ERR_NOT_FOUND"===e.code)return;throw e}const r=qp.deserialize(n);if(null==r)throw new h("Invalid record","ERR_INVALID_RECORD");if(!(null==r.timeReceived||Date.now()-r.timeReceived.getTime()>Dp))return r;await this.datastore.delete(t)}}class Um{log;constructor(e,t){this.log=e.logger.forComponent(`${t.logPrefix}:rpc:handlers:ping`)}async handle(e,t){return this.log("ping from %p",e),t}}class $m{components;validators;log;constructor(e,t){const{validators:n}=t;this.components=e,this.log=e.logger.forComponent(`${t.logPrefix}:rpc:handlers:put-value`),this.validators=n}async handle(e,t){const n=t.key;if(this.log("%p asked us to store value for key %b",e,n),null==t.record){const t=`Empty record from: ${e.toString()}`;throw this.log.error(t),new h(t,"ERR_EMPTY_RECORD")}try{const e=qp.deserialize(t.record);await tm(this.validators,e),e.timeReceived=new Date;const r=am(e.key);await this.components.datastore.put(r,e.serialize().subarray()),this.log("put record for %b into datastore under key %k",n,r)}catch(e){this.log("did not put record for key %b into datastore %o",n,e)}return t}}class jm{handlers;routingTable;log;constructor(e,t){const{providers:n,peerRouting:r,validators:o,logPrefix:i,peerInfoMapper:s}=t;this.log=e.logger.forComponent(`${i}:rpc`),this.routingTable=t.routingTable,this.handlers={[Up.GET_VALUE.toString()]:new Fm(e,{peerRouting:r,logPrefix:i}),[Up.PUT_VALUE.toString()]:new $m(e,{validators:o,logPrefix:i}),[Up.FIND_NODE.toString()]:new Bm(e,{peerRouting:r,logPrefix:i,peerInfoMapper:s}),[Up.ADD_PROVIDER.toString()]:new Nm(e,{providers:n,logPrefix:i}),[Up.GET_PROVIDERS.toString()]:new Lm(e,{peerRouting:r,providers:n,logPrefix:i,peerInfoMapper:s}),[Up.PING.toString()]:new Um(e,{logPrefix:i})}}async handleMessage(e,t){try{await this.routingTable.add(e)}catch(e){this.log.error("Failed to update the kbucket store",e)}const n=this.handlers[t.type];if(null!=n)return n.handle(e,t);this.log.error(`no handler found for message type: ${t.type}`)}onIncomingStream(e){Promise.resolve().then((async()=>{const{stream:t,connection:n}=e,r=n.remotePeer;try{await this.routingTable.add(r)}catch(e){this.log.error(e)}const o=this;await(0,F.F)(t,(e=>B(e)),(async function*(e){for await(const t of e){const e=Hp.decode(t);o.log("incoming %s from %p",e.type,r);const n=await o.handleMessage(r,e);null!=n&&(yield Hp.encode(n))}}),(e=>D(e)),t)})).catch((e=>{this.log.error(e)}))}}class zm extends l{log;components;protocol;running;registrarId;constructor(e,t){super();const{protocol:n,logPrefix:r}=t;this.components=e,this.log=e.logger.forComponent(`${r}:topology-listener`),this.running=!1,this.protocol=n}isStarted(){return this.running}async start(){this.running||(this.running=!0,this.registrarId=await this.components.registrar.register(this.protocol,{onConnect:e=>{this.log("observed peer %p with protocol %s",e,this.protocol),this.dispatchEvent(new u("peer",{detail:e}))}}))}async stop(){this.running=!1,null!=this.registrarId&&(this.components.registrar.unregister(this.registrarId),this.registrarId=void 0)}}class Vm{dht;constructor(e){this.dht=e}async provide(e,t={}){await I(this.dht.provide(e,t))}async*findProviders(e,t={}){for await(const n of this.dht.findProviders(e,t))"PROVIDER"===n.name&&(yield*n.providers)}async put(e,t,n){await I(this.dht.put(e,t,n))}async get(e,t){for await(const n of this.dht.get(e,t))if("VALUE"===n.name)return n.value;throw new h("Not found","ERR_NOT_FOUND")}}class Hm{dht;constructor(e){this.dht=e}async findPeer(e,t={}){for await(const n of this.dht.findPeer(e,t))if("FINAL_PEER"===n.name)return n.peer;throw new h("Not found","ERR_NOT_FOUND")}async*getClosestPeers(e,t={}){for await(const n of this.dht.getClosestPeers(e,t))"FINAL_PEER"===n.name&&(yield n.peer)}}class Wm extends l{protocol;routingTable;providers;network;peerRouting;components;log;running;kBucketSize;clientMode;validators;selectors;queryManager;contentFetching;contentRouting;routingTableRefresh;rpc;topologyListener;querySelf;maxInboundStreams;maxOutboundStreams;dhtContentRouting;dhtPeerRouting;peerInfoMapper;constructor(e,t){super();const{kBucketSize:n,clientMode:r,validators:o,selectors:i,querySelfInterval:s,protocol:a,logPrefix:l,pingTimeout:c,pingConcurrency:d,maxInboundStreams:h,maxOutboundStreams:f,providers:p}=t,m=l??"libp2p:kad-dht";this.running=!1,this.components=e,this.log=e.logger.forComponent(m),this.protocol=a??"/ipfs/kad/1.0.0",this.kBucketSize=n??20,this.clientMode=r??!0,this.maxInboundStreams=h??32,this.maxOutboundStreams=f??64,this.peerInfoMapper=t.peerInfoMapper??om,this.routingTable=new Dm(e,{kBucketSize:n,pingTimeout:c,pingConcurrency:d,protocol:this.protocol,logPrefix:m}),this.providers=new wm(e,p??{}),this.validators={...nm,...o},this.selectors={...em,...i},this.network=new pm(e,{protocol:this.protocol,logPrefix:m});const g=(0,A.A)();!0===t.allowQueryWithZeroPeers&&g.resolve(),this.queryManager=new Sm(e,{disjointPaths:Math.ceil(this.kBucketSize/2),logPrefix:m,initialQuerySelfHasRun:g,routingTable:this.routingTable}),this.peerRouting=new bm(e,{routingTable:this.routingTable,network:this.network,validators:this.validators,queryManager:this.queryManager,logPrefix:m}),this.contentFetching=new cm(e,{validators:this.validators,selectors:this.selectors,peerRouting:this.peerRouting,queryManager:this.queryManager,network:this.network,logPrefix:m}),this.contentRouting=new dm(e,{network:this.network,peerRouting:this.peerRouting,queryManager:this.queryManager,routingTable:this.routingTable,providers:this.providers,logPrefix:m}),this.routingTableRefresh=new Mm(e,{peerRouting:this.peerRouting,routingTable:this.routingTable,logPrefix:m}),this.rpc=new jm(e,{routingTable:this.routingTable,providers:this.providers,peerRouting:this.peerRouting,validators:this.validators,logPrefix:m,peerInfoMapper:this.peerInfoMapper}),this.topologyListener=new zm(e,{protocol:this.protocol,logPrefix:m}),this.querySelf=new _m(e,{peerRouting:this.peerRouting,interval:s,initialInterval:t.initialQuerySelfInterval,logPrefix:m,initialQuerySelfHasRun:g,routingTable:this.routingTable}),this.network.addEventListener("peer",(e=>{const t=e.detail;this.onPeerConnect(t).catch((e=>{this.log.error("could not add %p to routing table",t.id,e)})),this.dispatchEvent(new u("peer",{detail:t}))})),this.topologyListener.addEventListener("peer",(e=>{const t=e.detail;Promise.resolve().then((async()=>{const e=await this.components.peerStore.get(t),n={id:t,multiaddrs:e.addresses.map((({multiaddr:e})=>e)),protocols:e.protocols};await this.onPeerConnect(n)})).catch((e=>{this.log.error("could not add %p to routing table",t,e)}))})),this.dhtPeerRouting=new Hm(this),this.dhtContentRouting=new Vm(this),null==t.clientMode&&e.events.addEventListener("self:peer:update",(e=>{this.log("received update of self-peer info"),Promise.resolve().then((async()=>{const t=e.detail.peer.addresses.some((({multiaddr:e})=>function(e){const t=e.stringTuples();for(const e of t)if(290===e[0])return!1;if(54===t[0][0]||55===t[0][0]||56===t[0][0])return!0;if(4===t[0][0]||41===t[0][0]){const e=ct(`${t[0][1]}`);return null==e||!e}return!1}(e))),n=this.getMode();t&&"client"===n?await this.setMode("server"):"server"!==n||t||await this.setMode("client")})).catch((e=>{this.log.error("error setting dht server mode",e)}))}))}[Symbol.toStringTag]="@libp2p/kad-dht";[pl]=["@libp2p/content-routing","@libp2p/peer-routing","@libp2p/peer-discovery"];[ml]=["@libp2p/identify"];get[Ur](){return this.dhtContentRouting}get[$r](){return this.dhtPeerRouting}get[Rl](){return this}async onPeerConnect(e){if(this.log("peer %p connected",e.id),0!==(e=this.peerInfoMapper(e)).multiaddrs.length)try{await this.routingTable.add(e.id)}catch(t){this.log.error("could not add %p to routing table",e.id,t)}else this.log("ignoring %p as there were no valid addresses in %s after filtering",e.id,e.multiaddrs.map((e=>e.toString())))}isStarted(){return this.running}getMode(){return this.clientMode?"client":"server"}async setMode(e){await this.components.registrar.unhandle(this.protocol),"client"===e?(this.log("enabling client mode"),this.clientMode=!0):(this.log("enabling server mode"),this.clientMode=!1,await this.components.registrar.handle(this.protocol,this.rpc.onIncomingStream.bind(this.rpc),{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams}))}async start(){this.running=!0,await this.setMode(this.clientMode?"client":"server"),await zr(this.querySelf,this.providers,this.queryManager,this.network,this.routingTable,this.topologyListener,this.routingTableRefresh)}async stop(){this.running=!1,await Vr(this.querySelf,this.providers,this.queryManager,this.network,this.routingTable,this.routingTableRefresh,this.topologyListener)}async*put(e,t,n={}){yield*this.contentFetching.put(e,t,n)}async*get(e,t={}){yield*this.contentFetching.get(e,t)}async*provide(e,t={}){yield*this.contentRouting.provide(e,this.components.addressManager.getAddresses(),t)}async*findProviders(e,t={}){yield*this.contentRouting.findProviders(e,t)}async*findPeer(e,t={}){yield*this.peerRouting.findPeer(e,t)}async*getClosestPeers(e,t={}){yield*this.peerRouting.getClosestPeers(e,t)}async refreshRoutingTable(){this.routingTableRefresh.refreshTable(!0)}}var qm,Km;function Gm(e){return t=>new Wm(t,e)}!function(e){e[e.SEND_QUERY=0]="SEND_QUERY",e[e.PEER_RESPONSE=1]="PEER_RESPONSE",e[e.FINAL_PEER=2]="FINAL_PEER",e[e.QUERY_ERROR=3]="QUERY_ERROR",e[e.PROVIDER=4]="PROVIDER",e[e.VALUE=5]="VALUE",e[e.ADD_PEER=6]="ADD_PEER",e[e.DIAL_PEER=7]="DIAL_PEER"}(qm||(qm={})),function(e){e[e.NEW_STREAM=0]="NEW_STREAM",e[e.MESSAGE_RECEIVER=1]="MESSAGE_RECEIVER",e[e.MESSAGE_INITIATOR=2]="MESSAGE_INITIATOR",e[e.CLOSE_RECEIVER=3]="CLOSE_RECEIVER",e[e.CLOSE_INITIATOR=4]="CLOSE_INITIATOR",e[e.RESET_RECEIVER=5]="RESET_RECEIVER",e[e.RESET_INITIATOR=6]="RESET_INITIATOR"}(Km||(Km={}));const Ym=Object.freeze({0:"NEW_STREAM",1:"MESSAGE_RECEIVER",2:"MESSAGE_INITIATOR",3:"CLOSE_RECEIVER",4:"CLOSE_INITIATOR",5:"RESET_RECEIVER",6:"RESET_INITIATOR"}),Qm=Object.freeze({NEW_STREAM:Km.NEW_STREAM,MESSAGE:Km.MESSAGE_INITIATOR,CLOSE:Km.CLOSE_INITIATOR,RESET:Km.RESET_INITIATOR}),Zm=Object.freeze({MESSAGE:Km.MESSAGE_RECEIVER,CLOSE:Km.CLOSE_RECEIVER,RESET:Km.RESET_RECEIVER}),Jm=1<<20;class Xm{_buffer;_headerInfo;_maxMessageSize;_maxUnprocessedMessageQueueSize;constructor(e=Jm,t=4194304){this._buffer=new R.I,this._headerInfo=null,this._maxMessageSize=e,this._maxUnprocessedMessageQueueSize=t}write(e){if(null==e||0===e.length)return[];if(this._buffer.append(e),this._buffer.byteLength>this._maxUnprocessedMessageQueueSize)throw Object.assign(new Error("unprocessed message queue size too large!"),{code:"ERR_MSG_QUEUE_TOO_BIG"});const t=[];for(;0!==this._buffer.length;){if(null==this._headerInfo)try{this._headerInfo=this._decodeHeader(this._buffer)}catch(e){if("ERR_MSG_TOO_BIG"===e.code)throw e;break}const{id:e,type:n,length:r,offset:o}=this._headerInfo;if(this._buffer.length-o<r)break;const i={id:e,type:n};n!==Km.NEW_STREAM&&n!==Km.MESSAGE_INITIATOR&&n!==Km.MESSAGE_RECEIVER||(i.data=this._buffer.sublist(o,o+r)),t.push(i),this._buffer.consume(o+r),this._headerInfo=null}return t}_decodeHeader(e){const{value:t,offset:n}=ng(e),{value:r,offset:o}=ng(e,n),i=7&t;if(null==Ym[i])throw new Error(`Invalid type received: ${i}`);if(r>this._maxMessageSize)throw Object.assign(new Error("message size too large!"),{code:"ERR_MSG_TOO_BIG"});return{id:t>>3,type:i,offset:n+o,length:r}}}const eg=128,tg=127;function ng(e,t=0){let n,r=0,o=0,i=t;const s=e.length;do{if(i>=s||o>49)throw t=0,new RangeError("Could not decode varint");n=e.get(i++),r+=o<28?(n&tg)<<o:(n&tg)*Math.pow(2,o),o+=7}while(n>=eg);return{value:r,offset:t=i-t}}const rg=10240,og=new class{_pool;_poolOffset;constructor(){this._pool=(0,C.K)(rg),this._poolOffset=0}write(e,t){const n=this._pool;let r=this._poolOffset;_.lF(e.id<<3|e.type,n,r),r+=_.OY(e.id<<3|e.type),e.type!==Km.NEW_STREAM&&e.type!==Km.MESSAGE_INITIATOR&&e.type!==Km.MESSAGE_RECEIVER||null==e.data?(_.lF(0,n,r),r+=_.OY(0)):(_.lF(e.data.length,n,r),r+=_.OY(e.data.length));const o=n.subarray(this._poolOffset,r);rg-r<100?(this._pool=(0,C.K)(rg),this._poolOffset=0):this._poolOffset=r,t.append(o),e.type!==Km.NEW_STREAM&&e.type!==Km.MESSAGE_INITIATOR&&e.type!==Km.MESSAGE_RECEIVER||null==e.data||t.append(e.data)}};class ig extends uh{name;streamId;send;types;maxDataSize;constructor(e){super(e),this.types="outbound"===e.direction?Qm:Zm,this.send=e.send,this.name=e.name,this.streamId=e.streamId,this.maxDataSize=e.maxDataSize}async sendNewStream(){await this.send({id:this.streamId,type:Qm.NEW_STREAM,data:new R.I((0,me.s)(this.name))})}async sendData(e){for(e=e.sublist();e.byteLength>0;){const t=Math.min(e.byteLength,this.maxDataSize);await this.send({id:this.streamId,type:this.types.MESSAGE,data:e.sublist(0,t)}),e.consume(t)}}async sendReset(){await this.send({id:this.streamId,type:this.types.RESET})}async sendCloseWrite(){await this.send({id:this.streamId,type:this.types.CLOSE})}async sendCloseRead(){}}function sg(e){const t={...e,type:`${Ym[e.type]} (${e.type})`};return e.type===Km.NEW_STREAM&&(t.data=(0,Id.dI)(e.data instanceof Uint8Array?e.data:e.data.subarray())),e.type!==Km.MESSAGE_INITIATOR&&e.type!==Km.MESSAGE_RECEIVER||(t.data=(0,Id.dI)(e.data instanceof Uint8Array?e.data:e.data.subarray(),"base16")),t}class ag{protocol="/mplex/6.7.0";sink;source;log;_streamId;_streams;_init;_source;closeController;rateLimiter;closeTimeout;logger;constructor(e,t){t=t??{},this.log=e.logger.forComponent("libp2p:mplex"),this.logger=e.logger,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._init=t,this.closeTimeout=t.closeTimeout??500,this.sink=this._createSink(),this._source=(0,g.Ny)({objectMode:!0,onEnd:()=>{for(const e of this._streams.initiators.values())e.destroy();for(const e of this._streams.receivers.values())e.destroy()}}),this.source=(0,F.F)(this._source,(e=>async function*(e){for await(const t of e){const e=new R.I;og.write(t,e),yield e}}(e))),this.closeController=new AbortController,this.rateLimiter=new Ac({points:t.disconnectThreshold??5,duration:1})}get streams(){const e=[];for(const t of this._streams.initiators.values())e.push(t);for(const t of this._streams.receivers.values())e.push(t);return e}newStream(e){if(this.closeController.signal.aborted)throw new Error("Muxer already closed");const t=this._streamId++;e=null==e?t.toString():e.toString();const n=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:n})}async close(e){if(this.closeController.signal.aborted)return;const t=e?.signal??AbortSignal.timeout(this.closeTimeout);try{await Promise.all(this.streams.map((async e=>e.close({signal:t})))),this._source.end(),await this._source.onEmpty({signal:t}),this.closeController.abort()}catch(e){this.abort(e)}}abort(e){this.closeController.signal.aborted||(this.streams.forEach((t=>{t.abort(e)})),this.closeController.abort(e))}_newReceiverStream(e){const{id:t,name:n}=e,r=this._streams.receivers;return this._newStream({id:t,name:n,type:"receiver",registry:r})}_newStream(e){const{id:t,name:n,type:r,registry:o}=e;if(this.log("new %s stream %s",r,t),"initiator"===r&&this._streams.initiators.size===(this._init.maxOutboundStreams??1024))throw new h("Too many outbound streams open","ERR_TOO_MANY_OUTBOUND_STREAMS");if(o.has(t))throw new Error(`${r} stream ${t} already exists!`);const i=function(e){const{id:t,name:n,send:r,onEnd:o,type:i="initiator",maxMsgSize:s=Jm}=e;return new ig({id:"initiator"===i?`i${t}`:`r${t}`,streamId:t,name:`${null==n?t:n}`,direction:"initiator"===i?"outbound":"inbound",maxDataSize:s,onEnd:o,send:r,log:e.logger.forComponent(`libp2p:mplex:stream:${i}:${t}`)})}({id:t,name:n,send:async e=>{this.log.enabled&&this.log.trace("%s stream %s send",r,t,sg(e)),this._source.push(e)},type:r,onEnd:()=>{this.log("%s stream with id %s and protocol %s ended",r,t,i.protocol),o.delete(t),null!=this._init.onStreamEnd&&this._init.onStreamEnd(i)},maxMsgSize:this._init.maxMsgSize,logger:this.logger});return o.set(t,i),i}_createSink(){return async e=>{const t=()=>{lh(e,this.log)};this.closeController.signal.addEventListener("abort",t);try{const t=new Xm(this._init.maxMsgSize,this._init.maxUnprocessedMessageQueueSize);for await(const n of e)for(const e of t.write(n))await this._handleIncoming(e);this._source.end()}catch(e){this.log("error in sink",e),this._source.end(e)}finally{this.closeController.signal.removeEventListener("abort",t)}}}async _handleIncoming(e){const{id:t,type:n}=e;if(this.log.enabled&&this.log.trace("incoming message",sg(e)),e.type===Km.NEW_STREAM){if(this._streams.receivers.size===(this._init.maxInboundStreams??1024)){this.log("too many inbound streams open"),this._source.push({id:t,type:Km.RESET_RECEIVER});try{await this.rateLimiter.consume("new-stream",1)}catch{return this.log("rate limit hit when opening too many new streams over the inbound stream limit - closing remote connection"),void this.abort(new Error("Too many open streams"))}return}const n=this._newReceiverStream({id:t,name:(0,Id.dI)(e.data instanceof Uint8Array?e.data:e.data.subarray())});return void(null!=this._init.onIncomingStream&&this._init.onIncomingStream(n))}const r=(1&~n?this._streams.receivers:this._streams.initiators).get(t);if(null==r){this.log("missing stream %s for message type %s",t,Ym[n]);try{await this.rateLimiter.consume("missing-stream",1)}catch{return this.log("rate limit hit when receiving messages for streams that do not exist - closing remote connection"),void this.abort(new Error("Too many messages for missing streams"))}return}const o=this._init.maxStreamBufferSize??4194304;try{switch(n){case Km.MESSAGE_INITIATOR:case Km.MESSAGE_RECEIVER:if(r.sourceReadableLength()>o)throw this._source.push({id:e.id,type:n===Km.MESSAGE_INITIATOR?Km.RESET_RECEIVER:Km.RESET_INITIATOR}),new h("Input buffer full - increase Mplex maxBufferSize to accommodate slow consumers","ERR_STREAM_INPUT_BUFFER_FULL");r.sourcePush(e.data);break;case Km.CLOSE_INITIATOR:case Km.CLOSE_RECEIVER:r.remoteCloseWrite();break;case Km.RESET_INITIATOR:case Km.RESET_RECEIVER:r.reset();break;default:this.log("unknown message type %s",n)}}catch(e){this.log.error("error while processing message",e),r.abort(e)}}}class lg{protocol="/mplex/6.7.0";_init;components;constructor(e,t={}){this.components=e,this._init=t}[Symbol.toStringTag]="@libp2p/mplex";[pl]=["@libp2p/stream-multiplexing"];createStreamMuxer(e={}){return new ag(this.components,{...e,...this._init})}}function cg(e={}){return t=>new lg(t,e)}const ug="ERR_WRONG_PING_ACK";class dg{protocol;components;started;timeout;maxInboundStreams;maxOutboundStreams;runOnTransientConnection;log;constructor(e,t={}){this.components=e,this.log=e.logger.forComponent("libp2p:ping"),this.started=!1,this.protocol=`/${t.protocolPrefix??"ipfs"}/ping/1.0.0`,this.timeout=t.timeout??1e4,this.maxInboundStreams=t.maxInboundStreams??2,this.maxOutboundStreams=t.maxOutboundStreams??1,this.runOnTransientConnection=t.runOnTransientConnection??!0,this.handleMessage=this.handleMessage.bind(this)}[Symbol.toStringTag]="@libp2p/ping";async start(){await this.components.registrar.handle(this.protocol,this.handleMessage,{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams,runOnTransientConnection:this.runOnTransientConnection}),this.started=!0}async stop(){await this.components.registrar.unhandle(this.protocol),this.started=!1}isStarted(){return this.started}handleMessage(e){this.log("incoming ping from %p",e.connection.remotePeer);const{stream:t}=e,n=Date.now();(0,F.F)(t,t).catch((t=>{this.log.error("incoming ping from %p failed with error",e.connection.remotePeer,t)})).finally((()=>{const t=Date.now()-n;this.log("incoming ping from %p complete in %dms",e.connection.remotePeer,t)}))}async ping(e,t={}){this.log("pinging %p",e);const n=Date.now(),r=je(32),o=await this.components.connectionManager.openConnection(e,t);let i,s=()=>{};if(null==t.signal){const e=AbortSignal.timeout(this.timeout);t={...t,signal:e}}try{i=await o.newStream(this.protocol,{...t,runOnTransientConnection:this.runOnTransientConnection}),s=()=>{i?.abort(new h("ping timeout",p))},t.signal?.addEventListener("abort",s,{once:!0});const e=await(0,F.F)([r],i,(async e=>(0,Fh.A)(e))),a=Date.now()-n;if(null==e)throw new h(`Did not receive a ping ack after ${a}ms`,ug);if(!(0,pe.a)(r,e.subarray()))throw new h(`Received wrong ping ack after ${a}ms`,ug);return this.log("ping %p complete in %dms",o.remotePeer,a),a}catch(e){throw this.log.error("error while pinging %p",o.remotePeer,e),i?.abort(e),e}finally{t.signal?.removeEventListener("abort",s),null!=i&&await i.close()}}}function hg(e={}){return t=>new dg(t,e)}var fg;!function(e){e.ERR_ALREADY_ABORTED="ERR_ALREADY_ABORTED",e.ERR_DATA_CHANNEL="ERR_DATA_CHANNEL",e.ERR_CONNECTION_CLOSED="ERR_CONNECTION_CLOSED",e.ERR_HASH_NOT_SUPPORTED="ERR_HASH_NOT_SUPPORTED",e.ERR_INVALID_MULTIADDR="ERR_INVALID_MULTIADDR",e.ERR_INVALID_FINGERPRINT="ERR_INVALID_FINGERPRINT",e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_NOT_IMPLEMENTED="ERR_NOT_IMPLEMENTED",e.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS",e.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS"}(fg||(fg={}));class pg extends h{constructor(e,t){super(`WebRTC transport error: ${e}`,t??""),this.name="WebRTCTransportError"}}class mg extends pg{constructor(e,t){super(`[stream: ${e}] data channel error: ${t}`,fg.ERR_DATA_CHANNEL),this.name="WebRTC/DataChannelError"}}function gg(e,t){return new mg(e,t)}class yg extends pg{constructor(e){super(`There was a problem with the Multiaddr which was passed in: ${e}`,fg.ERR_INVALID_MULTIADDR),this.name="WebRTC/InappropriateMultiaddrError"}}function vg(e){return new yg(e)}class bg extends pg{constructor(e){super(`There was a problem with a provided argument: ${e}`,fg.ERR_INVALID_PARAMETERS),this.name="WebRTC/InvalidArgumentError"}}function wg(e){return new bg(e)}class Ag extends pg{constructor(e,t){super(`Invalid fingerprint "${e}" within ${t}`,fg.ERR_INVALID_FINGERPRINT),this.name="WebRTC/InvalidFingerprintError"}}function Eg(e,t){return new Ag(e,t)}class xg extends pg{constructor(e){super(`A method (${e}) was called though it has been intentionally left unimplemented.`,fg.ERR_NOT_IMPLEMENTED),this.name="WebRTC/UnimplementedError"}}class Sg extends pg{constructor(e){super(`unsupported hash algorithm code: ${e} please see the codes at https://github.com/multiformats/multicodec/blob/master/table.csv `,fg.ERR_HASH_NOT_SUPPORTED),this.name="WebRTC/UnsupportedHashAlgorithmError"}}var kg=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ig=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},_g=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},Rg=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Cg=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Tg=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Pg=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Dg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Og(e){var t=function(e){return""!==e&&Pg.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Cg;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=kg(kg([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),s=function(e){for(var t=0,n=Dg.length;t<n;t++){var r=Dg[t],o=r[0];if(r[1].exec(e))return o}return null}(e),a=Tg.exec(e);return a&&a[1]?new Rg(n,i,s,a[1]):new Ig(n,i,s)}const Mg=["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478","stun:stun.cloudflare.com:3478","stun:stun.services.mozilla.com:3478"],Ng="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!=typeof navigator?Og(navigator.userAgent):"undefined"!=typeof process&&process.version?new _g(process.version.slice(1)):null;const Bg=null!=Ng&&"firefox"===Ng.name,Lg=async function*(){},Fg=async e=>{};async function Ug(e){return"function"==typeof(e=e??{})&&(e=await e()),e.iceServers=e.iceServers??Mg.map((e=>({urls:[e]}))),e}class $g{log;peerConnection;remoteAddr;timeline;metrics;source=Lg();sink=Fg;constructor(e,t){this.log=e.logger.forComponent("libp2p:webrtc:maconn"),this.remoteAddr=t.remoteAddr,this.timeline=t.timeline,this.peerConnection=t.peerConnection;const n=this.peerConnection.connectionState;this.peerConnection.onconnectionstatechange=()=>{this.log.trace("peer connection state change",this.peerConnection.connectionState,"initial state",n),"disconnected"!==this.peerConnection.connectionState&&"failed"!==this.peerConnection.connectionState&&"closed"!==this.peerConnection.connectionState||(this.timeline.close=Date.now())}}async close(e){this.log.trace("closing connection"),this.peerConnection.close(),this.timeline.close=Date.now(),this.metrics?.increment({close:!0})}abort(e){this.log.error("closing connection due to error",e),this.peerConnection.close(),this.timeline.close=Date.now(),this.metrics?.increment({abort:!0})}}var jg;!function(e){let t,n,r;!function(e){e.FIN="FIN",e.STOP_SENDING="STOP_SENDING",e.RESET="RESET",e.FIN_ACK="FIN_ACK"}(t=e.Flag||(e.Flag={})),function(e){e[e.FIN=0]="FIN",e[e.STOP_SENDING=1]="STOP_SENDING",e[e.RESET=2]="RESET",e[e.FIN_ACK=3]="FIN_ACK"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.Flag||(e.Flag={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.flag&&(n.uint32(8),e.Flag.codec().encode(t.flag,n)),null!=t.message&&(n.uint32(18),n.bytes(t.message)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.flag=e.Flag.codec().decode(t);break;case 2:r.message=t.bytes();break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(jg||(jg={}));class zg extends uh{channel;incomingData;maxBufferedAmount;bufferedAmountLowEventTimeout;maxMessageSize;receiveFinAck;finAckTimeout;openTimeout;constructor(e){const t=e.onEnd;switch(e.onEnd=e=>{this.log.trace("readable and writeable ends closed",this.status),Promise.resolve((async()=>{if(null==this.timeline.abort&&null===this.timeline.reset)try{await(0,co.Ay)(this.receiveFinAck.promise,{milliseconds:this.finAckTimeout})}catch(e){this.log.error("error receiving FIN_ACK",e)}})).then((()=>{this.incomingData.end(),t?.(e)})).catch((e=>{this.log.error("error ending stream",e)}))},super(e),this.channel=e.channel,this.channel.binaryType="arraybuffer",this.incomingData=(0,g.Ny)(),this.bufferedAmountLowEventTimeout=e.bufferedAmountLowEventTimeout??3e4,this.maxBufferedAmount=e.maxBufferedAmount??16777216,this.maxMessageSize=(e.maxMessageSize??16384)-5-2,this.receiveFinAck=(0,A.A)(),this.finAckTimeout=e.closeTimeout??5e3,this.openTimeout=e.openTimeout??5e3,this.channel.readyState){case"open":this.timeline.open=(new Date).getTime();break;case"closed":case"closing":void 0!==this.timeline.close&&0!==this.timeline.close||(this.timeline.close=Date.now());break;case"connecting":break;default:throw this.log.error("unknown datachannel state %s",this.channel.readyState),new h("Unknown datachannel state","ERR_INVALID_STATE")}this.channel.onopen=e=>{this.timeline.open=(new Date).getTime()},this.channel.onclose=e=>{this.receiveFinAck.resolve(),this.close().catch((e=>{this.log.error("error closing stream after channel closed",e)}))},this.channel.onerror=e=>{const t=e.error;this.abort(t)},this.channel.onmessage=async e=>{const{data:t}=e;null!==t&&0!==t.byteLength&&this.incomingData.push(new Uint8Array(t,0,t.byteLength))};const n=this;Promise.resolve().then((async()=>{for await(const e of B(this.incomingData)){const t=n.processIncomingProtobuf(e);null!=t&&n.sourcePush(new R.I(t))}})).catch((e=>{this.log.error("error processing incoming data channel messages",e)}))}sendNewStream(){}async _sendMessage(e,t=!0){if(t&&this.channel.bufferedAmount>this.maxBufferedAmount)try{this.log('channel buffer is %d, wait for "bufferedamountlow" event',this.channel.bufferedAmount),await Im(this.channel,"bufferedamountlow",{timeout:this.bufferedAmountLowEventTimeout})}catch(e){if(e instanceof co.MU)throw new h(`Timed out waiting for DataChannel buffer to clear after ${this.bufferedAmountLowEventTimeout}ms`,"ERR_BUFFER_CLEAR_TIMEOUT");throw e}if("closed"===this.channel.readyState||"closing"===this.channel.readyState)throw new h(`Invalid datachannel state - ${this.channel.readyState}`,"ERR_INVALID_STATE");"open"!==this.channel.readyState&&(this.log('channel state is "%s" and not "open", waiting for "open" event before sending data',this.channel.readyState),await Im(this.channel,"open",{timeout:this.openTimeout}),this.log('channel state is now "%s", sending data',this.channel.readyState)),this.channel.send(e.subarray())}async sendData(e){for(e=e.sublist();e.byteLength>0;){const t=Math.min(e.byteLength,this.maxMessageSize),n=e.subarray(0,t),r=jg.encode({message:n}),o=D.single(r);await this._sendMessage(o),e.consume(t)}}async sendReset(){await this._sendFlag(jg.Flag.RESET)}async sendCloseWrite(e){if(await this._sendFlag(jg.Flag.FIN)){this.log.trace("awaiting FIN_ACK");try{await w(this.receiveFinAck.promise,e?.signal,{errorMessage:"sending close-write was aborted before FIN_ACK was received",errorCode:"ERR_FIN_ACK_NOT_RECEIVED"})}catch(e){this.log.error("failed to await FIN_ACK",e)}}else this.log.trace("sending FIN failed, not awaiting FIN_ACK");this.receiveFinAck.resolve()}async sendCloseRead(){await this._sendFlag(jg.Flag.STOP_SENDING)}processIncomingProtobuf(e){const t=jg.decode(e);if(void 0!==t.flag&&(this.log.trace('incoming flag %s, write status "%s", read status "%s"',t.flag,this.writeStatus,this.readStatus),t.flag===jg.Flag.FIN&&(this.remoteCloseWrite(),this.log.trace("sending FIN_ACK"),this._sendFlag(jg.Flag.FIN_ACK).catch((e=>{this.log.error("error sending FIN_ACK immediately",e)}))),t.flag===jg.Flag.RESET&&this.reset(),t.flag===jg.Flag.STOP_SENDING&&this.remoteCloseRead(),t.flag===jg.Flag.FIN_ACK&&(this.log.trace("received FIN_ACK"),this.receiveFinAck.resolve())),"ready"===this.readStatus)return t.message}async _sendFlag(e){if("open"!==this.channel.readyState)return this.log.trace('not sending flag %s because channel is "%s" and not "open"',this.channel.readyState,e.toString()),!1;this.log.trace("sending flag %s",e.toString());const t=jg.encode({flag:e}),n=D.single(t);try{return await this._sendMessage(n,!1),!0}catch(t){this.log.error("could not send flag %s",e.toString(),t)}return!1}}function Vg(e){const{channel:t,direction:n}=e;return new zg({id:"inbound"===n?`i${t.id}`:`r${t.id}`,log:e.logger.forComponent(`libp2p:webrtc:stream:${n}:${t.id}`),...e})}const Hg="/webrtc";class Wg{protocol;peerConnection;bufferedStreams=[];metrics;dataChannelOptions;components;log;constructor(e,t){this.components=e,this.peerConnection=t.peerConnection,this.metrics=t.metrics,this.protocol=t.protocol??Hg,this.dataChannelOptions=t.dataChannelOptions??{},this.log=e.logger.forComponent("libp2p:webrtc:datachannelmuxerfactory"),this.peerConnection.ondatachannel=({channel:t})=>{if(this.log.trace('incoming early datachannel with channel id %d and label "%s"',t.id),"init"===t.label)return this.log.trace("closing early init channel"),void t.close();const n={},r=Vg({channel:t,direction:"inbound",onEnd:e=>{n.onEnd(e)},logger:e.logger,...this.dataChannelOptions});n.stream=r,n.channel=t,n.onEnd=()=>{this.bufferedStreams=this.bufferedStreams.filter((e=>e.stream.id!==r.id))},this.bufferedStreams.push(n)}}createStreamMuxer(e){return new qg(this.components,{...e,peerConnection:this.peerConnection,dataChannelOptions:this.dataChannelOptions,metrics:this.metrics,streams:this.bufferedStreams,protocol:this.protocol})}}class qg{init;streams;protocol;log;peerConnection;dataChannelOptions;metrics;logger;constructor(e,t){this.init=t,this.log=e.logger.forComponent("libp2p:webrtc:muxer"),this.logger=e.logger,this.streams=t.streams.map((e=>e.stream)),this.peerConnection=t.peerConnection,this.protocol=t.protocol??Hg,this.metrics=t.metrics,this.dataChannelOptions=t.dataChannelOptions??{},this.peerConnection.ondatachannel=({channel:e})=>{if(this.log.trace("incoming datachannel with channel id %d",e.id),"init"===e.label)return this.log.trace("closing init channel"),void e.close();const n=Vg({channel:e,direction:"inbound",onEnd:()=>{this.log("incoming channel %s ended with state %s",e.id,e.readyState),this.#A(n,e)},logger:this.logger,...this.dataChannelOptions});this.streams.push(n),this.metrics?.increment({incoming_stream:!0}),t?.onIncomingStream?.(n)},this.init.streams.length>0&&queueMicrotask((()=>{this.init.streams.forEach((e=>{e.onEnd=()=>{this.log("incoming early channel %s ended with state %s",e.channel.id,e.channel.readyState),this.#A(e.stream,e.channel)},this.metrics?.increment({incoming_stream:!0}),this.init?.onIncomingStream?.(e.stream)}))}))}#A(e,t){this.log.trace("stream %s %s %s onEnd",e.direction,e.id,e.protocol),function(e,t,n=3e4,r){"open"===e.readyState&&Promise.resolve().then((async()=>{if(e.bufferedAmount>0){r.log("%s drain channel with %d buffered bytes",t,e.bufferedAmount);const o=(0,A.A)();let i=!1;e.bufferedAmountLowThreshold=0;const s=()=>{i||(r.log("%s drain channel closed before drain",t),o.resolve())};e.addEventListener("close",s,{once:!0}),e.addEventListener("bufferedamountlow",(()=>{i=!0,e.removeEventListener("close",s),o.resolve()})),await(0,co.Ay)(o.promise,{milliseconds:n})}})).then((async()=>{"open"===e.readyState&&e.close()})).catch((e=>{r.log.error("error closing outbound stream",e)}))}(t,`${e.direction} ${e.id} ${e.protocol}`,this.dataChannelOptions.drainTimeout,{log:this.log}),this.streams=this.streams.filter((t=>t.id!==e.id)),this.metrics?.increment({stream_end:!0}),this.init?.onStreamEnd?.(e)}async close(e){try{await Promise.all(this.streams.map((async t=>t.close(e))))}catch(e){this.abort(e)}}abort(e){for(const t of this.streams)t.abort(e)}source=Lg();sink=Fg;newStream(){const e=this.peerConnection.createDataChannel("");this.log.trace("opened outgoing datachannel with channel id %s",e.id);const t=Vg({channel:e,direction:"outbound",onEnd:()=>{this.log("outgoing channel %s ended with state %s",e.id,e.readyState),this.#A(t,e)},logger:this.logger,...this.dataChannelOptions});return this.streams.push(t),this.metrics?.increment({outgoing_stream:!0}),t}}const Kg=globalThis.RTCPeerConnection,Gg=globalThis.RTCSessionDescription,Yg=globalThis.RTCIceCandidate;var Qg;!function(e){let t,n,r;!function(e){e.SDP_OFFER="SDP_OFFER",e.SDP_ANSWER="SDP_ANSWER",e.ICE_CANDIDATE="ICE_CANDIDATE"}(t=e.Type||(e.Type={})),function(e){e[e.SDP_OFFER=0]="SDP_OFFER",e[e.SDP_ANSWER=1]="SDP_ANSWER",e[e.ICE_CANDIDATE=2]="ICE_CANDIDATE"}(n||(n={})),function(e){e.codec=()=>(0,X.eG)(n)}(t=e.Type||(e.Type={})),e.codec=()=>(null==r&&(r=(0,X.iU)(((t,n,r={})=>{!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.Type.codec().encode(t.type,n)),null!=t.data&&(n.uint32(18),n.string(t.data)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.type=e.Type.codec().decode(t);break;case 2:r.data=t.string();break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>(0,X.mH)(t,e.codec()),e.decode=t=>(0,X.Y8)(t,e.codec())}(Qg||(Qg={}));const Zg=async(e,t,n)=>{try{const r=(0,A.A)();for(function(e,t){e[Bg?"oniceconnectionstatechange":"onconnectionstatechange"]=n=>{switch(function(e){return Bg?e.iceConnectionState:e.connectionState}(e)){case"connected":t.resolve();break;case"failed":case"disconnected":case"closed":t.reject(new h("RTCPeerConnection was closed","ERR_CONNECTION_CLOSED_BEFORE_CONNECTED"))}}}(e,r);;){const o=await Promise.race([r.promise,t.read({signal:n.signal}).catch((()=>{}))]);if(null==o){n.signal?.throwIfAborted();break}if(o.type!==Qg.Type.ICE_CANDIDATE)throw new h("ICE candidate message expected","ERR_NOT_ICE_CANDIDATE");const i=JSON.parse(o.data??"null");if(""===i||null===i){n.onProgress?.(new $.j("webrtc:end-of-ice-candidates")),n.log.trace("end-of-candidates received");continue}const s=new Yg(i);n.log.trace("%s received new ICE candidate %o",n.direction,i);try{n.onProgress?.(new $.j("webrtc:add-ice-candidate",s.candidate)),await e.addIceCandidate(s)}catch(e){n.log.error("%s bad candidate received",n.direction,i,e)}}}catch(e){if(n.log.error("%s error parsing ICE candidate",n.direction,e),!0===n.signal?.aborted)throw e}};class Jg extends l{peerId;transportManager;shutdownController;constructor(e,t){super(),this.peerId=e.peerId,this.transportManager=e.transportManager,this.shutdownController=t.shutdownController}async listen(){this.safeDispatchEvent("listening",{})}getAddrs(){return this.transportManager.getListeners().filter((e=>e!==this)).map((e=>e.getAddrs().filter((e=>Ef.matches(e))).map((e=>e.encapsulate(`/webrtc/p2p/${this.peerId}`))))).flat()}async close(){this.shutdownController.abort(),this.safeDispatchEvent("close",{})}}const Xg="/webrtc",ey="/p2p-circuit",ty="/webrtc-signaling/0.0.1";class ny{components;init;log;_started=!1;metrics;shutdownController;constructor(e,t={}){this.components=e,this.init=t,this.log=e.logger.forComponent("libp2p:webrtc"),this.shutdownController=new AbortController,this.shutdownController.signal,null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webrtc_dialer_events_total",{label:"event",help:"Total count of WebRTC dialer events by type"}),listenerEvents:e.metrics.registerCounterGroup("libp2p_webrtc_listener_events_total",{label:"event",help:"Total count of WebRTC listener events by type"})})}[cc]=!0;[Symbol.toStringTag]="@libp2p/webrtc";[pl]=["@libp2p/transport"];[ml]=["@libp2p/identify","@libp2p/circuit-relay-v2-transport"];isStarted(){return this._started}async start(){await this.components.registrar.handle(ty,(e=>{this._onProtocol(e).catch((t=>{this.log.error("failed to handle incoming connect from %p",e.connection.remotePeer,t)}))}),{runOnTransientConnection:!0}),this._started=!0}async stop(){await this.components.registrar.unhandle(ty),this._started=!1}createListener(e){return new Jg(this.components,{shutdownController:this.shutdownController})}listenFilter(e){return e.filter(xn.exactMatch)}dialFilter(e){return this.listenFilter(e)}async dial(e,t){this.log.trace("dialing address: %a",e);const{remoteAddress:n,peerConnection:r,muxerFactory:o}=await async function({rtcConfiguration:e,dataChannel:t,signal:n,metrics:r,multiaddr:o,connectionManager:i,transportManager:s,log:a,logger:l,onProgress:c}){const{baseAddr:u}=function(e){const t=e.toString().split(Xg+"/");if(2!==t.length)throw new h("webrtc protocol was not present in multiaddr",fg.ERR_INVALID_MULTIADDR);if(!t[0].includes(ey))throw new h("p2p-circuit protocol was not present in multiaddr",fg.ERR_INVALID_MULTIADDR);let n=$t(t[0]);const r=$t("/"+t[1]).getPeerId();if(null==r)throw new h("destination peer id was missing",fg.ERR_INVALID_MULTIADDR);const o=n.protos().pop();if(void 0===o)throw new h("invalid multiaddr",fg.ERR_INVALID_MULTIADDR);return"p2p"!==o.name&&(n=n.encapsulate(`/p2p/${r}`)),{baseAddr:n,peerId:Re(r)}}(o);r?.dialerEvents.increment({open:!0}),a.trace("dialing base address: %a",u);const d=u.getPeerId();if(null==d)throw new h("Relay peer was missing","ERR_INVALID_ADDRESS");const f=i.getConnections(Re(d));let p,m=!1;0===f.length?(c?.(new $.j("webrtc:dial-relay")),p=await s.dial(u,{signal:n,onProgress:c}),m=!0):(c?.(new $.j("webrtc:reuse-relay-connection")),p=f[0]);try{c?.(new $.j("webrtc:open-signaling-stream"));const r=await p.newStream(ty,{signal:n,runOnTransientConnection:!0}),i=Of(r).pb(Qg),s=new Kg(e),u=new Wg({logger:l},{peerConnection:s,dataChannelOptions:t});try{const e=s.createDataChannel("init");s.onicecandidate=({candidate:e})=>{const t=JSON.stringify(e?.toJSON()??null);a.trace("initiator sending ICE candidate %o",e),i.write({type:Qg.Type.ICE_CANDIDATE,data:t},{signal:n}).catch((e=>{a.error("error sending ICE candidate",e)}))},s.onicecandidateerror=e=>{a.error("initiator ICE candidate error",e)};const t=await s.createOffer().catch((e=>{throw a.error("could not execute createOffer",e),new h("Failed to set createOffer","ERR_SDP_HANDSHAKE_FAILED")}));a.trace("initiator send SDP offer %s",t.sdp),c?.(new $.j("webrtc:send-sdp-offer")),await i.write({type:Qg.Type.SDP_OFFER,data:t.sdp},{signal:n}),await s.setLocalDescription(t).catch((e=>{throw a.error("could not execute setLocalDescription",e),new h("Failed to set localDescription","ERR_SDP_HANDSHAKE_FAILED")})),c?.(new $.j("webrtc:read-sdp-answer"));const l=await i.read({signal:n});if(l.type!==Qg.Type.SDP_ANSWER)throw new h("Remote should send an SDP answer","ERR_SDP_HANDSHAKE_FAILED");a.trace("initiator receive SDP answer %s",l.data);const d=new Gg({type:"answer",sdp:l.data});return await s.setRemoteDescription(d).catch((e=>{throw a.error("could not execute setRemoteDescription",e),new h("Failed to set remoteDescription","ERR_SDP_HANDSHAKE_FAILED")})),a.trace("initiator read candidates until connected"),c?.(new $.j("webrtc:read-ice-candidates")),await Zg(s,i,{direction:"initiator",signal:n,log:a,onProgress:c}),a.trace("initiator connected, closing init channel"),e.close(),c?.(new $.j("webrtc:close-signaling-stream")),a.trace("closing signaling channel"),await r.close({signal:n}),a.trace("initiator connected to remote address %s",o),{remoteAddress:o,peerConnection:s,muxerFactory:u}}catch(e){throw a.error("outgoing signaling error",e),s.close(),r.abort(e),e}finally{s.onicecandidate=null,s.onicecandidateerror=null}}finally{if(m)try{await p.close({signal:n})}catch(e){p.abort(e)}}}({rtcConfiguration:await Ug(this.init.rtcConfiguration),dataChannel:this.init.dataChannel,multiaddr:e,dataChannelOptions:this.init.dataChannel,signal:t.signal,connectionManager:this.components.connectionManager,transportManager:this.components.transportManager,log:this.log,logger:this.components.logger,onProgress:t.onProgress}),i=new $g(this.components,{peerConnection:r,timeline:{open:Date.now()},remoteAddr:n,metrics:this.metrics?.dialerEvents}),s=await t.upgrader.upgradeOutbound(i,{skipProtection:!0,skipEncryption:!0,muxerFactory:o,onProgress:t.onProgress});return this._closeOnShutdown(r,i),s}async _onProtocol({connection:e,stream:t}){const n=AbortSignal.timeout(this.init.inboundConnectionTimeout??3e4),r=new Kg(await Ug(this.init.rtcConfiguration)),o=new Wg(this.components,{peerConnection:r,dataChannelOptions:this.init.dataChannel});try{const{remoteAddress:i}=await async function({peerConnection:e,stream:t,signal:n,connection:r,log:o}){o.trace("new inbound signaling stream");const i=Of(t).pb(Qg);try{e.onicecandidate=({candidate:e})=>{const t=JSON.stringify(e?.toJSON()??null);o.trace("recipient sending ICE candidate %s",t),i.write({type:Qg.Type.ICE_CANDIDATE,data:t},{signal:n}).catch((e=>{o.error("error sending ICE candidate",e)}))};const t=await i.read({signal:n});if(t.type!==Qg.Type.SDP_OFFER)throw new h(`expected message type SDP_OFFER, received: ${t.type??"undefined"} `,"ERR_SDP_HANDSHAKE_FAILED");o.trace("recipient receive SDP offer %s",t.data);const r=new Gg({type:"offer",sdp:t.data});await e.setRemoteDescription(r).catch((e=>{throw o.error("could not execute setRemoteDescription",e),new h("Failed to set remoteDescription","ERR_SDP_HANDSHAKE_FAILED")}));const s=await e.createAnswer().catch((e=>{throw o.error("could not execute createAnswer",e),new h("Failed to create answer","ERR_SDP_HANDSHAKE_FAILED")}));o.trace("recipient send SDP answer %s",s.sdp),await i.write({type:Qg.Type.SDP_ANSWER,data:s.sdp},{signal:n}),await e.setLocalDescription(s).catch((e=>{throw o.error("could not execute setLocalDescription",e),new h("Failed to set localDescription","ERR_SDP_HANDSHAKE_FAILED")})),o.trace("recipient read candidates until connected"),await Zg(e,i,{direction:"recipient",signal:n,log:o})}catch(t){if("connected"!==e.connectionState)throw o.error("error while handling signaling stream from peer %a",r.remoteAddr,t),e.close(),t;o("error while handling signaling stream from peer %a, ignoring as the RTCPeerConnection is already connected",r.remoteAddr,t)}const s=$t(`/webrtc/p2p/${r.remoteAddr.getPeerId()}`);return o.trace("recipient connected to remote address %s",s),{remoteAddress:s}}({peerConnection:r,connection:e,stream:t,signal:n,log:this.log});await t.close({signal:n});const s=new $g(this.components,{peerConnection:r,timeline:{open:(new Date).getTime()},remoteAddr:i,metrics:this.metrics?.listenerEvents});await this.components.upgrader.upgradeInbound(s,{skipEncryption:!0,skipProtection:!0,muxerFactory:o}),this._closeOnShutdown(r,s)}catch(e){throw this.log.error("incoming signaling error",e),r.close(),t.abort(e),e}}_closeOnShutdown(e,t){const n=()=>{t.close().catch((e=>{this.log.error("could not close WebRTCMultiaddrConnection",e)}))};this.shutdownController.signal.addEventListener("abort",n),e.addEventListener("close",(()=>{this.shutdownController.signal.removeEventListener("abort",n)}))}}const ry=Object.values(ce.Fo).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)));const oy=/^a=fingerprint:(?:\w+-[0-9]+)\s(?<fingerprint>(:?[0-9a-fA-F]{2})+)$/m;function iy(e){const t=e.stringTuples().filter((e=>e[0]===uy)).map((e=>e[1]))[0];if(void 0===t||""===t)throw vg(`Couldn't find a certhash component of multiaddr: ${e.toString()}`);return t}function sy(e){return ce.br.decode(ry.decode(e))}function ay(e){switch(e){case 17:return"SHA-1";case 18:return"SHA-256";case 19:return"SHA-512";default:throw function(e){return new Sg(e)}(e)}}function ly(e,t){const{host:n,port:r}=e.toOptions(),o=function(e){for(const t of e.protoNames())if(t.startsWith("ip"))return t.toUpperCase();return"IP6"}(e),[i]=function(e){const t=sy(iy(e)),n=ay(t.code),r=t.digest.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=r.match(/.{1,2}/g);if(null==o)throw Eg(r,e.toString());return[`${n} ${o.join(":").toUpperCase()}`,r]}(e);return`v=0\no=- 0 0 IN ${o} ${n}\ns=-\nc=IN ${o} ${n}\nt=0 0\na=ice-lite\nm=application ${r} UDP/DTLS/SCTP webrtc-datachannel\na=mid:0\na=setup:passive\na=ice-ufrag:${t}\na=ice-pwd:${t}\na=fingerprint:${i}\na=sctp-port:5000\na=max-message-size:16384\na=candidate:1467250027 1 UDP 1467250027 ${n} ${r} typ host\r\n`}const cy=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),uy=(bt("webrtc-direct").code,bt("certhash").code);class dy{log;metrics;components;init;constructor(e,t={}){this.log=e.logger.forComponent("libp2p:webrtc-direct"),this.components=e,this.init=t,null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webrtc-direct_dialer_events_total",{label:"event",help:"Total count of WebRTC-direct dial events by type"})})}[cc]=!0;[Symbol.toStringTag]="@libp2p/webrtc-direct";[pl]=["@libp2p/transport"];async dial(e,t){const n=await this._connect(e,t);return this.log("dialing address: %a",e),n}createListener(e){throw new xg("WebRTCTransport.createListener")}listenFilter(e){return e.filter(vn.exactMatch)}dialFilter(e){return this.listenFilter(e)}async _connect(e,t){const n=new AbortController,r=n.signal,o=e.getPeerId();if(null===o)throw vg("we need to have the remote's PeerId");const i=Re(o),s=sy(iy(e)),a=await Kg.generateCertificate({name:"ECDSA",namedCurve:"P-256",hash:ay(s.code)}),l=new Kg({...await Ug(this.init.rtcConfiguration),certificates:[a]});try{const o=new Promise(((e,t)=>{const n=l.createDataChannel("",{negotiated:!0,id:0}),r=setTimeout((()=>{const e=`Data channel was never opened: state: ${n.readyState}`;this.log.error(e),this.metrics?.dialerEvents.increment({open_error:!0}),t(gg("data",e))}),1e4);n.onopen=t=>{clearTimeout(r),e(n)},n.onerror=e=>{clearTimeout(r);const n=`Error opening a data channel for handshaking: ${e.target?.toString()??"not specified"}`;this.log.error(n),this.metrics?.dialerEvents.increment({unknown_error:!0}),t(gg("data",n))}})),a="libp2p+webrtc+v1/"+[...Array(32)].map((()=>cy.at(Math.floor(Math.random()*cy.length)))).join(""),c=function(e,t){if(void 0===e.sdp)throw wg("Can't munge a missing SDP");return e.sdp=e.sdp.replace(/\na=ice-ufrag:[^\n]*\n/,"\na=ice-ufrag:"+t+"\n").replace(/\na=ice-pwd:[^\n]*\n/,"\na=ice-pwd:"+t+"\n"),e}(await l.createOffer(),a);await l.setLocalDescription(c);const u=function(e,t){return{type:"answer",sdp:ly(e,t)}}(e,a);await l.setRemoteDescription(u);const d=await o,h=this.components.peerId,f=jd({prologueBytes:this.generateNoisePrologue(l,s.code,e)})(this.components),p=Vg({channel:d,direction:"inbound",logger:this.components.logger,...this.init.dataChannel??{}}),m={...p,sink:p.sink.bind(p),source:async function*(){for await(const e of p.source)for(const t of e)yield t}()},g=new $g(this.components,{peerConnection:l,remoteAddr:e,timeline:{open:Date.now()},metrics:this.metrics?.dialerEvents}),y=Bg?"iceconnectionstatechange":"connectionstatechange";l.addEventListener(y,(()=>{switch(l.connectionState){case"failed":case"disconnected":case"closed":g.close().catch((e=>{this.log.error("error closing connection",e)})).finally((()=>{n.abort()}))}}),{signal:r}),this.metrics?.dialerEvents.increment({peer_connection:!0});const v=new Wg(this.components,{peerConnection:l,metrics:this.metrics?.dialerEvents,dataChannelOptions:this.init.dataChannel});return await f.secureInbound(h,m,i),await t.upgrader.upgradeOutbound(g,{skipProtection:!0,skipEncryption:!0,muxerFactory:v})}catch(e){throw l.close(),e}}generateNoisePrologue(e,t,n){if(0===e.getConfiguration().certificates?.length)throw wg("no local certificate");const r=function(e,t){const n=e.getConfiguration().certificates?.at(0);if(null==n||null==n.getFingerprints){t.log.trace("fetching fingerprint from local SDP");const n=e.localDescription;if(null==n)return;return function(e){const t=e.match(oy);return t?.groups?.fingerprint}(n.sdp)}if(t.log.trace("fetching fingerprint from local certificate"),0===n.getFingerprints().length)return;const r=n.getFingerprints()[0].value;if(null==r)throw Eg("","no fingerprint on local certificate");return r}(e,{log:this.log});if(null==r)throw wg("no local fingerprint found");const o=r.trim().toLowerCase().replaceAll(":",""),i=(0,me.s)(o,"hex"),s=de.create(t,i),a=ry.decode(iy(n)),l=(0,me.s)("libp2p-webrtc-noise:");return(0,ut.x)([l,s.bytes,a])}}function hy(e){return t=>new dy(t,e)}const fy=async e=>{if(e.readyState>=2)throw new Error("socket closed");1!==e.readyState&&await new Promise(((t,n)=>{function r(){e.removeEventListener("open",o),e.removeEventListener("error",i)}function o(){r(),t()}function i(t){r(),n(t.error??new Error(`connect ECONNREFUSED ${e.url}`))}e.addEventListener("open",o),e.addEventListener("error",i)}))},py=(e,t)=>((t=t??{}).closeOnEnd=!1!==t.closeOnEnd,async n=>{for await(const t of n){try{await fy(e)}catch(e){if("socket closed"===e.message)break;throw e}if(e.readyState===e.CLOSING||e.readyState===e.CLOSED)break;e.send(t)}null!=t.closeOnEnd&&e.readyState<=1&&await new Promise(((t,n)=>{e.addEventListener("close",(e=>{if(e.wasClean||1006===e.code)t();else{const t=Object.assign(new Error("ws error"),{event:e});n(t)}})),setTimeout((()=>{e.close()}))}))});var my=n(544);function gy(e){return e instanceof ArrayBuffer||"ArrayBuffer"===e?.constructor?.name&&"number"==typeof e?.byteLength}const yy=WebSocket,vy={"http:":"ws:","https:":"wss:"};function by(e,t){t=t??{};const n=((e,t)=>{if(e.startsWith("//")&&(e=`${t?.protocol??"ws:"}${e}`),e.startsWith("/")&&null!=t){const n=t.protocol??"ws:",r=t.host,o=null!=t.port&&!0!==r?.endsWith(`:${t.port}`)?`:${t.port}`:"";e=`${n}//${r}${o}${e}`}const n=new URL(e);for(const[e,t]of Object.entries(vy))n.protocol===e&&(n.protocol=t);return n})(e,"undefined"==typeof window?void 0:window.location);return((e,t)=>{t=t??{};const n=(e=>{e.binaryType="arraybuffer";const t=async()=>{await new Promise(((t,n)=>{if(o)return void t();if(null!=r)return void n(r);const i=t=>{e.removeEventListener("open",s),e.removeEventListener("error",a),t()},s=()=>{i(t)},a=t=>{i((()=>{n(t.error??new Error(`connect ECONNREFUSED ${e.url}`))}))};e.addEventListener("open",s),e.addEventListener("error",a)}))},n=async function*(){const n=new my.PP((({push:t,stop:n,fail:r})=>{const o=e=>{let n=null;"string"==typeof e.data&&(n=(0,me.s)(e.data)),gy(e.data)&&(n=new Uint8Array(e.data)),e.data instanceof Uint8Array&&(n=e.data),null!=n&&t(n)},i=e=>{r(e.error??new Error("Socket error"))};return e.addEventListener("message",o),e.addEventListener("error",i),e.addEventListener("close",n),()=>{e.removeEventListener("message",o),e.removeEventListener("error",i),e.removeEventListener("close",n)}}),{highWaterMark:1/0});await t();for await(const e of n)yield gy(e)?new Uint8Array(e):e}();let r,o=1===e.readyState;return e.addEventListener("open",(()=>{o=!0,r=null})),e.addEventListener("close",(()=>{o=!1,r=null})),e.addEventListener("error",(t=>{o||(r=t.error??new Error(`connect ECONNREFUSED ${e.url}`))})),Object.assign(n,{connected:t})})(e);let r=t.remoteAddress,o=t.remotePort;if(null!=e.url)try{const t=new URL(e.url);r=t.hostname,o=parseInt(t.port,10)}catch{}if(null==r||null==o)throw new Error("Remote connection did not have address and/or port");return{sink:py(e,t),source:n,connected:async()=>{await n.connected()},close:async()=>{e.readyState!==e.CONNECTING&&e.readyState!==e.OPEN||await new Promise((t=>{e.addEventListener("close",(()=>{t()})),e.close()}))},destroy:()=>{null!=e.terminate?e.terminate():e.close()},remoteAddress:r,remotePort:o,socket:e}})(new yy(n.toString(),t.websocket),t)}class wy{log;init;logger;constructor(e,t){this.log=e.logger.forComponent("libp2p:websockets"),this.logger=e.logger,this.init=t}[cc]=!0;[Symbol.toStringTag]="@libp2p/websockets";[pl]=["@libp2p/transport"];async dial(e,t){this.log("dialing %s",e),t=t??{};const n=function(e,t,n){const r=n.logger.forComponent("libp2p:websockets:maconn"),o={log:r,async sink(t){try{await e.sink(async function*(){for await(const e of t)e instanceof Uint8Array?yield e:yield e.subarray()}())}catch(e){"aborted"!==e.type&&r.error(e)}},source:e.source,remoteAddr:t,timeline:{open:Date.now()},async close(t={}){const n=Date.now();if(null==t.signal){const e=AbortSignal.timeout(500);t={...t,signal:e}}const i=()=>{const{host:e,port:t}=o.remoteAddr.toOptions();r("timeout closing stream to %s:%s after %dms, destroying it manually",e,t,Date.now()-n),this.abort(new h("Socket close timeout","ERR_SOCKET_CLOSE_TIMEOUT"))};t.signal?.addEventListener("abort",i);try{await e.close()}catch(e){r.error("error closing WebSocket gracefully",e),this.abort(e)}finally{t.signal?.removeEventListener("abort",i),o.timeline.close=Date.now()}},abort(t){const{host:n,port:i}=o.remoteAddr.toOptions();r("timeout closing stream to %s:%s due to error",n,i,t),e.destroy(),o.timeline.close=Date.now()}};return e.socket.addEventListener("close",(()=>{null==o.timeline.close&&(o.timeline.close=Date.now())}),{once:!0}),o}(await this._connect(e,t),e,{logger:this.logger});this.log("new outbound connection %s",n.remoteAddr);const r=await t.upgrader.upgradeOutbound(n,t);return this.log("outbound connection %s upgraded",n.remoteAddr),r}async _connect(e,t){t?.signal?.throwIfAborted();const n=e.toOptions();this.log("dialing %s:%s",n.host,n.port);const r=(0,A.A)(),o=by(Pn(e),this.init);o.socket.addEventListener("error",(()=>{const t=new h(`Could not connect to ${e.toString()}`,"ERR_CONNECTION_FAILED");this.log.error("connection error:",t),r.reject(t)}));try{t.onProgress?.(new $.j("websockets:open-connection")),await w(Promise.race([o.connected(),r.promise]),t.signal)}catch(e){throw o.close().catch((e=>{this.log.error("error closing raw socket",e)})),e}return this.log("connected %s",e),o}createListener(e){return function(){throw new Error("WebSocket Servers can not be created in the browser!")}(this.logger,this.init)}listenFilter(e){return e=Array.isArray(e)?e:[e],null!=this.init?.filter?this.init?.filter(e):cp||fp?function(e){return e.filter((e=>{if(e.protoCodes().includes(290))return!1;const t=e.decapsulateCode(421);return cf.matches(t)}))}(e):function(e){return e.filter((e=>{if(e.protoCodes().includes(290))return!1;const t=e.decapsulateCode(421);return af.matches(t)||cf.matches(t)}))}(e)}dialFilter(e){return this.listenFilter(e)}}function Ay(e={}){return t=>new wy(t,e)}class Ey extends uh{writer;reader;constructor(e){super(e),this.writer=e.bidiStream.writable.getWriter(),this.reader=e.bidiStream.readable.getReader(),Promise.resolve().then((async()=>{for(;;){const t=await this.reader.read();if(t.done)return void e.log("remote closed write");null!=t.value&&this.sourcePush(new R.I(t.value))}})).catch((t=>{e.log.error("error reading from stream",t),this.abort(t)})).finally((()=>{this.remoteCloseWrite()})),this.writer.closed.then((()=>{e.log("writer closed")})).catch((t=>{e.log("writer close promise rejected",t)})).finally((()=>{this.remoteCloseRead()}))}sendNewStream(e){}async sendData(e,t){for await(const n of e)this.log("sendData waiting for writer to be ready"),await w(this.writer.ready,t?.signal),this.writer.write(n).catch((e=>{this.log.error("error sending stream data",e)}))}async sendReset(e){this.log("sendReset aborting writer"),await w(this.writer.abort(),e?.signal),this.log("sendReset aborted writer")}async sendCloseWrite(e){this.log("sendCloseWrite closing writer"),await w(this.writer.close(),e?.signal),this.log("sendCloseWrite closed writer")}async sendCloseRead(e){this.log("sendCloseRead cancelling reader"),await w(this.reader.cancel(),e?.signal),this.log("sendCloseRead cancelled reader")}}async function xy(e,t,n,r,o,i){const s=i.forComponent(`libp2p:webtransport:stream:${n}:${t}`),a=new Ey({bidiStream:e,id:t,direction:n,log:s,onEnd:()=>{const e=r.findIndex((e=>e===a));-1!==e&&r.splice(e,1),o?.(a)}});return a}function Sy(){return{source:{[Symbol.asyncIterator]:()=>({next:async()=>new Promise((()=>{}))})},sink:async e=>new Promise((()=>{}))}}function ky(e,t,n,r){let o=0;const i=n.forComponent("libp2p:webtransport:muxer");return{protocol:"webtransport",createStreamMuxer:s=>{"function"==typeof s&&(s={onIncomingStream:s});const a=[];Promise.resolve().then((async()=>{for(;;){const{done:e,value:l}=await t.read();if(e)break;if(a.length>=r.maxInboundStreams)i(`too many inbound streams open - ${a.length}/${r.maxInboundStreams}, closing new incoming stream`),l.writable.close().catch((e=>{i.error(`failed to close inbound stream that crossed our maxInboundStream limit: ${e.message}`)})),l.readable.cancel().catch((e=>{i.error(`failed to close inbound stream that crossed our maxInboundStream limit: ${e.message}`)}));else{const e=await xy(l,String(o++),"inbound",a,s?.onStreamEnd,n);a.push(e),s?.onIncomingStream?.(e)}}})).catch((e=>{i.error("could not create a new stream",e)}));const l={protocol:"webtransport",streams:a,newStream:async t=>{i("new outgoing stream",t);const r=await e.createBidirectionalStream(),l=await xy(r,String(o++),s?.direction??"outbound",a,s?.onStreamEnd,n);return a.push(l),l},close:async()=>{i("closing webtransport muxer gracefully");try{e.close()}catch(e){l.abort(e)}},abort:t=>{i("closing webtransport muxer with err:",t);try{e.close()}catch(t){i.error("webtransport session threw error during close",t)}},...Sy()};return l}}}const Iy=Object.values(ce.Fo).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)));function _y(e){if(!wn.matches(e))throw new h("Invalid multiaddr, was not a WebTransport address","ERR_INVALID_MULTIADDR");const t=e.stringTuples(),n=t.filter((([e,t])=>e===bt("certhash").code)).map((([e,t])=>{return n=t??"",ce.br.decode(Iy.decode(n));var n})),r=t.filter((([e,t])=>e===bt("p2p").code)).map((([e,t])=>Re(t??"")))[0],o=e.toOptions();let i=o.host;return 6===o.family&&i?.includes(":")&&(i=`[${i}]`),{url:`https://${i}:${o.port}`,certhashes:n,remotePeer:r}}const Ry=globalThis.WebTransport;class Cy{log;components;config;metrics;constructor(e,t={}){this.log=e.logger.forComponent("libp2p:webtransport"),this.components=e,this.config={...t,maxInboundStreams:t.maxInboundStreams??1e3,certificates:t.certificates??[]},null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webtransport_dialer_events_total",{label:"event",help:"Total count of WebTransport dialer events by type"})})}[Symbol.toStringTag]="@libp2p/webtransport";[cc]=!0;[pl]=["@libp2p/transport"];async dial(e,t){if(!0===t?.signal?.aborted)throw new d;this.log("dialing %s",e);const n=this.components.peerId;if(void 0===n)throw new h("Need a local peerid","ERR_INVALID_PARAMETERS");t=t??{};const{url:r,certhashes:o,remotePeer:i}=_y(e);let s,a,l=()=>{},c=!1,u=!1,f=!1;try{this.metrics?.dialerEvents.increment({pending:!0});const d=new Ry(`${r}/.well-known/libp2p-webtransport?type=noise`,{serverCertificateHashes:o.map((e=>({algorithm:"sha-256",value:e.digest})))});if(l=e=>{if(!c)try{this.metrics?.dialerEvents.increment({[e]:!0}),d.close()}catch(e){this.log.error("error closing wt session",e)}finally{null!=a&&(a.timeline.close=Date.now()),c=!0}},s=()=>{l(u?"noise_timeout":"ready_timeout")},t.signal?.addEventListener("abort",s,{once:!0}),this.log("wait for session to be ready"),t.onProgress?.(new $.j("webtransport:wait-for-session")),await Promise.race([d.closed,d.ready]),this.log("session became ready"),u=!0,this.metrics?.dialerEvents.increment({ready:!0}),d.closed.catch((e=>{this.log.error("error on remote wt session close",e)})).finally((()=>{l("remote_close")})),f=await w(this.authenticateWebTransport({wt:d,localPeer:n,remotePeer:i,certhashes:o,...t}),t.signal),!f)throw new h("Failed to authenticate webtransport","ERR_AUTHENTICATION_FAILED");return this.metrics?.dialerEvents.increment({open:!0}),a={close:async()=>{this.log("closing webtransport"),l("close")},abort:e=>{this.log("aborting webtransport due to passed err",e),l("abort")},remoteAddr:e,timeline:{open:Date.now()},log:this.components.logger.forComponent("libp2p:webtransport:maconn"),...Sy()},await t.upgrader.upgradeOutbound(a,{skipEncryption:!0,muxerFactory:ky(d,d.incomingBidirectionalStreams.getReader(),this.components.logger,this.config),skipProtection:!0,onProgress:t.onProgress})}catch(e){throw this.log.error("caught wt session err",e),l(f?"upgrade_error":u?"noise_error":"ready_error"),e}finally{null!=s&&t.signal?.removeEventListener("abort",s)}}async authenticateWebTransport({wt:e,localPeer:t,remotePeer:n,certhashes:r,onProgress:o,signal:i}){i?.throwIfAborted(),o?.(new $.j("webtransport:open-authentication-stream"));const s=await e.createBidirectionalStream(),a=s.writable.getWriter(),l=s.readable.getReader(),c={source:async function*(){for(;;){const e=await l.read();if(null!=e.value&&(yield e.value),e.done)break}}(),sink:async e=>{for await(const t of e){await w(a.ready,i);const e=t instanceof Uint8Array?t:t.subarray();a.write(e).catch((e=>{this.log.error("could not write chunk during authentication of WebTransport stream",e)}))}}},u=jd()(this.components);o?.(new $.j("webtransport:secure-outbound-connection"));const{remoteExtensions:d}=await u.secureOutbound(t,c,n);if(o?.(new $.j("webtransport:close-authentication-stream")),a.close().catch((e=>{this.log.error(`Failed to close authentication stream writer: ${e.message}`)})),l.cancel().catch((e=>{this.log.error(`Failed to close authentication stream reader: ${e.message}`)})),h=d?.webtransportCerthashes??[],(f=r.map((e=>e.bytes))).filter((e=>Boolean(h.find((t=>(0,pe.a)(e,t)))))).length!==f.length)throw new Error("Our certhashes are not a subset of the remote's reported certhashes");var h,f;return!0}createListener(e){return function(){throw new Error("Not implemented")}(this.components,(this.config.certificates,this.config.maxInboundStreams))}listenFilter(){return[]}dialFilter(e){return null==globalThis.WebTransport?[]:e.filter((e=>{if(!wn.exactMatch(e))return!1;const{url:t,certhashes:n}=_y(e);return null!=t&&n.length>0}))}}function Ty(e={}){return t=>new Cy(t,e)}function Py(e,t){const n=t.map(((e,t)=>({record:_h(e),index:t})));return n.sort(((e,t)=>{const n=e.record.sequence,r=t.record.sequence;if(n>r)return-1;if(n<r)return 1;if(e.record.validityType===Eh.ValidityType.EOL&&t.record.validityType===Eh.ValidityType.EOL){const n=Dh.fromString(e.record.validity).toDate(),r=Dh.fromString(t.record.validity).toDate();if(n.getTime()>r.getTime())return-1;if(n.getTime()<r.getTime())return 1}return 0})),n[0].index}const Dy="4.2.4",Oy="helia",My={list:["/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN","/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb","/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt","/ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ"]};async function Ny(e){const t=e.libp2p?.peerId,n=e.logger??(0,_r.Um)(),r=new Mr("/pkcs8/self");let o;null==t&&null!=e.datastore&&(o=_l(e.keychain)({datastore:e.datastore,logger:n}),await e.datastore.has(r)&&(e.libp2p=e.libp2p??{},e.libp2p.peerId=await o.exportPeerId("self")));const i=function(e={}){const t=`${Oy}/${Dy} ${Ou}/${Du} UserAgent=${globalThis.navigator.userAgent}`;return{peerId:e.peerId,dns:e.dns,addresses:{listen:["/webrtc"]},transports:[Xf({discoverRelays:1}),e=>new ny(e,void 0),hy(),Ty(),Ay()],connectionEncryption:[jd()],streamMuxers:[gh(),cg()],peerDiscovery:[Cf(My)],services:{autoNAT:Gh(),dcutr:op(),delegatedRouting:()=>function(e,t={}){return new Wh(new URL("https://delegated-ipfs.dev"),t)}(),dht:Gm({clientMode:!0,validators:{ipns:Bh},selectors:{ipns:Py}}),identify:Cp({agentVersion:t}),identifyPush:Tp({agentVersion:t}),keychain:_l(e.keychain),ping:hg()}}}(e);i.datastore=i.datastore??e.datastore,e=e??{};const s=await async function(e={}){const t=await async function(e={}){const t=e.peerId??=await Tl();if(null==t.privateKey)throw new h("peer id was missing private key","ERR_MISSING_PRIVATE_KEY");return e.privateKey??=await hl(t.privateKey),new Mu(await async function(e){const t=(0,yl.A)(yc,e);if(null===t.connectionProtector&&null!=globalThis.process?.env?.LIBP2P_FORCE_PNET)throw new h(mc.ERR_PROTECTOR_REQUIRED,gc.ERR_PROTECTOR_REQUIRED);if(null!=t.privateKey&&!(await Te(t.privateKey.public.bytes,t.privateKey.bytes)).equals(t.peerId))throw new h("Private key doesn't match peer id",gc.ERR_INVALID_KEY);return t}(e))}(e);return!1!==e.start&&await t.start(),t}({...i,...e.libp2p,start:!1});return null!=t||null==o||await e.datastore.has(r)||await o.importPeer("self",s.peerId),s}async function By(e={}){const t=e.datastore??new Fr,n=e.blockstore??new Ir;let r;var o;r=null!=(o=e.libp2p)&&["dial","dialProtocol","hangUp","handle","unhandle","getMultiaddrs","getProtocols"].every((e=>"function"==typeof o[e]))?e.libp2p:await Ny({...e,libp2p:{dns:e.dns,...e.libp2p,start:void 0},datastore:t});const i=new Jo({...e,libp2p:r,datastore:t,blockstore:n,blockBrokers:e.blockBrokers??[Un(),et()],routers:[jn(r),mr()],metrics:r.metrics});return!1!==e.start&&await i.start(),i}},6221:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{const t=[];for await(const n of e)t.push(n);return t})();const t=[];for(const n of e)t.push(n);return t}},3311:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)await t(r,n++)&&(yield r)}();const r=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return async function*(){await s&&(yield o);for await(const e of r)await t(e,n++)&&(yield e)}();const a=t;return function*(){!0===s&&(yield o);for(const e of r)a(e,n++)&&(yield e)}()}},9230:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e)return t})();for(const t of e)return t}},987:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)yield t(r,n++)}();const r=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return async function*(){yield await s;for await(const e of r)yield t(e,n++)}();const a=t;return function*(){yield s;for(const e of r)yield a(e,n++)}()}},12:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8651);const o=function(...e){const t=[];for(const n of e)null==n[Symbol.asyncIterator]&&t.push(n);return t.length===e.length?function*(){for(const e of t)yield*e}():async function*(){const t=(0,r.Ny)({objectMode:!0});Promise.resolve().then((async()=>{try{await Promise.all(e.map((async e=>{for await(const n of e)t.push(n)}))),t.end()}catch(e){t.end(e)}})),yield*t}()}},8209:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7313);const o=globalThis.CustomEvent??Event;async function*i(e,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,s=new EventTarget,a=[];let l,c=(0,r.A)(),u=(0,r.A)(),d=!1,h=!1;function f(){return i?a[0]?.done:Boolean(a.find((e=>e.done)))}function*p(){for(;a.length>0&&a[0].done;){const e=a[0];if(a.shift(),!e.ok)throw h=!0,c.resolve(),e.err;yield e.value,c.resolve()}}function*m(){for(;f();)for(let e=0;e<a.length;e++)if(a[e].done){const t=a[e];if(a.splice(e,1),e--,!t.ok)throw h=!0,c.resolve(),t.err;yield t.value,c.resolve()}}for(s.addEventListener("task-complete",(()=>{u.resolve()})),Promise.resolve().then((async()=>{try{for await(const t of e){if(a.length===n&&(c=(0,r.A)(),await c.promise),h)break;const e={done:!1};a.push(e),t().then((t=>{e.done=!0,e.ok=!0,e.value=t,s.dispatchEvent(new o("task-complete"))}),(t=>{e.done=!0,e.err=t,s.dispatchEvent(new o("task-complete"))}))}d=!0,s.dispatchEvent(new o("task-complete"))}catch(e){l=e,s.dispatchEvent(new o("task-complete"))}}));;){if(f()||(u=(0,r.A)(),await u.promise),null!=l)throw l;if(i?yield*p():yield*m(),d&&0===a.length)break}}},7740:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(8651),o=n(12);function i(e,...t){if(null==e)throw new Error("Empty pipeline");if(c(e)){const t=e;e=()=>t.source}else if(l(e)||a(e)){const t=e;e=()=>t}const n=[e,...t];if(n.length>1&&c(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let e=1;e<n.length-1;e++)c(n[e])&&(n[e]=u(n[e]));return s(...n)}const s=(...e)=>{let t;for(;e.length>0;)t=e.shift()(t);return t},a=e=>null!=e?.[Symbol.asyncIterator],l=e=>null!=e?.[Symbol.iterator],c=e=>null!=e&&null!=e.sink&&null!=e.source,u=e=>t=>{const n=e.sink(t);if(null!=n?.then){const t=(0,r.Ny)({objectMode:!0});let i;n.then((()=>{t.end()}),(e=>{t.end(e)}));const s=e.source;if(a(s))i=async function*(){yield*s,t.end()};else{if(!l(s))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");i=function*(){yield*s,t.end()}}return(0,o.A)(t,i())}return e.source}},8651:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>a});var r=n(7313);class o{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}class i{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new o(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return null!=e?.byteLength?e.byteLength:1}push(e){if(null!=e?.value&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const t=this.head;this.head=t.next=new o(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(void 0===e&&null!=this.tail.next){const t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return null!=e?.value&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}class s extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}function a(e={}){return function(e,t){let n,o,a,l=(t=t??{}).onEnd,c=new i,u=(0,r.A)();const d=e=>null!=o?o(e):(c.push(e),n),h=e=>{if(a)return n;if(!0!==t?.objectMode&&null==e?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return d({done:!1,value:e})},f=e=>a?n:(a=!0,null!=e?(e=>(c=new i,null!=o?o({error:e}):(c.push({error:e}),n)))(e):d({done:!0}));if(n={[Symbol.asyncIterator](){return this},next:async()=>{try{return c.isEmpty()?a?{done:!0}:await new Promise(((t,r)=>{o=i=>{o=null,c.push(i);try{t(e(c))}catch(e){r(e)}return n}})):e(c)}finally{c.isEmpty()&&queueMicrotask((()=>{u.resolve(),u=(0,r.A)()}))}},return:()=>(c=new i,f(),{done:!0}),throw:e=>(f(e),{done:!0}),push:h,end:f,get readableLength(){return c.size},onEmpty:async e=>{const t=e?.signal;if(t?.throwIfAborted(),c.isEmpty())return;let n,r;null!=t&&(n=new Promise(((e,n)=>{r=()=>{n(new s)},t.addEventListener("abort",r)})));try{await Promise.race([u.promise,n])}finally{null!=r&&null!=t&&t?.removeEventListener("abort",r)}}},null==l)return n;const p=n;return n={[Symbol.asyncIterator](){return this},next:()=>p.next(),throw:e=>(p.throw(e),null!=l&&(l(e),l=void 0),{done:!0}),return:()=>(p.return(),null!=l&&(l(),l=void 0),{done:!0}),push:h,end:e=>(p.end(e),null!=l&&(l(e),l=void 0),n),get readableLength(){return p.readableLength},onEmpty:e=>p.onEmpty(e)},n}((e=>{const t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}}),e)}},7424:(e,t,n)=>{"use strict";n.d(t,{d:()=>dn});var r={};n.r(r),n.d(r,{identity:()=>P});var o={};n.r(o),n.d(o,{base2:()=>D});var i={};n.r(i),n.d(i,{base8:()=>O});var s={};n.r(s),n.d(s,{base10:()=>M});var a={};n.r(a),n.d(a,{base16:()=>N,base16upper:()=>B});var l={};n.r(l),n.d(l,{base32:()=>L,base32hex:()=>j,base32hexpad:()=>V,base32hexpadupper:()=>H,base32hexupper:()=>z,base32pad:()=>U,base32padupper:()=>$,base32upper:()=>F,base32z:()=>W});var c={};n.r(c),n.d(c,{base36:()=>q,base36upper:()=>K});var u={};n.r(u),n.d(u,{base58btc:()=>G,base58flickr:()=>Y});var d={};n.r(d),n.d(d,{base64:()=>Q,base64pad:()=>Z,base64url:()=>J,base64urlpad:()=>X});var h={};n.r(h),n.d(h,{base256emoji:()=>re});var f={};n.r(f),n.d(f,{sha256:()=>Ie,sha512:()=>_e});var p={};n.r(p),n.d(p,{identity:()=>Ce});var m={};n.r(m),n.d(m,{code:()=>Pe,decode:()=>Oe,encode:()=>De,name:()=>Te});var g={};n.r(g),n.d(g,{code:()=>Le,decode:()=>Ue,encode:()=>Fe,name:()=>Be});var y=n(2716);function v(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function b(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?v(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function w(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=b(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return v(n)}const A=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===l;)r++,t++;for(var i=(e.length-t)*c+1>>>0,s=new Uint8Array(i);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=i-1;(0!==u||d<o)&&-1!==h;h--,d++)u+=a*s[h]>>>0,s[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=d,t++}if(" "!==e[t]){for(var f=i-o;f!==i&&0===s[f];)f++;for(var p=new Uint8Array(r+(i-f)),m=r;f!==i;)p[m++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*u+1>>>0,c=new Uint8Array(s);o!==i;){for(var d=t[o],h=0,f=s-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,o++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=l.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}},E=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class x{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return I(this,e)}}class k{constructor(e){this.decoders=e}or(e){return I(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const I=(e,t)=>new k({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class _{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new x(e,t,n),this.decoder=new S(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const R=({name:e,prefix:t,encode:n,decode:r})=>new _(e,t,n,r),C=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=A(n,t);return R({prefix:e,name:t,encode:r,decode:e=>E(o(e))})},T=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>R({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let t=0;t<i;++t){const i=o[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);l=l<<n|i,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),P=R({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),D=T({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),O=T({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),M=C({prefix:"9",name:"base10",alphabet:"0123456789"}),N=T({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B=T({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),L=T({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=T({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U=T({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$=T({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),j=T({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z=T({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=T({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),H=T({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),W=T({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),q=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),G=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Y=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Q=T({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Z=T({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=T({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X=T({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ee=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),te=ee.reduce(((e,t,n)=>(e[n]=t,e)),[]),ne=ee.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]),re=R({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+te[t]),"")},decode:function(e){const t=[];for(const n of e){const e=ne[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var oe=128,ie=-128,se=Math.pow(2,31),ae=128,le=127,ce=Math.pow(2,7),ue=Math.pow(2,14),de=Math.pow(2,21),he=Math.pow(2,28),fe=Math.pow(2,35),pe=Math.pow(2,42),me=Math.pow(2,49),ge=Math.pow(2,56),ye=Math.pow(2,63);const ve={encode:function e(t,n,r){n=n||[];for(var o=r=r||0;t>=se;)n[r++]=255&t|oe,t/=128;for(;t&ie;)n[r++]=255&t|oe,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},decode:function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&le)<<i:(r&le)*Math.pow(2,i),i+=7}while(r>=ae);return e.bytes=s-n,o},encodingLength:function(e){return e<ce?1:e<ue?2:e<de?3:e<he?4:e<fe?5:e<pe?6:e<me?7:e<ge?8:e<ye?9:10}},be=(e,t,n=0)=>(ve.encode(e,t,n),t),we=e=>ve.encodingLength(e),Ae=(e,t)=>{const n=t.byteLength,r=we(e),o=r+we(n),i=new Uint8Array(o+n);return be(e,i,0),be(n,i,r),i.set(t,o),new Ee(e,n,t,i)};class Ee{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const xe=({name:e,code:t,encode:n})=>new Se(e,t,n);class Se{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ae(this.code,t):t.then((e=>Ae(this.code,e)))}throw Error("Unknown type, must be binary type")}}const ke=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ie=xe({name:"sha2-256",code:18,encode:ke("SHA-256")}),_e=xe({name:"sha2-512",code:19,encode:ke("SHA-512")}),Re=E,Ce={code:0,name:"identity",encode:Re,digest:e=>Ae(0,Re(e))},Te="raw",Pe=85,De=e=>E(e),Oe=e=>E(e),Me=new TextEncoder,Ne=new TextDecoder,Be="json",Le=512,Fe=e=>Me.encode(JSON.stringify(e)),Ue=e=>JSON.parse(Ne.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const $e={...r,...o,...i,...s,...a,...l,...c,...u,...d,...h};function je(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const ze=je("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Ve=je("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=b((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),He={utf8:ze,"utf-8":ze,hex:$e.base16,latin1:Ve,ascii:Ve,binary:Ve,...$e};function We(e,t="utf8"){const n=He[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):v(globalThis.Buffer.from(e,"utf-8"))}function qe(e,t="utf8"){const n=He[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}n(1466);var Ke=n(8226),Ge=(n(3009),n(7238)),Ye=(n(4329),n(8576),n(2341));n(7324);const Qe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function Ze(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Je(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Xe(e){if("string"==typeof e)e=Je(e);else{if(!Ze(e))throw new Error("expected Uint8Array, got "+typeof e);e=e.slice()}return e}function et(e,t){if(!Ze(e))throw new Error("Uint8Array expected");if("number"==typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}const tt=(e,t)=>(Object.assign(t,e),t);function nt(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function rt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`wrong positive integer: ${e}`)}function ot(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function it(e,...t){if(null==(n=e)||"object"!=typeof n||!(n instanceof Uint8Array||"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function st(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const at=(e,t)=>255&e[t++]|(255&e[t++])<<8;class lt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,et(e=Xe(e),32);const t=at(e,0),n=at(e,2),r=at(e,4),o=at(e,6),i=at(e,8),s=at(e,10),a=at(e,12),l=at(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=at(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],m=i[9],g=at(e,t+0),y=at(e,t+2),v=at(e,t+4),b=at(e,t+6),w=at(e,t+8),A=at(e,t+10),E=at(e,t+12),x=at(e,t+14);let S=o[0]+(8191&g),k=o[1]+(8191&(g>>>13|y<<3)),I=o[2]+(8191&(y>>>10|v<<6)),_=o[3]+(8191&(v>>>7|b<<9)),R=o[4]+(8191&(b>>>4|w<<12)),C=o[5]+(w>>>1&8191),T=o[6]+(8191&(w>>>14|A<<2)),P=o[7]+(8191&(A>>>11|E<<5)),D=o[8]+(8191&(E>>>8|x<<8)),O=o[9]+(x>>>5|r),M=0,N=M+S*s+k*(5*m)+I*(5*p)+_*(5*f)+R*(5*h);M=N>>>13,N&=8191,N+=C*(5*d)+T*(5*u)+P*(5*c)+D*(5*l)+O*(5*a),M+=N>>>13,N&=8191;let B=M+S*a+k*s+I*(5*m)+_*(5*p)+R*(5*f);M=B>>>13,B&=8191,B+=C*(5*h)+T*(5*d)+P*(5*u)+D*(5*c)+O*(5*l),M+=B>>>13,B&=8191;let L=M+S*l+k*a+I*s+_*(5*m)+R*(5*p);M=L>>>13,L&=8191,L+=C*(5*f)+T*(5*h)+P*(5*d)+D*(5*u)+O*(5*c),M+=L>>>13,L&=8191;let F=M+S*c+k*l+I*a+_*s+R*(5*m);M=F>>>13,F&=8191,F+=C*(5*p)+T*(5*f)+P*(5*h)+D*(5*d)+O*(5*u),M+=F>>>13,F&=8191;let U=M+S*u+k*c+I*l+_*a+R*s;M=U>>>13,U&=8191,U+=C*(5*m)+T*(5*p)+P*(5*f)+D*(5*h)+O*(5*d),M+=U>>>13,U&=8191;let $=M+S*d+k*u+I*c+_*l+R*a;M=$>>>13,$&=8191,$+=C*s+T*(5*m)+P*(5*p)+D*(5*f)+O*(5*h),M+=$>>>13,$&=8191;let j=M+S*h+k*d+I*u+_*c+R*l;M=j>>>13,j&=8191,j+=C*a+T*s+P*(5*m)+D*(5*p)+O*(5*f),M+=j>>>13,j&=8191;let z=M+S*f+k*h+I*d+_*u+R*c;M=z>>>13,z&=8191,z+=C*l+T*a+P*s+D*(5*m)+O*(5*p),M+=z>>>13,z&=8191;let V=M+S*p+k*f+I*h+_*d+R*u;M=V>>>13,V&=8191,V+=C*c+T*l+P*a+D*s+O*(5*m),M+=V>>>13,V&=8191;let H=M+S*m+k*p+I*f+_*h+R*d;M=H>>>13,H&=8191,H+=C*u+T*c+P*l+D*a+O*s,M+=H>>>13,H&=8191,M=(M<<2)+M|0,M=M+N|0,N=8191&M,M>>>=13,B+=M,o[0]=N,o[1]=B,o[2]=L,o[3]=F,o[4]=U,o[5]=$,o[6]=j,o[7]=z,o[8]=V,o[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let o=(1^r)-1;for(let e=0;e<10;e++)n[e]&=o;o=~o;for(let t=0;t<10;t++)e[t]=e[t]&o|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let i=e[0]+t[0];e[0]=65535&i;for(let n=1;n<8;n++)i=(e[n]+t[n]|0)+(i>>>16)|0,e[n]=65535&i}update(e){st(this);const{buffer:t,blockLen:n}=this,r=(e=Xe(e)).length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);if(i!==n)t.set(e.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-o;o+=n)this.process(e,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){st(this),function(e,t){it(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let t=0;t<8;t++)e[o++]=n[t]>>>0,e[o++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const ct=function(e){const t=(t,n)=>e(n).update(Xe(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new lt(e))),ut=Je("expand 16-byte k"),dt=Je("expand 32-byte k"),ht=Qe(ut),ft=Qe(dt);function pt(e,t){return e<<t|e>>>32-t}function mt(e){return e.byteOffset%4==0}const gt=2**32-1,yt=new Uint32Array;function vt(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new Error("options must be object or undefined");var n;return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,t);if("function"!=typeof e)throw new Error("core must be a function");return rt(o),rt(s),ot(i),ot(n),(t,a,l,c,u=0)=>{it(t),it(a),it(l);const d=l.length;if(c||(c=new Uint8Array(d)),it(c),rt(u),u<0||u>=gt)throw new Error("arx: counter overflow");if(c.length<d)throw new Error(`arx: output (${c.length}) is shorter than data (${d})`);const h=[];let f,p,m=t.length;if(32===m)f=t.slice(),h.push(f),p=ft;else{if(16!==m||!n)throw new Error(`arx: invalid 32-byte key, got length=${m}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=ht,h.push(f)}mt(a)||(a=a.slice(),h.push(a));const g=Qe(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,g,Qe(a.subarray(0,16)),g),a=a.subarray(16)}const y=16-o;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,h.push(a)}const v=Qe(a);for(function(e,t,n,r,o,i,s,a){const l=o.length,c=new Uint8Array(64),u=Qe(c),d=mt(o)&&mt(i),h=d?Qe(o):yt,f=d?Qe(i):yt;for(let p=0;p<l;s++){if(e(t,n,r,u,s,a),s>=gt)throw new Error("arx: counter overflow");const m=Math.min(64,l-p);if(d&&64===m){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<m;t++)e=p+t,i[e]=o[e]^c[t];p+=m}}}(e,p,g,v,l,c,u,s);h.length>0;)h.pop().fill(0);return c}}function bt(e,t,n,r,o,i=20){let s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],m=t[5],g=t[6],y=t[7],v=o,b=n[0],w=n[1],A=n[2],E=s,x=a,S=l,k=c,I=u,_=d,R=h,C=f,T=p,P=m,D=g,O=y,M=v,N=b,B=w,L=A;for(let e=0;e<i;e+=2)E=E+I|0,M=pt(M^E,16),T=T+M|0,I=pt(I^T,12),E=E+I|0,M=pt(M^E,8),T=T+M|0,I=pt(I^T,7),x=x+_|0,N=pt(N^x,16),P=P+N|0,_=pt(_^P,12),x=x+_|0,N=pt(N^x,8),P=P+N|0,_=pt(_^P,7),S=S+R|0,B=pt(B^S,16),D=D+B|0,R=pt(R^D,12),S=S+R|0,B=pt(B^S,8),D=D+B|0,R=pt(R^D,7),k=k+C|0,L=pt(L^k,16),O=O+L|0,C=pt(C^O,12),k=k+C|0,L=pt(L^k,8),O=O+L|0,C=pt(C^O,7),E=E+_|0,L=pt(L^E,16),D=D+L|0,_=pt(_^D,12),E=E+_|0,L=pt(L^E,8),D=D+L|0,_=pt(_^D,7),x=x+R|0,M=pt(M^x,16),O=O+M|0,R=pt(R^O,12),x=x+R|0,M=pt(M^x,8),O=O+M|0,R=pt(R^O,7),S=S+C|0,N=pt(N^S,16),T=T+N|0,C=pt(C^T,12),S=S+C|0,N=pt(N^S,8),T=T+N|0,C=pt(C^T,7),k=k+I|0,B=pt(B^k,16),P=P+B|0,I=pt(I^P,12),k=k+I|0,B=pt(B^k,8),P=P+B|0,I=pt(I^P,7);let F=0;r[F++]=s+E|0,r[F++]=a+x|0,r[F++]=l+S|0,r[F++]=c+k|0,r[F++]=u+I|0,r[F++]=d+_|0,r[F++]=h+R|0,r[F++]=f+C|0,r[F++]=p+T|0,r[F++]=m+P|0,r[F++]=g+D|0,r[F++]=y+O|0,r[F++]=v+M|0,r[F++]=b+N|0,r[F++]=w+B|0,r[F++]=A+L|0}const wt=vt(bt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),At=vt(bt,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let o=e[0],i=e[1],s=e[2],a=e[3],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=n[0],y=n[1],v=n[2],b=n[3];for(let e=0;e<20;e+=2)o=o+l|0,g=pt(g^o,16),h=h+g|0,l=pt(l^h,12),o=o+l|0,g=pt(g^o,8),h=h+g|0,l=pt(l^h,7),i=i+c|0,y=pt(y^i,16),f=f+y|0,c=pt(c^f,12),i=i+c|0,y=pt(y^i,8),f=f+y|0,c=pt(c^f,7),s=s+u|0,v=pt(v^s,16),p=p+v|0,u=pt(u^p,12),s=s+u|0,v=pt(v^s,8),p=p+v|0,u=pt(u^p,7),a=a+d|0,b=pt(b^a,16),m=m+b|0,d=pt(d^m,12),a=a+d|0,b=pt(b^a,8),m=m+b|0,d=pt(d^m,7),o=o+c|0,b=pt(b^o,16),p=p+b|0,c=pt(c^p,12),o=o+c|0,b=pt(b^o,8),p=p+b|0,c=pt(c^p,7),i=i+u|0,g=pt(g^i,16),m=m+g|0,u=pt(u^m,12),i=i+u|0,g=pt(g^i,8),m=m+g|0,u=pt(u^m,7),s=s+d|0,y=pt(y^s,16),h=h+y|0,d=pt(d^h,12),s=s+d|0,y=pt(y^s,8),h=h+y|0,d=pt(d^h,7),a=a+l|0,v=pt(v^a,16),f=f+v|0,l=pt(l^f,12),a=a+l|0,v=pt(v^a,8),f=f+v|0,l=pt(l^f,7);let w=0;r[w++]=o,r[w++]=i,r[w++]=s,r[w++]=a,r[w++]=g,r[w++]=y,r[w++]=v,r[w++]=b},allowShortKeys:!1}),Et=new Uint8Array(16),xt=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Et.subarray(n))},St=new Uint8Array(32);function kt(e,t,n,r,o){const i=e(t,n,St),s=ct.create(i);o&&xt(s,o),xt(s,r);const a=new Uint8Array(16),l=(c=a,new DataView(c.buffer,c.byteOffset,c.byteLength));var c;nt(l,0,BigInt(o?o.length:0),!0),nt(l,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return i.fill(0),u}const It=e=>(t,n,r)=>(et(t,32),et(n),{encrypt:(o,i)=>{const s=o.length,a=s+16;i?et(i,a):i=new Uint8Array(a),e(t,n,o,i,1);const l=kt(e,t,n,i.subarray(0,-16),r);return i.set(l,s),i},decrypt:(o,i)=>{const s=o.length,a=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");i?et(i,a):i=new Uint8Array(a);const l=o.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o.subarray(-16),kt(e,t,n,l,r)))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),_t=(It(wt),tt({blockSize:64,nonceLength:24,tagLength:16},It(At)));n(2595);const Rt={toString:qe,fromString:We,concat:w};function Ct(e){return Rt.toString(e,"base64url")}function Tt(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return Rt.fromString(t,"base64url")}function Pt(e){return Rt.toString(e,"base16")}function Dt(e){return Rt.fromString(e,"utf-8")}function Ot({r:e,s:t,recoveryParam:n},r){const o=new Uint8Array(r?65:64);if(o.set(Rt.fromString(e,"base16"),0),o.set(Rt.fromString(t,"base16"),32),r){if(void 0===n)throw new Error("Signer did not return a recoveryParam");o[64]=n}return Ct(o)}function Mt(e,t){return Rt.concat([Tt(e),t?Tt(t):new Uint8Array(0)])}function Nt(e){const t="string"==typeof e?We(e):e;return(0,Ke.s)(t)}Ge.lY;function Bt(e,t=new Uint8Array(4)){const n=We(e.toString(),"base10");return t.set(n,4-n.length),t}const Lt=e=>w([Bt(e.length),e]);function Ft(e){return"object"==typeof e&&"r"in e&&"s"in e}function Ut(e){return function(t,n){try{return Promise.resolve(n(t)).then((function(t){if(Ft(t))return Ot(t,e);if(e&&void 0===function(e){const t=Tt(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Pt(t.slice(0,32)),s:Pt(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function $t(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(Ft(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}const jt={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return Ft(e)?Ot(e):e}))}catch(e){return Promise.reject(e)}},ES256K:Ut(),"ES256K-R":Ut(!0),Ed25519:$t(),EdDSA:$t()};"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const zt="ES256K";function Vt(e,t=!1){return n=t?Ye(e):JSON.stringify(e),Ct(Rt.fromString(n));var n}function Ht(e,t,n){if(!e.s){if(n instanceof Wt){if(!n.s)return void(n.o=Ht.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Ht.bind(null,e,t),Ht.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const Wt=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,o=this.s;if(o){const e=1&o?t:n;if(e){try{Ht(r,1,e(this.v))}catch(e){Ht(r,2,e)}return r}return this}return this.o=function(e){try{const o=e.v;1&e.s?Ht(r,1,t?t(o):o):n?Ht(r,1,n(o)):Ht(r,2,o)}catch(e){Ht(r,2,e)}},r},e}();function qt(e){return e instanceof Wt&&1&e.s}const Kt=function(e,t){try{function r(e){if(null===a)throw new Error("failure: Failed to decrypt");return a}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const o=JSON.parse((n=e.protected,Rt.toString(Tt(n))));if(o.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${o.enc}'`);const i=Mt(e.ciphertext,e.tag),s=Dt(e.aad?`${e.protected}.${e.aad}`:e.protected);let a=null;const l="dir"===o.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(i,Tt(e.iv),s)).then((function(e){a=e})):function(){if(e.recipients&&0!==e.recipients.length){let n=0;return function(e,t,n){for(var r;;){var o=e();if(qt(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!qt(i)){r=1;break}i=i.s}if(t){var s=t();if(s&&s.then&&!qt(s)){r=2;break}}}var a=new Wt,l=Ht.bind(null,a,2);return(0===r?o.then(u):1===r?i.then(c):s.then(d)).then(void 0,l),a;function c(r){i=r;do{if(t&&(s=t())&&s.then&&!qt(s))return void s.then(d).then(void 0,l);if(!(o=e())||qt(o)&&!o.v)return void Ht(a,1,i);if(o.then)return void o.then(u).then(void 0,l);qt(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,l)}function u(e){e?(i=n())&&i.then?i.then(c).then(void 0,l):c(i):Ht(a,1,i)}function d(){(o=e())?o.then?o.then(u).then(void 0,l):u(o):Ht(a,1,i)}}((function(){return!a&&n<e.recipients.length}),(function(){return n++}),(function(){const r=e.recipients[n];Object.assign(r.header,o);const l=function(){if(r.header.alg===t.alg)return Promise.resolve(t.decrypt(i,Tt(e.iv),s,r)).then((function(e){a=e}))}();if(l&&l.then)return l.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(l&&l.then?l.then(r):r())}catch(c){return Promise.reject(c)}var n};function Gt(e){return{alg:"dir",enc:"XC20P",decrypt:function(t,n,r){try{try{return Promise.resolve(_t(e,n,r).decrypt(t))}catch(e){return Promise.resolve(null)}}catch(e){return Promise.reject(e)}}}}const Yt=function(e,t,n){try{function r(){let t,r;return e.header.apu&&(t=Tt(e.header.apu)),e.header.apv&&(r=Tt(e.header.apv)),function(e,t,n,r,o){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const i=w([Lt(We(n)),Lt(void 0===r?new Uint8Array(0):r),Lt(void 0===o?new Uint8Array(0):o),Bt(t)]);return Nt(w([Bt(1),e,i]))}(l,i,n,t,r)}const o="X25519",i=256,s=e.header;if(s.epk?.crv!==o||void 0===s.epk.x)return Promise.resolve(null);const a=Tt(s.epk.x);let l;const c=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){l=e}));l=y.TU.getSharedSecret(t,a)}();return Promise.resolve(c&&c.then?c.then(r):r())}catch(u){return Promise.reject(u)}};function Qt(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(n,r,o,i){try{const s=function(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}(i.header);return Promise.resolve(Yt(i,e,t)).then((function(e){if(!e)return null;const t=Mt(i.encrypted_key,s.tag);return Promise.resolve(Gt(e).decrypt(t,Tt(s.iv))).then((function(e){return null===e?null:Gt(e).decrypt(n,r,o)}))}))}catch(e){return Promise.reject(e)}}}}var Zt=n(2492),Jt=n(1794),Xt=n(5978),en=n(7237);function tn(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:(0,Jt.u1)(t)}}}function nn(e,t,n){console.warn("Unhandled handler error",t,n)}function rn(e,t){console.warn("Unhandled invalid message",t)}function on(e,t){console.warn("Unhandled notification",t)}var sn=n(5986);function an(e){return JSON.parse(Zt(e))}function ln(e){const[t,n,r]=e.split(".");return{payload:n,signatures:[{protected:t,signature:r}]}}const cn=async(e,t,n,r={})=>{const o=`${t}#${t.split(":")[2]}`,i=function(e){const t=e;if(![32,64].includes(t.length))throw new Error(`bad_key: Invalid private key format. Expecting 32 or 64 bytes, but got ${t.length}`);return function(e){try{const n="string"==typeof e?Dt(e):e,r=y.ev.sign(n,t.slice(0,32));return Promise.resolve(Ct(r))}catch(e){return Promise.reject(e)}}}(n),s=an(Object.assign(r,{kid:o,alg:"EdDSA"}));return function(e,t,n={},r={}){try{n.alg||(n.alg=zt);const o="string"==typeof e?e:Vt(e,r.canonicalize),i=[Vt(n,r.canonicalize),o].join("."),s=function(e){const t=jt[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(n.alg);return Promise.resolve(s(i,t)).then((function(e){return[i,e].join(".")}))}catch(e){return Promise.reject(e)}}("string"==typeof e?e:an(e),i,s)},un={did_authenticate:async({did:e,secretKey:t},n)=>ln(await cn({did:e,aud:n.aud,nonce:n.nonce,paths:n.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},n)=>{if(n.did.split("#")[0]!==e)throw new Jt.Gb(4100,`Unknown DID: ${e}`);return{jws:ln(await cn(n.payload,e,t,n.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const n=Qt((0,y.OA)(e.subarray(0,32)));try{const e=await Kt(t.jwe,n);return{cleartext:(0,sn.dI)(e,"base64pad")}}catch(e){throw new Jt.Gb(-32e3,e.message)}}};class dn{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){var t,n;n=void 0,(t="_handle")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n;const r=y.ev.getPublicKey(e),o=(0,sn.xW)([e,y.ev.getPublicKey(e)]),i=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${(0,sn.dI)(t,"base58btc")}`}(r),s=function(e,t={}){const n=t.onHandlerError??nn,r=t.onInvalidMessage??rn,o=t.onNotification??on,i={};return async function(t,s){const a=s.id;if("2.0"!==s.jsonrpc||null==s.method)return null==a?(r(t,s),null):tn(a,Jt.bo.INVALID_REQUEST);const l=e[s.method];if(null==l)return null==a?(function(e,t){if(t.method===en.b){const e=t.params?.id;null!=e&&i[e]?.abort()}else o(e,t)}(t,s),null):tn(a,Jt.bo.METHOD_NOT_FOUND);try{let e;if(null!=a&&l[Xt.rg]){const n=new AbortController;i[a]=n,e=l(t,s.params,{signal:n.signal})}else e=l(t,s.params,{});const n=null==e?e:"function"==typeof e.then?await e:e;return null==a||i[a]?.signal.aborted?null:{jsonrpc:"2.0",id:a,result:n}}catch(e){if(null==a||i[a]?.signal.aborted)return n(t,s,e),null;let r;if(e instanceof Jt.Gb)r=e.toObject();else{n(t,s,e);const o=e.code??-32e3;r={code:o,message:e.message||(0,Jt.u1)(o)}}return{jsonrpc:"2.0",id:a,error:r}}finally{null!=a&&delete i[a]}}}(un);this._handle=async e=>await s({did:i,secretKey:o},e)}}},8009:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r={};n.r(r),n.d(r,{keyToDidDoc:()=>d});var o={};n.r(o),n.d(o,{keyToDidDoc:()=>p});var i={};n.r(i),n.d(i,{keyToDidDoc:()=>y});var s={};n.r(s),n.d(s,{keyToDidDoc:()=>I});var a={};n.r(a),n.d(a,{keyToDidDoc:()=>P});var l=n(1203),c=n(8782),u=n(5986);function d(e,t){const n=`did:key:${t}`,r=`${n}#${t}`;return{id:n,verificationMethod:[{id:r,type:"Secp256k1VerificationKey2018",controller:n,publicKeyBase58:u.dI(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}var h=n(8067),f=n(2716);function p(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=(0,f.GU)(e),i=`${n}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${(0,h.d)(t,"base58btc")}`}(o)}`;return{id:n,verificationMethod:[{id:r,type:"Ed25519VerificationKey2018",controller:n,publicKeyBase58:(0,h.d)(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r],keyAgreement:[{id:i,type:"X25519KeyAgreementKey2019",controller:n,publicKeyBase58:(0,h.d)(o,"base58btc")}]}}var m=n(8576),g=n(8293);function y(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=m.s9.ProjectivePoint.fromHex(function(e){return 64===e.length?(0,u.xW)([new Uint8Array([4]),e]):e}(e));return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-256",x:(0,u.dI)((0,g.IV)(o.x),"base64url"),y:(0,u.dI)((0,g.IV)(o.y),"base64url")}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}var v=n(4443),b=n(4551),w=n(8030);const A=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),E=(0,w.D0)(A),x=E.create(BigInt("-3")),S=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),k=(0,b.s)({a:x,b:S,Fp:E,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},v.qt);function I(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=k.ProjectivePoint.fromHex(function(e){return 96===e.length?(0,u.xW)([new Uint8Array([4]),e]):e}(e));return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-384",x:(0,u.dI)((0,g.IV)(o.x),"base64url"),y:(0,u.dI)((0,g.IV)(o.y),"base64url")}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}const _=BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),R=(0,w.D0)(_),C={a:R.create(BigInt("-3")),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Fp:R,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1)},T=(0,b.s)({a:C.a,b:C.b,Fp:R,n:C.n,Gx:C.Gx,Gy:C.Gy,h:C.h,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},v.Zf);function P(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=T.ProjectivePoint.fromHex(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-521",x:(0,u.dI)((0,g.IV)(o.x),"base64url"),y:(0,u.dI)((0,g.IV)(o.y),"base64url")}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}const D="application/did+json",O={231:r,237:o,4608:i,4609:s,4610:a},M={getResolver:function(){return{key:async(e,t,n,r)=>{const o=r.accept||D,i={didResolutionMetadata:{contentType:o},didDocument:null,didDocumentMetadata:{}};try{const e=c.base58btc.decode(t.id),n=l.decode(e),r=e.slice(l.decode.bytes),s=await O[n].keyToDidDoc(r,t.id);"application/did+ld+json"===o?(s["@context"]="https://w3id.org/did/v1",i.didDocument=s):o===D?i.didDocument=s:(delete i.didResolutionMetadata.contentType,i.didResolutionMetadata.error="representationNotSupported")}catch(e){i.didResolutionMetadata.error="invalidDid",i.didResolutionMetadata.message=e.toString()}return i}}}}},3542:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6864)},917:(e,t,n)=>{"use strict";n.d(t,{_Q:()=>d,HT:()=>u,yE:()=>h});var r=n(9078);const o=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===l;)r++,t++;for(var i=(e.length-t)*c+1>>>0,s=new Uint8Array(i);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=i-1;(0!==u||d<o)&&-1!==h;h--,d++)u+=a*s[h]>>>0,s[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=d,t++}if(" "!==e[t]){for(var f=i-o;f!==i&&0===s[f];)f++;for(var p=new Uint8Array(r+(i-f)),m=r;f!==i;)p[m++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*u+1>>>0,c=new Uint8Array(s);o!==i;){for(var d=t[o],h=0,f=s-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,o++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=l.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class i{name;prefix;baseEncode;constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return l(this,e)}}class a{decoders;constructor(e){this.decoders=e}or(e){return l(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(null!=n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function l(e,t){return new a({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class c{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function u({name:e,prefix:t,encode:n,decode:r}){return new c(e,t,n,r)}function d({name:e,prefix:t,alphabet:n}){const{encode:i,decode:s}=o(n,e);return u({prefix:t,name:e,encode:i,decode:e=>(0,r.coerce)(s(e))})}function h({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return u({prefix:t,name:e,encode:e=>function(e,t,n){const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(0!==s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i}(e,r,n),decode:t=>function(e,t,n,r){const o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,l=0,c=0;for(let t=0;t<i;++t){const i=o[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);l=l<<n|i,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s}(t,r,n,e)})}},3626:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base32:()=>o,base32hex:()=>l,base32hexpad:()=>u,base32hexpadupper:()=>d,base32hexupper:()=>c,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>i,base32z:()=>h});var r=n(917);const o=(0,r.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i=(0,r.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,r.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,r.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),l=(0,r.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c=(0,r.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),u=(0,r.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),d=(0,r.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h=(0,r.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base36:()=>o,base36upper:()=>i});var r=n(917);const o=(0,r._Q)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i=(0,r._Q)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},8782:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base58btc:()=>o,base58flickr:()=>i});var r=n(917);const o=(0,r._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,r._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},3221:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base64:()=>o,base64pad:()=>i,base64url:()=>s,base64urlpad:()=>a});var r=n(917);const o=(0,r.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7629:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>I,br:()=>k.br});var r={};n.r(r),n.d(r,{base10:()=>u});var o={};n.r(o),n.d(o,{base16:()=>d,base16upper:()=>h});var i={};n.r(i),n.d(i,{base2:()=>f});var s={};n.r(s),n.d(s,{base256emoji:()=>y});var a={};n.r(a),n.d(a,{base8:()=>E});var l={};n.r(l),n.d(l,{identity:()=>S});var c=n(917);const u=(0,c._Q)({prefix:"9",name:"base10",alphabet:"0123456789"}),d=(0,c.yE)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),h=(0,c.yE)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),f=(0,c.yE)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),p=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),m=p.reduce(((e,t,n)=>(e[n]=t,e)),[]),g=p.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]),y=(0,c.HT)({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+m[t]),"")},decode:function(e){const t=[];for(const n of e){const e=g[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var v=n(3626),b=n(198),w=n(8782),A=n(3221);const E=(0,c.yE)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var x=n(9078);const S=(0,c.HT)({prefix:"\0",name:"identity",encode:e=>(0,x.toString)(e),decode:e=>(0,x.fromString)(e)});n(515),n(7833);n(8650),n(8653);var k=n(8429);const I={...l,...i,...a,...r,...o,...v,...b,...w,...A,...s}},9078:(e,t,n)=>{"use strict";n.r(t),n.d(t,{coerce:()=>a,empty:()=>r,equals:()=>s,fromHex:()=>i,fromString:()=>c,isBinary:()=>l,toHex:()=>o,toString:()=>u});const r=new Uint8Array(0);function o(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function i(e){const t=e.match(/../g);return null!=t?new Uint8Array(t.map((e=>parseInt(e,16)))):r}function s(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function a(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function l(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}function c(e){return(new TextEncoder).encode(e)}function u(e){return(new TextDecoder).decode(e)}},9061:(e,t,n)=>{"use strict";n.d(t,{TO:()=>d});var r=n(3626),o=n(8782),i=n(9078),s=n(8580),a=n(6086);function l(e,t){const{bytes:n,version:i}=e;return 0===i?function(e,t,n){const{prefix:r}=n;if(r!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const o=n.encode(e).slice(1);return t.set(r,o),o}return i}(n,u(e),t??o.base58btc.encoder):function(e,t,n){const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o}(n,u(e),t??r.base32.encoder)}const c=new WeakMap;function u(e){const t=c.get(e);if(null==t){const t=new Map;return c.set(e,t),t}return t}class d{code;version;multihash;bytes;"/";constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==h)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==f)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return d.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=s.create(e,t);return d.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return d.equals(this,e)}static equals(e,t){const n=t;return null!=n&&e.code===n.code&&e.version===n.version&&s.equals(e.multihash,n.multihash)}toString(e){return l(this,e)}toJSON(){return{"/":l(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof d)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new d(e,n,r,o??p(e,n,r.bytes))}if(!0===t[m]){const{version:e,multihash:n,code:r}=t,o=s.decode(n);return d.create(e,r,o)}return null}static create(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==h)throw new Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);return new d(e,t,n,n.bytes);case 1:{const r=p(e,t,n.bytes);return new d(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return d.create(0,h,e)}static createV1(e,t){return d.create(1,e,t)}static decode(e){const[t,n]=d.decodeFirst(e);if(0!==n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=d.inspectBytes(e),n=t.size-t.multihashSize,r=(0,i.coerce)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),a=new s.Digest(t.multihashCode,t.digestSize,o,r);return[0===t.version?d.createV0(a):d.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=a.D4(e.subarray(t));return t+=r,n};let r=n(),o=h;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),l=n(),c=t+l;return{version:r,codec:o,multihashCode:s,digestSize:l,multihashSize:c-i,size:c}}static parse(e,t){const[n,i]=function(e,t){switch(e[0]){case"Q":{const n=t??o.base58btc;return[o.base58btc.prefix,n.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const n=t??o.base58btc;return[o.base58btc.prefix,n.decode(e)]}case r.base32.prefix:{const n=t??r.base32;return[r.base32.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}(e,t),s=d.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return u(s).set(n,e),s}}const h=112,f=18;function p(e,t,n){const r=a.OY(e),o=r+a.OY(t),i=new Uint8Array(o+n.byteLength);return a.s_(e,i,0),a.s_(t,i,r),i.set(n,o),i}const m=Symbol.for("@ipld/js-cid/CID")},515:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>s,decode:()=>l,encode:()=>a,name:()=>i});const r=new TextEncoder,o=new TextDecoder,i="json",s=512;function a(e){return r.encode(JSON.stringify(e))}function l(e){return JSON.parse(o.decode(e))}},7833:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>i,decode:()=>a,encode:()=>s,name:()=>o});var r=n(9078);const o="raw",i=85;function s(e){return(0,r.coerce)(e)}function a(e){return(0,r.coerce)(e)}},8580:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Digest:()=>l,create:()=>i,decode:()=>s,equals:()=>a});var r=n(9078),o=n(6086);function i(e,t){const n=t.byteLength,r=o.OY(e),i=r+o.OY(n),s=new Uint8Array(i+n);return o.s_(e,s,0),o.s_(n,s,r),s.set(t,i),new l(e,n,t,s)}function s(e){const t=(0,r.coerce)(e),[n,i]=o.D4(t),[s,a]=o.D4(t.subarray(i)),c=t.subarray(i+a);if(c.byteLength!==s)throw new Error("Incorrect length");return new l(n,s,c,t)}function a(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&(0,r.equals)(e.bytes,n.bytes)}}class l{code;size;digest;bytes;constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}},411:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(8580);function o({name:e,code:t,encode:n}){return new i(e,t,n)}class i{name;code;encode;constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.create(this.code,t):t.then((e=>r.create(this.code,e)))}throw Error("Unknown type, must be binary type")}}},8650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>s});var r=n(9078),o=n(8580);const i=r.coerce,s={code:0,name:"identity",encode:i,digest:function(e){return o.create(0,i(e))}}},8653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sha256:()=>i,sha512:()=>s});var r=n(411);function o(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}const i=(0,r.H)({name:"sha2-256",code:18,encode:o("SHA-256")}),s=(0,r.H)({name:"sha2-512",code:19,encode:o("SHA-512")})},8429:(e,t,n)=>{"use strict";n.d(t,{TO:()=>o.TO,br:()=>i,ee:()=>r});var r=n(9078),o=n(9061),i=n(8580);n(411),n(6086)},6086:(e,t,n)=>{"use strict";n.d(t,{D4:()=>v,s_:()=>b,OY:()=>w});var r=128,o=-128,i=Math.pow(2,31),s=128,a=127,l=Math.pow(2,7),c=Math.pow(2,14),u=Math.pow(2,21),d=Math.pow(2,28),h=Math.pow(2,35),f=Math.pow(2,42),p=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63);const y={encode:function e(t,n,s){n=n||[];for(var a=s=s||0;t>=i;)n[s++]=255&t|r,t/=128;for(;t&o;)n[s++]=255&t|r,t>>>=7;return n[s]=0|t,e.bytes=s-a+1,n},decode:function e(t,n){var r,o=0,i=0,l=n=n||0,c=t.length;do{if(l>=c)throw e.bytes=0,new RangeError("Could not decode varint");r=t[l++],o+=i<28?(r&a)<<i:(r&a)*Math.pow(2,i),i+=7}while(r>=s);return e.bytes=l-n,o},encodingLength:function(e){return e<l?1:e<c?2:e<u?3:e<d?4:e<h?5:e<f?6:e<p?7:e<m?8:e<g?9:10}};function v(e,t=0){return[y.decode(e,t),y.decode.bytes]}function b(e,t,n=0){return y.encode(e,t,n),t}function w(e){return y.encodingLength(e)}},7313:(e,t,n)=>{"use strict";function r(){const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}n.d(t,{A:()=>r})},4665:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4486),o=n(2030);class i{#E=[];enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this.#E[this.size-1].priority>=t.priority)return void this.#E.push(n);const r=function(e,t){let n=0,r=e.length;for(;r>0;){const i=Math.trunc(r/2);let s=n+i;o=e[s],t.priority-o.priority<=0?(n=++s,r-=i+1):r=i}var o;return n}(this.#E,n);this.#E.splice(r,0,n)}dequeue(){const e=this.#E.shift();return e?.run}filter(e){return this.#E.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this.#E.length}}class s extends r.b{#x;#S;#k=0;#I;#_;#R=0;#C;#T;#E;#P;#D=0;#O;#M;#N;timeout;constructor(e){if(super(),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:i,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#x=e.carryoverConcurrencyCount,this.#S=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this.#I=e.intervalCap,this.#_=e.interval,this.#E=new e.queueClass,this.#P=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#N=!0===e.throwOnTimeout,this.#M=!1===e.autoStart}get#B(){return this.#S||this.#k<this.#I}get#L(){return this.#D<this.#O}#F(){this.#D--,this.#U(),this.emit("next")}#$(){this.#j(),this.#z(),this.#T=void 0}get#V(){const e=Date.now();if(void 0===this.#C){const t=this.#R-e;if(!(t<0))return void 0===this.#T&&(this.#T=setTimeout((()=>{this.#$()}),t)),!0;this.#k=this.#x?this.#D:0}return!1}#U(){if(0===this.#E.size)return this.#C&&clearInterval(this.#C),this.#C=void 0,this.emit("empty"),0===this.#D&&this.emit("idle"),!1;if(!this.#M){const e=!this.#V;if(this.#B&&this.#L){const t=this.#E.dequeue();return!!t&&(this.emit("active"),t(),e&&this.#z(),!0)}}return!1}#z(){this.#S||void 0!==this.#C||(this.#C=setInterval((()=>{this.#j()}),this.#_),this.#R=Date.now()+this.#_)}#j(){0===this.#k&&0===this.#D&&this.#C&&(clearInterval(this.#C),this.#C=void 0),this.#k=this.#x?this.#D:0,this.#H()}#H(){for(;this.#U(););}get concurrency(){return this.#O}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#O=e,this.#H()}async#W(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(e.reason)}),{once:!0})}))}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:this.#N,...t},new Promise(((n,r)=>{this.#E.enqueue((async()=>{this.#D++,this.#k++;try{t.signal?.throwIfAborted();let r=e({signal:t.signal});t.timeout&&(r=(0,o.Ay)(Promise.resolve(r),{milliseconds:t.timeout})),t.signal&&(r=Promise.race([r,this.#W(t.signal)]));const i=await r;n(i),this.emit("completed",i)}catch(e){if(e instanceof o.MU&&!t.throwOnTimeout)return void n();r(e),this.emit("error",e)}finally{this.#F()}}),t),this.emit("add"),this.#U()}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this.#M?(this.#M=!1,this.#H(),this):this}pause(){this.#M=!0}clear(){this.#E=new this.#P}async onEmpty(){0!==this.#E.size&&await this.#q("empty")}async onSizeLessThan(e){this.#E.size<e||await this.#q("next",(()=>this.#E.size<e))}async onIdle(){0===this.#D&&0===this.#E.size||await this.#q("idle")}async#q(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))}get size(){return this.#E.size}sizeBy(e){return this.#E.filter(e).length}get pending(){return this.#D}get isPaused(){return this.#M}}},2030:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,MU:()=>r});class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}class o extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const i=e=>void 0===globalThis.DOMException?new o(e):new DOMException(e),s=e=>{const t=void 0===e.reason?i("This operation was aborted."):e.reason;return t instanceof Error?t:i(t)};function a(e,t){const{milliseconds:n,fallback:o,message:i,customTimers:a={setTimeout,clearTimeout}}=t;let l;const c=new Promise(((c,u)=>{if("number"!=typeof n||1!==Math.sign(n))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(t.signal){const{signal:e}=t;e.aborted&&u(s(e)),e.addEventListener("abort",(()=>{u(s(e))}))}if(n===Number.POSITIVE_INFINITY)return void e.then(c,u);const d=new r;l=a.setTimeout.call(void 0,(()=>{if(o)try{c(o())}catch(e){u(e)}else"function"==typeof e.cancel&&e.cancel(),!1===i?c():i instanceof Error?u(i):(d.message=i??`Promise timed out after ${n} milliseconds`,u(d))}),n),(async()=>{try{c(await e)}catch(e){u(e)}})()})).finally((()=>{c.clear()}));return c.clear=()=>{a.clearTimeout.call(void 0,l),l=void 0},c}},5433:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});class r extends Event{type;detail;constructor(e,t){super(e),this.type=e,this.detail=t}}},289:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>$,Y8:()=>b,mH:()=>N,eG:()=>F,iU:()=>U});var r=n(8231);const o=new Float32Array([-0]),i=new Uint8Array(o.buffer);function s(e,t,n){o[0]=e,t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3]}const a=new Float64Array([-0]),l=new Uint8Array(a.buffer);function c(e,t,n){a[0]=e,t[n]=l[0],t[n+1]=l[1],t[n+2]=l[2],t[n+3]=l[3],t[n+4]=l[4],t[n+5]=l[5],t[n+6]=l[6],t[n+7]=l[7]}const u=BigInt(Number.MAX_SAFE_INTEGER),d=BigInt(Number.MIN_SAFE_INTEGER);class h{lo;hi;constructor(e,t){this.lo=0|e,this.hi=0|t}toNumber(e=!1){if(!e&&this.hi>>>31>0){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return 0===e&&(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31!=0){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return 0===e&&(t=t+1>>>0),-(BigInt(e)+(BigInt(t)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){const e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){const e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){const e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}static fromBigInt(e){if(0n===e)return f;if(e<u&&e>d)return this.fromNumber(Number(e));const t=e<0n;t&&(e=-e);let n=e>>32n,r=e-(n<<32n);return t&&(n=0n|~n,r=0n|~r,++r>p&&(r=0n,++n>p&&(n=0n))),new h(Number(r),Number(n))}static fromNumber(e){if(0===e)return f;const t=e<0;t&&(e=-e);let n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new h(n,r)}static from(e){return"number"==typeof e?h.fromNumber(e):"bigint"==typeof e?h.fromBigInt(e):"string"==typeof e?h.fromBigInt(BigInt(e)):null!=e.low||null!=e.high?new h(e.low>>>0,e.high>>>0):f}}const f=new h(0,0);f.toBigInt=function(){return 0n},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};const p=4294967296n;function m(e,t,n){const r=n;let o,i;for(let r=0;r<e.length;++r)o=e.charCodeAt(r),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(i=e.charCodeAt(r+1)))?(o=65536+((1023&o)<<10)+(1023&i),++r,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128);return n-r}function g(e,t){return RangeError(`index out of range: ${e.pos} + ${t??1} > ${e.len}`)}function y(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}class v{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return e}int32(){return 0|this.uint32()}sint32(){const e=this.uint32();return e>>>1^-(1&e)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw g(this,4);return y(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw g(this,4);return 0|y(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw g(this,4);const e=(t=this.buf,n=this.pos,i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],i[3]=t[n+3],o[0]);var t,n;return this.pos+=4,e}double(){if(this.pos+8>this.len)throw g(this,4);const e=(t=this.buf,n=this.pos,l[0]=t[n],l[1]=t[n+1],l[2]=t[n+2],l[3]=t[n+3],l[4]=t[n+4],l[5]=t[n+5],l[6]=t[n+6],l[7]=t[n+7],a[0]);var t,n;return this.pos+=8,e}bytes(){const e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw g(this,e);return this.pos+=e,t===n?new Uint8Array(0):this.buf.subarray(t,n)}string(){const e=this.bytes();return function(e,t,n){if(n-t<1)return"";let r;const o=[];let i,s=0;for(;t<n;)i=e[t++],i<128?o[s++]=i:i>191&&i<224?o[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r??(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return null!=r?(s>0&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))}(e,0,e.length)}skip(e){if("number"==typeof e){if(this.pos+e>this.len)throw g(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw g(this)}while(128&this.buf[this.pos++]);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){const e=new h(0,0);let t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw g(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw g(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw g(this,8);const e=y(this.buf,this.pos+=4),t=y(this.buf,this.pos+=4);return new h(e,t)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const e=(0,r.Sb)(this.buf,this.pos);return this.pos+=(0,r.OY)(e),e}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function b(e,t,n){const r=function(e){return new v(e instanceof Uint8Array?e:e.subarray())}(e);return t.decode(r,void 0,n)}var w=n(167),A=n(6676);class E{fn;len;next;val;constructor(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}}function x(){}class S{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}}const k=function(){const e=8192;let t,n=e;return function(r){if(r<1||r>4096)return(0,w.K)(r);n+r>e&&(t=(0,w.K)(e),n=0);const o=t.subarray(n,n+=r);return 7&n&&(n=1+(7|n)),o}}();class I{len;head;tail;states;constructor(){this.len=0,this.head=new E(x,0,0),this.tail=this.head,this.states=null}_push(e,t,n){return this.tail=this.tail.next=new E(e,t,n),this.len+=t,this}uint32(e){return this.len+=(this.tail=this.tail.next=new C((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(T,10,h.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){const t=h.fromBigInt(e);return this._push(T,t.length(),t)}uint64Number(e){return this._push(r.mD,(0,r.OY)(e),e)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){const t=h.fromBigInt(e).zzEncode();return this._push(T,t.length(),t)}sint64Number(e){const t=h.fromNumber(e).zzEncode();return this._push(T,t.length(),t)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(_,1,e?1:0)}fixed32(e){return this._push(P,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){const t=h.fromBigInt(e);return this._push(P,4,t.lo)._push(P,4,t.hi)}fixed64Number(e){const t=h.fromNumber(e);return this._push(P,4,t.lo)._push(P,4,t.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(s,4,e)}double(e){return this._push(c,8,e)}bytes(e){const t=e.length>>>0;return 0===t?this._push(_,1,0):this.uint32(t)._push(D,t,e)}string(e){const t=function(e){let t=0,n=0;for(let r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}(e);return 0!==t?this.uint32(t)._push(m,t,e):this._push(_,1,0)}fork(){return this.states=new S(this),this.head=this.tail=new E(x,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new E(x,0,0),this.len=0),this}ldelim(){const e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),0!==n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this}finish(){let e=this.head.next;const t=(n=this.len,null!=globalThis.Buffer?(0,w.K)(n):k(n));var n;let r=0;for(;null!=e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t}}function _(e,t,n){t[n]=255&e}function R(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e}class C extends E{next;constructor(e,t){super(R,e,t),this.next=void 0}}function T(e,t,n){for(;0!==e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function P(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function D(e,t,n){t.set(e,n)}function O(e,t,n){t.set(e,n)}function M(e,t,n){e.length<40?m(e,t,n):null!=t.utf8Write?t.utf8Write(e,n):t.set((0,A.s)(e),n)}function N(e,t){const n=new I;return t.encode(e,n,{lengthDelimited:!1}),n.finish()}var B;function L(e,t,n,r){return{name:e,type:t,encode:n,decode:r}}function F(e){function t(t){if(null==e[t.toString()])throw new Error("Invalid enum value");return e[t]}return L("enum",B.VARINT,(function(e,n){const r=t(e);n.int32(r)}),(function(e){return t(e.int32())}))}function U(e,t){return L("message",B.LENGTH_DELIMITED,e,t)}null!=globalThis.Buffer&&(I.prototype.bytes=function(e){const t=e.length>>>0;return this.uint32(t),t>0&&this._push(O,t,e),this},I.prototype.string=function(e){const t=globalThis.Buffer.byteLength(e);return this.uint32(t),t>0&&this._push(M,t,e),this}),function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"}(B||(B={}));class $ extends Error{code;constructor(e,t,n){super(e,n),this.code=t}}},9571:(e,t,n)=>{"use strict";n.d(t,{N9:()=>L,oR:()=>C});var r=n(6540),o=n(4164);const i=e=>"number"==typeof e&&!isNaN(e),s=e=>"string"==typeof e,a=e=>"function"==typeof e,l=e=>s(e)||a(e)?e:null,c=e=>(0,r.isValidElement)(e)||s(e)||a(e)||i(e);function u(e){let{enter:t,exit:n,appendPosition:o=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e;const p=o?`${t}--${l}`:t,m=o?`${n}--${l}`:n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,a)}}function d(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const h=new Map;let f=[];const p=new Set,m=e=>p.forEach((t=>t(e))),g=()=>h.size>0;function y(e,t){var n;if(t)return!(null==(n=h.get(t))||!n.isToastActive(e));let r=!1;return h.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function v(e,t){c(e)&&(g()||f.push({content:e,options:t}),h.forEach((n=>{n.buildToast(e,t)})))}function b(e,t){h.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function w(e){const{subscribe:t,getSnapshot:n,setProps:o}=(0,r.useRef)(function(e){const t=e.containerId||1;return{subscribe(n){const o=function(e,t,n){let o=1,u=0,h=[],f=[],p=[],m=t;const g=new Map,y=new Set,v=()=>{p=Array.from(g.values()),y.forEach((e=>e()))},b=e=>{f=null==e?[]:f.filter((t=>t!==e)),v()},w=e=>{const{toastId:t,onOpen:o,updateId:i,children:s}=e.props,l=null==i;e.staleId&&g.delete(e.staleId),g.set(t,e),f=[...f,e.props.toastId].filter((t=>t!==e.staleId)),v(),n(d(e,l?"added":"updated")),l&&a(o)&&o((0,r.isValidElement)(s)&&s.props)};return{id:e,props:m,observe:e=>(y.add(e),()=>y.delete(e)),toggle:(e,t)=>{g.forEach((n=>{null!=t&&t!==n.props.toastId||a(n.toggle)&&n.toggle(e)}))},removeToast:b,toasts:g,clearQueue:()=>{u-=h.length,h=[]},buildToast:(t,f)=>{if((t=>{let{containerId:n,toastId:r,updateId:o}=t;const i=n?n!==e:1!==e,s=g.has(r)&&null==o;return i||s})(f))return;const{toastId:p,updateId:y,data:A,staleId:E,delay:x}=f,S=()=>{b(p)},k=null==y;k&&u++;const I={...m,style:m.toastStyle,key:o++,...Object.fromEntries(Object.entries(f).filter((e=>{let[t,n]=e;return null!=n}))),toastId:p,updateId:y,data:A,closeToast:S,isIn:!1,className:l(f.className||m.toastClassName),bodyClassName:l(f.bodyClassName||m.bodyClassName),progressClassName:l(f.progressClassName||m.progressClassName),autoClose:!f.isLoading&&(_=f.autoClose,R=m.autoClose,!1===_||i(_)&&_>0?_:R),deleteToast(){const e=g.get(p),{onClose:t,children:o}=e.props;a(t)&&t((0,r.isValidElement)(o)&&o.props),n(d(e,"removed")),g.delete(p),u--,u<0&&(u=0),h.length>0?w(h.shift()):v()}};var _,R;I.closeButton=m.closeButton,!1===f.closeButton||c(f.closeButton)?I.closeButton=f.closeButton:!0===f.closeButton&&(I.closeButton=!c(m.closeButton)||m.closeButton);let C=t;(0,r.isValidElement)(t)&&!s(t.type)?C=(0,r.cloneElement)(t,{closeToast:S,toastProps:I,data:A}):a(t)&&(C=t({closeToast:S,toastProps:I,data:A}));const T={content:C,props:I,staleId:E};m.limit&&m.limit>0&&u>m.limit&&k?h.push(T):i(x)?setTimeout((()=>{w(T)}),x):w(T)},setProps(e){m=e},setToggle:(e,t)=>{g.get(e).toggle=t},isToastActive:e=>f.some((t=>t===e)),getSnapshot:()=>m.newestOnTop?p.reverse():p}}(t,e,m);h.set(t,o);const u=o.observe(n);return f.forEach((e=>v(e.content,e.options))),f=[],()=>{u(),h.delete(t)}},setProps(e){var n;null==(n=h.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=h.get(t))?void 0:e.getSnapshot()}}}(e)).current;o(e);const u=(0,r.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!u)return[];const t=new Map;return u.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:y,count:null==u?void 0:u.length}}function A(e){const[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),a=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;var p,m;function g(){n(!0)}function y(){n(!1)}function v(n){const r=s.current;a.canDrag&&r&&(a.didMove=!0,t&&y(),a.delta="x"===e.draggableDirection?n.clientX-a.start:n.clientY-a.start,a.start!==n.clientX&&(a.canCloseOnClick=!1),r.style.transform=`translate3d(${"x"===e.draggableDirection?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",b);const t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(m=h.get((p={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))||m.setToggle(p.id,p.fn),(0,r.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",y)}}),[e.pauseOnFocusLoss]);const w={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",b);const n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:o,right:i}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?y():g()}};return l&&c&&(w.onMouseEnter=y,e.stacked||(w.onMouseLeave=g)),f&&(w.onClick=e=>{d&&d(e),a.canCloseOnClick&&u()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:o,toastRef:s,eventHandlers:w}}function E(e){let{delay:t,isRunning:n,closeToast:i,type:s="default",hide:l,className:c,style:u,controlledProgress:d,progress:h,rtl:f,isIn:p,theme:m}=e;const g=l||d&&0===h,y={...u,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};d&&(y.transform=`scaleX(${h})`);const v=(0,o.A)("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":f}),b=a(c)?c({rtl:f,type:s,defaultClassName:v}):(0,o.A)(v,c),w={[d&&h>=1?"onTransitionEnd":"onAnimationEnd"]:d&&h<1?null:()=>{p&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},r.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${s}`}),r.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:b,style:y,...w}))}let x=1;const S=()=>""+x++;function k(e){return e&&(s(e.toastId)||i(e.toastId))?e.toastId:S()}function I(e,t){return v(e,t),t.toastId}function _(e,t){return{...t,type:t&&t.type||e,toastId:k(t)}}function R(e){return(t,n)=>I(t,_(e,n))}function C(e,t){return I(e,_("default",t))}C.loading=(e,t)=>I(e,_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),C.promise=function(e,t,n){let r,{pending:o,error:i,success:l}=t;o&&(r=s(o)?C.loading(o,n):C.loading(o.render,{...n,...o}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,o)=>{if(null==t)return void C.dismiss(r);const i={type:e,...c,...n,data:o},a=s(t)?{render:t}:t;return r?C.update(r,{...i,...a}):C(a.render,{...i,...a}),o},d=a(e)?e():e;return d.then((e=>u("success",l,e))).catch((e=>u("error",i,e))),d},C.success=R("success"),C.info=R("info"),C.error=R("error"),C.warning=R("warning"),C.warn=C.warning,C.dark=(e,t)=>I(e,_("default",{theme:"dark",...t})),C.dismiss=function(e){!function(e){var t;if(g()){if(null==e||s(t=e)||i(t))h.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=h.get(e.containerId);t?t.removeToast(e.id):h.forEach((t=>{t.removeToast(e.id)}))}}else f=f.filter((t=>null!=e&&t.options.toastId!==e))}(e)},C.clearWaitingQueue=function(e){void 0===e&&(e={}),h.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},C.isActive=y,C.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=h.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:o}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:S()};i.toastId!==e&&(i.staleId=e);const s=i.render||o;delete i.render,I(s,i)}},C.done=e=>{C.update(e,{progress:1})},C.onChange=function(e){return p.add(e),()=>{p.delete(e)}},C.play=e=>b(!0,e),C.pause=e=>b(!1,e);const T="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,P=e=>{let{theme:t,type:n,isLoading:o,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...i})},D={info:function(e){return r.createElement(P,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(P,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(P,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(P,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},O=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:l}=A(e),{closeButton:c,children:u,autoClose:d,onClick:h,type:f,hideProgressBar:p,closeToast:m,transition:g,position:y,className:v,style:b,bodyClassName:w,bodyStyle:x,progressClassName:S,progressStyle:k,updateId:I,role:_,progress:R,rtl:C,toastId:T,deleteToast:P,isIn:O,isLoading:M,closeOnClick:N,theme:B}=e,L=(0,o.A)("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":N}),F=a(v)?v({rtl:C,position:y,type:f,defaultClassName:L}):(0,o.A)(L,v),U=function(e){let{theme:t,type:n,isLoading:o,icon:i}=e,s=null;const l={theme:t,type:n};return!1===i||(a(i)?s=i({...l,isLoading:o}):(0,r.isValidElement)(i)?s=(0,r.cloneElement)(i,l):o?s=D.spinner():(e=>e in D)(n)&&(s=D[n](l))),s}(e),$=!!R||!d,j={closeToast:m,type:f,theme:B};let z=null;return!1===c||(z=a(c)?c(j):(0,r.isValidElement)(c)?(0,r.cloneElement)(c,j):function(e){let{closeToast:t,theme:n,ariaLabel:o="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":o},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(j)),r.createElement(g,{isIn:O,done:P,position:y,preventExitTransition:n,nodeRef:i,playToast:l},r.createElement("div",{id:T,onClick:h,"data-in":O,className:F,...s,style:b,ref:i},r.createElement("div",{...O&&{role:_},className:a(w)?w({type:f}):(0,o.A)("Toastify__toast-body",w),style:x},null!=U&&r.createElement("div",{className:(0,o.A)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},U),r.createElement("div",null,u)),z,r.createElement(E,{...I&&!$?{key:`pb-${I}`}:{},rtl:C,theme:B,delay:d,isRunning:t,isIn:O,closeToast:m,hide:p,type:f,style:k,className:S,controlledProgress:$,progress:R||0})))},M=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},N=u(M("bounce",!0)),B=(u(M("slide",!0)),u(M("zoom")),u(M("flip")),{position:"top-right",transition:N,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function L(e){let t={...B,...e};const n=e.stacked,[i,s]=(0,r.useState)(!0),c=(0,r.useRef)(null),{getToastToRender:u,isToastActive:d,count:h}=w(t),{className:f,style:p,rtl:m,containerId:g}=t;function y(e){const t=(0,o.A)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":m});return a(f)?f({position:e,rtl:m,defaultClassName:t}):(0,o.A)(t,l(f))}function v(){n&&(s(!0),C.play())}return T((()=>{if(n){var e;const n=c.current.querySelectorAll('[data-in="true"]'),r=12,o=null==(e=t.position)?void 0:e.includes("top");let s=0,a=0;Array.from(n).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=o?"top":"bot");const l=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y",`${o?l:-1*l}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(i?a:0))),s+=n.offsetHeight,a+=.025}))}}),[i,h,n]),r.createElement("div",{ref:c,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),C.pause())},onMouseLeave:v},u(((e,t)=>{const o=t.length?{...p}:{...p,pointerEvents:"none"};return r.createElement("div",{className:y(e),style:o,key:`container-${e}`},t.map((e=>{let{content:t,props:o}=e;return r.createElement(O,{...o,stacked:n,collapseAll:v,isIn:d(o.toastId,o.containerId),style:o.style,key:`toast-${o.key}`},t)})))})))}},5978:(e,t,n)=>{"use strict";n.d(t,{WK:()=>o,ZC:()=>i,rg:()=>r});const r=Symbol("abortable"),o=Symbol("aborted");function i(e,t){if(t.aborted)return Promise.reject(o);let n;const r=new Promise(((e,t)=>{n=t}));return t.addEventListener("abort",(()=>{n(o)})),Promise.race([e,r])}},7237:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="utils_abort_request"},1794:(e,t,n)=>{"use strict";var r;n.d(t,{Gb:()=>s,bo:()=>r,u1:()=>i}),function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(r||(r={}));const o={[r.PARSE_ERROR]:"Parse error",[r.INVALID_REQUEST]:"Invalid request",[r.METHOD_NOT_FOUND]:"Method not found",[r.INVALID_PARAMS]:"Invalid params",[r.INTERNAL_ERROR]:"Internal error"};function i(e){return o[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class s extends Error{static fromObject(e){return new s(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,s.prototype),this.code=e,this.data=n,this.message=t??i(e)}}function a(e){const t=o[e];return function(n){return new s(e,t,n)}}a(r.PARSE_ERROR),a(r.INVALID_REQUEST),a(r.METHOD_NOT_FOUND),a(r.INVALID_PARAMS),a(r.INTERNAL_ERROR)},8231:(e,t,n)=>{"use strict";n.d(t,{D4:()=>y,OY:()=>f,Sb:()=>m,lF:()=>g,mD:()=>p});var r=n(167);const o=Math.pow(2,7),i=Math.pow(2,14),s=Math.pow(2,21),a=Math.pow(2,28),l=Math.pow(2,35),c=Math.pow(2,42),u=Math.pow(2,49),d=128,h=127;function f(e){if(e<o)return 1;if(e<i)return 2;if(e<s)return 3;if(e<a)return 4;if(e<l)return 5;if(e<c)return 6;if(e<u)return 7;if(null!=Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function p(e,t,n=0){switch(f(e)){case 8:t[n++]=255&e|d,e/=128;case 7:t[n++]=255&e|d,e/=128;case 6:t[n++]=255&e|d,e/=128;case 5:t[n++]=255&e|d,e/=128;case 4:t[n++]=255&e|d,e>>>=7;case 3:t[n++]=255&e|d,e>>>=7;case 2:t[n++]=255&e|d,e>>>=7;case 1:t[n++]=255&e,e>>>=7;break;default:throw new Error("unreachable")}return t}function m(e,t){let n=e[t],r=0;if(r+=n&h,n<d)return r;if(n=e[t+1],r+=(n&h)<<7,n<d)return r;if(n=e[t+2],r+=(n&h)<<14,n<d)return r;if(n=e[t+3],r+=(n&h)<<21,n<d)return r;if(n=e[t+4],r+=(n&h)*a,n<d)return r;if(n=e[t+5],r+=(n&h)*l,n<d)return r;if(n=e[t+6],r+=(n&h)*c,n<d)return r;if(n=e[t+7],r+=(n&h)*u,n<d)return r;throw new RangeError("Could not decode varint")}function g(e,t,n=0){return null==t&&(t=(0,r.K)(f(e))),t instanceof Uint8Array?p(e,t,n):function(e,t,n=0){switch(f(e)){case 8:t.set(n++,255&e|d),e/=128;case 7:t.set(n++,255&e|d),e/=128;case 6:t.set(n++,255&e|d),e/=128;case 5:t.set(n++,255&e|d),e/=128;case 4:t.set(n++,255&e|d),e>>>=7;case 3:t.set(n++,255&e|d),e>>>=7;case 2:t.set(n++,255&e|d),e>>>=7;case 1:t.set(n++,255&e),e>>>=7;break;default:throw new Error("unreachable")}return t}(e,t,n)}function y(e,t=0){return e instanceof Uint8Array?m(e,t):function(e,t){let n=e.get(t),r=0;if(r+=n&h,n<d)return r;if(n=e.get(t+1),r+=(n&h)<<7,n<d)return r;if(n=e.get(t+2),r+=(n&h)<<14,n<d)return r;if(n=e.get(t+3),r+=(n&h)<<21,n<d)return r;if(n=e.get(t+4),r+=(n&h)*a,n<d)return r;if(n=e.get(t+5),r+=(n&h)*l,n<d)return r;if(n=e.get(t+6),r+=(n&h)*c,n<d)return r;if(n=e.get(t+7),r+=(n&h)*u,n<d)return r;throw new RangeError("Could not decode varint")}(e,t)}},859:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var r=n(167),o=n(4008),i=n(4145);const s=Symbol.for("@achingbrain/uint8arraylist");function a(e,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const r of e){const e=n+r.byteLength;if(t<e)return{buf:r,index:t-n};n=e}throw new RangeError("index is out of bounds")}function l(e){return Boolean(e?.[s])}class c{bufs;length;[s]=!0;constructor(...e){this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let t=0;for(const n of e)if(n instanceof Uint8Array)t+=n.byteLength,this.bufs.push(n);else{if(!l(n))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");t+=n.byteLength,this.bufs.push(...n.bufs)}this.length+=t}prepend(...e){this.prependAll(e)}prependAll(e){let t=0;for(const n of e.reverse())if(n instanceof Uint8Array)t+=n.byteLength,this.bufs.unshift(n);else{if(!l(n))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");t+=n.byteLength,this.bufs.unshift(...n.bufs)}this.length+=t}get(e){const t=a(this.bufs,e);return t.buf[t.index]}set(e,t){const n=a(this.bufs,e);n.buf[n.index]=t}write(e,t=0){if(e instanceof Uint8Array)for(let n=0;n<e.length;n++)this.set(t+n,e[n]);else{if(!l(e))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let n=0;n<e.length;n++)this.set(t+n,e.get(n))}}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(e>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(e,t){const{bufs:n,length:r}=this._subList(e,t);return(0,o.x)(n,r)}subarray(e,t){const{bufs:n,length:r}=this._subList(e,t);return 1===n.length?n[0]:(0,o.x)(n,r)}sublist(e,t){const{bufs:n,length:r}=this._subList(e,t),o=new c;return o.length=r,o.bufs=[...n],o}_subList(e,t){if(e=e??0,t=t??this.length,e<0&&(e=this.length+e),t<0&&(t=this.length+t),e<0||t>this.length)throw new RangeError("index is out of bounds");if(e===t)return{bufs:[],length:0};if(0===e&&t===this.length)return{bufs:this.bufs,length:this.length};const n=[];let r=0;for(let o=0;o<this.bufs.length;o++){const i=this.bufs[o],s=r,a=s+i.byteLength;if(r=a,e>=a)continue;const l=e>=s&&e<a,c=t>s&&t<=a;if(l&&c){if(e===s&&t===a){n.push(i);break}const r=e-s;n.push(i.subarray(r,r+(t-e)));break}if(l){if(0===e){n.push(i);continue}n.push(i.subarray(e-s))}else{if(c){if(t===a){n.push(i);break}n.push(i.subarray(0,t-s));break}n.push(i)}}return{bufs:n,length:t-e}}indexOf(e,t=0){if(!(l(e)||e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const n=e instanceof Uint8Array?e:e.subarray();if(t=Number(t??0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const r=n.byteLength;if(0===r)throw new TypeError("search must be at least 1 byte long");const o=new Int32Array(256);for(let e=0;e<256;e++)o[e]=-1;for(let e=0;e<r;e++)o[n[e]]=e;const i=o,s=this.byteLength-n.byteLength,a=n.byteLength-1;let c;for(let e=t;e<=s;e+=c){c=0;for(let t=a;t>=0;t--){const r=this.get(e+t);if(n[t]!==r){c=Math.max(1,t-i[r]);break}}if(0===c)return e}return-1}getInt8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getInt8(0)}setInt8(e,t){const n=(0,r.K)(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,t),this.write(n,e)}getInt16(e,t){const n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,t)}setInt16(e,t,n){const o=(0,r.c)(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,t,n),this.write(o,e)}getInt32(e,t){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,t)}setInt32(e,t,n){const o=(0,r.c)(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,t,n),this.write(o,e)}getBigInt64(e,t){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,t)}setBigInt64(e,t,n){const o=(0,r.c)(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,t,n),this.write(o,e)}getUint8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0)}setUint8(e,t){const n=(0,r.K)(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,t),this.write(n,e)}getUint16(e,t){const n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,t)}setUint16(e,t,n){const o=(0,r.c)(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,t,n),this.write(o,e)}getUint32(e,t){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,t)}setUint32(e,t,n){const o=(0,r.c)(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,t,n),this.write(o,e)}getBigUint64(e,t){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,t)}setBigUint64(e,t,n){const o=(0,r.c)(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,t,n),this.write(o,e)}getFloat32(e,t){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,t)}setFloat32(e,t,n){const o=(0,r.c)(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,t,n),this.write(o,e)}getFloat64(e,t){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,t)}setFloat64(e,t,n){const o=(0,r.c)(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,t,n),this.write(o,e)}equals(e){if(null==e)return!1;if(!(e instanceof c))return!1;if(e.bufs.length!==this.bufs.length)return!1;for(let t=0;t<this.bufs.length;t++)if(!(0,i.a)(this.bufs[t],e.bufs[t]))return!1;return!0}static fromUint8Arrays(e,t){const n=new c;return n.bufs=e,null==t&&(t=e.reduce(((e,t)=>e+t.byteLength),0)),n.length=t,n}}},167:(e,t,n)=>{"use strict";function r(e=0){return new Uint8Array(e)}function o(e=0){return new Uint8Array(e)}n.d(t,{K:()=>o,c:()=>r})},4008:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(167),o=n(7057);function i(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.K)(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return(0,o.o)(n)}},4145:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}n.d(t,{a:()=>r})},6676:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(997);function o(e,t="utf8"){const n=r.A[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},5986:(e,t,n)=>{"use strict";n.d(t,{aI:()=>r.a,dI:()=>s.d,sH:()=>i.s,xW:()=>o.x});var r=n(4145),o=n(4008),i=n(6676),s=n(8067)},8067:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(997);function o(e,t="utf8"){const n=r.A[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},7057:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{o:()=>r})},997:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7629),o=n(167);function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const s=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=i("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,o.K)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),l={utf8:s,"utf-8":s,hex:r.Fo.base16,latin1:a,ascii:a,binary:a,...r.Fo}},6691:(e,t,n)=>{"use strict";n.d(t,{Ay$:()=>ev});var r={};n.r(r),n.d(r,{abiSchemaToJsonSchema:()=>fo,codePointToInt:()=>yo,ensureIfUint8Array:()=>ko,ethAbiToJsonSchema:()=>po,fetchArrayElement:()=>mo,hexToNumber:()=>vo,hexToUint8Array:()=>So,numberToHex:()=>bo,padLeft:()=>wo,parseBaseType:()=>uo,transformJsonDataToAbiFormat:()=>go,uint8ArrayToHexString:()=>Ao});var o={};n.r(o),n.d(o,{secp256k1:()=>Ns.bI});var i={};n.r(i),n.d(i,{isBatchRequest:()=>wg,isBatchResponse:()=>mg,isResponseRpcError:()=>lg,isResponseWithError:()=>ug,isResponseWithNotification:()=>dg,isResponseWithResult:()=>cg,isSubscriptionResult:()=>hg,isValidResponse:()=>pg,setRequestIdStart:()=>yg,toBatchPayload:()=>bg,toPayload:()=>vg,validateResponse:()=>fg});var s,a,l,c,u={};n.r(u),n.d(u,{ChunkResponseParser:()=>Sg,Eip1193Provider:()=>Ig,EventEmitter:()=>dm,SocketProvider:()=>Cg,Web3DeferredPromise:()=>xg,asciiToHex:()=>em,bytesToHex:()=>$p,bytesToUint8Array:()=>Fp,checkAddressCheckSum:()=>pm,compareBlockNumbers:()=>Em,convert:()=>Fm,convertScalarValue:()=>Bm,encodePacked:()=>Gm,ethUnitMap:()=>Bp,format:()=>Um,fromAscii:()=>tm,fromDecimal:()=>Wp,fromTwosComplement:()=>Dm,fromUtf8:()=>Gp,fromWei:()=>am,getStorageSlotNumForLongString:()=>Zm,hexToAscii:()=>nm,hexToBytes:()=>jp,hexToNumber:()=>zp,hexToNumberString:()=>qp,hexToString:()=>Xp,hexToUtf8:()=>Qp,isAddress:()=>mm,isBatchRequest:()=>wg,isBatchResponse:()=>mg,isBloom:()=>gm,isContractAddressInBloom:()=>bm,isContractInitOptions:()=>xm,isDataFormat:()=>Mm,isHex:()=>fm,isHexStrict:()=>hm,isInBloom:()=>ym,isNullish:()=>Sm,isPromise:()=>tg,isResponseRpcError:()=>lg,isResponseWithError:()=>ug,isResponseWithNotification:()=>dg,isResponseWithResult:()=>cg,isSubscriptionResult:()=>hg,isTopic:()=>wm,isTopicInBloom:()=>Am,isUint8Array:()=>Op,isUserEthereumAddressInBloom:()=>vm,isValidResponse:()=>pg,jsonRpc:()=>i,keccak256:()=>jm,keccak256Wrapper:()=>jm,leftPad:()=>Tm,mergeDeep:()=>Im,numberToHex:()=>Hp,padLeft:()=>_m,padRight:()=>Rm,pollTillDefined:()=>og,pollTillDefinedAndReturnIntervalId:()=>rg,processSolidityEncodePackedArgs:()=>Km,randomBytes:()=>Jm,randomHex:()=>Xm,rejectIfConditionAtInterval:()=>sg,rejectIfTimeout:()=>ig,rightPad:()=>Cm,setRequestIdStart:()=>yg,sha3:()=>zm,sha3Raw:()=>Vm,soliditySha3:()=>Ym,soliditySha3Raw:()=>Qm,stringToHex:()=>Yp,toAscii:()=>rm,toBatchPayload:()=>bg,toBigInt:()=>sm,toBool:()=>um,toChecksumAddress:()=>cm,toDecimal:()=>Vp,toHex:()=>om,toNumber:()=>im,toPayload:()=>vg,toTwosComplement:()=>Pm,toUtf8:()=>Zp,toWei:()=>lm,uint8ArrayConcat:()=>Mp,uint8ArrayEquals:()=>Np,utf8ToBytes:()=>Jp,utf8ToHex:()=>Kp,uuidV4:()=>ag,validateResponse:()=>fg,waitWithTimeout:()=>ng}),(c=s||(s={})).NUMBER="NUMBER_NUMBER",c.HEX="NUMBER_HEX",c.STR="NUMBER_STR",c.BIGINT="NUMBER_BIGINT",(l=a||(a={})).HEX="BYTES_HEX",l.UINT8ARRAY="BYTES_UINT8ARRAY";const d={number:s.BIGINT,bytes:a.HEX},h={number:s.HEX,bytes:a.HEX};var f,p,m;(m=f||(f={})).EARLIEST="earliest",m.LATEST="latest",m.PENDING="pending",m.SAFE="safe",m.FINALIZED="finalized",function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"}(p||(p={}));const g=Object.getPrototypeOf(Uint8Array);var y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const v=Symbol.for("web3/base-provider");class b{static isWeb3Provider(e){return e instanceof b||Boolean(e&&e[v])}get[v](){return!0}send(e,t){this.request(e).then((e=>{t(null,e)})).catch((e=>{t(e)}))}sendAsync(e){return y(this,void 0,void 0,(function*(){return this.request(e)}))}asEIP1193Provider(){const e=Object.create(this),t=e.request;return e.request=function(e){return y(this,void 0,void 0,(function*(){return(yield t(e)).result}))},e.asEIP1193Provider=void 0,e}}class w extends Array{constructor(e){super(),this._accountProvider=e}}const A=4001,E=4100,x=4200,S=4900,k=4901,I=-32700,_=-32600,R=-32601,C=-32602,T=-32603,P=-32e3,D=-32001,O=-32002,M=-32003,N=-32004,B=-32005,L=-32006;class F extends Error{constructor(e,t){super(e),Array.isArray(t)?this.cause=new U(t):this.cause=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}get innerError(){return this.cause instanceof U?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new U(e):this.cause=e}static convertToString(e,t=!1){if(null==e)return"undefined";const n=JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class U extends F{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=208,this.errors=e}}class $ extends F{constructor(e,t){super(`Invalid value given "${F.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class j extends F{constructor(){super("Private key must be 32 bytes."),this.code=701}}class z extends F{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}}class V extends F{constructor(e){super(`"${e}"`),this.code=802}}class H extends F{constructor(){super("Invalid key derivation function"),this.code=703}}class W extends F{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}}class q extends F{constructor(){super("Unsupported key store version"),this.code=705}}class K extends F{constructor(){super("Password cannot be empty"),this.code=706}}class G extends F{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}}class Y extends F{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}}class Q extends F{constructor(e,t){super(e),this.code=500,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class Z extends Q{constructor(e){super("Connection not open",e),this.code=503}}class J extends Q{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=505}}class X extends Q{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}}class ee extends Q{constructor(e){super(`Request already sent with following id: ${e}`),this.code=507}}class te extends F{constructor(e,t){super(e),this.code=300,this.receipt=t}}class ne extends F{constructor(e,t){super(`The resolver at ${e} does not implement requested method: "${t}".`),this.address=e,this.name=t,this.code=301}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class re extends te{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"==typeof e.data){let t;t=e.data&&"originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.cause=new re(t)}else this.data=e.data}setDecodedProperties(e,t,n){this.errorName=e,this.errorSignature=t,this.errorArgs=n}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class oe extends te{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.cause=new re(e)}}class ie extends ${constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=311}}class se extends F{constructor(e){super(`ENS is not supported on network ${e}`),this.code=902}}class ae extends F{constructor(){super("Network not synced"),this.code=903}}class le extends F{constructor(e){super(`Invalid parameters passed. "${void 0!==e?e:""}"`),this.hint=e,this.code=207}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class ce extends F{constructor(){super(...arguments),this.code=201}}class ue extends F{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class de extends F{constructor(){super(...arguments),this.code=203}}class he extends F{constructor(){super(...arguments),this.code=204}}class fe extends F{constructor(e,t){super(e),this.code=205,this.props=null!=t?t:{}}}class pe extends F{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=206}}class me extends F{constructor(){super(...arguments),this.code=600}}class ge extends F{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}}class ye extends F{constructor(){super(...arguments),this.code=603}}class ve extends F{constructor(){super(...arguments),this.code=604}}class be extends ${constructor(){super(...arguments),this.code=801}}class we extends F{constructor(e,t){super(e),this.receipt=t,this.code=400}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Ae extends F{constructor(e,t,n,r){super("Transaction has been reverted by the EVM"+(void 0===n?"":`:\n ${F.convertToString(n)}`)),this.reason=e,this.signature=t,this.receipt=n,this.data=r,this.code=402}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class Ee extends Ae{constructor(e,t,n,r,o,i,s){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=n,this.customErrorArguments=r,this.signature=o,this.receipt=i,this.data=s,this.code=438}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class xe extends we{constructor(e){super("Transaction has been reverted by the EVM"+(void 0===e?"":`:\n ${F.convertToString(e)}`),e),this.code=405}}class Se extends we{constructor(){super("Raw transaction undefined"),this.code=407}}class ke extends we{constructor(){super("Transaction not found"),this.code=430}}class Ie extends ${constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}}class _e extends ${constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}}class Re extends ${constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}}class Ce extends ${constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}}class Te extends ${constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}}class Pe extends ${constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}}class De extends ${constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}}class Oe extends ${constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}}class Me extends ${constructor(e){var t,n;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${null!==(t=e.chain)&&void 0!==t?t:"undefined"}, "hardfork": ${null!==(n=e.hardfork)&&void 0!==n?n:"undefined"}`),this.code=414}}class Ne extends F{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}}class Be extends ${constructor(e){var t,n,r,o;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}, maxPriorityFeePerGas: ${null!==(r=e.maxPriorityFeePerGas)&&void 0!==r?r:"undefined"}, maxFeePerGas: ${null!==(o=e.maxFeePerGas)&&void 0!==o?o:"undefined"}`,'"gas" is missing'),this.code=415,this.cause=new Ne}}class Le extends F{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}}class Fe extends ${constructor(e){var t,n,r,o;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}, maxPriorityFeePerGas: ${null!==(r=e.maxPriorityFeePerGas)&&void 0!==r?r:"undefined"}, maxFeePerGas: ${null!==(o=e.maxFeePerGas)&&void 0!==o?o:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.cause=new Le}}class Ue extends ${constructor(e){var t,n;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(n=e.gasPrice)&&void 0!==n?n:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416}}class $e extends ${constructor(e){var t,n;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(n=e.maxFeePerGas)&&void 0!==n?n:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}}class je extends ${constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}}class ze extends ${constructor(e){var t,n;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(n=e.maxFeePerGas)&&void 0!==n?n:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}}class Ve extends ${constructor(e){super(e,"invalid transaction object"),this.code=420}}class He extends ${constructor(e){var t,n;super(`nonce: ${null!==(t=e.nonce)&&void 0!==t?t:"undefined"}, chainId: ${null!==(n=e.chainId)&&void 0!==n?n:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421}}class We extends ${constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}}class qe extends ${constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}}class Ke extends ${constructor(e){super(e,"unsupported transaction type"),this.code=424}}class Ge extends ${constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=425}}class Ye extends F{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!\n\tTransaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=431}}function Qe(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!\n\tTransaction Hash: ${e?e.toString():"not available"}`}class Ze extends F{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${Qe(e.transactionHash)}`),this.code=426}}class Je extends F{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${Qe(e.transactionHash)}`),this.code=432}}class Xe extends ${constructor(e){var t,n;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${null===(t=e.blockHash)||void 0===t?void 0:t.toString()}, transactionHash: ${null===(n=e.transactionHash)||void 0===n?void 0:n.toString()}`,"Receipt missing or blockHash null"),this.code=427}}class et extends ${constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=428}}class tt extends F{constructor(e){super(`Invalid signature. "${e}"`),this.code=433}}class nt extends ${constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}}class rt extends F{constructor(e,t){const n=[];e.forEach((e=>n.push(e.keyword))),super(`The following properties are invalid for the transaction type ${t}: ${n.join(", ")}`),this.code=439}}class ot extends ${constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class it extends ${constructor(e){super(e,"can not parse as number data"),this.code=1003}}class st extends ${constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class at extends ${constructor(e){super(e,"not a valid string"),this.code=1001}}class lt extends ${constructor(e){super(e,"invalid unit"),this.code=1004}}class ct extends ${constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=1015}}class ut extends ${constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class dt extends ${constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class ht extends ${constructor(e){super(e,"not a valid boolean."),this.code=1008}}class ft extends ${constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class pt extends ${constructor(e){super(e,"invalid size given."),this.code=1010}}class mt extends ${constructor(e){super(e,"value is larger than size."),this.code=1011}}class gt extends ${constructor(e){super(e,"invalid string given"),this.code=1012}}const yt=e=>(e=>!(Array.isArray(e)||"2.0"!==e.jsonrpc||!e||void 0!==e.result&&null!==e.result||!("error"in e)||"number"!=typeof e.id&&"string"!=typeof e.id))(e)?e.error.message:"";class vt extends F{constructor(e,t,n){var r;let o;super(null!=t?t:`Returned error: ${Array.isArray(e)?e.map((e=>yt(e))).join(","):yt(e)}`),this.code=100,t||(this.data=Array.isArray(e)?e.map((e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data})):null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.data),this.request=n,"error"in e?o=e.error:e instanceof Array&&(o=e.filter((e=>e.error)).map((e=>e.error))),Array.isArray(o)&&o.length>0?this.cause=new U(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request})}}class bt extends vt{constructor(e,t){let n;super(e,void 0,t),this.code=101,"error"in e?n=e.error:e instanceof Array&&(n=e.map((e=>e.error))),Array.isArray(n)?this.cause=new U(n):this.cause=n}}class wt extends F{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}class At extends F{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}const Et="An Rpc error has occured with a code of *code*",xt={[I]:{message:"Parse error",description:"Invalid JSON"},[_]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[R]:{message:"Method not found",description:"Method does not exist\t"},[C]:{message:"Invalid params",description:"Invalid method parameters"},[T]:{message:"Internal error",description:"Internal JSON-RPC error"},[P]:{message:"Invalid input",description:"Missing or invalid parameters"},[D]:{message:"Resource not found",description:"Requested resource not found"},[O]:{message:"Resource unavailable",description:"Requested resource not available"},[M]:{message:"Transaction rejected",description:"Transaction creation failed"},[N]:{message:"Method not supported",description:"Method is not implemented"},[B]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[L]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[A]:{name:"User Rejected Request",message:"The user rejected the request."},[E]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[x]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[S]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[k]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class St extends F{constructor(e,t){super(null!=t?t:Et.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class kt extends F{constructor(e,t){var n,r,o,i;if(e)if(null===(n=xt[e])||void 0===n?void 0:n.message)super(xt[e].message);else{const t=Object.keys(xt).find((t=>"string"==typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10)));super(null!==(o=null===(r=xt[null!=t?t:""])||void 0===r?void 0:r.message)&&void 0!==o?o:Et.replace("*code*",null!==(i=null==e?void 0:e.toString())&&void 0!==i?i:'""'))}else super();this.code=e,this.data=t}}const It=new Map;It.set(I,{error:class extends St{constructor(e){super(e,xt[-32700].message),this.code=I}}}),It.set(_,{error:class extends St{constructor(e){super(e,xt[-32600].message),this.code=_}}}),It.set(R,{error:class extends St{constructor(e){super(e,xt[-32601].message),this.code=R}}}),It.set(C,{error:class extends St{constructor(e){super(e,xt[-32602].message),this.code=C}}}),It.set(T,{error:class extends St{constructor(e){super(e,xt[-32603].message),this.code=T}}}),It.set(P,{error:class extends St{constructor(e){super(e,xt[-32e3].message),this.code=P}}}),It.set(N,{error:class extends St{constructor(e){super(e,xt[-32004].message),this.code=N}}}),It.set(O,{error:class extends St{constructor(e){super(e,xt[-32002].message),this.code=O}}}),It.set(M,{error:class extends St{constructor(e){super(e,xt[-32003].message),this.code=M}}}),It.set(D,{error:class extends St{constructor(e){super(e,xt[-32001].message),this.code=D}}}),It.set(L,{error:class extends St{constructor(e){super(e,xt[-32006].message),this.code=L}}}),It.set(B,{error:class extends St{constructor(e){super(e,xt[-32005].message),this.code=B}}});class _t extends F{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}var Rt=n(7238),Ct=n(9190),Tt=n(2595);Ct.Ay.bool;const Pt=Ct.Ay.bytes;function Dt(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)}function Ot(e){return t=>(Ct.Ay.bytes(t),e(t))}(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),Ot(Rt.Md);const Mt=(()=>{const e=Ot(Rt.lY);return e.create=Rt.lY.create,e})();var Nt,Bt;Ot(Rt.DZ),Ot(Rt.a0),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Nt||(Nt={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Bt||(Bt={}));const Lt=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ft=e=>{switch(typeof e){case"undefined":return Lt.undefined;case"string":return Lt.string;case"number":return isNaN(e)?Lt.nan:Lt.number;case"boolean":return Lt.boolean;case"function":return Lt.function;case"bigint":return Lt.bigint;case"symbol":return Lt.symbol;case"object":return Array.isArray(e)?Lt.array:null===e?Lt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Lt.promise:"undefined"!=typeof Map&&e instanceof Map?Lt.map:"undefined"!=typeof Set&&e instanceof Set?Lt.set:"undefined"!=typeof Date&&e instanceof Date?Lt.date:Lt.object;default:return Lt.unknown}},Ut=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $t extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof $t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}$t.create=e=>new $t(e);const jt=(e,t)=>{let n;switch(e.code){case Ut.invalid_type:n=e.received===Lt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ut.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Nt.jsonStringifyReplacer)}`;break;case Ut.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nt.joinValues(e.keys,", ")}`;break;case Ut.invalid_union:n="Invalid input";break;case Ut.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nt.joinValues(e.options)}`;break;case Ut.invalid_enum_value:n=`Invalid enum value. Expected ${Nt.joinValues(e.options)}, received '${e.received}'`;break;case Ut.invalid_arguments:n="Invalid function arguments";break;case Ut.invalid_return_type:n="Invalid function return type";break;case Ut.invalid_date:n="Invalid date";break;case Ut.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Nt.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Ut.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ut.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ut.custom:n="Invalid input";break;case Ut.invalid_intersection_types:n="Intersection results could not be merged";break;case Ut.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ut.not_finite:n="Number must be finite";break;default:n=t.defaultError,Nt.assertNever(e)}return{message:n}};let zt=jt;function Vt(){return zt}const Ht=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let a="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)a=e(s,{data:t,defaultError:a}).message;return{...o,path:i,message:a}};function Wt(e,t){const n=Vt(),r=Ht({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===jt?void 0:jt].filter((e=>!!e))});e.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Kt;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return qt.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return Kt;if("aborted"===o.status)return Kt;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const Kt=Object.freeze({status:"aborted"}),Gt=e=>({status:"dirty",value:e}),Yt=e=>({status:"valid",value:e}),Qt=e=>"aborted"===e.status,Zt=e=>"dirty"===e.status,Jt=e=>"valid"===e.status,Xt=e=>"undefined"!=typeof Promise&&e instanceof Promise;function en(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function tn(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}var nn,rn,on;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(nn||(nn={}));class sn{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const an=(e,t)=>{if(Jt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new $t(e.common.issues);return this._error=t,this._error}}};function ln(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(t,o)=>{var i,s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:o.defaultError}:void 0===o.data?{message:null!==(i=null!=a?a:r)&&void 0!==i?i:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(s=null!=a?a:n)&&void 0!==s?s:o.defaultError}},description:o}}class cn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ft(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ft(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:Ft(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Xt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ft(e)},o=this._parseSync({data:e,path:r.path,parent:r});return an(r,o)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ft(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(Xt(r)?r:Promise.resolve(r));return an(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:Ut.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new rr({schema:this,typeName:mr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return or.create(this,this._def)}nullable(){return ir.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fn.create(this,this._def)}promise(){return nr.create(this,this._def)}or(e){return jn.create([this,e],this._def)}and(e){return Wn.create(this,e,this._def)}transform(e){return new rr({...ln(this._def),schema:this,typeName:mr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new sr({...ln(this._def),innerType:this,defaultValue:t,typeName:mr.ZodDefault})}brand(){return new ur({typeName:mr.ZodBranded,type:this,...ln(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ar({...ln(this._def),innerType:this,catchValue:t,typeName:mr.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return dr.create(this,e)}readonly(){return hr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const un=/^c[^\s-]{8,}$/i,dn=/^[0-9a-z]+$/,hn=/^[0-9A-HJKMNP-TV-Z]{26}$/,fn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pn=/^[a-z0-9_-]{21}$/i,mn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let yn;const vn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,An="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",En=new RegExp(`^${An}$`);function xn(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Sn(e){let t=`${An}T${xn(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}class kn extends cn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Lt.string){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.string,received:t.parsedType}),Kt}const t=new qt;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?Wt(n,{code:Ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Wt(n,{code:Ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)gn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"email",code:Ut.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)yn||(yn=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),yn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"emoji",code:Ut.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)fn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"uuid",code:Ut.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)pn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"nanoid",code:Ut.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)un.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"cuid",code:Ut.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)dn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"cuid2",code:Ut.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)hn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"ulid",code:Ut.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Wt(n,{validation:"url",code:Ut.invalid_string,message:i.message}),t.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"regex",code:Ut.invalid_string,message:i.message}),t.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty()):"datetime"===i.kind?Sn(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:"datetime",message:i.message}),t.dirty()):"date"===i.kind?En.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:"date",message:i.message}),t.dirty()):"time"===i.kind?new RegExp(`^${xn(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.invalid_string,validation:"time",message:i.message}),t.dirty()):"duration"===i.kind?mn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"duration",code:Ut.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"===(o=i.version)||!o)&&vn.test(r)||("v6"===o||!o)&&bn.test(r)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"ip",code:Ut.invalid_string,message:i.message}),t.dirty())):"base64"===i.kind?wn.test(e.data)||(n=this._getOrReturnCtx(e,n),Wt(n,{validation:"base64",code:Ut.invalid_string,message:i.message}),t.dirty()):Nt.assertNever(i);var r,o;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Ut.invalid_string,...nn.errToObj(n)})}_addCheck(e){return new kn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nn.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...nn.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...nn.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...nn.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...nn.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...nn.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...nn.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...nn.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...nn.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...nn.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...nn.errToObj(t)})}nonempty(e){return this.min(1,nn.errToObj(e))}trim(){return new kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function In(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}kn.create=e=>{var t;return new kn({checks:[],typeName:mr.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ln(e)})};class _n extends cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Lt.number){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.number,received:t.parsedType}),Kt}let t;const n=new qt;for(const r of this._def.checks)"int"===r.kind?Nt.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==In(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.not_finite,message:r.message}),n.dirty()):Nt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,nn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nn.toString(t))}setLimit(e,t,n,r){return new _n({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:nn.toString(r)}]})}_addCheck(e){return new _n({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nn.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:nn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nn.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Nt.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}_n.create=e=>new _n({checks:[],typeName:mr.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...ln(e)});class Rn extends cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Lt.bigint){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.bigint,received:t.parsedType}),Kt}let t;const n=new qt;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Wt(t,{code:Ut.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Nt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,nn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nn.toString(t))}setLimit(e,t,n,r){return new Rn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:nn.toString(r)}]})}_addCheck(e){return new Rn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nn.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Rn.create=e=>{var t;return new Rn({checks:[],typeName:mr.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ln(e)})};class Cn extends cn{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Lt.boolean){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.boolean,received:t.parsedType}),Kt}return Yt(e.data)}}Cn.create=e=>new Cn({typeName:mr.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...ln(e)});class Tn extends cn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Lt.date){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.date,received:t.parsedType}),Kt}if(isNaN(e.data.getTime()))return Wt(this._getOrReturnCtx(e),{code:Ut.invalid_date}),Kt;const t=new qt;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Wt(n,{code:Ut.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Nt.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Tn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:nn.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:nn.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Tn.create=e=>new Tn({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:mr.ZodDate,...ln(e)});class Pn extends cn{_parse(e){if(this._getType(e)!==Lt.symbol){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.symbol,received:t.parsedType}),Kt}return Yt(e.data)}}Pn.create=e=>new Pn({typeName:mr.ZodSymbol,...ln(e)});class Dn extends cn{_parse(e){if(this._getType(e)!==Lt.undefined){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.undefined,received:t.parsedType}),Kt}return Yt(e.data)}}Dn.create=e=>new Dn({typeName:mr.ZodUndefined,...ln(e)});class On extends cn{_parse(e){if(this._getType(e)!==Lt.null){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.null,received:t.parsedType}),Kt}return Yt(e.data)}}On.create=e=>new On({typeName:mr.ZodNull,...ln(e)});class Mn extends cn{constructor(){super(...arguments),this._any=!0}_parse(e){return Yt(e.data)}}Mn.create=e=>new Mn({typeName:mr.ZodAny,...ln(e)});class Nn extends cn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Yt(e.data)}}Nn.create=e=>new Nn({typeName:mr.ZodUnknown,...ln(e)});class Bn extends cn{_parse(e){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.never,received:t.parsedType}),Kt}}Bn.create=e=>new Bn({typeName:mr.ZodNever,...ln(e)});class Ln extends cn{_parse(e){if(this._getType(e)!==Lt.undefined){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.void,received:t.parsedType}),Kt}return Yt(e.data)}}Ln.create=e=>new Ln({typeName:mr.ZodVoid,...ln(e)});class Fn extends cn{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Lt.array)return Wt(t,{code:Ut.invalid_type,expected:Lt.array,received:t.parsedType}),Kt;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(Wt(t,{code:e?Ut.too_big:Ut.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Wt(t,{code:Ut.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Wt(t,{code:Ut.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new sn(t,e,t.path,n))))).then((e=>qt.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new sn(t,e,t.path,n))));return qt.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Fn({...this._def,minLength:{value:e,message:nn.toString(t)}})}max(e,t){return new Fn({...this._def,maxLength:{value:e,message:nn.toString(t)}})}length(e,t){return new Fn({...this._def,exactLength:{value:e,message:nn.toString(t)}})}nonempty(e){return this.min(1,e)}}function Un(e){if(e instanceof $n){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=or.create(Un(r))}return new $n({...e._def,shape:()=>t})}return e instanceof Fn?new Fn({...e._def,type:Un(e.element)}):e instanceof or?or.create(Un(e.unwrap())):e instanceof ir?ir.create(Un(e.unwrap())):e instanceof qn?qn.create(e.items.map((e=>Un(e)))):e}Fn.create=(e,t)=>new Fn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:mr.ZodArray,...ln(t)});class $n extends cn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Nt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Lt.object){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.object,received:t.parsedType}),Kt}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Bn&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||i.push(e);const s=[];for(const e of o){const t=r[e],o=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new sn(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Bn){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(Wt(n,{code:Ut.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new sn(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>qt.mergeObjectSync(t,e))):qt.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return nn.errToObj,new $n({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,i,s;const a=null!==(i=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=nn.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new $n({...this._def,unknownKeys:"strip"})}passthrough(){return new $n({...this._def,unknownKeys:"passthrough"})}extend(e){return new $n({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:mr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $n({...this._def,catchall:e})}pick(e){const t={};return Nt.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new $n({...this._def,shape:()=>t})}omit(e){const t={};return Nt.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new $n({...this._def,shape:()=>t})}deepPartial(){return Un(this)}partial(e){const t={};return Nt.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new $n({...this._def,shape:()=>t})}required(e){const t={};return Nt.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof or;)e=e._def.innerType;t[n]=e}})),new $n({...this._def,shape:()=>t})}keyof(){return Xn(Nt.objectKeys(this.shape))}}$n.create=(e,t)=>new $n({shape:()=>e,unknownKeys:"strip",catchall:Bn.create(),typeName:mr.ZodObject,...ln(t)}),$n.strictCreate=(e,t)=>new $n({shape:()=>e,unknownKeys:"strict",catchall:Bn.create(),typeName:mr.ZodObject,...ln(t)}),$n.lazycreate=(e,t)=>new $n({shape:e,unknownKeys:"strip",catchall:Bn.create(),typeName:mr.ZodObject,...ln(t)});class jn extends cn{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new $t(e.ctx.common.issues)));return Wt(t,{code:Ut.invalid_union,unionErrors:n}),Kt}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new $t(e)));return Wt(t,{code:Ut.invalid_union,unionErrors:o}),Kt}}get options(){return this._def.options}}jn.create=(e,t)=>new jn({options:e,typeName:mr.ZodUnion,...ln(t)});const zn=e=>e instanceof Zn?zn(e.schema):e instanceof rr?zn(e.innerType()):e instanceof Jn?[e.value]:e instanceof er?e.options:e instanceof tr?Nt.objectValues(e.enum):e instanceof sr?zn(e._def.innerType):e instanceof Dn?[void 0]:e instanceof On?[null]:e instanceof or?[void 0,...zn(e.unwrap())]:e instanceof ir?[null,...zn(e.unwrap())]:e instanceof ur||e instanceof hr?zn(e.unwrap()):e instanceof ar?zn(e._def.innerType):[];class Vn extends cn{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Lt.object)return Wt(t,{code:Ut.invalid_type,expected:Lt.object,received:t.parsedType}),Kt;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Wt(t,{code:Ut.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=zn(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new Vn({typeName:mr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...ln(n)})}}function Hn(e,t){const n=Ft(e),r=Ft(t);if(e===t)return{valid:!0,data:e};if(n===Lt.object&&r===Lt.object){const n=Nt.objectKeys(t),r=Nt.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const n of r){const r=Hn(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===Lt.array&&r===Lt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=Hn(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===Lt.date&&r===Lt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wn extends cn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Qt(e)||Qt(r))return Kt;const o=Hn(e.value,r.value);return o.valid?((Zt(e)||Zt(r))&&t.dirty(),{status:t.value,value:o.data}):(Wt(n,{code:Ut.invalid_intersection_types}),Kt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wn.create=(e,t,n)=>new Wn({left:e,right:t,typeName:mr.ZodIntersection,...ln(n)});class qn extends cn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Lt.array)return Wt(n,{code:Ut.invalid_type,expected:Lt.array,received:n.parsedType}),Kt;if(n.data.length<this._def.items.length)return Wt(n,{code:Ut.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&n.data.length>this._def.items.length&&(Wt(n,{code:Ut.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new sn(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>qt.mergeArray(t,e))):qt.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new qn({...this._def,rest:e})}}qn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qn({items:e,typeName:mr.ZodTuple,rest:null,...ln(t)})};class Kn extends cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Lt.object)return Wt(n,{code:Ut.invalid_type,expected:Lt.object,received:n.parsedType}),Kt;const r=[],o=this._def.keyType,i=this._def.valueType;for(const e in n.data)r.push({key:o._parse(new sn(n,e,n.path,e)),value:i._parse(new sn(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?qt.mergeObjectAsync(t,r):qt.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Kn(t instanceof cn?{keyType:e,valueType:t,typeName:mr.ZodRecord,...ln(n)}:{keyType:kn.create(),valueType:e,typeName:mr.ZodRecord,...ln(t)})}}class Gn extends cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Lt.map)return Wt(n,{code:Ut.invalid_type,expected:Lt.map,received:n.parsedType}),Kt;const r=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new sn(n,e,n.path,[i,"key"])),value:o._parse(new sn(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return Kt;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return Kt;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}Gn.create=(e,t,n)=>new Gn({valueType:t,keyType:e,typeName:mr.ZodMap,...ln(n)});class Yn extends cn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Lt.set)return Wt(n,{code:Ut.invalid_type,expected:Lt.set,received:n.parsedType}),Kt;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Wt(n,{code:Ut.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Wt(n,{code:Ut.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Kt;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>o._parse(new sn(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new Yn({...this._def,minSize:{value:e,message:nn.toString(t)}})}max(e,t){return new Yn({...this._def,maxSize:{value:e,message:nn.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Yn.create=(e,t)=>new Yn({valueType:e,minSize:null,maxSize:null,typeName:mr.ZodSet,...ln(t)});class Qn extends cn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Lt.function)return Wt(t,{code:Ut.invalid_type,expected:Lt.function,received:t.parsedType}),Kt;function n(e,n){return Ht({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vt(),jt].filter((e=>!!e)),issueData:{code:Ut.invalid_arguments,argumentsError:n}})}function r(e,n){return Ht({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vt(),jt].filter((e=>!!e)),issueData:{code:Ut.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof nr){const e=this;return Yt((async function(...t){const s=new $t([]),a=await e._def.args.parseAsync(t,o).catch((e=>{throw s.addIssue(n(t,e)),s})),l=await Reflect.apply(i,this,a);return await e._def.returns._def.type.parseAsync(l,o).catch((e=>{throw s.addIssue(r(l,e)),s}))}))}{const e=this;return Yt((function(...t){const s=e._def.args.safeParse(t,o);if(!s.success)throw new $t([n(t,s.error)]);const a=Reflect.apply(i,this,s.data),l=e._def.returns.safeParse(a,o);if(!l.success)throw new $t([r(a,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qn({...this._def,args:qn.create(e).rest(Nn.create())})}returns(e){return new Qn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Qn({args:e||qn.create([]).rest(Nn.create()),returns:t||Nn.create(),typeName:mr.ZodFunction,...ln(n)})}}class Zn extends cn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zn.create=(e,t)=>new Zn({getter:e,typeName:mr.ZodLazy,...ln(t)});class Jn extends cn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Wt(t,{received:t.data,code:Ut.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Xn(e,t){return new er({values:e,typeName:mr.ZodEnum,...ln(t)})}Jn.create=(e,t)=>new Jn({value:e,typeName:mr.ZodLiteral,...ln(t)});class er extends cn{constructor(){super(...arguments),rn.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Wt(t,{expected:Nt.joinValues(n),received:t.parsedType,code:Ut.invalid_type}),Kt}if(en(this,rn,"f")||tn(this,rn,new Set(this._def.values),"f"),!en(this,rn,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Wt(t,{received:t.data,code:Ut.invalid_enum_value,options:n}),Kt}return Yt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return er.create(e,{...this._def,...t})}exclude(e,t=this._def){return er.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}rn=new WeakMap,er.create=Xn;class tr extends cn{constructor(){super(...arguments),on.set(this,void 0)}_parse(e){const t=Nt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Lt.string&&n.parsedType!==Lt.number){const e=Nt.objectValues(t);return Wt(n,{expected:Nt.joinValues(e),received:n.parsedType,code:Ut.invalid_type}),Kt}if(en(this,on,"f")||tn(this,on,new Set(Nt.getValidEnumValues(this._def.values)),"f"),!en(this,on,"f").has(e.data)){const e=Nt.objectValues(t);return Wt(n,{received:n.data,code:Ut.invalid_enum_value,options:e}),Kt}return Yt(e.data)}get enum(){return this._def.values}}on=new WeakMap,tr.create=(e,t)=>new tr({values:e,typeName:mr.ZodNativeEnum,...ln(t)});class nr extends cn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Lt.promise&&!1===t.common.async)return Wt(t,{code:Ut.invalid_type,expected:Lt.promise,received:t.parsedType}),Kt;const n=t.parsedType===Lt.promise?t.data:Promise.resolve(t.data);return Yt(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}nr.create=(e,t)=>new nr({type:e,typeName:mr.ZodPromise,...ln(t)});class rr extends cn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===mr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{Wt(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Kt;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Kt:"dirty"===r.status||"dirty"===t.value?Gt(r.value):r}));{if("aborted"===t.value)return Kt;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Kt:"dirty"===r.status||"dirty"===t.value?Gt(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Kt:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Kt:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jt(e))return e;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Jt(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}Nt.assertNever(r)}}rr.create=(e,t,n)=>new rr({schema:e,typeName:mr.ZodEffects,effect:t,...ln(n)}),rr.createWithPreprocess=(e,t,n)=>new rr({schema:t,effect:{type:"preprocess",transform:e},typeName:mr.ZodEffects,...ln(n)});class or extends cn{_parse(e){return this._getType(e)===Lt.undefined?Yt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}or.create=(e,t)=>new or({innerType:e,typeName:mr.ZodOptional,...ln(t)});class ir extends cn{_parse(e){return this._getType(e)===Lt.null?Yt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ir.create=(e,t)=>new ir({innerType:e,typeName:mr.ZodNullable,...ln(t)});class sr extends cn{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sr.create=(e,t)=>new sr({innerType:e,typeName:mr.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ln(t)});class ar extends cn{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xt(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new $t(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new $t(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ar.create=(e,t)=>new ar({innerType:e,typeName:mr.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ln(t)});class lr extends cn{_parse(e){if(this._getType(e)!==Lt.nan){const t=this._getOrReturnCtx(e);return Wt(t,{code:Ut.invalid_type,expected:Lt.nan,received:t.parsedType}),Kt}return{status:"valid",value:e.data}}}lr.create=e=>new lr({typeName:mr.ZodNaN,...ln(e)});const cr=Symbol("zod_brand");class ur extends cn{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class dr extends cn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Kt:"dirty"===e.status?(t.dirty(),Gt(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Kt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new dr({in:e,out:t,typeName:mr.ZodPipeline})}}class hr extends cn{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Jt(e)&&(e.value=Object.freeze(e.value)),e);return Xt(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function fr(e,t={},n){return e?Mn.create().superRefine(((r,o)=>{var i,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,a=null===(s=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===s||s,l="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...l,fatal:a})}})):Mn.create()}hr.create=(e,t)=>new hr({innerType:e,typeName:mr.ZodReadonly,...ln(t)});const pr={object:$n.lazycreate};var mr;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(mr||(mr={}));const gr=kn.create,yr=_n.create,vr=lr.create,br=Rn.create,wr=Cn.create,Ar=Tn.create,Er=Pn.create,xr=Dn.create,Sr=On.create,kr=Mn.create,Ir=Nn.create,_r=Bn.create,Rr=Ln.create,Cr=Fn.create,Tr=$n.create,Pr=$n.strictCreate,Dr=jn.create,Or=Vn.create,Mr=Wn.create,Nr=qn.create,Br=Kn.create,Lr=Gn.create,Fr=Yn.create,Ur=Qn.create,$r=Zn.create,jr=Jn.create,zr=er.create,Vr=tr.create,Hr=nr.create,Wr=rr.create,qr=or.create,Kr=ir.create,Gr=rr.createWithPreprocess,Yr=dr.create,Qr={string:e=>kn.create({...e,coerce:!0}),number:e=>_n.create({...e,coerce:!0}),boolean:e=>Cn.create({...e,coerce:!0}),bigint:e=>Rn.create({...e,coerce:!0}),date:e=>Tn.create({...e,coerce:!0})},Zr=Kt;var Jr=Object.freeze({__proto__:null,defaultErrorMap:jt,setErrorMap:function(e){zt=e},getErrorMap:Vt,makeIssue:Ht,EMPTY_PATH:[],addIssueToContext:Wt,ParseStatus:qt,INVALID:Kt,DIRTY:Gt,OK:Yt,isAborted:Qt,isDirty:Zt,isValid:Jt,isAsync:Xt,get util(){return Nt},get objectUtil(){return Bt},ZodParsedType:Lt,getParsedType:Ft,ZodType:cn,datetimeRegex:Sn,ZodString:kn,ZodNumber:_n,ZodBigInt:Rn,ZodBoolean:Cn,ZodDate:Tn,ZodSymbol:Pn,ZodUndefined:Dn,ZodNull:On,ZodAny:Mn,ZodUnknown:Nn,ZodNever:Bn,ZodVoid:Ln,ZodArray:Fn,ZodObject:$n,ZodUnion:jn,ZodDiscriminatedUnion:Vn,ZodIntersection:Wn,ZodTuple:qn,ZodRecord:Kn,ZodMap:Gn,ZodSet:Yn,ZodFunction:Qn,ZodLazy:Zn,ZodLiteral:Jn,ZodEnum:er,ZodNativeEnum:tr,ZodPromise:nr,ZodEffects:rr,ZodTransformer:rr,ZodOptional:or,ZodNullable:ir,ZodDefault:sr,ZodCatch:ar,ZodNaN:lr,BRAND:cr,ZodBranded:ur,ZodPipeline:dr,ZodReadonly:hr,custom:fr,Schema:cn,ZodSchema:cn,late:pr,get ZodFirstPartyTypeKind(){return mr},coerce:Qr,any:kr,array:Cr,bigint:br,boolean:wr,date:Ar,discriminatedUnion:Or,effect:Wr,enum:zr,function:Ur,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>fr((t=>t instanceof e),t),intersection:Mr,lazy:$r,literal:jr,map:Lr,nan:vr,nativeEnum:Vr,never:_r,null:Sr,nullable:Kr,number:yr,object:Tr,oboolean:()=>wr().optional(),onumber:()=>yr().optional(),optional:qr,ostring:()=>gr().optional(),pipeline:Yr,preprocess:Gr,promise:Hr,record:Br,set:Fr,strictObject:Pr,string:gr,symbol:Er,transformer:Wr,tuple:Nr,undefined:xr,union:Dr,unknown:Ir,void:Rr,NEVER:Zr,ZodIssueCode:Ut,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:$t});const Xr=e=>e.message?e.message:"unspecified error";class eo extends F{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:\n${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(Xr)}}const to=["bool","int","uint","bytes","string","address","tuple"],no=e=>"object"==typeof e&&"type"in e&&"name"in e,ro=e=>"string"==typeof e,oo=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function io(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||void 0!==t&&t>0&&e.length!==2+2*t)}const so=e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function ao(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return e.startsWith("0x")}const lo=function(e){for(const[t,n]of Object.entries(e))if(void 0!==n&&n.length>0&&0===n[0])throw new Error(`${t} cannot have leading zeroes, received: ${n.toString()}`)},co=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],uo=e=>{let t,n=e.replace(/ /,""),r=!1,o=[];if(e.includes("[")&&(n=n.slice(0,n.indexOf("[")),o=[...e.matchAll(/(?:\[(\d*)\])/g)].map((e=>parseInt(e[1],10))).map((e=>Number.isNaN(e)?-1:e)),r=o.length>0),to.includes(n))return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:o};if(n.startsWith("int"))t=parseInt(n.substring(3),10),n="int";else if(n.startsWith("uint"))t=parseInt(e.substring(4),10),n="uint";else{if(!n.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:o};t=parseInt(n.substring(5),10),n="bytes"}return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:o}},ho=(e,t={})=>{if(Object.keys(t).includes("type"))throw new eo([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:n,baseTypeSize:r}=uo(e);if(!n&&!co.includes(e))throw new eo([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(n){if("tuple"===n)throw new Error('"tuple" type is not implemented directly.');return{format:`${n}${null!=r?r:""}`,required:!0}}return e?{format:e,required:!0}:{}},fo=(e,t="/0")=>{const n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[r,o]of e.entries()){let e,i,s=[];no(o)?(e=o.type,i=o.name||`${t}/${r}`,s=o.components):"string"==typeof o?(e=o,i=`${t}/${r}`):Array.isArray(o)&&(o[0]&&"string"==typeof o[0]&&o[0].startsWith("tuple")&&!Array.isArray(o[0])&&o[1]&&Array.isArray(o[1])?(e=o[0],i=`${t}/${r}`,s=o[1]):(e="tuple",i=`${t}/${r}`,s=o));const{baseType:a,isArray:l,arraySizes:c}=uo(e);let u,d=n;for(let e=c.length-1;e>0;e-=1)u={type:"array",$id:i,items:[],maxItems:c[e],minItems:c[e]},c[e]<0&&(delete u.maxItems,delete u.minItems),Array.isArray(d.items)?0===d.items.length?d.items=[u]:d.items.push(u):d.items=[d.items,u],d=u;if("tuple"!==a||l)if("tuple"===a&&l){const e=c[0],t=Object.assign({type:"array",$id:i,items:fo(s,i)},e>=0&&{minItems:e,maxItems:e});d.items.push(t)}else if(l){const t=c[0],n=Object.assign({type:"array",$id:i,items:ho(e)},t>=0&&{minItems:t,maxItems:t});d.items.push(n)}else Array.isArray(d.items),d.items.push(Object.assign({$id:i},ho(e)));else{const e=fo(s,i);e.$id=i,d.items.push(e)}d=n}return n},po=e=>fo(e),mo=(e,t)=>1===t?e:mo(e[0],t-1),go=(e,t,n)=>{const r=[];for(const[o,i]of e.entries()){let e,s,a=[];no(i)?(e=i.type,s=i.name,a=i.components):"string"==typeof i?e=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(e=i[0],a=i[1]):(e="tuple",a=i));const{baseType:l,isArray:c,arraySizes:u}=uo(e),d=Array.isArray(t)?t[o]:t[s];if("tuple"!==l||c)if("tuple"===l&&c){const e=[];for(const t of d)if(u.length>1){const r=mo(t,u.length-1),o=[];for(const e of r)o.push(go(a,e,n));e.push(o)}else e.push(go(a,t,n));r.push(e)}else r.push(d);else r.push(go(a,d,n))}return(n=null!=n?n:[]).push(...r),n},yo=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},vo=e=>{if(!oo(e))throw new Error("Invalid hex string");const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?t?-r:r:r<Number.MIN_SAFE_INTEGER?r:t?-1*Number(r):Number(r)},bo=e=>{if(("number"==typeof e||"bigint"==typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"==typeof e||"bigint"==typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"==typeof e&&oo(e)){const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e];return`${t?"-":""}0x${n.split(/^(-)?0(x|X)/).slice(-1)[0].replace(/^0+/,"").toLowerCase()}`}if("string"==typeof e&&!oo(e))return bo(BigInt(e));throw new it(e)},wo=(e,t,n="0")=>{if("string"==typeof e&&!oo(e))return e.padStart(t,n);const r="string"==typeof e&&oo(e)?e:bo(e),[o,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${o}${i.padStart(t,n)}`};function Ao(e){let t="0x";for(const n of e){const e=n.toString(16);t+=1===e.length?`0${e}`:e}return t}const Eo={zero:48,nine:57,A:65,F:70,a:97,f:102};function xo(e){return e>=Eo.zero&&e<=Eo.nine?e-Eo.zero:e>=Eo.A&&e<=Eo.F?e-(Eo.A-10):e>=Eo.a&&e<=Eo.f?e-(Eo.a-10):void 0}function So(e){let t=0;if(!e.startsWith("0")||"x"!==e[1]&&"X"!==e[1]||(t=2),e.length%2!=0)throw new ot(`hex string has odd length: ${e}`);const n=(e.length-t)/2,r=new Uint8Array(n);for(let o=0,i=t;o<n;o+=1){const t=xo(e.charCodeAt(i++)),n=xo(e.charCodeAt(i++));if(void 0===t||void 0===n)throw new ot(`Invalid byte sequence ("${e[i-2]}${e[i-1]}" in "${e}").`);r[o]=16*t+n}return r}function ko(e){var t;return e instanceof Uint8Array||"Uint8Array"!==(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)?e:Uint8Array.from(e)}const Io=e=>{var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)},_o=(e,t={abiType:"bytes"})=>{if("string"!=typeof e&&!Array.isArray(e)&&!Io(e))return!1;if("string"==typeof e&&oo(e)&&e.startsWith("-"))return!1;if("string"==typeof e&&!oo(e))return!1;let n;if("string"==typeof e){if(e.length%2!=0)return!1;n=So(e)}else if(Array.isArray(e)){if(e.some((e=>e<0||e>255||!Number.isInteger(e))))return!1;n=new Uint8Array(e)}else n=e;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=uo(t.abiType);return!e||n.length===e}return!(null==t?void 0:t.size)||n.length===(null==t?void 0:t.size)},Ro=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),n=(0,Tt.AI)(t.toLowerCase()),r=Ao(Mt(ko(n))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||parseInt(r[e],16)<=7&&t[e].toLowerCase()!==t[e])return!1;return!0},Co=(e,t=!0)=>{if("string"!=typeof e&&!Io(e))return!1;let n;return n=Io(e)?Ao(e):"string"!=typeof e||oo(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(n)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(n)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(n))||!t||Ro(n))},To=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let r=1;r<t;r+=1)n*=e;return n},Po=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=uo(t.abiType);e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=To(BigInt(2),BigInt(null!=n?n:256))-BigInt(1);try{const t="string"==typeof e&&oo(e)?BigInt(vo(e)):BigInt(e);return t>=0&&t<=r}catch(e){return!1}},Do=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e))return!1;if("number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e,baseType:r}=uo(t.abiType);if("int"!==r)return!1;e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=To(BigInt(2),BigInt((null!=n?n:256)-1)),o=BigInt(-1)*To(BigInt(2),BigInt((null!=n?n:256)-1));try{const t="string"==typeof e&&oo(e)?BigInt(vo(e)):BigInt(e);return t>=o&&t<=r}catch(e){return!1}},Oo=e=>!!Do(e)||!("string"!=typeof e||!/[0-9.]/.test(e)||e.indexOf(".")!==e.lastIndexOf("."))||"number"==typeof e,Mo=e=>Po(e),No=e=>Object.values(f).includes(e),Bo=e=>No(e)||Mo(e),Lo=e=>!("string"!=typeof e||!/^(0x)?[0-9a-f]{512}$/i.test(e)||!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e)),Fo=(e,t)=>{if("string"==typeof t&&!oo(t))return!1;if(!Lo(e))return!1;const n="string"==typeof t?So(t):t,r=Ao(Mt(n)).slice(2);for(let t=0;t<12;t+=4){const n=(parseInt(r.slice(t,t+2),16)<<8)+parseInt(r.slice(t+2,t+4),16)&2047,o=1<<n%4;if((yo(e.charCodeAt(e.length-1-Math.floor(n/4)))&o)!==o)return!1}return!0},Uo=e=>null==e,$o=e=>!("object"!=typeof e||Uo(e)||Array.isArray(e)||e instanceof g),jo=e=>!("string"!=typeof e||!/^(0x)?[0-9a-f]{64}$/i.test(e)||!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e)),zo={address:e=>Co(e),bloom:e=>Lo(e),blockNumber:e=>Mo(e),blockTag:e=>No(e),blockNumberOrTag:e=>Bo(e),bool:e=>{return!!["number","string","boolean"].includes(typeof(t=e))&&("boolean"==typeof t||("string"!=typeof t||oo(t)?"string"==typeof t&&oo(t)?"0x1"===t||"0x0"===t:1===t||0===t:"1"===t||"0"===t));var t},bytes:e=>_o(e),filter:e=>(e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(Uo(e)||"object"!=typeof e)return!1;if(!Object.keys(e).every((e=>t.includes(e))))return!1;if(!Uo(e.fromBlock)&&!Bo(e.fromBlock)||!Uo(e.toBlock)&&!Bo(e.toBlock))return!1;if(!Uo(e.address))if(Array.isArray(e.address)){if(!e.address.every((e=>Co(e))))return!1}else if(!Co(e.address))return!1;return!(!Uo(e.topics)&&!e.topics.every((e=>!!Uo(e)||(Array.isArray(e)?e.every((e=>jo(e))):!!jo(e)))))})(e),hex:e=>oo(e),uint:e=>Po(e),int:e=>Do(e),number:e=>Oo(e),string:e=>ro(e)};for(let e=8;e<=256;e+=8)zo[`int${e}`]=t=>Do(t,{bitSize:e}),zo[`uint${e}`]=t=>Po(t,{bitSize:e});for(let e=1;e<=32;e+=1)zo[`bytes${e}`]=t=>_o(t,{size:e});zo.bytes256=zo.bytes;const Vo=zo,Ho=e=>{if((!(null==e?void 0:e.type)||"object"===(null==e?void 0:e.type))&&(null==e?void 0:e.properties)){const t={};for(const n of Object.keys(e.properties)){const r=Ho(e.properties[n]);r&&(t[n]=r)}return Array.isArray(e.required)?Jr.object(t).partial().required(e.required.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{})):Jr.object(t).partial()}if("array"===(null==e?void 0:e.type)&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map((e=>e.$id))).size===e.items.length){const t=[];for(const n of e.items){const e=Ho(n);e&&t.push(e)}return Jr.tuple(t)}const t=Array.isArray(e.items)?e.items[0]:e.items;let n=Jr.array(Ho(t));return n=void 0!==e.minItems?n.min(e.minItems):n,n=void 0!==e.maxItems?n.max(e.maxItems):n,n}if(e.oneOf&&Array.isArray(e.oneOf))return Jr.union(e.oneOf.map((e=>Ho(e))));if(null==e?void 0:e.format){if(!Vo[e.format])throw new _t(e.format);return Jr.any().refine(Vo[e.format],(t=>({params:{value:t,format:e.format}})))}return(null==e?void 0:e.type)&&"object"!==(null==e?void 0:e.type)&&"function"==typeof Jr[String(e.type)]?Jr[String(e.type)]():Jr.object({data:Jr.any()}).partial()};class Wo{static factory(){return Wo.validatorInstance||(Wo.validatorInstance=new Wo),Wo.validatorInstance}validate(e,t,n){var r,o;const i=Ho(e).safeParse(t);if(!i.success){const e=this.convertErrors(null!==(o=null===(r=i.error)||void 0===r?void 0:r.issues)&&void 0!==o?o:[]);if(e){if(null==n?void 0:n.silent)return e;throw new eo(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map((e=>{var t;let n,r,o,i;i=e.path.join("/");const s=String(e.path[e.path.length-1]),a=e.path.join("/");if(e.code===Ut.too_big)r="maxItems",i=`${a}/maxItems`,o={limit:e.maximum},n=`must NOT have more than ${e.maximum} items`;else if(e.code===Ut.too_small)r="minItems",i=`${a}/minItems`,o={limit:e.minimum},n=`must NOT have fewer than ${e.minimum} items`;else if(e.code===Ut.custom){const{value:r,format:s}=null!==(t=e.params)&&void 0!==t?t:{};n=void 0===r?`value at "/${i}" is required`:`value "${"object"==typeof r?JSON.stringify(r):r}" at "/${i}" must pass "${s}" validation`,o={value:r}}return{keyword:null!=r?r:s,instancePath:a?`/${a}`:"",schemaPath:i?`#${i}`:"#",params:null!=o?o:{value:e.message},message:null!=n?n:e.message}}))}}const qo=new class{constructor(){this._validator=Wo.factory()}validateJSONSchema(e,t,n){return this._validator.validate(e,t,n)}validate(e,t,n={silent:!1}){var r,o;const i=po(e);if(!Array.isArray(i.items)||0!==(null===(r=i.items)||void 0===r?void 0:r.length)||0!==t.length){if(Array.isArray(i.items)&&0===(null===(o=i.items)||void 0===o?void 0:o.length)&&0!==t.length)throw new eo([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(i,t,n)}}};function Ko(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const{uint8ArrayToHexString:Go}=r,Yo=e=>Go((e=>{if(qo.validate(["bytes"],[e]),Ko(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)})(e)),Qo=(e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},Zo=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),Yo((new TextEncoder).encode(t))},Jo=(e,t)=>{if("string"==typeof e&&Co(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":Qo(e);if("bigint"==typeof e)return t?"bigint":Qo(e);if(Ko(e))return t?"bytes":Yo(e);if("object"==typeof e&&e)return t?"string":Zo(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":Qo(e);if(oo(e))return t?"bytes":e;if(so(e)&&!Do(e)&&!Po(e))return t?"bytes":`0x${e}`;if(so(e)&&!Do(e)&&Po(e))return t?"uint":Qo(e);if(!Number.isFinite(e))return t?"string":Zo(e)}throw new ut(e)};var Xo=n(4486);class ei extends Xo.A{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const ti=Uo,{parseBaseType:ni}=r;function ri(e){return(0,Tt.po)(e)}const oi=()=>{const e=ri(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Yo(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},ii=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&Uo(e.error)&&("number"==typeof e.id||"string"==typeof e.id),si=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&Uo(e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),ai=e=>ii(e)||si(e);let li;const ci=e=>{var t,n,r,o;return void 0!==li&&(li+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(r=null!==(n=e.id)&&void 0!==n?n:li)&&void 0!==r?r:oi(),method:e.method,params:null!==(o=e.params)&&void 0!==o?o:void 0}},ui=e=>Array.isArray(e)&&e.length>0;var di,hi,fi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class pi{constructor({timeout:e,eagerStart:t,timeoutMessage:n}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[di]="Promise",this._state="pending",this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._timeoutMessage=n,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return fi(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return fi(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return fi(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new de(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}di=Symbol.toStringTag;class mi{constructor(){this._emitter=new ei}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}!function(e){e.CONFIG_CHANGE="CONFIG_CHANGE"}(hi||(hi={}));class gi extends mi{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:Jo(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,defaultReturnFormat:d},this.setConfig(null!=e?e:{})}setConfig(e){const t=Object.keys(e);for(const n of t)this._triggerConfigChange(n,e[n]);Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!ti(this.config.defaultCommon)&&!ti(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new At(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!ti(this.config.defaultCommon)&&!ti(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new wt(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!ti(this.config.defaultHardfork)&&!ti(e)&&!ti(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new wt(this.config.defaultHardfork,e.hardfork);if(!ti(this.config.defaultChain)&&!ti(e)&&!ti(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new At(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}_triggerConfigChange(e,t){this.emit(hi.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var yi=n(4945);class vi extends b{constructor(e,t){if(super(),!vi.validateClientUrl(e))throw new ge(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return"string"==typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new ue}supportsSubscriptions(){return!1}request(e,t){var n,r,o,i,s;return r=this,o=void 0,s=function*(){const r=Object.assign(Object.assign({},null===(n=this.httpProviderOptions)||void 0===n?void 0:n.providerOptions),t),o=yield yi(this.clientUrl,Object.assign(Object.assign({},r),{method:"POST",headers:Object.assign(Object.assign({},r.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!o.ok)throw new vt(yield o.json());return yield o.json()},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}l((s=s.apply(r,o||[])).next())}))}on(){throw new ue}removeListener(){throw new ue}once(){throw new ue}removeAllListeners(){throw new ue}connect(){throw new ue}disconnect(){throw new ue}reset(){throw new ue}reconnect(){throw new ue}}var bi=null;"undefined"!=typeof WebSocket?bi=WebSocket:"undefined"!=typeof MozWebSocket?bi=MozWebSocket:void 0!==n.g?bi=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?bi=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(bi=self.WebSocket||self.MozWebSocket);const wi=bi;BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const{uint8ArrayToHexString:Ai}=r,Ei=e=>Ai((e=>{if(qo.validate(["bytes"],[e]),function(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)})(e));Xo.A;const xi=Uo,{parseBaseType:Si}=r,ki=()=>{const e=ri(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Ei(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},Ii=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&Uo(e.error)&&("number"==typeof e.id||"string"==typeof e.id),_i=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&Uo(e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),Ri=e=>!(Array.isArray(e)||!e||"2.0"!==e.jsonrpc||Uo(e.params)||Uo(e.method)),Ci=e=>Ii(e)||_i(e),Ti=e=>Array.isArray(e)&&e.length>0&&(e=>Array.isArray(e)?e.every(Ci):Ci(e))(e);let Pi;const Di=e=>{var t,n,r,o;return void 0!==Pi&&(Pi+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(r=null!==(n=e.id)&&void 0!==n?n:Pi)&&void 0!==r?r:ki(),method:e.method,params:null!==(o=e.params)&&void 0!==o?o:void 0}};var Oi,Mi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ni{constructor({timeout:e,eagerStart:t,timeoutMessage:n}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[Oi]="Promise",this._state="pending",this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._timeoutMessage=n,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return Mi(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return Mi(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return Mi(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new de(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}Oi=Symbol.toStringTag;class Bi{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimeout=15e3}clearQueues(){"function"==typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((e=>{let n,r=e;this.lastChunk&&(r=this.lastChunk+r);try{n=JSON.parse(r)}catch(e){return this.lastChunk=r,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),void(this.lastChunkTimeout=setTimeout((()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new bt({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))}),this.chunkTimeout))}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,n&&t.push(n)})),t}}var Li=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Fi extends b{constructor(){super(...arguments),this._eventEmitter=new Xo.b,this._chainId="",this._accounts=[]}_getChainId(){var e;return Li(this,void 0,void 0,(function*(){const t=yield this.request(Di({method:"eth_chainId",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:""}))}_getAccounts(){var e;return Li(this,void 0,void 0,(function*(){const t=yield this.request(Di({method:"eth_accounts",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]}))}_onConnect(){Promise.all([this._getChainId().then((e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))})).catch((e=>{console.error(e)})),this._getAccounts().then((e=>{this._accounts.length===e.length&&e.every((t=>e.includes(t)))||(this._accounts=e,this._onAccountsChanged())})).catch((e=>{console.error(e)}))]).then((()=>this._eventEmitter.emit("connect",{chainId:this._chainId}))).catch((e=>{console.error(e)}))}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new kt(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var Ui=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const $i={autoReconnect:!0,delay:5e3,maxAttempts:5};class ji extends Fi{constructor(e,t,n){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new ge(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},$i),null!=n?n:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new Bi(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError((()=>{this._clearQueues()})),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(!this.isReconnecting)throw this._connectionStatus="disconnected",e&&e.message?new Q(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new ge(this._socketPath);setImmediate((()=>{this._reconnect()}))}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){const n=null!=e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(n,t),this._onDisconnect(n,t)}safeDisconnect(e,t,n=!1,r=1e3){return Ui(this,void 0,void 0,(function*(){let o=0;yield(()=>Ui(this,void 0,void 0,(function*(){return new Promise((e=>{const t=setInterval((()=>{n&&o>=5&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),o+=1}),r)}))})))(),this.disconnect(e,t)}))}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((e,t)=>{e.deferredPromise.reject(new X),this._sentRequestsQueue.delete(t)})),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout((()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1}),this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new J(this._reconnectOptions.maxAttempts))))}request(e){return Ui(this,void 0,void 0,(function*(){if(xi(this._socketConnection))throw new Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();const t=(e=>Array.isArray(e)&&e.length>0)(e)?e[0].id:e.id;if(!t)throw new ve("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new ee(t);const n=new Ni;n.catch((e=>{this._eventEmitter.emit("error",e)}));const r={payload:e,deferredPromise:n};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,r),r.deferredPromise;this._sentRequestsQueue.set(t,r);try{this._sendToSocket(r.payload)}catch(e){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",e)}return n}))}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,t]of this._pendingRequestsQueue.entries())try{this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}catch(t){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",t)}}_onMessage(e){const t=this._parseResponses(e);if(!xi(t)&&0!==t.length)for(const e of t){if(Ri(e)&&e.method.endsWith("_subscription"))return void this._eventEmitter.emit("message",e);const t=Ti(e)?e[0].id:e.id,n=this._sentRequestsQueue.get(t);if(!n)return;(Ti(e)||Ii(e)||_i(e))&&(this._eventEmitter.emit("message",e),n.deferredPromise.resolve(e)),this._sentRequestsQueue.delete(t)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new Z(e)),this._pendingRequestsQueue.delete(n)})),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new Z(e)),this._sentRequestsQueue.delete(n)})),this._removeSocketListeners()}}class zi extends ji{constructor(e,t,n){super(e,t,n)}_validateProviderPath(e){return"string"==typeof e&&/^ws(s)?:\/\//i.test(e)}getStatus(){if(this._socketConnection&&!xi(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new wi(this._socketPath,void 0,this._socketOptions&&0===Object.keys(this._socketOptions).length?void 0:this._socketOptions)}_closeSocketConnection(e,t){var n;null===(n=this._socketConnection)||void 0===n||n.close(e,t)}_sendToSocket(e){var t;if("disconnected"===this.getStatus())throw new Z;null===(t=this._socketConnection)||void 0===t||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,n,r;null===(e=this._socketConnection)||void 0===e||e.addEventListener("open",this._onOpenHandler),null===(t=this._socketConnection)||void 0===t||t.addEventListener("message",this._onMessageHandler),null===(n=this._socketConnection)||void 0===n||n.addEventListener("close",(e=>this._onCloseHandler(e))),null===(r=this._socketConnection)||void 0===r||r.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,n;null===(e=this._socketConnection)||void 0===e||e.removeEventListener("message",this._onMessageHandler),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("open",this._onOpenHandler),null===(n=this._socketConnection)||void 0===n||n.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;!this._reconnectOptions.autoReconnect||[1e3,1001].includes(e.code)&&e.wasClean?(this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("error",this._onErrorHandler)):this._reconnect()}}const Vi=e=>b.isWeb3Provider(e),Hi=e=>"string"!=typeof e&&"request"in e&&"Function"===e.request.constructor.name,Wi=e=>"string"!=typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,qi=e=>"string"!=typeof e&&"send"in e,Ki=e=>"string"!=typeof e&&"sendAsync"in e,Gi=e=>e&&(Vi(e)||Wi(e)||Hi(e)||Ki(e)||qi(e));var Yi,Qi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.PROVIDER_CHANGED="PROVIDER_CHANGED",e.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"}(Yi||(Yi={}));const Zi={HttpProvider:vi,WebsocketProvider:zi};class Ji extends mi{constructor(e,t,n){super(),ti(e)||this.setProvider(e),this.useRpcCallSpecification=t,ti(n)||(this.middleware=n)}static get providers(){return Zi}get provider(){return this._provider}get providers(){return Zi}setProvider(e){let t;if(e&&"string"==typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else{if(!/^ws(s)?:\/\//i.test(e))throw new me(`Can't autodetect provider for "${e}"`);t=new this.providers.WebsocketProvider(e)}else t=ti(e)?void 0:e;return this.emit(Yi.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(Yi.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return Qi(this,void 0,void 0,(function*(){const t=Object.assign({},e);let n=yield this._sendRequest(t);if(ti(this.middleware)||(n=yield this.middleware.processResponse(n)),ii(n))return n.result;throw new vt(n)}))}sendBatch(e){return Qi(this,void 0,void 0,(function*(){return yield this._sendRequest(e)}))}_sendRequest(e){return Qi(this,void 0,void 0,(function*(){const{provider:t}=this;if(ti(t))throw new me("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let n=ui(e)?e.map((e=>ci(e))):ci(e);if(ti(this.middleware)||(n=yield this.middleware.processRequest(n)),Vi(t)){let e;try{e=yield t.request(n)}catch(t){e=t}return this._processJsonRpcResponse(n,e,{legacy:!1,error:!1})}if(Wi(t))return t.request(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));if(Hi(t))return new Promise(((e,r)=>{const o=e=>{r(this._processJsonRpcResponse(n,e,{legacy:!0,error:!0}))},i=t=>e(this._processJsonRpcResponse(n,t,{legacy:!0,error:!1})),s=t.request(n,((e,t)=>e?o(e):i(t)));var a;"object"!=typeof(a=s)&&"function"!=typeof a||"function"!=typeof a.then||s.then(i).catch((e=>{try{const t=this._processJsonRpcResponse(n,e,{legacy:!0,error:!0});r(t)}catch(e){r(e)}}))}));if(qi(t))return new Promise(((e,r)=>{t.send(n,((t,o)=>{if(t)return r(this._processJsonRpcResponse(n,t,{legacy:!0,error:!0}));if(ti(o))throw new vt({},'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(n,o,{legacy:!0,error:!1}))}))}));if(Ki(t))return t.sendAsync(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));throw new me("Provider does not have a request or send method to use.")}))}_processJsonRpcResponse(e,t,{legacy:n,error:r}){if(ti(t))return this._buildResponse(e,null,r);if(si(t)){if(this.useRpcCallSpecification&&(e=>{const t=e.error.code;return It.has(t)||t>=-32099&&t<=-32e3})(t)){const e=t;if(It.get(e.error.code))throw new(0,It.get(e.error.code).error)(e);throw new St(e)}if(!Ji._isReverted(t))throw new bt(t,e)}if(ii(t))return t;if(t instanceof Error)throw Ji._isReverted(t),t;if(!n&&ui(e)&&(e=>Array.isArray(e)&&e.length>0&&(e=>Array.isArray(e)?e.every(ai):ai(e))(e))(t))return t;if(n&&!r&&ui(e))return t;if(n&&r&&ui(e))throw t;if(n&&!si(t)&&!ii(t))return this._buildResponse(e,t,r);if(ui(e)&&!Array.isArray(t))throw new vt(t,"Got normal response for a batch request.");if(!ui(e)&&Array.isArray(t))throw new vt(t,"Got batch response for a normal request.");throw new vt(t,"Invalid response")}static _isReverted(e){let t;if(si(e)?t=e.error:e instanceof Error&&(t=e),null==t?void 0:t.message.includes("revert"))throw new oe(t);return!1}_buildResponse(e,t,n){const r={jsonrpc:"2.0",id:ui(e)?e[0].id:"id"in e?e.id:null};return n?Object.assign(Object.assign({},r),{error:t}):Object.assign(Object.assign({},r),{result:t})}}var Xi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class es{constructor(e,t,n=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=n,this._subscriptions=new Map,this.requestManager.on(Yi.BEFORE_PROVIDER_CHANGE,(()=>Xi(this,void 0,void 0,(function*(){yield this.unsubscribe()})))),this.requestManager.on(Yi.PROVIDER_CHANGED,(()=>{this.clear(),this.listenToProviderEvents()})),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;this.requestManager.provider&&("function"!=typeof(null==e?void 0:e.supportsSubscriptions)||(null==e?void 0:e.supportsSubscriptions()))&&"function"==typeof this.requestManager.provider.on&&("function"==typeof this.requestManager.provider.request?this.requestManager.provider.on("message",(e=>this.messageListener(e))):e.on("data",(e=>this.messageListener(e))))}messageListener(e){var t,n,r;if(!e)throw new ye("Should not call messageListener with no data. Type was");const o=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(n=e.data)||void 0===n?void 0:n.subscription)||(null===(r=e.id)||void 0===r?void 0:r.toString(16));if(o){const t=this._subscriptions.get(o);null==t||t.processSubscriptionData(e)}}subscribe(e,t,n=d){return Xi(this,void 0,void 0,(function*(){const r=this.registeredSubscriptions[e];if(!r)throw new ye("Invalid subscription type");const o=new r(null!=t?t:void 0,{subscriptionManager:this,returnFormat:n});return yield this.addSubscription(o),o}))}get subscriptions(){return this._subscriptions}addSubscription(e){return Xi(this,void 0,void 0,(function*(){if(!this.requestManager.provider)throw new me("Provider not available");if(!this.supportsSubscriptions())throw new ye("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new ye(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),ti(e.id))throw new ye("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id}))}removeSubscription(e){return Xi(this,void 0,void 0,(function*(){const{id:t}=e;if(ti(t))throw new ye("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new ye(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t}))}unsubscribe(e){return Xi(this,void 0,void 0,(function*(){const t=[];for(const[n,r]of this.subscriptions.entries())(!e||"function"==typeof e&&e({id:n,sub:r}))&&t.push(this.removeSubscription(r));return Promise.all(t)}))}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!ti(this.requestManager.provider)&&((e=this.requestManager.provider)&&"supportsSubscriptions"in e?e.supportsSubscriptions():!(!e||"string"==typeof e||!("on"in e)));var e}}var ts=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class ns extends mi{constructor(e,t){var n;super(),this.args=e;const{requestManager:r}=t,{subscriptionManager:o}=t;this._subscriptionManager=r?new es(r,{},!0):o,this._returnFormat=null!==(n=null==t?void 0:t.returnFormat)&&void 0!==n?n:d}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return ts(this,void 0,void 0,(function*(){return this._subscriptionManager.addSubscription(this)}))}processSubscriptionData(e){var t,n,r;(null==e?void 0:e.data)?this._processSubscriptionResult(null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==n?n:null==e?void 0:e.data):e&&(r=e,!Array.isArray(r)&&r&&"2.0"===r.jsonrpc&&!Uo(r.params)&&!Uo(r.method))&&this._processSubscriptionResult(null==e?void 0:e.params.result)}sendSubscriptionRequest(){return ts(this,void 0,void 0,(function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id}))}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return ts(this,void 0,void 0,(function*(){yield this.unsubscribe(),yield this.subscribe()}))}unsubscribe(){return ts(this,void 0,void 0,(function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))}))}sendUnsubscribeRequest(){return ts(this,void 0,void 0,(function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0}))}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var rs=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class os extends w{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return!t||22!==t.code&&1014!==t.code&&"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||Uo(e)||0===e.length?void 0:e}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if("string"==typeof e)return this.add(this._accountProvider.privateKeyToAccount(e));let n=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),n=null!==(t=this._addressMap.get(e.address.toLowerCase()))&&void 0!==t?t:n),this._addressMap.set(e.address.toLowerCase(),n),this[n]=e,this}get(e){if("string"==typeof e){const t=this._addressMap.get(e.toLowerCase());return Uo(t)?void 0:this[t]}return this[e]}remove(e){if("string"==typeof e){const t=this._addressMap.get(e.toLowerCase());return!Uo(t)&&(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return!!this[e]&&(this.splice(e,1),!0)}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return rs(this,void 0,void 0,(function*(){return Promise.all(this.map((n=>rs(this,void 0,void 0,(function*(){return n.encrypt(e,t)})))))}))}decrypt(e,t,n){return rs(this,void 0,void 0,(function*(){const r=yield Promise.all(e.map((e=>rs(this,void 0,void 0,(function*(){return this._accountProvider.decrypt(e,t,n)})))));for(const e of r)this.add(e);return this}))}save(e,t){return rs(this,void 0,void 0,(function*(){const n=os.getStorage();if(!n)throw new Error("Local storage not available.");return n.setItem(null!=t?t:this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0}))}load(e,t){return rs(this,void 0,void 0,(function*(){const n=os.getStorage();if(!n)throw new Error("Local storage not available.");const r=n.getItem(null!=t?t:this._defaultKeyName);return r&&(yield this.decrypt(JSON.parse(r)||[],e)),this}))}}const is={web:n(8160).E};function ss(e,t,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(16!==t.length)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&16!==e.length||n.startsWith("aes-256")&&32!==e.length)throw new Error("AES: wrong key length")}async function as(e,t,n){if(!is.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await is.web.subtle.importKey("raw",t,{name:`AES-${r.toUpperCase()}`,length:8*t.length},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function ls(e,t,n,r="aes-128-ctr",o=!0){if(ss(t,n,r),is.web){const[i,s]=await as(r,t,n),a=await is.web.subtle.encrypt(s,i,e);let l=new Uint8Array(a);return o||"aes-cbc"!==s.name||e.length%16||(l=l.slice(0,-16)),l}if(is.node){const i=is.node.createCipheriv(r,t,n);return i.setAutoPadding(o),(0,Tt.Id)(i.update(e),i.final())}throw new Error("The environment doesn't have AES module")}var cs=n(2200),us=n(8226),ds=n(4443);function hs(e,t,n,r,o){if(!["sha256","sha512"].includes(o))throw new Error("Only sha256 and sha512 are supported");return Pt(e),Pt(t),(0,cs.A)("sha256"===o?us.s:ds.Zf,e,t,{c:n,dkLen:r})}function fs(e,t,n,r,o,i){let s=e[t++]^n[r++],a=e[t++]^n[r++],l=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],d=e[t++]^n[r++],h=e[t++]^n[r++],f=e[t++]^n[r++],p=e[t++]^n[r++],m=e[t++]^n[r++],g=e[t++]^n[r++],y=e[t++]^n[r++],v=e[t++]^n[r++],b=e[t++]^n[r++],w=e[t++]^n[r++],A=e[t++]^n[r++],E=s,x=a,S=l,k=c,I=u,_=d,R=h,C=f,T=p,P=m,D=g,O=y,M=v,N=b,B=w,L=A;for(let e=0;e<8;e+=2)I^=(0,Tt.aZ)(E+M|0,7),T^=(0,Tt.aZ)(I+E|0,9),M^=(0,Tt.aZ)(T+I|0,13),E^=(0,Tt.aZ)(M+T|0,18),P^=(0,Tt.aZ)(_+x|0,7),N^=(0,Tt.aZ)(P+_|0,9),x^=(0,Tt.aZ)(N+P|0,13),_^=(0,Tt.aZ)(x+N|0,18),B^=(0,Tt.aZ)(D+R|0,7),S^=(0,Tt.aZ)(B+D|0,9),R^=(0,Tt.aZ)(S+B|0,13),D^=(0,Tt.aZ)(R+S|0,18),k^=(0,Tt.aZ)(L+O|0,7),C^=(0,Tt.aZ)(k+L|0,9),O^=(0,Tt.aZ)(C+k|0,13),L^=(0,Tt.aZ)(O+C|0,18),x^=(0,Tt.aZ)(E+k|0,7),S^=(0,Tt.aZ)(x+E|0,9),k^=(0,Tt.aZ)(S+x|0,13),E^=(0,Tt.aZ)(k+S|0,18),R^=(0,Tt.aZ)(_+I|0,7),C^=(0,Tt.aZ)(R+_|0,9),I^=(0,Tt.aZ)(C+R|0,13),_^=(0,Tt.aZ)(I+C|0,18),O^=(0,Tt.aZ)(D+P|0,7),T^=(0,Tt.aZ)(O+D|0,9),P^=(0,Tt.aZ)(T+O|0,13),D^=(0,Tt.aZ)(P+T|0,18),M^=(0,Tt.aZ)(L+B|0,7),N^=(0,Tt.aZ)(M+L|0,9),B^=(0,Tt.aZ)(N+M|0,13),L^=(0,Tt.aZ)(B+N|0,18);o[i++]=s+E|0,o[i++]=a+x|0,o[i++]=l+S|0,o[i++]=c+k|0,o[i++]=u+I|0,o[i++]=d+_|0,o[i++]=h+R|0,o[i++]=f+C|0,o[i++]=p+T|0,o[i++]=m+P|0,o[i++]=g+D|0,o[i++]=y+O|0,o[i++]=v+M|0,o[i++]=b+N|0,o[i++]=w+B|0,o[i++]=A+L|0}function ps(e,t,n,r,o){let i=r+0,s=r+16*o;for(let r=0;r<16;r++)n[s+r]=e[t+16*(2*o-1)+r];for(let r=0;r<o;r++,i+=16,t+=16)fs(n,s,e,t,n,i),r>0&&(s+=16),fs(n,i,e,t+=16,n,s)}function ms(e,t,n,r,o,i,s){return Pt(e),Pt(t),function(e,t,n){const{N:r,r:o,p:i,dkLen:s,blockSize32:a,V:l,B32:c,B:u,tmp:d,blockMixCb:h}=function(e,t,n){const r=(0,Tt.tY)({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:o,r:i,p:s,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if((0,Ct.ai)(o),(0,Ct.ai)(i),(0,Ct.ai)(s),(0,Ct.ai)(a),(0,Ct.ai)(l),(0,Ct.ai)(c),void 0!==u&&"function"!=typeof u)throw new Error("progressCb should be function");const d=128*i,h=d/4;if(o<=1||o&o-1||o>=2**(d/8)||o>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>137438953440/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=d*(o+s);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);const p=(0,cs.A)(us.s,e,t,{c:1,dkLen:d*s}),m=(0,Tt.DH)(p),g=(0,Tt.DH)(new Uint8Array(d*o)),y=(0,Tt.DH)(new Uint8Array(d));let v=()=>{};if(u){const e=2*o*s,t=Math.max(Math.floor(e/1e4),1);let n=0;v=()=>{n++,!u||n%t&&n!==e||u(n/e)}}return{N:o,r:i,p:s,dkLen:a,blockSize32:h,V:g,B32:m,B:p,tmp:y,blockMixCb:v,asyncTick:l}}(e,t,n);Tt.qv||(0,Tt.Fc)(c);for(let e=0;e<i;e++){const t=a*e;for(let e=0;e<a;e++)l[e]=c[t+e];for(let e=0,t=0;e<r-1;e++)ps(l,t,l,t+=a,o),h();ps(l,(r-1)*a,c,t,o),h();for(let e=0;e<r;e++){const e=c[t+a-16]%r;for(let n=0;n<a;n++)d[n]=c[t+n]^l[e*a+n];ps(d,0,c,t,o),h()}}return Tt.qv||(0,Tt.Fc)(c),function(e,t,n,r,o){const i=(0,cs.A)(us.s,e,n,{c:1,dkLen:t});return n.fill(0),r.fill(0),o.fill(0),i}(e,s,u,l,d)}(e,t,{N:n,r:o,p:r,dkLen:i,onProgress:s})}function gs(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}function ys(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}function vs(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n+=1)if(e[n]!==t[n])return!1;return!0}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const bs=e=>{if(qo.validate(["bytes"],[e]),gs(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)},{uint8ArrayToHexString:ws}=r,As=e=>ws(bs(e)),Es=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?bs(`0x${e}`):bs(e),xs=(e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},Ss=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),As((new TextEncoder).encode(t))},ks=Ss,Is=Tt.AI,_s=e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(Is(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r};class Rs extends Xo.A{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const{parseBaseType:Cs}=r,Ts="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Ps=e=>{const t=(e=>{let t;t="string"==typeof e?e.startsWith("0x")&&oo(e)?Es(e):(0,Tt.AI)(e):e;const n=(e=>{let t;return t="bigint"==typeof e||"number"==typeof e?(0,Tt.AI)(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||oo(e)?bs(e):(0,Tt.AI)(e),As(Mt(ko(t)))})(t);return n===Ts?void 0:n})(e);return Uo(t)?Ts:t},Ds=e=>ri(e),Os=()=>{const e=Ds(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=As(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")};Symbol.toStringTag;var Ms,Ns=n(4329);const Bs=null!==(Ms=Ns.bI)&&void 0!==Ms?Ms:o,Ls=BigInt("0xffffffffffffffff"),Fs=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Us=Bs.CURVE.n/BigInt(2),$s={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var js,zs,Vs,Hs,Ws,qs;!function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"}(js||(js={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(zs||(zs={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(Vs||(Vs={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(Hs||(Hs={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(Ws||(Ws={})),function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"}(qs||(qs={}));const Ks=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return ao(e)?e.slice(2):e},Gs=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};function Ys(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}const Qs=function(e){var t;if(null==e)return new Uint8Array;if(e instanceof Uint8Array)return e;if("Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name))return Uint8Array.from(e);if(Array.isArray(e))return Uint8Array.from(e);if("string"==typeof e){if(!io(e))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return Es(Ys(Ks(e)))}if("number"==typeof e)return Qs(xs(e));if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t=`0${t}`),Qs(`0x${t}`)}if(e.toArray)return Uint8Array.from(e.toArray());throw new Error("invalid type")};function Zs(e){const t=As(e);return"0x"===t?BigInt(0):BigInt(t)}const Js=function(e){return new Uint8Array(e).fill(0)};function Xs(e){if(!gs(e))throw new Error(`This method only supports Uint8Array but input was: ${e}`)}const ea=function(e,t){return Xs(e),function(e,t){const n=Js(t);return e.length<t?(n.set(e,t-e.length),n):e.subarray(-t)}(e,t)},ta=function(e){return Xs(e),function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}(e)},na=e=>`0x${e.toString(16)}`;function ra(e){return ta(Qs(`0x${e.toString(16)}`))}const oa=function(e,t,n,r,o){const i=function(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}(t,o);if(!function(e){return e===BigInt(0)||e===BigInt(1)}(i))throw new Error("Invalid signature v value");return new Bs.Signature(Zs(n),Zs(r)).addRecoveryBit(Number(i)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function ia(e,t){if(null===e)return null;if(void 0===e)return;if("string"==typeof e&&!io(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=Qs(e);switch(t){case qs.Uint8Array:return n;case qs.BigInt:return Zs(n);case qs.Number:{const e=Zs(n);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case qs.PrefixedHexString:return As(n);default:throw new Error("unknown outputType")}}var sa=n(6289),aa=n(2566);const la={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},ca={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},ua={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},da={1153:{name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},1559:{name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},2315:{name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},2537:{name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},2565:{name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},2718:{name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},2929:{name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},2930:{name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},3198:{name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},3529:{name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},3540:{name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},3541:{name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3554:{name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3651:{name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},3670:{name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3855:{name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},3860:{name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},4345:{name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},5133:{name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}},ha={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge:{name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]}},{buf:fa}=aa;class pa extends Rs{constructor(e){var t,n;super(),this._eips=[],this._customChains=null!==(t=e.customChains)&&void 0!==t?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=null!==(n=this._chainParams.defaultHardfork)&&void 0!==n?n:zs.Merge,this.HARDFORK_CHANGES=this.hardforks().map((e=>[e.name,ha[e.name]])),this._hardfork=this.DEFAULT_HARDFORK,void 0!==e.hardfork&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){var n;const r=null!==(n=t.baseChain)&&void 0!==n?n:"mainnet",o=Object.assign({},pa._getChainParams(r));if(o.name="custom-chain","string"!=typeof e)return new pa(Object.assign({chain:Object.assign(Object.assign({},o),e)},t));if(e===Ws.PolygonMainnet)return pa.custom({name:Ws.PolygonMainnet,chainId:137,networkId:137},t);if(e===Ws.PolygonMumbai)return pa.custom({name:Ws.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===Ws.ArbitrumRinkebyTestnet)return pa.custom({name:Ws.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===Ws.ArbitrumOne)return pa.custom({name:Ws.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===Ws.xDaiChain)return pa.custom({name:Ws.xDaiChain,chainId:100,networkId:100},t);if(e===Ws.OptimisticKovan)return pa.custom({name:Ws.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:zs.Berlin},t));if(e===Ws.OptimisticEthereum)return pa.custom({name:Ws.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:zs.Berlin},t));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:n,genesisHash:r,hardfork:o,mergeForkIdPostMerge:i}){var s;const a=function(e,t,n){try{if(["config","difficulty","gasLimit","alloc"].some((t=>!(t in e))))throw new Error("Invalid format, expected geth genesis fields missing");return void 0!==t&&(e.name=t),function(e,t=!0){var n,r;const{name:o,config:i,difficulty:s,mixHash:a,gasLimit:l,coinbase:c,baseFeePerGas:u}=e;let{extraData:d,timestamp:h,nonce:f}=e;const p=Number(h),{chainId:m}=i;if(""===d&&(d="0x"),ao(h)||(h=Gs(parseInt(h))),18!==f.length&&(f=function(e){return e&&"0x0"!==e?ao(e)?`0x${Ks(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`:"0x0000000000000000"}(f)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const g={name:o,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(l),difficulty:parseInt(s),nonce:f,extraData:d,mixHash:a,coinbase:c,baseFeePerGas:u},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:void 0!==i.clique?{type:"poa",algorithm:"clique",clique:{period:null!==(n=i.clique.period)&&void 0!==n?n:i.clique.blockperiodseconds,epoch:null!==(r=i.clique.epoch)&&void 0!==r?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},y={[zs.Homestead]:{name:"homesteadBlock"},[zs.Dao]:{name:"daoForkBlock"},[zs.TangerineWhistle]:{name:"eip150Block"},[zs.SpuriousDragon]:{name:"eip155Block"},[zs.Byzantium]:{name:"byzantiumBlock"},[zs.Constantinople]:{name:"constantinopleBlock"},[zs.Petersburg]:{name:"petersburgBlock"},[zs.Istanbul]:{name:"istanbulBlock"},[zs.MuirGlacier]:{name:"muirGlacierBlock"},[zs.Berlin]:{name:"berlinBlock"},[zs.London]:{name:"londonBlock"},[zs.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[zs.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[zs.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},v=Object.keys(y).reduce(((e,t)=>(e[y[t].name]=t,e)),{}),b=Object.keys(i).filter((e=>void 0!==v[e]&&void 0!==i[e]&&null!==i[e]));if(g.hardforks=b.map((e=>({name:v[e],block:!0===y[v[e]].isTimestamp||"number"!=typeof i[e]?null:i[e],timestamp:!0===y[v[e]].isTimestamp&&"number"==typeof i[e]?i[e]:void 0}))).filter((e=>null!==e.block||void 0!==e.timestamp)),g.hardforks.sort(((e,t)=>{var n,r;return(null!==(n=e.block)&&void 0!==n?n:1/0)-(null!==(r=t.block)&&void 0!==r?r:1/0)})),g.hardforks.sort(((e,t)=>{var n,r;return(null!==(n=e.timestamp)&&void 0!==n?n:p)-(null!==(r=t.timestamp)&&void 0!==r?r:p)})),void 0!==i.terminalTotalDifficulty){const e={name:zs.Merge,ttd:i.terminalTotalDifficulty,block:null},t=g.hardforks.findIndex((e=>{var t;return!0===(null===(t=y[e.name])||void 0===t?void 0:t.postMerge)}));-1!==t?g.hardforks.splice(t,0,e):g.hardforks.push(e)}const w=g.hardforks.length>0?g.hardforks.slice(-1)[0]:void 0;return g.hardfork=null==w?void 0:w.name,g.hardforks.unshift({name:zs.Chainstart,block:0}),g}(e,n)}catch(e){throw new Error(`Error parsing parameters file: ${e.message}`)}}(e,t,i),l=new pa({chain:null!==(s=a.name)&&void 0!==s?s:"custom",customChains:[a],eips:n,hardfork:null!=o?o:a.hardfork});return void 0!==r&&l.setForkHashes(r),l}static isSupportedChainId(e){const t=this._getInitializedChains();return Boolean(t.names[e.toString()])}static _getChainParams(e,t){let n=e;const r=this._getInitializedChains(t);if("number"==typeof n||"bigint"==typeof n){if(n=n.toString(),r.names[n])return r[r.names[n]];throw new Error(`Chain with ID ${n} not supported`)}if(void 0!==r[n])return r[n];throw new Error(`Chain with name ${n} not supported`)}setChain(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)this._chainParams=pa._getChainParams(e,this._customChains);else{if("object"!=typeof e)throw new Error("Wrong input format");{if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}}for(const e of this.hardforks())if(void 0===e.block)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,n){const r=ia(e,qs.BigInt),o=ia(t,qs.BigInt),i=ia(n,qs.Number),s=this.hardforks().filter((e=>null!==e.block||null!==e.ttd&&void 0!==e.ttd||void 0!==e.timestamp)),a=s.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(s.slice(a+1).findIndex((e=>null!==e.ttd&&void 0!==e.ttd))>=0)throw Error("More than one merge hardforks found with ttd specified");let l=s.findIndex((e=>null!==e.block&&e.block>r||void 0!==i&&Number(e.timestamp)>i));if(-1===l)l=s.length;else if(0===l)throw Error("Must have at least one hardfork at block 0");if(void 0===i&&(l-=s.slice(0,l).reverse().findIndex((e=>null!==e.block||void 0!==e.ttd))),l-=1,null===s[l].block&&void 0===s[l].timestamp)(null==o||BigInt(s[l].ttd)>o)&&(l-=1);else if(a>=0&&null!=o){if(l>=a&&BigInt(s[a].ttd)>o)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(l<a&&BigInt(s[a].ttd)<=o)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const c=l;for(;l<s.length-1&&s[l].block===s[l+1].block&&s[l].timestamp===s[l+1].timestamp;l+=1);if(i){const e=s.slice(0,c).reduce(((e,t)=>{var n;return Math.max(Number(null!==(n=t.timestamp)&&void 0!==n?n:"0"),e)}),0);if(e>i)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");const t=s.slice(l+1).reduce(((e,t)=>{var n;return Math.min(Number(null!==(n=t.timestamp)&&void 0!==n?n:i),e)}),i);if(t<i)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return s[l].name}setHardforkByBlockNumber(e,t,n){const r=this.getHardforkByBlockNumber(e,t,n);return this.setHardfork(r),r}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(e=[]){for(const t of e){if(!(t in da))throw new Error(`${t} not supported`);const n=this.gteHardfork(da[t].minimumHardfork);if(!n)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(void 0!==da[t].requiredEIPs)for(const n of da[t].requiredEIPs)if(!e.includes(n)&&!this.isActivatedEIP(n))throw new Error(`${t} requires EIP ${n}, but is not included in the EIP list`)}this._eips=e}param(e,t){let n;for(const r of this._eips)if(n=this.paramByEIP(e,t,r),void 0!==n)return n;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,n){let r=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const n=o[1].eips;for(const o of n){const n=this.paramByEIP(e,t,o);r="bigint"==typeof n?n:r}}else{if(void 0===o[1][e])throw new Error(`Topic ${e} not defined`);void 0!==o[1][e][t]&&(r=o[1][e][t].v)}if(o[0]===n)break}return BigInt(null!=r?r:0)}paramByEIP(e,t,n){if(!(n in da))throw new Error(`${n} not supported`);const r=da[n];if(!(e in r))throw new Error(`Topic ${e} not defined`);if(void 0===r[e][t])return;const o=r[e][t].v;return BigInt(o)}paramByBlock(e,t,n,r,o){const i=this.getHardforkByBlockNumber(n,r,o);return this.paramByHardfork(e,t,i)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const n=t[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){const n=ia(t,qs.BigInt),r=null!=e?e:this._hardfork,o=this.hardforkBlock(r);return"bigint"==typeof o&&o!==BigInt(0)&&n>=o}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){const n=null!=e?e:this._hardfork,r=this.hardforks();let o=-1,i=-1,s=0;for(const e of r)e.name===n&&(o=s),e.name===t&&(i=s),s+=1;return o>=i&&-1!==i}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;const n=null!=e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.block;return null==r?null:BigInt(r)}hardforkTimestamp(e){var t;const n=null!=e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.timestamp;return null==r?null:BigInt(r)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock("number"==typeof t[0]?String(t[0]):t[0])}return null}hardforkTTD(e){var t;const n=null!=e?e:this._hardfork,r=null===(t=this._getHardfork(n))||void 0===t?void 0:t.ttd;return null==r?null:BigInt(r)}isHardforkBlock(e,t){const n=ia(e,qs.BigInt),r=null!=t?t:this._hardfork,o=this.hardforkBlock(r);return"bigint"==typeof o&&o!==BigInt(0)&&o===n}nextHardforkBlockOrTimestamp(e){var t,n;const r=null!=e?e:this._hardfork,o=this.hardforks();let i=o.findIndex((e=>e.name===r));if(r===zs.Merge&&(i-=1),i<0)return null;let s=null!==(t=o[i].timestamp)&&void 0!==t?t:o[i].block;s=null!=s?Number(s):null;const a=o.slice(i+1).find((e=>{var t;let n=null!==(t=e.timestamp)&&void 0!==t?t:e.block;return n=null!=n?Number(n):null,e.name!==zs.Merge&&null!=n&&n!==s}));if(void 0===a)return null;const l=null!==(n=a.timestamp)&&void 0!==n?n:a.block;return null==l?null:BigInt(l)}nextHardforkBlock(e){const t=null!=e?e:this._hardfork;let n=this.hardforkBlock(t);if(null===n&&t===zs.Merge){const e=this.hardforks(),t=e.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(t<0)throw Error("Merge hardfork should have been found");n=this.hardforkBlock(e[t-1].name)}return null===n?null:this.hardforks().reduce(((e,t)=>{const r=BigInt(null===t.block||void 0!==t.ttd&&null!==t.ttd?0:t.block);return r>n&&null===e?r:e}),null)}isNextHardforkBlock(e,t){const n=ia(e,qs.BigInt),r=null!=t?t:this._hardfork,o=this.nextHardforkBlock(r);return null!==o&&o===n}_calcForkHash(e,t){let n=new Uint8Array,r=0;for(const t of this.hardforks()){const{block:o,timestamp:i,name:s}=t;let a=null!=i?i:o;if(a=null!==a?Number(a):null,"number"==typeof a&&0!==a&&a!==r&&s!==zs.Merge&&(n=ys(n,Es(a.toString(16).padStart(16,"0"))),r=a),t.name===e)break}const o=ys(t,n);return As(function(e){const t=Gs(e);return Es(`0x${Ys(t.slice(2))}`)}(fa(o)>>>0))}forkHash(e,t){const n=null!=e?e:this._hardfork,r=this._getHardfork(n);if(null===r||null===(null==r?void 0:r.block)&&void 0===(null==r?void 0:r.timestamp)&&void 0===(null==r?void 0:r.ttd))throw new Error("No fork hash calculation possible for future hardfork");if(null!==(null==r?void 0:r.forkHash)&&void 0!==(null==r?void 0:r.forkHash))return r.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(n,t)}hardforkForForkHash(e){const t=this.hardforks().filter((t=>t.forkHash===e));return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(const n of this.hardforks()){const r=null!==(t=n.timestamp)&&void 0!==t?t:n.block;null!==n.forkHash&&void 0!==n.forkHash||null==r&&void 0===n.ttd||(n.forkHash=this.forkHash(n.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return null!=t?t:this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return null!=t?t:this._chainParams.consensus.algorithm}consensusConfig(){var e;const t=this.hardfork();let n;for(const e of this.HARDFORK_CHANGES)if("consensus"in e[1]&&(n=e[1].consensus[e[1].consensus.algorithm]),e[0]===t)break;return null!==(e=null!=n?n:this._chainParams.consensus[this.consensusAlgorithm()])&&void 0!==e?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[e,n]of Object.entries(js))t[n]=e.toLowerCase();const n={mainnet:ca,goerli:la,sepolia:ua};if(e)for(const r of e){const{name:e}=r;t[r.chainId.toString()]=e,n[e]=r}return n.names=t,n}}var ma;!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(ma||(ma={}));class ga{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new ga(Js(20))}equals(e){return vs(this.buf,e.buf)}isZero(){return this.equals(ga.zero())}toString(){return As(this.buf)}toArray(){return this.buf}static publicToAddress(e,t=!1){let n=e;if(Xs(n),t&&64!==n.length&&(n=Bs.ProjectivePoint.fromHex(n).toRawBytes(!1).slice(1)),64!==n.length)throw new Error("Expected pubKey to be of length 64");return Mt(n).slice(-20)}}const ya=e=>{let t,n;if(function(e){if(0===e.length)return!0;const t=e[0];return!!Array.isArray(t)}(e)){n=null!=e?e:[];const r=[];for(let e=0;e<n.length;e+=1){const t=n[e],o=As(t[0]),i=[];for(let e=0;e<t[1].length;e+=1)i.push(As(t[1][e]));const s={address:o,storageKeys:i};r.push(s)}t=r}else{t=e;const r=[];for(let t=0;t<e.length;t+=1){const n=e[t],o=Qs(n.address),i=[];for(let e=0;e<n.storageKeys.length;e+=1)i.push(Qs(n.storageKeys[e]));r.push([o,i])}n=r}return{AccessListJSON:t,accessList:n}},va=e=>{for(let t=0;t<e.length;t+=1){const n=e[t],r=n[0],o=n[1];if(void 0!==n[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==r.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<o.length;e+=1)if(32!==o[e].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},ba=e=>{const t=[];for(let n=0;n<e.length;n+=1){const r=e[n],o={address:As(ea(r[0],20)),storageKeys:[]},i=r&&r[1];for(let e=0;e<i.length;e+=1){const t=i[e];o.storageKeys.push(As(ea(t,32)))}t.push(o)}return t},wa=(e,t)=>{const n=t.param("gasPrices","accessListStorageKeyCost"),r=t.param("gasPrices","accessListAddressCost");let o=0;for(let t=0;t<e.length;t+=1)o+=e[t][1].length;return e.length*Number(r)+o*Number(n)};class Aa{constructor(e,t){var n,r;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=js.Mainnet,this.DEFAULT_HARDFORK=zs.Merge;const{nonce:o,gasLimit:i,to:s,value:a,data:l,v:c,r:u,s:d,type:h}=e;this._type=Number(Zs(Qs(h))),this.txOptions=t;const f=Qs(""===s?"0x":s),p=Qs(""===c?"0x":c),m=Qs(""===u?"0x":u),g=Qs(""===d?"0x":d);this.nonce=Zs(Qs(""===o?"0x":o)),this.gasLimit=Zs(Qs(""===i?"0x":i)),this.to=f.length>0?new ga(f):void 0,this.value=Zs(Qs(""===a?"0x":a)),this.data=Qs(""===l?"0x":l),this.v=p.length>0?Zs(p):void 0,this.r=m.length>0?Zs(m):void 0,this.s=g.length>0?Zs(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const y=void 0===this.to||null===this.to,v=null!==(n=t.allowUnlimitedInitCodeSize)&&void 0!==n&&n,b=null!==(r=t.common)&&void 0!==r?r:this._getCommon();y&&b.isActivatedEIP(3860)&&!v&&((e,t)=>{const n=e.param("vm","maxInitCodeSize");if(n&&BigInt(t)>n)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)})(b,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){const{v:e}=this;if(void 0!==e&&e!==BigInt(0)&&e!==BigInt(1)){const e=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(e)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&void 0!==e&&e>Us){const e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let r=0;r<this.data.length;r+=1)0===this.data[r]?n+=e:n+=t;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){const e=BigInt(Math.ceil(this.data.length/32));n+=this.common.param("gasPrices","initCodeWordCost")*e}return n}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){const{v:e,r:t,s:n}=this;return void 0!==e&&void 0!==t&&void 0!==n}verifySignature(){try{const e=this.getSenderPublicKey();return 0!==ta(e).length}catch(e){return!1}}getSenderAddress(){return new ga(ga.publicToAddress(this.getSenderPublicKey()))}sign(e){if(32!==e.length){const e=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(e)}let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(ma.EIP155ReplayProtection)&&(this.activeCapabilities.push(ma.EIP155ReplayProtection),t=!0);const n=this.getMessageToSign(!0),{v:r,r:o,s:i}=this._ecsign(n,e),s=this._processSignature(r,o,i);if(t){const e=this.activeCapabilities.indexOf(ma.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return s}_getCommon(e,t){var n,r,o,i;if(void 0!==t){const n=Zs(Qs(t));if(e){if(e.chainId()!==n){const e=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(e)}return e.copy()}return pa.isSupportedChainId(n)?new pa({chain:n,hardfork:this.DEFAULT_HARDFORK}):pa.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if((null==e?void 0:e.copy)&&"function"==typeof(null==e?void 0:e.copy))return e.copy();if(e){const t="function"==typeof e.hardfork?e.hardfork():e.hardfork;return pa.custom({name:"custom-chain",networkId:e.networkId?e.networkId():null!==(r=BigInt(null===(n=e.customChain)||void 0===n?void 0:n.networkId))&&void 0!==r?r:void 0,chainId:e.chainId?e.chainId():null!==(i=BigInt(null===(o=e.customChain)||void 0===o?void 0:o.chainId))&&void 0!==i?i:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:t||this.DEFAULT_HARDFORK})}return new pa({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,n=!1){for(const[r,o]of Object.entries(e))switch(t){case 64:if(n){if(void 0!==o&&o>=Ls){const e=this._errorMsg(`${r} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(e)}}else if(void 0!==o&&o>Ls){const e=this._errorMsg(`${r} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(e)}break;case 256:if(n){if(void 0!==o&&o>=Fs){const e=this._errorMsg(`${r} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(e)}}else if(void 0!==o&&o>Fs){const e=this._errorMsg(`${r} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(e)}break;default:{const e=this._errorMsg("unimplemented bits value");throw new Error(e)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,r]of Object.entries(e))if(t.includes(n)&&Array.isArray(r))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?As(this.hash()):"not available (unsigned)"}catch(t){e="error"}let t="";try{t=this.isSigned().toString()}catch(t){e="error"}let n="";try{n=this.common.hardfork()}catch(e){n="error"}let r=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return r+=`signed=${t} hf=${n}`,r}_ecsign(e,t,n){const r=Bs.sign(e,t),o=r.toCompactRawBytes();return{r:o.subarray(0,32),s:o.subarray(32,64),v:void 0===n?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(n)*BigInt(2)}}static fromSerializedTx(e,t={}){}static fromTxData(e,t={}){}}const Ea=Es(2..toString(16).padStart(2,"0"));class xa extends Aa{constructor(e,t={}){var n;super(Object.assign(Object.assign({},e),{type:2}),t),this.DEFAULT_HARDFORK="london";const{chainId:r,accessList:o,maxFeePerGas:i,maxPriorityFeePerGas:s}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const a=ya(null!=o?o:[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,va(this.accessList),this.maxFeePerGas=Zs(Qs(""===i?"0x":i)),this.maxPriorityFeePerGas=Zs(Qs(""===s?"0x":s)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Aa._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Fs){const e=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const e=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(e)}this._validateYParity(),this._validateHighS(),(null===(n=null==t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}static fromTxData(e,t={}){return new xa(e,t)}static fromSerializedTx(e,t={}){if(!vs(e.subarray(0,1),Ea))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${As(e.subarray(0,1))}`);const n=sa.Tj.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return xa.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,r,o,i,s,a,l,c,u,d,h,f]=e;return this._validateNotArray({chainId:n,v:d}),lo({nonce:r,maxPriorityFeePerGas:o,maxFeePerGas:i,gasLimit:s,value:l,v:d,r:h,s:f}),new xa({chainId:Zs(n),nonce:r,maxPriorityFeePerGas:o,maxFeePerGas:i,gasLimit:s,to:a,value:l,data:c,accessList:null!=u?u:[],v:void 0!==d?Zs(d):void 0,r:h,s:f},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(wa(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,r=(t<n?t:n)+e;return this.gasLimit*r+this.value}raw(){return[ra(this.chainId),ra(this.nonce),ra(this.maxPriorityFeePerGas),ra(this.maxFeePerGas),ra(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),ra(this.value),this.data,this.accessList,void 0!==this.v?ra(this.v):Uint8Array.from([]),void 0!==this.r?ra(this.r):Uint8Array.from([]),void 0!==this.s?ra(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return ys(Ea,sa.Tj.encode(e))}getMessageToSign(e=!0){const t=this.raw().slice(0,9),n=ys(Ea,sa.Tj.encode(t));return e?Mt(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Mt(this.serialize())),this.cache.hash):Mt(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return oa(e,t+BigInt(27),ra(n),ra(r))}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,n){const r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return xa.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Zs(t),s:Zs(n)},r)}toJSON(){const e=ba(this.accessList);return{chainId:na(this.chainId),nonce:na(this.nonce),maxPriorityFeePerGas:na(this.maxPriorityFeePerGas),maxFeePerGas:na(this.maxFeePerGas),gasLimit:na(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:na(this.value),data:As(this.data),accessList:e,v:void 0!==this.v?na(this.v):void 0,r:void 0!==this.r?na(this.r):void 0,s:void 0!==this.s?na(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Sa=Es(1..toString(16).padStart(2,"0"));class ka extends Aa{constructor(e,t={}){var n;super(Object.assign(Object.assign({},e),{type:1}),t),this.DEFAULT_HARDFORK="berlin";const{chainId:r,accessList:o,gasPrice:i}=e;if(this.common=this._getCommon(t.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const s=ya(null!=o?o:[]);if(this.accessList=s.accessList,this.AccessListJSON=s.AccessListJSON,va(this.accessList),this.gasPrice=Zs(Qs(""===i?"0x":i)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Aa._validateNotArray(e),this.gasPrice*this.gasLimit>Fs){const e=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(e)}this._validateYParity(),this._validateHighS(),(null===(n=null==t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}static fromTxData(e,t={}){return new ka(e,t)}static fromSerializedTx(e,t={}){if(!vs(e.subarray(0,1),Sa))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${As(e.subarray(0,1))}`);const n=sa.Tj.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return ka.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,r,o,i,s,a,l,c,u,d,h]=e;return this._validateNotArray({chainId:n,v:u}),lo({nonce:r,gasPrice:o,gasLimit:i,value:a,v:u,r:d,s:h}),new ka({chainId:Zs(n),nonce:r,gasPrice:o,gasLimit:i,to:s,value:a,data:l,accessList:null!=c?c:[],v:void 0!==u?Zs(u):void 0,r:d,s:h},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(wa(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[ra(this.chainId),ra(this.nonce),ra(this.gasPrice),ra(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),ra(this.value),this.data,this.accessList,void 0!==this.v?ra(this.v):Uint8Array.from([]),void 0!==this.r?ra(this.r):Uint8Array.from([]),void 0!==this.s?ra(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return ys(Sa,sa.Tj.encode(e))}getMessageToSign(e=!0){const t=this.raw().slice(0,8),n=ys(Sa,sa.Tj.encode(t));return e?Mt(n):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Mt(this.serialize())),this.cache.hash):Mt(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return oa(e,t+BigInt(27),ra(n),ra(r))}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,n){const r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return ka.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Zs(t),s:Zs(n)},r)}toJSON(){const e=ba(this.accessList);return{chainId:na(this.chainId),nonce:na(this.nonce),gasPrice:na(this.gasPrice),gasLimit:na(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:na(this.value),data:As(this.data),accessList:e,v:void 0!==this.v?na(this.v):void 0,r:void 0!==this.r?na(this.r):void 0,s:void 0!==this.s?na(this.s):void 0}}errorStr(){var e,t;let n=this._getSharedErrorPostfix();return n+=` gasPrice=${this.gasPrice} accessListCount=${null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0}`,n}_errorMsg(e){return`${e} (${this.errorStr()})`}}function Ia(e,t){const n=Number(e),r=2*Number(t);return n===r+35||n===r+36}class _a extends Aa{constructor(e,t={}){var n;if(super(Object.assign(Object.assign({},e),{type:0}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=Zs(Qs(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Fs){const e=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Aa._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?Ia(this.v,this.common.chainId())&&this.activeCapabilities.push(ma.EIP155ReplayProtection):this.activeCapabilities.push(ma.EIP155ReplayProtection)),(null===(n=null==t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(this)}static fromTxData(e,t={}){return new _a(e,t)}static fromSerializedTx(e,t={}){const n=sa.Tj.decode(e);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,r,o,i,s,a,l,c,u]=e;return lo({nonce:n,gasPrice:r,gasLimit:o,value:s,v:l,r:c,s:u}),new _a({nonce:n,gasPrice:r,gasLimit:o,to:i,value:s,data:a,v:l,r:c,s:u},t)}raw(){return[ra(this.nonce),ra(this.gasPrice),ra(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),ra(this.value),this.data,void 0!==this.v?ra(this.v):Uint8Array.from([]),void 0!==this.r?ra(this.r):Uint8Array.from([]),void 0!==this.s?ra(this.s):Uint8Array.from([])]}serialize(){return sa.Tj.encode(this.raw())}_getMessageToSign(){const e=[ra(this.nonce),ra(this.gasPrice),ra(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),ra(this.value),this.data];return this.supports(ma.EIP155ReplayProtection)&&(e.push(Qs(this.common.chainId())),e.push(ta(Qs(0))),e.push(ta(Qs(0)))),e}getMessageToSign(e=!0){const t=this._getMessageToSign();return e?Mt(sa.Tj.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Mt(sa.Tj.encode(this.raw()))),this.cache.hash):Mt(sa.Tj.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}const e=this._getMessageToSign();return Mt(sa.Tj.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:n,s:r}=this;this._validateHighS();try{return oa(e,t,ra(n),ra(r),this.supports(ma.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(e){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,n){let r=e;this.supports(ma.EIP155ReplayProtection)&&(r+=this.common.chainId()*BigInt(2)+BigInt(8));const o=Object.assign(Object.assign({},this.txOptions),{common:this.common});return _a.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:r,r:Zs(t),s:Zs(n)},o)}toJSON(){return{nonce:na(this.nonce),gasPrice:na(this.gasPrice),gasLimit:na(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:na(this.value),data:As(this.data),v:void 0!==this.v?na(this.v):void 0,r:void 0!==this.r?na(this.r):void 0,s:void 0!==this.s?na(this.s):void 0}}_validateTxV(e,t){let n;const r=void 0!==e?Number(e):void 0;if(void 0!==r&&r<37&&27!==r&&28!==r)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${r}`);if(void 0!==r&&0!==r&&(!t||t.gteHardfork("spuriousDragon"))&&27!==r&&28!==r)if(t){if(!Ia(BigInt(r),t.chainId()))throw new Error(`Incompatible EIP155-based V ${r} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let e;e=(r-35)%2==0?35:36,n=BigInt(r-e)/BigInt(2)}return this._getCommon(t,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Ra=new Map;class Ca{constructor(){}static typeToInt(e){return Number(Zs(Qs(e)))}static registerTransactionType(e,t){const n=Ca.typeToInt(e);Ra.set(n,t)}static fromTxData(e,t={}){if(!("type"in e)||void 0===e.type)return _a.fromTxData(e,t);const n=Ca.typeToInt(e.type);if(0===n)return _a.fromTxData(e,t);if(1===n)return ka.fromTxData(e,t);if(2===n)return xa.fromTxData(e,t);const r=Ra.get(n);if(null==r?void 0:r.fromTxData)return r.fromTxData(e,t);throw new Error(`Tx instantiation with type ${n} not supported`)}static fromSerializedData(e,t={}){if(!(e[0]<=127))return _a.fromSerializedTx(e,t);switch(e[0]){case 1:return ka.fromSerializedTx(e,t);case 2:return xa.fromSerializedTx(e,t);default:{const n=Ra.get(Number(e[0]));if(null==n?void 0:n.fromSerializedTx)return n.fromSerializedTx(e,t);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}}static fromBlockBodyData(e,t={}){if(gs(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return _a.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}}var Ta=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Pa=(e,t)=>{let n;if(!t&&"string"==typeof e&&oo(e)&&66!==e.length)throw new j;try{n=gs(e)?e:bs(e)}catch(e){throw new z}if(!t&&32!==n.byteLength)throw new j;return n},Da=e=>{const t=oo(e)?e:Ss(e),n=Es(t),r=ys(Es(ks(`Ethereum Signed Message:\n${n.byteLength}`)),n);return Ps(r)},Oa=(e,t)=>{const n=Pa(t),r=Da(e),o=Bs.sign(r.substring(2),n),i=o.toCompactRawBytes(),s=o.r.toString(16).padStart(64,"0"),a=o.s.toString(16).padStart(64,"0"),l=o.recovery+27;return{message:e,messageHash:r,v:xs(l),r:`0x${s}`,s:`0x${a}`,signature:`${As(i)}${l.toString(16)}`}},Ma=e=>{if(Uo(e))throw new Se;const t=Ca.fromSerializedData(Es(e));return _s(t.getSenderAddress().toString())},Na=(e,t,n,r,o)=>{if("object"==typeof e){const t=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return Na(e.messageHash,t,n)}if("string"==typeof t&&"string"==typeof n&&!Uo(r)){const i=`${n}${r.slice(2)}${t.slice(2)}`;return Na(e,i,o)}if(Uo(t))throw new V("signature string undefined");const i=n?e:Da(e);let s=parseInt(t.substring(130),16);s>26&&(s-=27);const a=Bs.Signature.fromCompact(t.slice(2,130)).addRecoveryBit(s).recoverPublicKey(i.replace("0x","")).toRawBytes(!1),l=Ps(a.subarray(1));return _s(`0x${l.slice(-40)}`)},Ba=e=>{const t=Pa(e),n=Bs.getPublicKey(t,!1),r=Ps(n.slice(1)).slice(-40);return _s(`0x${r}`)},La=(e,t)=>{const n=Pa(e);return`0x${As(Bs.getPublicKey(n,t)).slice(4)}`},Fa=(e,t,n)=>Ta(void 0,void 0,void 0,(function*(){var r,o,i,s,a,l,c;const u=Pa(e);let d;if(d=(null==n?void 0:n.salt)?"string"==typeof n.salt?Es(n.salt):n.salt:Ds(32),!ro(t)&&!gs(t))throw new K;const h="string"==typeof t?Es(Ss(t)):t;let f;if(null==n?void 0:n.iv){if(f="string"==typeof n.iv?Es(n.iv):n.iv,16!==f.length)throw new G}else f=Ds(16);const p=null!==(r=null==n?void 0:n.kdf)&&void 0!==r?r:"scrypt";let m,g;if("pbkdf2"===p){if(g={dklen:null!==(o=null==n?void 0:n.dklen)&&void 0!==o?o:32,salt:As(d).replace("0x",""),c:null!==(i=null==n?void 0:n.c)&&void 0!==i?i:262144,prf:"hmac-sha256"},g.c<1e3)throw new Y;m=hs(h,d,g.c,g.dklen,"sha256")}else{if("scrypt"!==p)throw new H;g={n:null!==(s=null==n?void 0:n.n)&&void 0!==s?s:8192,r:null!==(a=null==n?void 0:n.r)&&void 0!==a?a:8,p:null!==(l=null==n?void 0:n.p)&&void 0!==l?l:1,dklen:null!==(c=null==n?void 0:n.dklen)&&void 0!==c?c:32,salt:As(d).replace("0x","")},m=ms(h,d,g.n,g.p,g.r,g.dklen)}const y=yield ls(u,m.slice(0,16),f,"aes-128-ctr"),v=As(y).slice(2),b=Ps(ys(m.slice(16,32),y)).replace("0x","");return{version:3,id:Os(),address:Ba(u).toLowerCase().replace("0x",""),crypto:{ciphertext:v,cipherparams:{iv:As(f).replace("0x","")},cipher:"aes-128-ctr",kdf:p,kdfparams:g,mac:b}}})),Ua=(e,t)=>{const n=Pa(e,t);return{address:Ba(n),privateKey:As(n),signTransaction:e=>{throw new tt("Do not have network access to sign the transaction")},sign:e=>Oa("string"==typeof e?e:JSON.stringify(e),n),encrypt:(e,t)=>Ta(void 0,void 0,void 0,(function*(){return Fa(n,e,t)}))}};var $a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class ja{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map((e=>e.payload))}add(e){const t=ci(e),n=new pi;return this._requests.set(t.id,{payload:t,promise:n}),n}execute(e){var t;return $a(this,void 0,void 0,(function*(){if(0===this.requests.length)return Promise.resolve([]);const n=new pi({timeout:null!==(t=null==e?void 0:e.timeout)&&void 0!==t?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(n).catch((e=>n.reject(e))),n.catch((e=>{e instanceof de&&this._abortAllRequests("Batch request timeout"),n.reject(e)})),n}))}_processBatchRequest(e){var t,n;return $a(this,void 0,void 0,(function*(){const r=yield this._requestManager.sendBatch([...this._requests.values()].map((e=>e.payload)));if(r.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new vt(r,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${r.length}`);const o=this.requests.map((e=>e.id)).map(Number).sort(((e,t)=>e-t)),i=r.map((e=>e.id)).map(Number).sort(((e,t)=>e-t));if(JSON.stringify(o)!==JSON.stringify(i))throw this._abortAllRequests("Invalid batch response"),new vt(r,`Batch request mismatch the results. Requests: [${o.join()}], Responses: [${i.join()}]`);for(const e of r)ii(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):si(e)&&(null===(n=this._requests.get(e.id))||void 0===n||n.promise.reject(e.error));e.resolve(r)}))}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new he(e))}}class za extends gi{constructor(e){var t;if(super(),this.providers=Ji.providers,ti(e)||"string"==typeof e&&""!==e.trim()||Gi(e))return this._requestManager=new Ji(e),void(this._subscriptionManager=new es(this._requestManager,{}));const{config:n,provider:r,requestManager:o,subscriptionManager:i,registeredSubscriptions:s,accountProvider:a,wallet:l,requestManagerMiddleware:c}=e;this.setConfig(null!=n?n:{}),this._requestManager=null!=o?o:new Ji(r,null===(t=null==n?void 0:n.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout,c),this._subscriptionManager=i||new es(this.requestManager,null!=s?s:{}),a&&(this._accountProvider=a),l&&(this._wallet=l)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...t){const n=new e(...[...t,this.getContextObject()]);return this.on(hi.CONFIG_CHANGE,(e=>{n.setConfig({[e.name]:e.newValue})})),this[e.name]=n,n}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(hi.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new pe(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return za.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return ja.bind(void 0,this._requestManager)}extend(e){var t;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach((t=>{const n=(...e)=>{return n=this,r=void 0,i=function*(){return this.requestManager.send({method:t.call,params:e})},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function a(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(n,r||[])).next())}));var n,r,o,i};e.property?this[e.property][t.name]=n:this[t.name]=n})),this}}za.providers=Ji.providers,BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const{uint8ArrayToHexString:Va}=r,Ha=Tt.AI;Xo.A;const Wa=(e,t,n="0")=>"string"==typeof e?oo(e)?wo(e,t,n):e.padStart(t,n):(qo.validate(["int"],[e]),wo(e,t,n)),{parseBaseType:qa}=r;Symbol.toStringTag;class Ka{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const e=this._iban.slice(4),t=Ka._parseInt(e,36);return(e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(Ha(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r})(Wa(t,40))}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},!Ka.isIndirect(e)&&!Ka.isDirect(e))throw new Error("Invalid IBAN was provided");this._iban=e}static isDirect(e){return 34===e.length||35===e.length}isDirect(){return Ka.isDirect(this._iban)}static isIndirect(e){return 20===e.length}isIndirect(){return Ka.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&1===Ka._mod9710(Ka._iso13616Prepare(e))}isValid(){return Ka.isValid(this._iban)}static fromBban(e){const t=`0${(98-this._mod9710(this._iso13616Prepare(`XE00${e}`))).toString()}`.slice(-2);return new Ka(`XE${t}${e}`)}static createIndirect(e){return Ka.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!Co(e))throw new st(e);const t=BigInt((r=e,qo.validate(["hex"],[r]),vo(r))).toString(36),n=Wa(t,15);var r;return Ka.fromBban(n.toUpperCase())}static toIban(e){return Ka.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Ka._iso13616Prepare=e=>{const t="A".charCodeAt(0),n="Z".charCodeAt(0),r=e.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map((e=>{const r=e.charCodeAt(0);return r>=t&&r<=n?r-t+10:e})).join("")},Ka._parseInt=(e,t)=>[...e].reduce(((e,n)=>BigInt(parseInt(n,t))+BigInt(t)*e),BigInt(0)),Ka._mod9710=e=>{let t,n=e;for(;n.length>2;)t=n.slice(0,9),n=`${(parseInt(t,10)%97).toString()}${n.slice(t.length)}`;return parseInt(n,10)%97},Ka.toAddress=e=>new Ka(e).toAddress();var Ga,Ya=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Qa extends mi{constructor(e){super(),this[Ga]="Promise",this._promise=new Promise(e)}then(e,t){return Ya(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return Ya(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return Ya(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}function Za(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}Ga=Symbol.toStringTag,n(2791);BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9);const Ja=BigInt(1e9),Xa=(BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000"),e=>{if(qo.validate(["bytes"],[e]),Za(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)}),{uint8ArrayToHexString:el}=r,tl=e=>el(Xa(e)),nl=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?Xa(`0x${e}`):Xa(e),rl=(e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},ol=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),tl((new TextEncoder).encode(t))},il=e=>Dt(nl(e)),sl=Tt.AI,al=(e,t)=>{if("string"==typeof e&&Co(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":rl(e);if("bigint"==typeof e)return t?"bigint":rl(e);if(Za(e))return t?"bytes":tl(e);if("object"==typeof e&&e)return t?"string":ol(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":rl(e);if(oo(e))return t?"bytes":e;if(so(e)&&!Do(e)&&!Po(e))return t?"bytes":`0x${e}`;if(so(e)&&!Do(e)&&Po(e))return t?"uint":rl(e);if(!Number.isFinite(e))return t?"string":ol(e)}throw new ut(e)},ll=e=>{if("number"==typeof e)return e>1e20?(console.warn("Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods"),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&oo(e))return(e=>(qo.validate(["hex"],[e]),vo(e)))(e);try{return ll(BigInt(e))}catch(t){throw new it(e)}},cl=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&so(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new it(e)},ul=e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(sl(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r};Xo.A;const dl=Uo,hl=e=>!("object"!=typeof e||Uo(e)||Array.isArray(e)||e instanceof g),fl=(e,...t)=>{if(!hl(e))return e;const n=Object.assign({},e);for(const e of t)for(const t in e)hl(e[t])?(n[t]||(n[t]={}),n[t]=fl(n[t],e[t])):!Uo(e[t])&&Object.hasOwnProperty.call(e,t)&&(Array.isArray(e[t])||e[t]instanceof g?n[t]=e[t].slice(0):n[t]=e[t]);return n},{parseBaseType:pl}=r,ml=(e,t,n=[])=>{let r,o=Object.assign({},e);for(const e of t){if(o.oneOf&&r){const e=r,t=n.find((([t])=>t===e));t&&t[0]===r&&(o=o.oneOf[t[1]])}if(!o.properties&&!o.items)return;o.properties?o=o.properties[e]:o.items&&o.items.properties?o=o.items.properties[e]:o.items&&$o(o.items)?o=o.items:o.items&&Array.isArray(o.items)&&(o=o.items[parseInt(e,10)]),o&&e&&(r=e)}return o},gl=(e,t,n)=>{try{const{baseType:r,baseTypeSize:o}=pl(t);if("int"===r||"uint"===r)switch(n.number){case s.NUMBER:return Number(cl(e));case s.HEX:return rl(cl(e));case s.STR:return cl(e).toString();case s.BIGINT:return cl(e);default:throw new ce(`Invalid format: ${String(n.number)}`)}if("bytes"===r){let t;switch(o?"string"==typeof e?t=((e,t,n="0")=>"string"==typeof e?oo(e)?wo(e,t,n):e.padStart(t,n):(qo.validate(["int"],[e]),wo(e,t,n)))(e,2*o):Za(e)&&(t=function(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(new Uint8Array(o-e.length),e)):t=e,n.bytes){case a.HEX:return tl(Xa(t));case a.UINT8ARRAY:return Xa(t);default:throw new ce(`Invalid format: ${String(n.bytes)}`)}}}catch(t){return e}return e},yl=({value:e,schemaProp:t,schema:n,object:r,key:o,dataPath:i,format:s,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(e)){let u=t;if(void 0!==(null==t?void 0:t.oneOf)&&t.oneOf.forEach(((n,r)=>{var i,s;!Array.isArray(null==t?void 0:t.items)&&("object"==typeof e[0]&&"object"===(null===(i=null==n?void 0:n.items)||void 0===i?void 0:i.type)||"string"==typeof e[0]&&"object"!==(null===(s=null==n?void 0:n.items)||void 0===s?void 0:s.type))&&(u=n,a.push([o,r]))})),Uo(null==u?void 0:u.items))return delete r[o],i.pop(),!0;if($o(u.items)&&!Uo(u.items.format)){for(let t=0;t<e.length;t+=1)r[o][t]=gl(e[t],null===(l=null==u?void 0:u.items)||void 0===l?void 0:l.format,s);return i.pop(),!0}if(!Array.isArray(null==u?void 0:u.items)&&"object"===(null===(c=null==u?void 0:u.items)||void 0===c?void 0:c.type)){for(const t of e)vl(t,n,i,s,a);return i.pop(),!0}if(Array.isArray(null==u?void 0:u.items)){for(let t=0;t<e.length;t+=1)r[o][t]=gl(e[t],u.items[t].format,s);return i.pop(),!0}}return!1},vl=(e,t,n,r,o=[])=>{var i;if(!$o(e)&&!Array.isArray(e))return gl(e,null==t?void 0:t.format,r);const s=e;if(Array.isArray(s)&&"array"===(null==t?void 0:t.type)&&"object"===(null===(i=null==t?void 0:t.items)||void 0===i?void 0:i.type))yl({value:s,schemaProp:t,schema:t,object:s,key:"",dataPath:n,format:r,oneOfPath:o});else for(const[e,i]of Object.entries(s)){n.push(e);const a=ml(t,n,o);Uo(a)?(delete s[e],n.pop()):$o(i)?(vl(i,t,n,r,o),n.pop()):yl({value:i,schemaProp:a,schema:t,object:s,key:e,dataPath:n,format:r,oneOfPath:o})||(s[e]=gl(i,a.format,r),n.pop())}return s},bl=(e,t,n=d)=>{let r;r=$o(t)?fl({},t):Array.isArray(t)?[...t]:t;const o=$o(e)?e:po(e);if(!o.properties&&!o.items&&!o.format)throw new ce("Invalid json schema for formatting");return vl(r,o,[],n)},wl="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Al=e=>{let t;return t="bigint"==typeof e||"number"==typeof e?(0,Tt.AI)(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||oo(e)?Xa(e):(0,Tt.AI)(e),tl(Mt(ko(t)))},El=e=>{const t=(e=>{let t;t="string"==typeof e?e.startsWith("0x")&&oo(e)?nl(e):(0,Tt.AI)(e):e;const n=Al(t);return n===wl?void 0:n})(e);return Uo(t)?wl:t};var xl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Sl(e,t){let n;const r=new Promise(((r,o)=>{n=setTimeout((()=>{o(t)}),e)}));return[n,r]}Symbol.toStringTag;var kl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Il(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_syncing",params:[]})}))}function _l(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})}))}function Rl(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag","bool"],[t,n]),e.send({method:"eth_getBlockByNumber",params:[t,n]})}))}var Cl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},Tl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Pl={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Dl={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Ol={type:"object",properties:{gasPrice:{type:"null"}}},Ml=(e,t,n)=>{try{qo.validateJSONSchema(e,t)}catch(e){if(e instanceof eo)throw new rt(e.errors,n);throw e}},Nl=e=>{var t,n;const r=e;if(!Uo(r.type)){let e;switch(r.type){case"0x0":e=Pl;break;case"0x1":e=Dl;break;case"0x2":e=Ol;break;default:return bl({format:"uint"},r.type,h)}return Ml(e,r,r.type),bl({format:"uint"},r.type,h)}if(!Uo(r.maxFeePerGas)||!Uo(r.maxPriorityFeePerGas))return Ml(Ol,r,"0x2"),"0x2";if(!Uo(r.accessList))return Ml(Dl,r,"0x1"),"0x1";const o=null!==(t=r.hardfork)&&void 0!==t?t:null===(n=r.common)||void 0===n?void 0:n.hardfork;if(!Uo(o)){const e=Object.keys(p).indexOf(o);if(e>=Object.keys(p).indexOf("london"))return Uo(r.gasPrice)?"0x2":"0x0";if(e===Object.keys(p).indexOf("berlin"))return"0x0"}return Uo(r.gasPrice)?void 0:(Ml(Pl,r,"0x0"),"0x0")},Bl=(e,t)=>{var n;return(null!==(n=null==t?void 0:t.transactionTypeParser)&&void 0!==n?n:Nl)(e)},Ll=e=>e[0]>127?"0x0":al(e[0]),Fl={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},Ul={type:"object",properties:{accessList:Object.assign({},Fl),gasUsed:{type:"string"}}},$l={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},jl={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},zl={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Fl),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},$l),hardfork:Object.assign({},jl),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},{type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}}),baseChain:Object.assign({},$l),hardfork:Object.assign({},jl)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},Vl={type:"object",properties:Object.assign(Object.assign({},zl.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Fl),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},Hl={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},Wl={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},Vl)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},Hl)},withdrawalsRoot:{format:"bytes32"}}},ql={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},Hl)},withdrawalsRoot:{format:"bytes32"}}},Kl={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},Gl={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Yl={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},Kl)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},Ql={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},Zl={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},Jl={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function Xl(e,t=d,n={transactionSchema:Vl,fillInputAndData:!1}){var r,o;let i=fl({},e);if(Uo(null==e?void 0:e.common)||(i.common=Object.assign({},e.common),Uo(null===(r=e.common)||void 0===r?void 0:r.customChain)||(i.common.customChain=Object.assign({},e.common.customChain))),i=bl(null!==(o=n.transactionSchema)&&void 0!==o?o:Vl,i,t),!Uo(i.data)&&!Uo(i.input)&&al(i.data)!==al(i.input))throw new Ge({data:tl(i.data),input:tl(i.input)});return n.fillInputAndData&&(Uo(i.data)?Uo(i.input)||(i.data=i.input):i.input=i.data),Uo(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function ec(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const tc=e=>{if(qo.validate(["bytes"],[e]),ec(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)},{uint8ArrayToHexString:nc}=r,rc=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&so(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new it(e)};Xo.A;const oc=e=>!("object"!=typeof e||Uo(e)||Array.isArray(e)||e instanceof g),ic=(e,...t)=>{if(!oc(e))return e;const n=Object.assign({},e);for(const e of t)for(const t in e)oc(e[t])?(n[t]||(n[t]={}),n[t]=ic(n[t],e[t])):!Uo(e[t])&&Object.hasOwnProperty.call(e,t)&&(Array.isArray(e[t])||e[t]instanceof g?n[t]=e[t].slice(0):n[t]=e[t]);return n},{parseBaseType:sc}=r,ac=(e,t,n=[])=>{let r,o=Object.assign({},e);for(const e of t){if(o.oneOf&&r){const e=r,t=n.find((([t])=>t===e));t&&t[0]===r&&(o=o.oneOf[t[1]])}if(!o.properties&&!o.items)return;o.properties?o=o.properties[e]:o.items&&o.items.properties?o=o.items.properties[e]:o.items&&$o(o.items)?o=o.items:o.items&&Array.isArray(o.items)&&(o=o.items[parseInt(e,10)]),o&&e&&(r=e)}return o},lc=(e,t,n)=>{try{const{baseType:o,baseTypeSize:i}=sc(t);if("int"===o||"uint"===o)switch(n.number){case s.NUMBER:return Number(rc(e));case s.HEX:return((e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n})(rc(e));case s.STR:return rc(e).toString();case s.BIGINT:return rc(e);default:throw new ce(`Invalid format: ${String(n.number)}`)}if("bytes"===o){let t;switch(i?"string"==typeof e?t=((e,t,n="0")=>"string"==typeof e?oo(e)?wo(e,t,n):e.padStart(t,n):(qo.validate(["int"],[e]),wo(e,t,n)))(e,2*i):ec(e)&&(t=function(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(new Uint8Array(i-e.length),e)):t=e,n.bytes){case a.HEX:return r=tc(t),nc(tc(r));case a.UINT8ARRAY:return tc(t);default:throw new ce(`Invalid format: ${String(n.bytes)}`)}}}catch(t){return e}var r;return e},cc=({value:e,schemaProp:t,schema:n,object:r,key:o,dataPath:i,format:s,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(e)){let u=t;if(void 0!==(null==t?void 0:t.oneOf)&&t.oneOf.forEach(((n,r)=>{var i,s;!Array.isArray(null==t?void 0:t.items)&&("object"==typeof e[0]&&"object"===(null===(i=null==n?void 0:n.items)||void 0===i?void 0:i.type)||"string"==typeof e[0]&&"object"!==(null===(s=null==n?void 0:n.items)||void 0===s?void 0:s.type))&&(u=n,a.push([o,r]))})),Uo(null==u?void 0:u.items))return delete r[o],i.pop(),!0;if($o(u.items)&&!Uo(u.items.format)){for(let t=0;t<e.length;t+=1)r[o][t]=lc(e[t],null===(l=null==u?void 0:u.items)||void 0===l?void 0:l.format,s);return i.pop(),!0}if(!Array.isArray(null==u?void 0:u.items)&&"object"===(null===(c=null==u?void 0:u.items)||void 0===c?void 0:c.type)){for(const t of e)uc(t,n,i,s,a);return i.pop(),!0}if(Array.isArray(null==u?void 0:u.items)){for(let t=0;t<e.length;t+=1)r[o][t]=lc(e[t],u.items[t].format,s);return i.pop(),!0}}return!1},uc=(e,t,n,r,o=[])=>{var i;if(!$o(e)&&!Array.isArray(e))return lc(e,null==t?void 0:t.format,r);const s=e;if(Array.isArray(s)&&"array"===(null==t?void 0:t.type)&&"object"===(null===(i=null==t?void 0:t.items)||void 0===i?void 0:i.type))cc({value:s,schemaProp:t,schema:t,object:s,key:"",dataPath:n,format:r,oneOfPath:o});else for(const[e,i]of Object.entries(s)){n.push(e);const a=ac(t,n,o);Uo(a)?(delete s[e],n.pop()):$o(i)?(uc(i,t,n,r,o),n.pop()):cc({value:i,schemaProp:a,schema:t,object:s,key:e,dataPath:n,format:r,oneOfPath:o})||(s[e]=lc(i,a.format,r),n.pop())}return s},dc=(e,t,n=d)=>{let r;r=$o(t)?ic({},t):Array.isArray(t)?[...t]:t;const o=$o(e)?e:po(e);if(!o.properties&&!o.items&&!o.format)throw new ce("Invalid json schema for formatting");return uc(r,o,[],n)};Symbol.toStringTag;var hc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function fc(e,t){return hc(this,void 0,void 0,(function*(){const n=yield function(e){return Cl(this,void 0,void 0,(function*(){return e.send({method:"net_version",params:[]})}))}(e.requestManager);return dc({format:"uint"},n,t)}))}const pc=e=>hc(void 0,void 0,void 0,(function*(){return function(e){return Cl(this,void 0,void 0,(function*(){return e.send({method:"net_listening",params:[]})}))}(e.requestManager)}));var mc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class gc extends za{getId(e=this.defaultReturnFormat){return mc(this,void 0,void 0,(function*(){return fc(this,e)}))}getPeerCount(e=this.defaultReturnFormat){return mc(this,void 0,void 0,(function*(){return function(e,t){return hc(this,void 0,void 0,(function*(){const n=yield function(e){return Cl(this,void 0,void 0,(function*(){return e.send({method:"net_peerCount",params:[]})}))}(e.requestManager);return dc({format:"uint"},n,t)}))}(this,e)}))}isListening(){return mc(this,void 0,void 0,(function*(){return pc(this)}))}}const yc="ALLEVENTS",vc={name:yc,signature:"",type:"event",inputs:[]},bc={bytes:a.HEX,number:s.NUMBER};var wc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Ac(e,t,n){return wc(this,void 0,void 0,(function*(){const r=Sc(e,t);if(!Uo(r)){if(r.startsWith("-"))throw new Ke(r);if(Number(r)<0||Number(r)>127)throw new Ke(r);if(Uo(e.gasPrice)&&("0x0"===r||"0x1"===r))return{gasPrice:yield Ou(t,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if("0x2"===r)return Object.assign({gasPrice:void 0},yield function(e,t,n){var r,o,i,s;return wc(this,void 0,void 0,(function*(){const a=yield Nu(t,t.defaultBlock,!1,h);if(Uo(a.baseFeePerGas))throw new qe;let l;if(Uo(e.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(l=yield Ou(t,n)),!Uo(e.gasPrice)||!Uo(l)){const t=bl({format:"uint"},null!==(r=e.gasPrice)&&void 0!==r?r:l,n);return{maxPriorityFeePerGas:t,maxFeePerGas:t}}return{maxPriorityFeePerGas:bl({format:"uint"},null!==(o=e.maxPriorityFeePerGas)&&void 0!==o?o:t.defaultMaxPriorityFeePerGas,n),maxFeePerGas:bl({format:"uint"},null!==(i=e.maxFeePerGas)&&void 0!==i?i:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt(null!==(s=e.maxPriorityFeePerGas)&&void 0!==s?s:t.defaultMaxPriorityFeePerGas),n)}}))}(e,t,n))}}))}var Ec=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const xc=(e,t,n,r)=>{if(void 0!==n&&e in n&&void 0!==n[e]){if("string"==typeof n[e]&&Co(n[e]))return n[e];if(!oo(n[e])&&Oo(n[e])){if(t.wallet){const r=t.wallet.get(bl({format:"uint"},n[e],bc));if(!Uo(r))return r.address;throw new nt}throw new nt}throw"from"===e?new Ie(n.from):new _e(n.to)}if("from"===e){if(!Uo(r))return Ba(r);if(!Uo(t.defaultAccount))return t.defaultAccount}},Sc=(e,t)=>{const n=Bl(e,t);return Uo(n)?Uo(t.defaultTransactionType)?void 0:bl({format:"uint"},t.defaultTransactionType,h):n};function kc(e){var t,n;return Ec(this,void 0,void 0,(function*(){let r=bl(zl,e.transaction,e.web3Context.defaultReturnFormat);if(Uo(r.from)&&(r.from=xc("from",e.web3Context,void 0,e.privateKey)),Uo(r.nonce)&&(r.nonce=yield((e,t,n=e.defaultReturnFormat)=>Ec(void 0,void 0,void 0,(function*(){if(Uo(t))throw new We;return Lu(e,t,e.defaultBlock,n)})))(e.web3Context,r.from,h)),Uo(r.value)&&(r.value="0x0"),Uo(r.data))Uo(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!Uo(r.input)&&r.data!==r.input)throw new Ge({data:tl(r.data),input:tl(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(Uo(r.common)){if(e.web3Context.defaultCommon){const t=e.web3Context.defaultCommon,n=t.customChain.chainId,o=t.customChain.networkId,i=t.customChain.name;r.common=Object.assign(Object.assign({},t),{customChain:{chainId:n,networkId:o,name:i}})}Uo(r.chain)&&(r.chain=e.web3Context.defaultChain),Uo(r.hardfork)&&(r.hardfork=e.web3Context.defaultHardfork)}if(Uo(r.chainId)&&Uo(null===(t=r.common)||void 0===t?void 0:t.customChain.chainId)&&(r.chainId=yield zu(e.web3Context,h)),Uo(r.networkId)&&(r.networkId=null!==(n=e.web3Context.defaultNetworkId)&&void 0!==n?n:yield fc(e.web3Context,h)),Uo(r.gasLimit)&&!Uo(r.gas)&&(r.gasLimit=r.gas),r.type=Sc(r,e.web3Context),!Uo(r.accessList)||"0x1"!==r.type&&"0x2"!==r.type||(r.accessList=[]),e.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield Ac(r,e.web3Context,h))),Uo(r.gas)&&Uo(r.gasLimit)&&e.fillGasLimit){const t=yield $u(e.web3Context,r,"latest",h);r=Object.assign(Object.assign({},r),{gas:bl({format:"uint"},t,h)})}return r}))}var Ic=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function _c(e,t,n){const r=e.transactionPollingInterval,[o,i]=function(e,t){let n;const r=new Promise(((r,o)=>{n=setInterval((()=>{(()=>{xl(this,void 0,void 0,(function*(){const t=yield e();t&&(clearInterval(n),o(t))}))})()}),t)}));return[n,r]}((()=>Ic(this,void 0,void 0,(function*(){let r;try{r=yield Mu(e,bc)}catch(e){return void console.warn("An error happen while trying to get the block number",e)}const o=r-t;if(o>=e.transactionBlockTimeout)return new Je({starterBlockNumber:t,numberOfBlocks:o,transactionHash:n})}))),r);return[i,{clean:()=>{clearInterval(o)}}]}function Rc(e,t){var n,r;return Ic(this,void 0,void 0,(function*(){const{provider:o}=e.requestManager;let i;const s=yield Mu(e,bc);return i=(null===(r=(n=o).supportsSubscriptions)||void 0===r?void 0:r.call(n))&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?yield function(e,t,n){var r;return Ic(this,void 0,void 0,(function*(){let o,i,s=!0;function a(r,o){o&&console.warn("error happened at subscription. So revert to polling...",o),i.clean(),s=!1;const[a,l]=_c(e,t,n);i.clean=l.clean,a.catch((e=>r(e)))}try{o=yield null===(r=e.subscriptionManager)||void 0===r?void 0:r.subscribe("newHeads"),i={clean:()=>{var t;o.id&&(null===(t=e.subscriptionManager)||void 0===t||t.removeSubscription(o).then((()=>{})).catch((()=>{})))}}}catch(r){return _c(e,t,n)}return[new Promise(((r,i)=>{try{o.on("data",(r=>{if(s=!1,!(null==r?void 0:r.number))return;const o=Number(BigInt(r.number)-BigInt(t));o>=e.transactionBlockTimeout&&i(new Je({starterBlockNumber:t,numberOfBlocks:o,transactionHash:n}))})),o.on("error",(e=>{a(i,e)}))}catch(e){a(i,e)}setTimeout((()=>{s&&a(i)}),1e3*e.blockHeaderTimeout)})),i]}))}(e,s,t):_c(e,s,t),i}))}function Cc(e,t,n){return r=this,o=void 0,s=function*(){const[r,o]=Sl(e.transactionSendTimeout,new Ye({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:n})),[i,s]=yield Rc(e,n);try{return yield Promise.race([t(),o,i])}finally{clearTimeout(r),s.clean()}},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}l((s=s.apply(r,o||[])).next())}));var r,o,i,s}var Tc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Pc(e,t,n,r){var o;return Tc(this,void 0,void 0,(function*(){const i=null!==(o=e.transactionReceiptPollingInterval)&&void 0!==o?o:e.transactionPollingInterval,[s,a]=function(e,t){let n;return[new Promise(((r,o)=>{n=setInterval(function i(){return(()=>{xl(this,void 0,void 0,(function*(){try{const o=yield function(e,t){return xl(this,void 0,void 0,(function*(){let n;const r=yield Promise.race([e instanceof Promise?e:e(),new Promise(((e,r)=>{n=setTimeout((()=>e(void 0)),t)}))]);if(n&&clearTimeout(n),r instanceof Error)throw r;return r}))}(e,t);Uo(o)||(clearInterval(n),r(o))}catch(e){clearInterval(n),o(e)}}))})(),i}(),t)})),n]}((()=>Tc(this,void 0,void 0,(function*(){try{return(null!=r?r:Bu)(e,t,n)}catch(e){return void console.warn("An error happen while trying to get the transaction receipt",e)}}))),i),[l,c]=Sl(e.transactionPollingTimeout,new Ze({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[u,d]=yield Rc(e,t);try{return yield Promise.race([s,c,u])}finally{l&&clearTimeout(l),a&&clearInterval(a),d.clean()}}))}const Dc=({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:o})=>{var i;let s=1;const a=setInterval((()=>{var i,l,c,u;i=void 0,l=void 0,u=function*(){if(s>=e.transactionConfirmationBlocks)return void clearInterval(a);const i=yield Rl(e.requestManager,rl(BigInt(t.blockNumber)+BigInt(s)),!1);(null==i?void 0:i.hash)&&(s+=1,n.emit("confirmation",{confirmations:bl({format:"uint"},s,o),receipt:bl(null!=r?r:Yl,t,o),latestBlockHash:bl({format:"bytes32"},i.hash,o)}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}o((u=u.apply(i,l||[])).next())}))}),null!==(i=e.transactionReceiptPollingInterval)&&void 0!==i?i:e.transactionPollingInterval)};var Oc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Mc=e=>!dl(e)&&"object"==typeof e&&!dl(e.type)&&"error"===e.type,Nc=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},Bc=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"==typeof r?t.push(Object.assign(Object.assign({},Nc(n)),{components:Bc(r)})):t.push({name:n,type:e[n]})}return t},Lc=(e,t)=>{const n=[];return t.forEach((t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new fe(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),o=r>=0?t.type.substring(r):"",i=Lc(e,t.components);Array.isArray(i)&&e?n.push(`tuple(${i.join(",")})${o}`):e?n.push(`(${i.join()})`):n.push(`(${i.join(",")})${o}`)}else n.push(t.type)})),n},Fc=e=>{var t,n,r,o,i;return Mc(e)||!dl(i=e)&&"object"==typeof i&&!dl(i.type)&&"event"===i.type||(e=>!dl(e)&&"object"==typeof e&&!dl(e.type)&&"function"===e.type)(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${Lc(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${Lc(!1,null!==(o=e.inputs)&&void 0!==o?o:[]).join(",")})`};function Uc(e,t){const n=e.exec(t);return n?.groups}var $c=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,zc=/^\(.+?\).*?$/,Vc=Object.defineProperty,Hc=(e,t,n)=>(((e,t,n)=>{t in e?Vc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Wc=class extends Error{constructor(e,t={}){const n=t.cause instanceof Wc?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Wc&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@0.7.1"].join("\n")),Hc(this,"details"),Hc(this,"docsPath"),Hc(this,"metaMessages"),Hc(this,"shortMessage"),Hc(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}},qc=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function Kc(e){return qc.test(e)}function Gc(e){return Uc(qc,e)}var Yc=new Set(["memory","indexed","storage","calldata"]),Qc=new Set(["calldata","memory","storage"]),Zc=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Jc=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Xc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,eu=/^u?int$/;function tu(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(Zc.has(n))return Zc.get(n);const r=zc.test(e),o=Uc(r?Xc:Jc,e);if(!o)throw new Wc("Invalid ABI parameter.",{details:e});if(o.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||$c.test(e)||jc.test(e)||ou.test(e)}(o.name))throw new Wc("Invalid ABI parameter.",{details:e,metaMessages:[`"${o.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=o.name?{name:o.name}:{},s="indexed"===o.modifier?{indexed:!0}:{},a=t?.structs??{};let l,c={};if(r){l="tuple";const e=nu(o.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(tu(e[r],{structs:a}));c={components:t}}else if(o.type in a)l="tuple",c={components:a[o.type]};else if(eu.test(o.type))l=`${o.type}256`;else if(l=o.type,"struct"!==t?.type&&!ru(l))throw new Wc("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new Wc("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(Qc.has(o.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(l,!!o.array))throw new Wc("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o.modifier}" was given.`]})}const u={type:`${l}${o.array??""}`,...i,...s,...c};return Zc.set(n,u),u}function nu(e,t=[],n="",r=0){if(""===e){if(""===n)return t;if(0!==r)throw new Wc("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...t,n.trim()]}const o=e.length;for(let i=0;i<o;i++){const o=e[i],s=e.slice(i+1);switch(o){case",":return 0===r?nu(s,[...t,n.trim()]):nu(s,t,`${n}${o}`,r);case"(":return nu(s,t,`${n}${o}`,r+1);case")":return nu(s,t,`${n}${o}`,r-1);default:return nu(s,t,`${n}${o}`,r)}}return[]}function ru(e){return"address"===e||"bool"===e||"function"===e||"string"===e||$c.test(e)||jc.test(e)}var ou=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;var iu=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function su(e,t,n=new Set){const r=[],o=e.length;for(let i=0;i<o;i++){const o=e[i];if(zc.test(o.type))r.push(o);else{const e=Uc(iu,o.type);if(!e?.type)throw new Wc("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:i,type:s}=e;if(s in t){if(n.has(s))throw new Wc("Circular reference detected.",{metaMessages:[`Struct "${s}" is a circular reference.`]});r.push({...o,type:`tuple${i??""}`,components:su(t[s]??[],t,new Set([...n,s]))})}else{if(!ru(s))throw new Wc("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});r.push(o)}}}return r}const au=32;function lu(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>lu(e)))})}function cu(e){return e.map((e=>{var t,n,r;if(!dl(n=e)&&"object"==typeof n&&!dl(n.type)&&"string"==typeof n.type)return e;if("string"==typeof e)return lu(function(e){let t;if("string"==typeof e)t=tu(e,{modifiers:Yc});else{const n=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!Kc(n))continue;const o=Gc(n);if(!o)throw new Wc("Invalid struct signature.",{details:n});const i=o.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const n=tu(t,{type:"struct"});s.push(n)}if(!s.length)throw new Wc("Invalid struct signature.",{details:n,metaMessages:["No properties exist."]});t[o.name]=s}const r={},o=Object.entries(t),i=o.length;for(let e=0;e<i;e++){const[n,i]=o[e];r[n]=su(i,t)}return r}(e),r=e.length;for(let o=0;o<r;o++){const r=e[o];if(!Kc(r)){t=tu(r,{modifiers:Yc,structs:n});break}}}if(!t)throw new Wc("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if("object"==typeof(r=e)&&void 0===r.components&&void 0===r.name){const n=Object.keys(e)[0],r=Nc(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:Bc(e[n])})}throw new fe("Invalid abi")}))}function uu(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let o=-1;if("[]"!==r&&(o=Number(r.slice(1,-1)),isNaN(o)))throw new fe("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:o}}function du(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(du))&&void 0!==n&&n:!!e.type.endsWith("]")&&du(uu(e).param))}const hu=20,fu=au-hu,pu=new Map;let mu=BigInt(256);for(let e=8;e<=256;e+=8)pu.set(`uint${e}`,{min:BigInt(0),max:mu-BigInt(1)}),pu.set(`int${e}`,{min:-mu/BigInt(2),max:mu/BigInt(2)-BigInt(1)}),mu*=BigInt(256);pu.set("int",pu.get("int256")),pu.set("uint",pu.get("uint256"));const gu=BigInt(1)<<BigInt(256);function yu(e,t){if(t.length<au)throw new fe("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,au),r=pu.get(e.type);if(!r)throw new fe("provided abi contains invalid number datatype",{type:e.type});const o=function(e,t){const n=Ao(e),r=BigInt(n);return r<=t?r:r-gu}(n,r.max);if(o<r.min)throw new fe("decoded value is less then minimum for given type",{type:e.type,value:o,name:e.name,minimum:r.min.toString()});if(o>r.max)throw new fe("decoded value is greater then maximum for given type",{type:e.type,value:o,name:e.name,maximum:r.max.toString()});return{result:o,encoded:t.subarray(au),consumed:au}}function vu(e,t){const[,n]=e.type.split("bytes");let r=Number(n),o=t,i=1,s=0;if(!r){const e=yu({type:"uint32",name:""},o);r=Number(e.result),s+=e.consumed,o=e.encoded,i=Math.ceil(r/au)}if(r>t.length)throw new fe("there is not enough data to decode",{type:e.type,encoded:t,size:r});return{result:tl(o.subarray(0,r)),encoded:o.subarray(i*au),consumed:s+i*au}}function bu(e,t){if("string"===e.type)return function(e,t){const n=vu({type:"bytes",name:""},t);return{result:il(n.result),encoded:n.encoded,consumed:n.consumed}}(0,t);if("bool"===e.type)return function(e,t){const n=yu({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new fe("Invalid boolean value encoded",{boolBytes:t.subarray(0,au),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:au}}(0,t);if("address"===e.type)return function(e,t){const n=t.subarray(fu,au);if(n.length!==hu)throw new fe("Invalid decoding input, not enough bytes to decode address",{bytes:t});const r=Ao(n);return{result:ul(r),encoded:t.subarray(au),consumed:au}}(0,t);if("tuple"===e.type)return wu(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:n,param:r}=uu(e),o=0;const i=[];let s=t;if(-1===n){const e=yu({type:"uint32",name:""},t);n=Number(e.result),o=e.consumed,s=e.encoded}if(du(r)){for(let e=0;e<n;e+=1){const t=yu({type:"uint32",name:""},s.subarray(e*au));o+=t.consumed;const n=bu(r,s.subarray(Number(t.result)));o+=n.consumed,i.push(n.result)}return{result:i,encoded:s.subarray(o),consumed:o}}for(let e=0;e<n;e+=1){const e=bu(r,t.subarray(o));o+=e.consumed,i.push(e.result)}return{result:i,encoded:t.subarray(o),consumed:o}}(e,t);if(e.type.startsWith("bytes"))return vu(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return yu(e,t);throw new fe("Unsupported",{param:e,bytes:t})}function wu(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let o=0;for(const[i,s]of e.components.entries()){let e;if(du(s)){const n=yu({type:"uint32",name:""},t.subarray(r));e=bu(s,t.subarray(Number(n.result))),r+=n.consumed,o+=e.consumed}else e=bu(s,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[i]=e.result,s.name&&""!==s.name&&(n[s.name]=e.result)}return{encoded:t.subarray(r+o),result:n,consumed:r+o}}const Au=(e,t,n)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new fe("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return wu({type:"tuple",name:"",components:cu(e)},So(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(e){throw new fe(`Parameter decoding error: ${e.message}`,{internalErr:e})}},Eu=(e,t)=>Au(e,t),xu=["bool","string","int","uint","address","fixed","ufixed"],Su=(e,t,n)=>{const r=Array.isArray(n)?n:[n],o={},i={};for(const[t,n]of e.entries())n.indexed?o[t]=n:i[t]=n;const s=t?Au(Object.values(i),t):{__length__:0},a=r.length-Object.keys(o).length,l=Object.values(o).map(((e,t)=>{return xu.some((t=>e.type.startsWith(t)))?(n=e.type,o=r[t+a],"string"===n?o:((e,t)=>Eu([e],t)[0])(n,o)):r[t+a];var n,o})),c={__length__:0};let u=0,d=0;for(const[t,n]of e.entries())c[t]="string"===n.type?"":void 0,o[t]&&(c[t]=l[u],u+=1),i[t]&&(c[t]=s[String(d)],d+=1),n.name&&(c[n.name]=c[t]),c.__length__+=1;return c};var ku=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Iu=(e,t)=>{var n,r,o,i,s;if(e instanceof oe&&e.cause instanceof re){if(void 0!==t){const o=t.filter((e=>Mc(e)));return((e,t)=>{if(null==t?void 0:t.data){let n,r,o;try{const i=t.data.slice(0,10),s=e.find((e=>(e=>{if("string"!=typeof e&&!Mc(e))throw new fe("Invalid parameter value in encodeErrorSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Fc(e),El(t)})(e).startsWith(i)));(null==s?void 0:s.inputs)&&(n=s.name,r=Fc(s),o=Eu([...s.inputs],t.data.substring(10)))}catch(e){console.error(e)}n&&t.setDecodedProperties(n,r,o)}})(o,e.cause),{reason:e.cause.message,signature:null===(n=e.cause.data)||void 0===n?void 0:n.slice(0,10),data:null===(r=e.cause.data)||void 0===r?void 0:r.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}}return{reason:e.cause.message,signature:null===(o=e.cause.data)||void 0===o?void 0:o.slice(0,10),data:null===(i=e.cause.data)||void 0===i?void 0:i.substring(10)}}if(e instanceof bt&&!Array.isArray(null===(s=e.cause)||void 0===s?void 0:s.errors)&&void 0!==e.cause)return e.cause.message;throw e};function _u(e,t,n,r=e.defaultReturnFormat){return ku(this,void 0,void 0,(function*(){try{return void(yield Uu(e,t,e.defaultBlock,r))}catch(e){return Iu(e,n)}}))}function Ru(e,t,n,r,o,i){return s=this,a=void 0,c=function*(){let s,a=i;if(void 0===a&&(void 0!==r?a=Iu(r):e.handleRevert&&void 0!==t&&(a=yield _u(e,t,o))),void 0===a)s=new xe(n);else if("string"==typeof a)s=new Ae(a,void 0,n);else if(void 0!==a.customErrorName&&void 0!==a.customErrorDecodedSignature&&void 0!==a.customErrorArguments){const e=a;s=new Ee(e.reason,e.customErrorName,e.customErrorDecodedSignature,e.customErrorArguments,e.signature,n,e.data)}else s=new Ae(a.reason,a.signature,n,a.data);return s},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((c=c.apply(s,a||[])).next())}));var s,a,l,c}const Cu=(e,t,n,r=d)=>{var o,i,s,a,l;let c=Object.assign({},e);const u=bl(Kl,t,r);if([yc,"allEvents"].includes(c.name)){c=n.find((e=>e.signature===t.topics[0]))||{anonymous:!0}}if(c.inputs=null!==(i=null!==(o=c.inputs)&&void 0!==o?o:e.inputs)&&void 0!==i?i:[],!c.anonymous){let e=0;(null!==(s=c.inputs)&&void 0!==s?s:[]).forEach((t=>{t.indexed&&(e+=1)})),e>0&&(null==t?void 0:t.topics)&&(null==t?void 0:t.topics.length)!==e+1&&(c=Object.assign(Object.assign({},c),{anonymous:!0,inputs:[]}))}const h=c.anonymous?t.topics:(null!==(a=t.topics)&&void 0!==a?a:[]).slice(1);return Object.assign(Object.assign({},u),{returnValues:Su([...null!==(l=c.inputs)&&void 0!==l?l:[]],t.data,h),event:c.name,signature:!c.anonymous&&t.topics&&0!==t.topics.length&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}})};var Tu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Pu{constructor({options:e,web3Context:t,promiEvent:n,returnFormat:r}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=t,this.promiEvent=n,this.returnFormat=r}getReceiptWithEvents(e){var t,n;const r=Object.assign({},null!=e?e:{});if((null===(t=this.options)||void 0===t?void 0:t.contractAbi)&&r.logs&&r.logs.length>0){r.events={};for(const e of r.logs){const t=Cu(vc,e,null===(n=this.options)||void 0===n?void 0:n.contractAbi,this.returnFormat);t.event&&(r.events[t.event]=t)}}return r}checkRevertBeforeSending(e){return Tu(this,void 0,void 0,(function*(){if(!1!==this.options.checkRevertBeforeSending){let t=e;Uo(e.data)&&Uo(e.input)&&Uo(e.gas)&&(t=Object.assign(Object.assign({},e),{gas:21e3}));const n=yield _u(this.web3Context,t,this.options.contractAbi);if(void 0!==n)throw yield Ru(this.web3Context,e,void 0,void 0,this.options.contractAbi,n)}}))}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice({transactionFormatted:e,transaction:t}){var n;return Tu(this,void 0,void 0,(function*(){let r=e;return!(null===(n=this.options)||void 0===n?void 0:n.ignoreGasPricing)&&Uo(e.gasPrice)&&(Uo(t.maxPriorityFeePerGas)||Uo(t.maxFeePerGas))&&(r=Object.assign(Object.assign({},e),yield Ac(e,this.web3Context,h))),r}))}signAndSend({wallet:e,tx:t}){return Tu(this,void 0,void 0,(function*(){if(e){const n=yield e.signTransaction(t);return Cc(this.web3Context,(()=>Tu(this,void 0,void 0,(function*(){return _l(this.web3Context.requestManager,n.rawTransaction)}))),n.transactionHash)}return Cc(this.web3Context,(()=>Tu(this,void 0,void 0,(function*(){return function(e,t){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_sendTransaction",params:[t]})}))}(this.web3Context.requestManager,t)}))))}))}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError({error:e,tx:t}){var n;return Tu(this,void 0,void 0,(function*(){let r=e;return r instanceof oe&&this.web3Context.handleRevert&&(r=yield Ru(this.web3Context,t,void 0,void 0,null===(n=this.options)||void 0===n?void 0:n.contractAbi)),(r instanceof bt||r instanceof oe||r instanceof Ee||r instanceof xe||r instanceof Ae||r instanceof Ze)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",r),r}))}emitConfirmation({receipt:e,transactionHash:t,customTransactionReceiptSchema:n}){this.promiEvent.listenerCount("confirmation")>0&&function(e,t,n,r,o,i){if(Uo(n)||Uo(n.blockHash))throw new Xe({receipt:n,blockHash:bl({format:"bytes32"},null==n?void 0:n.blockHash,o),transactionHash:bl({format:"bytes32"},r,o)});if(!n.blockNumber)throw new et({receipt:n});t.emit("confirmation",{confirmations:bl({format:"uint"},1,o),receipt:bl(null!=i?i:Yl,n,o),latestBlockHash:bl({format:"bytes32"},n.blockHash,o)});const s=e.requestManager.provider;s&&"supportsSubscriptions"in s&&s.supportsSubscriptions()?(({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:o})=>{let i,s=!0;setImmediate((()=>{var a;null===(a=e.subscriptionManager)||void 0===a||a.subscribe("newHeads").then((a=>{a.on("data",(l=>Oc(void 0,void 0,void 0,(function*(){var c;if(s=!1,!(null==l?void 0:l.number)||i===(null==l?void 0:l.parentHash))return;i=null==l?void 0:l.parentHash;const u=BigInt(l.number)-BigInt(t.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:bl({format:"uint"},u,o),receipt:bl(null!=r?r:Yl,t,o),latestBlockHash:bl({format:"bytes32"},l.parentHash,o)}),u>=e.transactionConfirmationBlocks&&(yield null===(c=e.subscriptionManager)||void 0===c?void 0:c.removeSubscription(a))})))),a.on("error",(()=>Oc(void 0,void 0,void 0,(function*(){var i;yield null===(i=e.subscriptionManager)||void 0===i?void 0:i.removeSubscription(a),s=!1,Dc({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:o})}))))})).catch((()=>{s=!1,Dc({web3Context:e,transactionReceipt:t,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:o})}))})),setTimeout((()=>{s&&Dc({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,returnFormat:o})}),1e3*e.blockHeaderTimeout)})({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:i,returnFormat:o}):Dc({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:i,returnFormat:o})}(this.web3Context,this.promiEvent,e,t,this.returnFormat,n)}handleResolve({receipt:e,tx:t}){var n,r,o;return Tu(this,void 0,void 0,(function*(){if(null===(n=this.options)||void 0===n?void 0:n.transactionResolver)return null===(r=this.options)||void 0===r?void 0:r.transactionResolver(e);if(e.status===BigInt(0)){const n=yield Ru(this.web3Context,t,e,void 0,null===(o=this.options)||void 0===o?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",n),n}return e}))}}var Du=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Ou(e,t){return Du(this,void 0,void 0,(function*(){const n=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_gasPrice",params:[]})}))}(e.requestManager);return bl({format:"uint"},n,null!=t?t:e.defaultReturnFormat)}))}function Mu(e,t){return Du(this,void 0,void 0,(function*(){const n=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_blockNumber",params:[]})}))}(e.requestManager);return bl({format:"uint"},n,null!=t?t:e.defaultReturnFormat)}))}function Nu(e,t=e.defaultBlock,n=!1,r){var o;return Du(this,void 0,void 0,(function*(){let i;if(_o(t)){const r=bl({format:"bytes32"},t,h);i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32","bool"],[t,n]),e.send({method:"eth_getBlockByHash",params:[t,n]})}))}(e.requestManager,r,n)}else{const r=No(t)?t:bl({format:"uint"},t,h);i=yield Rl(e.requestManager,r,n)}const s=bl(Wl,i,null!=r?r:e.defaultReturnFormat);return Uo(s)?s:Object.assign(Object.assign({},s),{transactions:null!==(o=s.transactions)&&void 0!==o?o:[]})}))}function Bu(e,t,n){return Du(this,void 0,void 0,(function*(){const r=bl({format:"bytes32"},t,d);let o;try{o=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})}))}(e.requestManager,r)}catch(e){if("object"!=typeof e||Uo(e)||!("message"in e)||"transaction indexing is in progress"!==e.message)throw e;console.warn("Transaction indexing is in progress.")}return Uo(o)?o:bl(Yl,o,null!=n?n:e.defaultReturnFormat)}))}function Lu(e,t,n=e.defaultBlock,r){return Du(this,void 0,void 0,(function*(){const o=No(n)?n:bl({format:"uint"},n,h),i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getTransactionCount",params:[t,n]})}))}(e.requestManager,t,o);return bl({format:"uint"},i,null!=r?r:e.defaultReturnFormat)}))}function Fu(e,t,n,r={checkRevertBeforeSending:!0},o){const i=new Qa(((s,a)=>{setImmediate((()=>{(()=>{Du(this,void 0,void 0,(function*(){const l=new Pu({web3Context:e,promiEvent:i,options:r,returnFormat:n});let c=Object.assign({},t);Uo(o)||(c=yield o.processTransaction(c));let u=Xl(Object.assign(Object.assign({},c),{from:xc("from",e,c),to:xc("to",e,c)}),h);try{let t;u=yield l.populateGasPrice({transaction:c,transactionFormatted:u}),yield l.checkRevertBeforeSending(u),l.emitSending(u),e.wallet&&!Uo(u.from)&&(t=e.wallet.get(u.from));const r=yield l.signAndSend({wallet:t,tx:u}),o=bl({format:"bytes32"},r,null!=n?n:e.defaultReturnFormat);l.emitSent(u),l.emitTransactionHash(o);const i=yield Pc(e,r,null!=n?n:e.defaultReturnFormat),a=l.getReceiptWithEvents(bl(Yl,i,null!=n?n:e.defaultReturnFormat));l.emitReceipt(a),s(yield l.handleResolve({receipt:a,tx:u})),l.emitConfirmation({receipt:a,transactionHash:r})}catch(e){a(yield l.handleError({error:e,tx:u}))}}))})()}))}));return i}function Uu(e,t,n=e.defaultBlock,r=e.defaultReturnFormat){return Du(this,void 0,void 0,(function*(){const o=No(n)?n:bl({format:"uint"},n,h),i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_call",params:[t,n]})}))}(e.requestManager,Xl(t,h),o);return bl({format:"bytes"},i,r)}))}function $u(e,t,n=e.defaultBlock,r){return Du(this,void 0,void 0,(function*(){const o=Xl(t,h),i=No(n)?n:bl({format:"uint"},n,h),s=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_estimateGas",params:[t,n]})}))}(e.requestManager,o,i);return bl({format:"uint"},s,null!=r?r:e.defaultReturnFormat)}))}function ju(e,t,n){return Du(this,void 0,void 0,(function*(){let{toBlock:r,fromBlock:o}=t;Uo(r)||"number"!=typeof r&&"bigint"!=typeof r||(r=rl(r)),Uo(o)||"number"!=typeof o&&"bigint"!=typeof o||(o=rl(o));const i=Object.assign(Object.assign({},t),{fromBlock:o,toBlock:r}),s=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})}))}(e.requestManager,i);return s.map((t=>"string"==typeof t?t:bl(Kl,t,null!=n?n:e.defaultReturnFormat)))}))}function zu(e,t){return Du(this,void 0,void 0,(function*(){const n=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_chainId",params:[]})}))}(e.requestManager);return bl({format:"uint"},n,null!=t?t:e.defaultReturnFormat)}))}function Vu(e,t,n=e.defaultBlock,r){return Du(this,void 0,void 0,(function*(){const o=No(n)?n:bl({format:"uint"},n,h),i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_createAccessList",params:[t,n]})}))}(e.requestManager,Xl(t,h),o);return bl(Ul,i,null!=r?r:e.defaultReturnFormat)}))}class Hu extends ns{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return bl(Kl,e,super.returnFormat)}}class Wu extends ns{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return bl({format:"string"},e,super.returnFormat)}}class qu extends ns{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return bl(ql,e,super.returnFormat)}}class Ku extends ns{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if("boolean"==typeof e)this.emit("changed",e);else{const t=Object.fromEntries(Object.entries(e.status).map((([e,t])=>[e.charAt(0).toLowerCase()+e.substring(1),t])));this.emit("changed",e.syncing),this.emit("data",bl(Gl,t,super.returnFormat))}}}var Gu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Yu={logs:Hu,newPendingTransactions:Wu,newHeads:qu,syncing:Ku,pendingTransactions:Wu,newBlockHeaders:qu};class Qu extends za{constructor(e){"string"==typeof e||Gi(e)?super({provider:e,registeredSubscriptions:Yu}):e.registeredSubscriptions?super(e):(super(Object.assign(Object.assign({},e),{registeredSubscriptions:Yu})),this.getFeeData=this.calculateFeeData)}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_protocolVersion",params:[]})}))}(this.requestManager)}))}isSyncing(){return Gu(this,void 0,void 0,(function*(){return Il(this.requestManager)}))}getCoinbase(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_coinbase",params:[]})}))}(this.requestManager)}))}isMining(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_mining",params:[]})}))}(this.requestManager)}))}getHashrate(e){var t;return void 0===e&&(e=null!==(t=this.defaultReturnFormat)&&void 0!==t?t:d),Gu(this,void 0,void 0,(function*(){return this.getHashRate(e)}))}getHashRate(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t){return Du(this,void 0,void 0,(function*(){const n=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_hashrate",params:[]})}))}(e.requestManager);return bl({format:"uint"},n,null!=t?t:e.defaultReturnFormat)}))}(this,e)}))}getGasPrice(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Ou(this,e)}))}getMaxPriorityFeePerGas(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t){return Du(this,void 0,void 0,(function*(){const n=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]})}))}(e.requestManager);return bl({format:"uint"},n,null!=t?t:e.defaultReturnFormat)}))}(this,e)}))}calculateFeeData(e=BigInt(2),t=Ja){var n;return Gu(this,void 0,void 0,(function*(){const r=yield this.getBlock(void 0,!1),o=null!==(n=null==r?void 0:r.baseFeePerGas)&&void 0!==n?n:void 0;let i,s,a;try{i=yield this.getGasPrice()}catch(e){}try{s=yield this.getMaxPriorityFeePerGas()}catch(e){}return o&&(s=null!=s?s:t,a=o*e+s),{gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:s,baseFeePerGas:o}}))}getAccounts(){var e;return Gu(this,void 0,void 0,(function*(){return(null!==(e=yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_accounts",params:[]})}))}(this.requestManager))&&void 0!==e?e:[]).map((e=>ul(e)))}))}getBlockNumber(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Mu(this,e)}))}getBalance(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n=e.defaultBlock,r){return Du(this,void 0,void 0,(function*(){const o=No(n)?n:bl({format:"uint"},n,h),i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getBalance",params:[t,n]})}))}(e.requestManager,t,o);return bl({format:"uint"},i,null!=r?r:e.defaultReturnFormat)}))}(this,e,t,n)}))}getStorageAt(e,t,n=this.defaultBlock,r=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n,r=e.defaultBlock,o){return Du(this,void 0,void 0,(function*(){const i=bl({format:"uint"},n,h),s=No(r)?r:bl({format:"uint"},r,h),a=yield function(e,t,n,r){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","hex","blockNumberOrTag"],[t,n,r]),e.send({method:"eth_getStorageAt",params:[t,n,r]})}))}(e.requestManager,t,i,s);return bl({format:"bytes"},a,null!=o?o:e.defaultReturnFormat)}))}(this,e,t,n,r)}))}getCode(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n=e.defaultBlock,r){return Du(this,void 0,void 0,(function*(){const o=No(n)?n:bl({format:"uint"},n,h),i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getCode",params:[t,n]})}))}(e.requestManager,t,o);return bl({format:"bytes"},i,null!=r?r:e.defaultReturnFormat)}))}(this,e,t,n)}))}getBlock(e=this.defaultBlock,t=!1,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Nu(this,e,t,n)}))}getBlockTransactionCount(e=this.defaultBlock,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t=e.defaultBlock,n){return Du(this,void 0,void 0,(function*(){let r;if(_o(t)){const n=bl({format:"bytes32"},t,h);r=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})}))}(e.requestManager,n)}else{const n=No(t)?t:bl({format:"uint"},t,h);r=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})}))}(e.requestManager,n)}return bl({format:"uint"},r,null!=n?n:e.defaultReturnFormat)}))}(this,e,t)}))}getBlockUncleCount(e=this.defaultBlock,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t=e.defaultBlock,n){return Du(this,void 0,void 0,(function*(){let r;if(_o(t)){const n=bl({format:"bytes32"},t,h);r=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})}))}(e.requestManager,n)}else{const n=No(t)?t:bl({format:"uint"},t,h);r=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})}))}(e.requestManager,n)}return bl({format:"uint"},r,null!=n?n:e.defaultReturnFormat)}))}(this,e,t)}))}getUncle(e=this.defaultBlock,t,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t=e.defaultBlock,n,r){return Du(this,void 0,void 0,(function*(){const o=bl({format:"uint"},n,h);let i;if(_o(t)){const n=bl({format:"bytes32"},t,h);i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,n]})}))}(e.requestManager,n,o)}else{const n=No(t)?t:bl({format:"uint"},t,h);i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,n]})}))}(e.requestManager,n,o)}return bl(Wl,i,null!=r?r:e.defaultReturnFormat)}))}(this,e,t,n)}))}getTransaction(e,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){const n=yield function(e,t,n=e.defaultReturnFormat){return Du(this,void 0,void 0,(function*(){const r=bl({format:"bytes32"},t,d),o=yield function(e,t){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})}))}(e.requestManager,r);return Uo(o)?o:Xl(o,n,{fillInputAndData:!0})}))}(this,e,t);if(!n)throw new ke;return n}))}getPendingTransactions(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t){return Du(this,void 0,void 0,(function*(){return(yield function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_pendingTransactions",params:[]})}))}(e.requestManager)).map((n=>Xl(n,null!=t?t:e.defaultReturnFormat,{fillInputAndData:!0})))}))}(this,e)}))}getTransactionFromBlock(e=this.defaultBlock,t,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t=e.defaultBlock,n,r){return Du(this,void 0,void 0,(function*(){const o=bl({format:"uint"},n,h);let i;if(_o(t)){const n=bl({format:"bytes32"},t,h);i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,n]})}))}(e.requestManager,n,o)}else{const n=No(t)?t:bl({format:"uint"},t,h);i=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,n]})}))}(e.requestManager,n,o)}return Uo(i)?i:Xl(i,null!=r?r:e.defaultReturnFormat,{fillInputAndData:!0})}))}(this,e,t,n)}))}getTransactionReceipt(e,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){const n=yield Bu(this,e,t);if(!n)throw new ke;return n}))}getTransactionCount(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Lu(this,e,t,n)}))}sendTransaction(e,t=this.defaultReturnFormat,n){return Fu(this,e,t,n,this.transactionMiddleware)}sendSignedTransaction(e,t=this.defaultReturnFormat,n){return function(e,t,n,r={checkRevertBeforeSending:!0}){const o=new Qa(((i,s)=>{setImmediate((()=>{(()=>{Du(this,void 0,void 0,(function*(){const a=new Pu({web3Context:e,promiEvent:o,options:r,returnFormat:n}),l=bl({format:"bytes"},t,h),c=Ca.fromSerializedData(Xa(nl(l))),u=Object.assign(Object.assign({},c.toJSON()),{from:c.getSenderAddress().toString()});try{const{v:t,r,s:o}=u,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(u,["v","r","s"]);yield a.checkRevertBeforeSending(s),a.emitSending(l);const c=yield Cc(e,(()=>Du(this,void 0,void 0,(function*(){return _l(e.requestManager,l)}))));a.emitSent(l);const d=bl({format:"bytes32"},c,null!=n?n:e.defaultReturnFormat);a.emitTransactionHash(d);const h=yield Pc(e,c,null!=n?n:e.defaultReturnFormat),f=a.getReceiptWithEvents(bl(Yl,h,null!=n?n:e.defaultReturnFormat));a.emitReceipt(f),i(yield a.handleResolve({receipt:f,tx:u})),a.emitConfirmation({receipt:f,transactionHash:c})}catch(e){s(yield a.handleError({error:e,tx:u}))}}))})()}))}));return o}(this,e,t,n)}sign(e,t,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n,r=e.defaultReturnFormat){var o;return Du(this,void 0,void 0,(function*(){const i=bl({format:"bytes"},t,d);if(null===(o=e.wallet)||void 0===o?void 0:o.get(n)){const t=e.wallet.get(n).sign(i);return bl(Ql,t,r)}if("number"==typeof n)throw new be(t,'RPC method "eth_sign" does not support index signatures');const s=yield function(e,t,n){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","hex"],[t,n]),e.send({method:"eth_sign",params:[t,n]})}))}(e.requestManager,n,i);return bl({format:"bytes"},s,r)}))}(this,e,t,n)}))}signTransaction(e,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n=e.defaultReturnFormat){return Du(this,void 0,void 0,(function*(){const r=yield function(e,t){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_signTransaction",params:[t]})}))}(e.requestManager,Xl(t,h));return ro(r)?function(e,t,n={fillInputAndData:!1}){return{raw:bl({format:"bytes"},e,t),tx:Xl(Object.assign(Object.assign({},Ca.fromSerializedData(nl(e)).toJSON()),{hash:tl(Al(nl(e))),type:Ll(nl(e))}),t,{fillInputAndData:n.fillInputAndData})}}(r,n,{fillInputAndData:!0}):{raw:bl({format:"bytes"},r.raw,n),tx:Xl(r.tx,n,{fillInputAndData:!0})}}))}(this,e,t)}))}call(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Uu(this,e,t,n)}))}estimateGas(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return $u(this,e,t,n)}))}getPastLogs(e,t=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return ju(this,e,t)}))}getWork(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_getWork",params:[]})}))}(this.requestManager)}))}submitWork(e,t,n){return Gu(this,void 0,void 0,(function*(){return function(e,t,n,r){return kl(this,void 0,void 0,(function*(){return qo.validate(["bytes8","bytes32","bytes32"],[t,n,r]),e.send({method:"eth_submitWork",params:[t,n,r]})}))}(this.requestManager,e,t,n)}))}requestAccounts(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"eth_requestAccounts",params:[]})}))}(this.requestManager)}))}getChainId(e=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return zu(this,e)}))}getNodeInfo(){return Gu(this,void 0,void 0,(function*(){return function(e){return kl(this,void 0,void 0,(function*(){return e.send({method:"web3_clientVersion",params:[]})}))}(this.requestManager)}))}getProof(e,t,n=this.defaultBlock,r=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n,r=e.defaultBlock,o){return Du(this,void 0,void 0,(function*(){const i=n.map((e=>bl({format:"bytes"},e,h))),s=No(r)?r:bl({format:"uint"},r,h),a=yield function(e,t,n,r){return kl(this,void 0,void 0,(function*(){return qo.validate(["address","bytes32[]","blockNumberOrTag"],[t,n,r]),e.send({method:"eth_getProof",params:[t,n,r]})}))}(e.requestManager,t,i,s);return bl(Jl,a,null!=o?o:e.defaultReturnFormat)}))}(this,e,t,n,r)}))}getFeeHistory(e,t=this.defaultBlock,n,r=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return function(e,t,n=e.defaultBlock,r,o){return Du(this,void 0,void 0,(function*(){const i=bl({format:"uint"},t,h),s=No(n)?n:bl({format:"uint"},n,h),a=bl({type:"array",items:{format:"uint"}},r,bc),l=yield function(e,t,n,r){return kl(this,void 0,void 0,(function*(){qo.validate(["hex","blockNumberOrTag"],[t,n]);for(const e of r)qo.validate(["number"],[e]);return e.send({method:"eth_feeHistory",params:[t,n,r]})}))}(e.requestManager,i,s,a);return bl(Zl,l,null!=o?o:e.defaultReturnFormat)}))}(this,e,t,n,r)}))}createAccessList(e,t=this.defaultBlock,n=this.defaultReturnFormat){return Gu(this,void 0,void 0,(function*(){return Vu(this,e,t,n)}))}signTypedData(e,t,n,r){var o;return void 0===n&&(n=!1),void 0===r&&(r=null!==(o=this.defaultReturnFormat)&&void 0!==o?o:d),Gu(this,void 0,void 0,(function*(){return function(e,t,n,r,o){return Du(this,void 0,void 0,(function*(){const i=yield function(e,t,n,r=!1){return kl(this,void 0,void 0,(function*(){return qo.validate(["address"],[t]),e.send({method:"eth_signTypedData"+(r?"":"_v4"),params:[t,n]})}))}(e.requestManager,t,n,r);return bl({format:"bytes"},i,null!=o?o:e.defaultReturnFormat)}))}(this,e,t,n,r)}))}subscribe(e,t,n){var r,o;return void 0===n&&(n=null!==(r=this.defaultReturnFormat)&&void 0!==r?r:d),Gu(this,void 0,void 0,(function*(){const r=yield null===(o=this.subscriptionManager)||void 0===o?void 0:o.subscribe(e,t,n);return r instanceof Hu&&"logs"===e&&"object"==typeof t&&!dl(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate((()=>{this.getPastLogs(t).then((e=>{for(const t of e)r._processSubscriptionResult(t)})).catch((e=>{r._processSubscriptionError(e)}))})),r}))}static shouldClearSubscription({sub:e}){return!(e instanceof Ku)}clearSubscriptions(e=!1){var t;return null===(t=this.subscriptionManager)||void 0===t?void 0:t.unsubscribe(e?Qu.shouldClearSubscription:void 0)}}const Zu=e=>{if(Uo(e.gas)||!Po(e.gas)||Uo(e.gasPrice)||!Po(e.gasPrice))throw new Ue({gas:e.gas,gasPrice:e.gasPrice});if(!Uo(e.maxFeePerGas)||!Uo(e.maxPriorityFeePerGas))throw new ze({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},Ju=e=>{if(!Uo(e.gasPrice)&&"0x2"===e.type)throw new je(e.gasPrice);if("0x0"===e.type||"0x1"===e.type)throw new ze({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(Uo(e.maxFeePerGas)||!Po(e.maxFeePerGas)||Uo(e.maxPriorityFeePerGas)||!Po(e.maxPriorityFeePerGas))throw new $e({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})};const Xu=(e,t,n,r=!1,o=!0)=>{return i=void 0,s=void 0,l=function*(){const i=yield(s={transaction:e,web3Context:t,privateKey:n,fillGasPrice:r,fillGasLimit:o},Ec(void 0,void 0,void 0,(function*(){var e;return(null!==(e=s.web3Context.transactionBuilder)&&void 0!==e?e:kc)(Object.assign(Object.assign({},s),{transaction:s.transaction}))})));var s;const a=Xl(i,h);return((e,t)=>{if(!Uo(t))return void t(e);if("object"!=typeof e||Uo(e))throw new Ve(e);(e=>{if(!Uo(e.common)){if(Uo(e.common.customChain))throw new Re;if(Uo(e.common.customChain.chainId))throw new Ce;if(!Uo(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new Te({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}})(e),(e=>{if(!Uo(e.common)&&!Uo(e.chain)&&!Uo(e.hardfork))throw new Oe;if(!Uo(e.chain)&&Uo(e.hardfork)||!Uo(e.hardfork)&&Uo(e.chain))throw new Me({chain:e.chain,hardfork:e.hardfork})})(e),(e=>{if(!Uo(e.common)&&!Uo(e.common.baseChain)&&!Uo(e.chain)&&e.chain!==e.common.baseChain)throw new Pe({txChain:e.chain,baseChain:e.common.baseChain})})(e),(e=>{if(!Uo(e.common)&&!Uo(e.common.hardfork)&&!Uo(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new De({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})})(e);const n=Xl(e,h);if((e=>{const t=!Uo(e.gas)||!Uo(e.gasLimit),n=t&&!Uo(e.gasPrice),r=t&&!Uo(e.maxPriorityFeePerGas)&&!Uo(e.maxFeePerGas);if(!n&&!r)throw new Be({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(n&&r)throw new Fe({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(n?Zu:Ju)(e),(!Uo(e.type)&&e.type>"0x1"?Ju:Zu)(e)})(n),Uo(n.nonce)||Uo(n.chainId)||n.nonce.startsWith("-")||n.chainId.startsWith("-"))throw new He({nonce:e.nonce,chainId:e.chainId})})(a),Ca.fromTxData((e=>{var t,n;return{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:null!==(t=e.gasLimit)&&void 0!==t?t:e.gas,to:e.to,value:e.value,data:null!==(n=e.data)&&void 0!==n?n:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas}})(a),((e,t)=>{var n,r,o,i,s,a,l,c,u,d,h,f,p,m,g,y,v,b;let w;if((Uo(e.chain)||Uo(e.hardfork))&&Uo(e.common))t.defaultCommon?(w=Object.assign({},t.defaultCommon),Uo(w.hardfork)&&(w.hardfork=null!==(n=e.hardfork)&&void 0!==n?n:t.defaultHardfork),Uo(w.baseChain)&&(w.baseChain=t.defaultChain)):w=pa.custom({name:"custom-network",chainId:ll(e.chainId),networkId:Uo(e.networkId)?void 0:ll(e.networkId),defaultHardfork:null!==(r=e.hardfork)&&void 0!==r?r:t.defaultHardfork},{baseChain:t.defaultChain});else{const n=null!==(a=null!==(s=null===(i=null===(o=null==e?void 0:e.common)||void 0===o?void 0:o.customChain)||void 0===i?void 0:i.name)&&void 0!==s?s:e.chain)&&void 0!==a?a:"custom-network",r=ll(null!==(u=null===(c=null===(l=null==e?void 0:e.common)||void 0===l?void 0:l.customChain)||void 0===c?void 0:c.chainId)&&void 0!==u?u:null==e?void 0:e.chainId),A=ll(null!==(f=null===(h=null===(d=null==e?void 0:e.common)||void 0===d?void 0:d.customChain)||void 0===h?void 0:h.networkId)&&void 0!==f?f:null==e?void 0:e.networkId),E=null!==(g=null!==(m=null===(p=null==e?void 0:e.common)||void 0===p?void 0:p.hardfork)&&void 0!==m?m:null==e?void 0:e.hardfork)&&void 0!==g?g:t.defaultHardfork,x=null!==(b=null!==(v=null===(y=e.common)||void 0===y?void 0:y.baseChain)&&void 0!==v?v:e.chain)&&void 0!==b?b:t.defaultChain;r&&A&&n&&(w=pa.custom({name:n,chainId:r,networkId:A,defaultHardfork:E},{baseChain:x}))}return{common:w}})(a,t))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((l=l.apply(i,s||[])).next())}));var i,s,a,l};function ed(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}function td(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const nd=e=>{if(qo.validate(["bytes"],[e]),ed(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)},{uint8ArrayToHexString:rd}=r,od=e=>rd(nd(e)),id=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?nd(`0x${e}`):nd(e),sd=(e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},ad=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),od((new TextEncoder).encode(t))},ld=e=>Dt(id(e)),cd=Tt.AI,ud=(e,t)=>{if("string"==typeof e&&Co(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":sd(e);if("bigint"==typeof e)return t?"bigint":sd(e);if(ed(e))return t?"bytes":od(e);if("object"==typeof e&&e)return t?"string":ad(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":sd(e);if(oo(e))return t?"bytes":e;if(so(e)&&!Do(e)&&!Po(e))return t?"bytes":`0x${e}`;if(so(e)&&!Do(e)&&Po(e))return t?"uint":sd(e);if(!Number.isFinite(e))return t?"string":ad(e)}throw new ut(e)},dd=e=>{if("number"==typeof e)return e>1e20?(console.warn("Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods"),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&oo(e))return(e=>(qo.validate(["hex"],[e]),vo(e)))(e);try{return dd(BigInt(e))}catch(t){throw new it(e)}},hd=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&so(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new it(e)},fd=e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(cd(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r},pd=e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e))return Boolean(e);if("bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return Boolean(e);if("string"==typeof e&&!oo(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&Boolean(Number(e));if("string"==typeof e&&oo(e)&&("0x1"===e||"0x0"===e))return Boolean(dd(e));throw new ht(e)};Xo.A;const md=e=>"object"==typeof e&&!Uo(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some((t=>t in e)),gd=Uo,yd=e=>!("object"!=typeof e||Uo(e)||Array.isArray(e)||e instanceof g),vd=(e,...t)=>{if(!yd(e))return e;const n=Object.assign({},e);for(const e of t)for(const t in e)yd(e[t])?(n[t]||(n[t]={}),n[t]=vd(n[t],e[t])):!Uo(e[t])&&Object.hasOwnProperty.call(e,t)&&(Array.isArray(e[t])||e[t]instanceof g?n[t]=e[t].slice(0):n[t]=e[t]);return n},bd=(e,t,n="0")=>"string"==typeof e?oo(e)?wo(e,t,n):e.padStart(t,n):(qo.validate(["int"],[e]),wo(e,t,n)),{parseBaseType:wd}=r,Ad=e=>"object"==typeof e&&!Uo(e)&&"number"in e&&"bytes"in e,Ed=(e,t,n=[])=>{let r,o=Object.assign({},e);for(const e of t){if(o.oneOf&&r){const e=r,t=n.find((([t])=>t===e));t&&t[0]===r&&(o=o.oneOf[t[1]])}if(!o.properties&&!o.items)return;o.properties?o=o.properties[e]:o.items&&o.items.properties?o=o.items.properties[e]:o.items&&$o(o.items)?o=o.items:o.items&&Array.isArray(o.items)&&(o=o.items[parseInt(e,10)]),o&&e&&(r=e)}return o},xd=(e,t,n)=>{try{const{baseType:r,baseTypeSize:o}=wd(t);if("int"===r||"uint"===r)switch(n.number){case s.NUMBER:return Number(hd(e));case s.HEX:return sd(hd(e));case s.STR:return hd(e).toString();case s.BIGINT:return hd(e);default:throw new ce(`Invalid format: ${String(n.number)}`)}if("bytes"===r){let t;switch(o?"string"==typeof e?t=bd(e,2*o):ed(e)&&(t=td(new Uint8Array(o-e.length),e)):t=e,n.bytes){case a.HEX:return od(nd(t));case a.UINT8ARRAY:return nd(t);default:throw new ce(`Invalid format: ${String(n.bytes)}`)}}}catch(t){return e}return e},Sd=({value:e,schemaProp:t,schema:n,object:r,key:o,dataPath:i,format:s,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(e)){let u=t;if(void 0!==(null==t?void 0:t.oneOf)&&t.oneOf.forEach(((n,r)=>{var i,s;!Array.isArray(null==t?void 0:t.items)&&("object"==typeof e[0]&&"object"===(null===(i=null==n?void 0:n.items)||void 0===i?void 0:i.type)||"string"==typeof e[0]&&"object"!==(null===(s=null==n?void 0:n.items)||void 0===s?void 0:s.type))&&(u=n,a.push([o,r]))})),Uo(null==u?void 0:u.items))return delete r[o],i.pop(),!0;if($o(u.items)&&!Uo(u.items.format)){for(let t=0;t<e.length;t+=1)r[o][t]=xd(e[t],null===(l=null==u?void 0:u.items)||void 0===l?void 0:l.format,s);return i.pop(),!0}if(!Array.isArray(null==u?void 0:u.items)&&"object"===(null===(c=null==u?void 0:u.items)||void 0===c?void 0:c.type)){for(const t of e)kd(t,n,i,s,a);return i.pop(),!0}if(Array.isArray(null==u?void 0:u.items)){for(let t=0;t<e.length;t+=1)r[o][t]=xd(e[t],u.items[t].format,s);return i.pop(),!0}}return!1},kd=(e,t,n,r,o=[])=>{var i;if(!$o(e)&&!Array.isArray(e))return xd(e,null==t?void 0:t.format,r);const s=e;if(Array.isArray(s)&&"array"===(null==t?void 0:t.type)&&"object"===(null===(i=null==t?void 0:t.items)||void 0===i?void 0:i.type))Sd({value:s,schemaProp:t,schema:t,object:s,key:"",dataPath:n,format:r,oneOfPath:o});else for(const[e,i]of Object.entries(s)){n.push(e);const a=Ed(t,n,o);Uo(a)?(delete s[e],n.pop()):$o(i)?(kd(i,t,n,r,o),n.pop()):Sd({value:i,schemaProp:a,schema:t,object:s,key:e,dataPath:n,format:r,oneOfPath:o})||(s[e]=xd(i,a.format,r),n.pop())}return s},Id=(e,t,n=d)=>{let r;r=$o(t)?vd({},t):Array.isArray(t)?[...t]:t;const o=$o(e)?e:po(e);if(!o.properties&&!o.items&&!o.format)throw new ce("Invalid json schema for formatting");return kd(r,o,[],n)},_d="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Rd=e=>{let t;return t="bigint"==typeof e||"number"==typeof e?(0,Tt.AI)(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||oo(e)?nd(e):(0,Tt.AI)(e),od(Mt(ko(t)))},Cd=e=>{const t=(e=>{let t;t="string"==typeof e?e.startsWith("0x")&&oo(e)?id(e):(0,Tt.AI)(e):e;const n=Rd(t);return n===_d?void 0:n})(e);return Uo(t)?_d:t};Symbol.toStringTag;const Td=e=>!gd(e)&&"object"==typeof e&&!gd(e.type)&&"error"===e.type,Pd=e=>!gd(e)&&"object"==typeof e&&!gd(e.type)&&"event"===e.type,Dd=e=>!gd(e)&&"object"==typeof e&&!gd(e.type)&&"function"===e.type,Od=e=>"object"==typeof e&&void 0===e.components&&void 0===e.name,Md=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},Nd=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"==typeof r?t.push(Object.assign(Object.assign({},Md(n)),{components:Nd(r)})):t.push({name:n,type:e[n]})}return t},Bd=(e,t)=>{const n=[];return t.forEach((t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new fe(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),o=r>=0?t.type.substring(r):"",i=Bd(e,t.components);Array.isArray(i)&&e?n.push(`tuple(${i.join(",")})${o}`):e?n.push(`(${i.join()})`):n.push(`(${i.join(",")})${o}`)}else n.push(t.type)})),n},Ld=e=>{var t,n,r,o;return Td(e)||Pd(e)||Dd(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${Bd(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${Bd(!1,null!==(o=e.inputs)&&void 0!==o?o:[]).join(",")})`},Fd=e=>{if("string"!=typeof e&&!Pd(e))throw new fe("Invalid parameter value in encodeEventSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Ld(e),Cd(t)};function Ud(e,t){const n=e.exec(t);return n?.groups}var $d=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jd=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,zd=/^\(.+?\).*?$/,Vd=Object.defineProperty,Hd=(e,t,n)=>(((e,t,n)=>{t in e?Vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Wd=class extends Error{constructor(e,t={}){const n=t.cause instanceof Wd?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Wd&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@0.7.1"].join("\n")),Hd(this,"details"),Hd(this,"docsPath"),Hd(this,"metaMessages"),Hd(this,"shortMessage"),Hd(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}},qd=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function Kd(e){return qd.test(e)}function Gd(e){return Ud(qd,e)}var Yd=new Set(["memory","indexed","storage","calldata"]),Qd=new Set(["calldata","memory","storage"]),Zd=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Jd=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Xd=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,eh=/^u?int$/;function th(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(Zd.has(n))return Zd.get(n);const r=zd.test(e),o=Ud(r?Xd:Jd,e);if(!o)throw new Wd("Invalid ABI parameter.",{details:e});if(o.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||$d.test(e)||jd.test(e)||oh.test(e)}(o.name))throw new Wd("Invalid ABI parameter.",{details:e,metaMessages:[`"${o.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=o.name?{name:o.name}:{},s="indexed"===o.modifier?{indexed:!0}:{},a=t?.structs??{};let l,c={};if(r){l="tuple";const e=nh(o.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(th(e[r],{structs:a}));c={components:t}}else if(o.type in a)l="tuple",c={components:a[o.type]};else if(eh.test(o.type))l=`${o.type}256`;else if(l=o.type,"struct"!==t?.type&&!rh(l))throw new Wd("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new Wd("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(Qd.has(o.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(l,!!o.array))throw new Wd("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o.modifier}" was given.`]})}const u={type:`${l}${o.array??""}`,...i,...s,...c};return Zd.set(n,u),u}function nh(e,t=[],n="",r=0){if(""===e){if(""===n)return t;if(0!==r)throw new Wd("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...t,n.trim()]}const o=e.length;for(let i=0;i<o;i++){const o=e[i],s=e.slice(i+1);switch(o){case",":return 0===r?nh(s,[...t,n.trim()]):nh(s,t,`${n}${o}`,r);case"(":return nh(s,t,`${n}${o}`,r+1);case")":return nh(s,t,`${n}${o}`,r-1);default:return nh(s,t,`${n}${o}`,r)}}return[]}function rh(e){return"address"===e||"bool"===e||"function"===e||"string"===e||$d.test(e)||jd.test(e)}var oh=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;var ih=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function sh(e,t,n=new Set){const r=[],o=e.length;for(let i=0;i<o;i++){const o=e[i];if(zd.test(o.type))r.push(o);else{const e=Ud(ih,o.type);if(!e?.type)throw new Wd("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:i,type:s}=e;if(s in t){if(n.has(s))throw new Wd("Circular reference detected.",{metaMessages:[`Struct "${s}" is a circular reference.`]});r.push({...o,type:`tuple${i??""}`,components:sh(t[s]??[],t,new Set([...n,s]))})}else{if(!rh(s))throw new Wd("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});r.push(o)}}}return r}const ah=32;function lh(e=0){var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function ch(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>ch(e)))})}function uh(e){return e.map((e=>{var t,n;if(!gd(n=e)&&"object"==typeof n&&!gd(n.type)&&"string"==typeof n.type)return e;if("string"==typeof e)return ch(function(e){let t;if("string"==typeof e)t=th(e,{modifiers:Yd});else{const n=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!Kd(n))continue;const o=Gd(n);if(!o)throw new Wd("Invalid struct signature.",{details:n});const i=o.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const n=th(t,{type:"struct"});s.push(n)}if(!s.length)throw new Wd("Invalid struct signature.",{details:n,metaMessages:["No properties exist."]});t[o.name]=s}const r={},o=Object.entries(t),i=o.length;for(let e=0;e<i;e++){const[n,i]=o[e];r[n]=sh(i,t)}return r}(e),r=e.length;for(let o=0;o<r;o++){const r=e[o];if(!Kd(r)){t=th(r,{modifiers:Yd,structs:n});break}}}if(!t)throw new Wd("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(Od(e)){const n=Object.keys(e)[0],r=Md(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:Nd(e[n])})}throw new fe("Invalid abi")}))}function dh(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let o=-1;if("[]"!==r&&(o=Number(r.slice(1,-1)),isNaN(o)))throw new fe("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:o}}function hh(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(hh))&&void 0!==n&&n:!!e.type.endsWith("]")&&hh(dh(e).param))}const fh=20,ph=ah-fh,mh=new Map;let gh=BigInt(256);for(let e=8;e<=256;e+=8)mh.set(`uint${e}`,{min:BigInt(0),max:gh-BigInt(1)}),mh.set(`int${e}`,{min:-gh/BigInt(2),max:gh/BigInt(2)-BigInt(1)}),gh*=BigInt(256);mh.set("int",mh.get("int256")),mh.set("uint",mh.get("uint256"));const yh=BigInt(1)<<BigInt(256);function vh(e,t=ah){let n;return n=e<0?(yh+e).toString(16):e.toString(16),n=bd(n,2*t),So(n)}function bh(e,t){let n;try{n=hd(t)}catch(n){throw new fe("provided input is not number value",{type:e.type,value:t,name:e.name})}const r=mh.get(e.type);if(!r)throw new fe("provided abi contains invalid number datatype",{type:e.type});if(n<r.min)throw new fe("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:r.min.toString()});if(n>r.max)throw new fe("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:r.max.toString()});return{dynamic:!1,encoded:vh(n)}}function wh(e,t){if(t.length<ah)throw new fe("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,ah),r=mh.get(e.type);if(!r)throw new fe("provided abi contains invalid number datatype",{type:e.type});const o=function(e,t){const n=Ao(e),r=BigInt(n);return r<=t?r:r-yh}(n,r.max);if(o<r.min)throw new fe("decoded value is less then minimum for given type",{type:e.type,value:o,name:e.name,minimum:r.min.toString()});if(o>r.max)throw new fe("decoded value is greater then maximum for given type",{type:e.type,value:o,name:e.name,maximum:r.max.toString()});return{result:o,encoded:t.subarray(ah),consumed:ah}}const Ah=32;function Eh(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!_o(t))throw new fe("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const n=nd(t),[,r]=e.type.split("bytes");if(r){if(Number(r)>Ah||Number(r)<1)throw new fe("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(r)<n.length)throw new fe("provided input size is different than type size",{type:e.type,value:t,name:e.name});const o=lh(ah);return o.set(n),{dynamic:!1,encoded:o}}const o=Math.ceil(n.length/ah),i=lh(ah+o*ah);return i.set(bh({type:"uint32",name:""},n.length).encoded),i.set(n,ah),{dynamic:!0,encoded:i}}function xh(e,t){const[,n]=e.type.split("bytes");let r=Number(n),o=t,i=1,s=0;if(!r){const e=wh({type:"uint32",name:""},o);r=Number(e.result),s+=e.consumed,o=e.encoded,i=Math.ceil(r/ah)}if(r>t.length)throw new fe("there is not enough data to decode",{type:e.type,encoded:t,size:r});return{result:od(o.subarray(0,r)),encoded:o.subarray(i*ah),consumed:s+i*ah}}function Sh(e){let t=0,n=0;const r=[],o=[];for(const n of e)n.dynamic?t+=ah:t+=n.encoded.length;for(const i of e)i.dynamic?(r.push(bh({type:"uint256",name:""},t+n)),o.push(i),n+=i.encoded.length):r.push(i);return td(...r.map((e=>e.encoded)),...o.map((e=>e.encoded)))}function kh(e,t){if("string"===e.type)return function(e,t){if("string"!=typeof t)throw new fe("invalid input, should be string",{input:t});return Eh({type:"bytes",name:""},cd(t))}(0,t);if("bool"===e.type)return function(e,t){let n;try{n=pd(t)}catch(n){if(n instanceof ht)throw new fe("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return bh({type:"uint8",name:""},Number(n))}(e,t);if("address"===e.type)return function(e,t){if("string"!=typeof t)throw new fe("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Co(n))throw new fe("provided input is not valid address",{value:t,name:e.name,type:e.type});const r=So(n),o=lh(ah);return o.set(r,ph),{dynamic:!1,encoded:o}}(e,t);if("tuple"===e.type)return _h(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new fe("Expected value to be array",{abi:e,values:t});const{size:n,param:r}=dh(e),o=t.map((e=>kh(r,e))),i=-1===n,s=o.length>0&&o[0].dynamic;if(!i&&t.length!==n)throw new fe("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(i||s){const e=Sh(o);if(i){const t=bh({type:"uint256",name:""},o.length).encoded;return{dynamic:!0,encoded:o.length>0?td(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:td(...o.map((e=>e.encoded)))}}(e,t);if(e.type.startsWith("bytes"))return Eh(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return bh(e,t);throw new fe("Unsupported",{param:e,value:t})}function Ih(e,t){if("string"===e.type)return function(e,t){const n=xh({type:"bytes",name:""},t);return{result:ld(n.result),encoded:n.encoded,consumed:n.consumed}}(0,t);if("bool"===e.type)return function(e,t){const n=wh({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new fe("Invalid boolean value encoded",{boolBytes:t.subarray(0,ah),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:ah}}(0,t);if("address"===e.type)return function(e,t){const n=t.subarray(ph,ah);if(n.length!==fh)throw new fe("Invalid decoding input, not enough bytes to decode address",{bytes:t});const r=Ao(n);return{result:fd(r),encoded:t.subarray(ah),consumed:ah}}(0,t);if("tuple"===e.type)return Rh(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:n,param:r}=dh(e),o=0;const i=[];let s=t;if(-1===n){const e=wh({type:"uint32",name:""},t);n=Number(e.result),o=e.consumed,s=e.encoded}if(hh(r)){for(let e=0;e<n;e+=1){const t=wh({type:"uint32",name:""},s.subarray(e*ah));o+=t.consumed;const n=Ih(r,s.subarray(Number(t.result)));o+=n.consumed,i.push(n.result)}return{result:i,encoded:s.subarray(o),consumed:o}}for(let e=0;e<n;e+=1){const e=Ih(r,t.subarray(o));o+=e.consumed,i.push(e.result)}return{result:i,encoded:t.subarray(o),consumed:o}}(e,t);if(e.type.startsWith("bytes"))return xh(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return wh(e,t);throw new fe("Unsupported",{param:e,bytes:t})}function _h(e,t){var n,r,o;let i=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new fe("param must be either Array or Object",{param:e,input:t});const s=t,a=[];for(let l=0;l<(null!==(r=null===(n=e.components)||void 0===n?void 0:n.length)&&void 0!==r?r:0);l+=1){const n=e.components[l];let r;if(Array.isArray(s)){if(l>=s.length)throw new fe("input param length missmatch",{param:e,input:t});r=kh(n,s[l])}else{const i=s[null!==(o=n.name)&&void 0!==o?o:""];if(null==i)throw new fe("missing input defined in abi",{param:e,input:t,paramName:n.name});r=kh(n,i)}r.dynamic&&(i=!0),a.push(r)}return i?{dynamic:!0,encoded:Sh(a)}:{dynamic:!1,encoded:td(...a.map((e=>e.encoded)))}}function Rh(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let o=0;for(const[i,s]of e.components.entries()){let e;if(hh(s)){const n=wh({type:"uint32",name:""},t.subarray(r));e=Ih(s,t.subarray(Number(n.result))),r+=n.consumed,o+=e.consumed}else e=Ih(s,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[i]=e.result,s.name&&""!==s.name&&(n[s.name]=e.result)}return{encoded:t.subarray(r+o),result:n,consumed:r+o}}function Ch(e){const t=[];return e.forEach((e=>{if(Array.isArray(e)){const n=Ch(e);t.push({type:"tuple",components:n,name:""})}else t.push({type:ud(e,!0)})})),t}function Th(e,t){if((null==e?void 0:e.length)!==t.length)throw new fe("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return Ao(_h({type:"tuple",name:"",components:uh(e)},t).encoded)}const Ph=(e,t)=>Th([e],[t]),Dh=(e,t)=>((e,t)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new fe("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return Rh({type:"tuple",name:"",components:uh(e)},So(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(e){throw new fe(`Parameter decoding error: ${e.message}`,{internalErr:e})}})(e,t),Oh=e=>{if("string"!=typeof e&&!Dd(e))throw new fe("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Ld(e),Cd(t).slice(0,10)},Mh=(e,t)=>{if(null==t?void 0:t.data){let n,r,o;try{const i=t.data.slice(0,10),s=e.find((e=>(e=>{if("string"!=typeof e&&!Td(e))throw new fe("Invalid parameter value in encodeErrorSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Ld(e),Cd(t)})(e).startsWith(i)));(null==s?void 0:s.inputs)&&(n=s.name,r=Ld(s),o=Dh([...s.inputs],t.data.substring(10)))}catch(e){console.error(e)}n&&t.setDecodedProperties(n,r,o)}},Nh=({address:e},t,n)=>{var r,o;const i=null==n?void 0:n.topics,l=null!==(r=null==n?void 0:n.filter)&&void 0!==r?r:{},c={};if(gd(null==n?void 0:n.fromBlock)||(c.fromBlock=Id(Wl.properties.number,null==n?void 0:n.fromBlock,{number:s.HEX,bytes:a.HEX})),gd(null==n?void 0:n.toBlock)||(c.toBlock=Id(Wl.properties.number,null==n?void 0:n.toBlock,{number:s.HEX,bytes:a.HEX})),i&&Array.isArray(i))c.topics=[...i];else if(c.topics=[],!t||t.anonymous||[yc,"allEvents"].includes(t.name)||c.topics.push(null!==(o=t.signature)&&void 0!==o?o:Fd(Ld(t))),![yc,"allEvents"].includes(t.name)&&t.inputs)for(const e of t.inputs){if(!e.indexed)continue;const t=l[e.name];t?Array.isArray(t)?c.topics.push(t.map((t=>Ph(e.type,t)))):"string"===e.type?c.topics.push(Rd(t)):c.topics.push(Ph(e.type,t)):c.topics.push(null)}return c.topics.length||delete c.topics,e&&(c.address=e.toLowerCase()),c},Bh=(e,t,n)=>{const r=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&r!==t.length)throw new te(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let o;if(o=e.inputs?Th(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):function(e){try{return Ao(_h({type:"tuple",name:"",components:Ch(e)},e).encoded)}catch(t){throw new fe("Could not infer types from given params",{params:e})}}(t).replace("0x",""),!gd(i=e)&&"object"==typeof i&&!gd(i.type)&&"constructor"===i.type){if(!n)throw new te("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${o}`:`0x${n}${o}`}var i;return`${Oh(e)}${o}`},Lh=(e,t,n=!0)=>{const r=n&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new te("No inputs found in the ABI");return Dh([...e.inputs],r)};class Fh extends ns{constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Cu(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const Uh=(e,t,n,r)=>{var o,i;const s={};return gd(e.data)&&"both"!==r||(s.data=Bh(t,n,null!==(o=e.data)&&void 0!==o?o:e.input)),gd(e.input)&&"both"!==r||(s.input=Bh(t,n,null!==(i=e.input)&&void 0!==i?i:e.data)),gd(s.input)&&gd(s.data)&&(s[r]=Bh(t,n)),{data:s.data,input:s.input}},$h=({abi:e,params:t,options:n,contractOptions:r})=>{var o,i,s;if(!(null!==(s=null!==(i=null!==(o=null==n?void 0:n.input)&&void 0!==o?o:null==n?void 0:n.data)&&void 0!==i?i:r.input)&&void 0!==s?s:r.data)&&!(null==n?void 0:n.to)&&!r.address)throw new te("Contract address not specified");if(!(null==n?void 0:n.from)&&!r.from)throw new te('Contract "from" address not specified');let a=vd({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const l=Uh(a,e,t,null==n?void 0:n.dataInputFill);return a=Object.assign(Object.assign({},a),{data:l.data,input:l.input}),a},jh=e=>"object"==typeof e&&!gd(e)&&0!==Object.keys(e).length&&!md(e);var zh=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Vh={logs:Fh,newHeads:qu,newBlockHeaders:qu};class Hh extends za{constructor(e,t,n,r,o){var i,s,a;const l=md(t)?t:md(n)?n:void 0;let c,u;if(c=jh(t)?t:jh(n)?n:r,u="object"==typeof t&&"provider"in t?t.provider:"object"==typeof n&&"provider"in n?n.provider:"object"==typeof r&&"provider"in r?r.provider:Hh.givenProvider,super(Object.assign(Object.assign({},c),{provider:u,registeredSubscriptions:Vh})),this.syncWithContext=!1,this._functions={},(null==c?void 0:c.wallet)&&(this._wallet=c.wallet),(null==c?void 0:c.accountProvider)&&(this._accountProvider=c.accountProvider),!Uo(l)&&!Uo(l.data)&&!Uo(l.input)&&"both"!==this.config.contractDataInputFill)throw new ie({data:l.data,input:l.input});this._overloadedMethodAbis=new Map;const d=Ad(r)?r:Ad(n)?n:null!=o?o:this.defaultReturnFormat,h="string"==typeof t?t:void 0;this.config.contractDataInputFill=null!==(i=null==l?void 0:l.dataInputFill)&&void 0!==i?i:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,d),this.defaultReturnFormat!==d&&(this.defaultReturnFormat=d),Uo(h)||this._parseAndSetAddress(h,d),this.options={address:h,jsonInterface:this._jsonInterface,gas:null!==(s=null==l?void 0:l.gas)&&void 0!==s?s:null==l?void 0:l.gasLimit,gasPrice:null==l?void 0:l.gasPrice,from:null==l?void 0:l.from,input:null==l?void 0:l.input,data:null==l?void 0:l.data},this.syncWithContext=null!==(a=null==l?void 0:l.syncWithContext)&&void 0!==a&&a,c instanceof za&&this.subscribeToContextEvents(c),Object.defineProperty(this.options,"address",{set:e=>this._parseAndSetAddress(e,d),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:e=>this._parseAndSetJsonInterface(e,d),get:()=>this._jsonInterface}),c instanceof za&&c.on(hi.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return e=this.options.address?new Hh([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):new Hh([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){var t,n,r;let o=this._jsonInterface.find((e=>"constructor"===e.type));o||(o={type:"constructor",stateMutability:""});const i=Id({format:"bytes"},null!==(t=null==e?void 0:e.input)&&void 0!==t?t:this.options.input,d),s=Id({format:"bytes"},null!==(n=null==e?void 0:e.data)&&void 0!==n?n:this.options.data,d);if(!(i&&"0x"!==i.trim()||s&&"0x"!==s.trim()))throw new te("contract creation without any data provided.");const a=null!==(r=null==e?void 0:e.arguments)&&void 0!==r?r:[],l=Object.assign(Object.assign({},this.options),{input:i,data:s}),c=null!=i?i:s;return{arguments:a,send:e=>{const t=Object.assign({},e);return this._contractMethodDeploySend(o,a,t,l)},estimateGas:(e,t=this.defaultReturnFormat)=>zh(this,void 0,void 0,(function*(){const n=Object.assign({},e);return this._contractMethodEstimateGas({abi:o,params:a,returnFormat:t,options:n,contractOptions:l})})),encodeABI:()=>Bh(o,a,Id({format:"bytes"},c,this.defaultReturnFormat)),decodeData:e=>Object.assign(Object.assign({},Lh(o,e.replace(c,""),!1)),{__method__:o.type})}}getPastEvents(e,t,n){var r;return zh(this,void 0,void 0,(function*(){const o="string"==typeof e?e:yc,i="string"==typeof e||Ad(e)?Ad(t)?{}:t:e,s=Ad(e)?e:Ad(t)?t:null!=n?n:this.defaultReturnFormat,a="allEvents"===o||o===yc?vc:this._jsonInterface.find((e=>"name"in e&&e.name===o));if(!a)throw new te(`Event ${o} not found.`);const{fromBlock:l,toBlock:c,topics:u,address:d}=Nh(this.options,a,null!=i?i:{}),h=yield ju(this,{fromBlock:l,toBlock:c,topics:u,address:d},s),f=h?h.map((e=>"string"==typeof e?e:Cu(a,e,this._jsonInterface,s))):[],p=null!==(r=null==i?void 0:i.filter)&&void 0!==r?r:{},m=Object.keys(p);return m.length>0?f.filter((e=>"string"==typeof e||m.every((t=>{var n;if(Array.isArray(p[t]))return p[t].some((n=>String(e.returnValues[t]).toUpperCase()===String(n).toUpperCase()));const r=null===(n=a.inputs)||void 0===n?void 0:n.filter((e=>e.name===t))[0];return!(!(null==r?void 0:r.indexed)||"string"!==r.type||Rd(p[t])!==String(e.returnValues[t]))||String(e.returnValues[t]).toUpperCase()===String(p[t]).toUpperCase()})))):f}))}_parseAndSetAddress(e,t=this.defaultReturnFormat){this._address=e?fd(Id({format:"address"},e,t)):e}decodeMethodData(e){const t=e.slice(0,10),n=this._jsonInterface.filter((e=>"error"!==e.type)).find((e=>t===Oh(Ld(e))));if(!n)throw new te(`The ABI for the provided method signature ${t} was not found.`);return Object.assign(Object.assign({},Lh(n,e)),{__method__:Ld(n)})}_parseAndSetJsonInterface(e,t=this.defaultReturnFormat){var n,r,o,i,s;this._functions={},this._methods={},this._events={};let a=[];const l=e.filter((e=>"error"!==e.type)),c=e.filter((e=>Td(e)));for(const e of l){const l=Object.assign(Object.assign({},e),{signature:""});if(Dd(l)){const e=Ld(l),t=Oh(e);l.methodNameWithInputs=e,l.signature=t,l.constant=null!==(r=null!==(n="view"===l.stateMutability)&&void 0!==n?n:"pure"===l.stateMutability)&&void 0!==r?r:l.constant,l.payable=null!==(o="payable"===l.stateMutability)&&void 0!==o?o:l.payable,this._overloadedMethodAbis.set(l.name,[...null!==(i=this._overloadedMethodAbis.get(l.name))&&void 0!==i?i:[],l]);const a=null!==(s=this._overloadedMethodAbis.get(l.name))&&void 0!==s?s:[],u=this._createContractMethod(a,c),d=this._createContractMethod(a,c,!0);this._functions[e]={signature:t,method:d},this._methods[l.name]=u,this._methods[e]=d,this._methods[t]=d}else if(Pd(l)){const e=Ld(l),n=Fd(e),r=this._createContractEvent(l,t);l.signature=n,e in this._events&&"bound"!==l.name||(this._events[e]=r),this._events[l.name]=r,this._events[n]=r}a=[...a,l]}this._events.allEvents=this._createContractEvent(vc,t),this._jsonInterface=[...a],this._errorsInterface=c}_getAbiParams(e,t){var n;try{return go(null!==(n=e.inputs)&&void 0!==n?n:[],t)}catch(t){throw new te(`Invalid parameters for method ${e.name}: ${t.message}`)}}_createContractMethod(e,t,n=!1){const r=e[e.length-1];return(...e)=>{var o,i,s;let a;const l=null!==(i=n?null===(o=this._overloadedMethodAbis.get(r.name))||void 0===o?void 0:o.filter((e=>e.signature===r.signature)):this._overloadedMethodAbis.get(r.name))&&void 0!==i?i:[];let c=l[0];const u=t,d=l.filter((t=>{var n;return(null!==(n=t.inputs)&&void 0!==n?n:[]).length===e.length}));if(1===l.length||0===d.length)a=this._getAbiParams(c,e),qo.validate(null!==(s=r.inputs)&&void 0!==s?s:[],a);else{const t=[],n=[];for(const r of d)try{a=this._getAbiParams(r,e),qo.validate(r.inputs,a),n.push(r)}catch(e){t.push(e)}if(1===n.length?[c]=n:n.length>1&&([c]=n,console.warn(`Multiple methods found that is compatible with the given inputs.\n\tFound ${n.length} compatible methods: ${JSON.stringify(n.map((e=>`${e.methodNameWithInputs} (signature: ${e.signature})`)))} \n\tThe first one will be used: ${c.methodNameWithInputs}`)),t.length===d.length)throw new eo(t)}const h={arguments:a,call:(e,t)=>zh(this,void 0,void 0,(function*(){return this._contractMethodCall(c,a,u,e,t)})),send:e=>this._contractMethodSend(c,a,u,e),populateTransaction:(t,n)=>{var o,i;let s=null!=n?n:this.options;s=Object.assign(Object.assign({},s),{input:void 0,from:null!==(i=null!==(o=null==s?void 0:s.from)&&void 0!==o?o:this.defaultAccount)&&void 0!==i?i:void 0});const a=$h({abi:r,params:e,options:Object.assign(Object.assign({},t),{dataInputFill:this.config.contractDataInputFill}),contractOptions:s});return a.dataInputFill&&delete a.dataInputFill,a},estimateGas:(e,t=this.defaultReturnFormat)=>zh(this,void 0,void 0,(function*(){return this._contractMethodEstimateGas({abi:c,params:a,returnFormat:t,options:e})})),encodeABI:()=>Bh(c,a),decodeData:e=>Lh(c,e),createAccessList:(e,t)=>zh(this,void 0,void 0,(function*(){return this._contractMethodCreateAccessList(c,a,u,e,t)}))};return c.stateMutability,h}}_contractMethodCall(e,t,n,r,o){var i;return zh(this,void 0,void 0,(function*(){const s=(({abi:e,params:t,options:n,contractOptions:r})=>{if(!(null==n?void 0:n.to)&&!r.address)throw new te("Contract address not specified");let o=vd({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Uh(o,e,t,null==n?void 0:n.dataInputFill);return o=Object.assign(Object.assign({},o),{data:i.data,input:i.input}),o})({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(i=this.options.from)&&void 0!==i?i:this.config.defaultAccount})});try{const t=yield Uu(this,s,o,this.defaultReturnFormat);return((e,t)=>{if("constructor"===e.type)return t;if(!t)return null;const n=t.length>=2?t.slice(2):t;if(!e.outputs)return null;const r=Dh([...e.outputs],n);return 1===r.__length__?r[0]:r})(e,t)}catch(e){throw e instanceof oe&&Mh(n,e.cause),e}}))}_contractMethodCreateAccessList(e,t,n,r,o){var i;return zh(this,void 0,void 0,(function*(){const s=(({abi:e,params:t,options:n,contractOptions:r})=>{if(!(null==n?void 0:n.to)&&!r.address)throw new te("Contract address not specified");if(!(null==n?void 0:n.from)&&!r.from)throw new te('Contract "from" address not specified');let o=vd({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Uh(o,e,t,null==n?void 0:n.dataInputFill);return o=Object.assign(Object.assign({},o),{data:i.data,input:i.input}),o})({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(i=this.options.from)&&void 0!==i?i:this.config.defaultAccount})});try{return Vu(this,s,o,this.defaultReturnFormat)}catch(e){throw e instanceof oe&&Mh(n,e.cause),e}}))}_contractMethodSend(e,t,n,r,o){var i,s;let a=null!=o?o:this.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(s=null!==(i=a.from)&&void 0!==i?i:this.defaultAccount)&&void 0!==s?s:void 0});const l=$h({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a}),c=Uo(this.transactionMiddleware)?Fu(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Fu(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return c.on("error",(e=>{e instanceof oe&&Mh(n,e.cause)})),c}_contractMethodDeploySend(e,t,n,r){var o,i;let s=null!=r?r:this.options;s=Object.assign(Object.assign({},s),{from:null!==(i=null!==(o=s.from)&&void 0!==o?o:this.defaultAccount)&&void 0!==i?i:void 0});const a=$h({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.contractDataInputFill}),contractOptions:s}),l={transactionResolver:e=>{if(e.status===BigInt(0))throw new te("code couldn't be stored",e);const t=this.clone();return t.options.address=e.contractAddress,t},contractAbi:this._jsonInterface,checkRevertBeforeSending:!1};return Uo(this.transactionMiddleware)?Fu(this,a,this.defaultReturnFormat,l):Fu(this,a,this.defaultReturnFormat,l,this.transactionMiddleware)}_contractMethodEstimateGas({abi:e,params:t,returnFormat:n,options:r,contractOptions:o}){return zh(this,void 0,void 0,(function*(){const i=(({abi:e,params:t,options:n,contractOptions:r})=>{let o=vd({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=Uh(o,e,t,null==n?void 0:n.dataInputFill);return o=Object.assign(Object.assign({},o),{data:i.data,input:i.input}),o})({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:null!=o?o:this.options});return $u(this,i,f.LATEST,null!=n?n:this.defaultReturnFormat)}))}_createContractEvent(e,t=this.defaultReturnFormat){return(...n)=>{var r;const{topics:o,fromBlock:i}=Nh(this.options,e,n[0]),s=new Fh({address:this.options.address,topics:o,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:t});return Uo(i)||this.getPastEvents(e.name,{fromBlock:i,topics:o},t).then((e=>{e&&e.forEach((e=>s.emit("data",e)))})).catch((e=>{s.emit("error",new ye("Failed to get past events.",e))})),null===(r=this.subscriptionManager)||void 0===r||r.addSubscription(s).catch((e=>{s.emit("error",new ye("Failed to subscribe.",e))})),s}}subscribeToContextEvents(e){const t=this;this.context=e,t.syncWithContext&&e.on(hi.CONFIG_CHANGE,(e=>{t.setConfig({[e.name]:e.newValue})}))}}const Wh=Hh,qh={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Kh={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},Gh={"0x1":"main","0x5":"goerli"},Yh=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],Qh=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const Zh=e=>{if(qo.validate(["bytes"],[e]),function(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)},{uint8ArrayToHexString:Jh}=r;Xo.A;const Xh=Uo,{parseBaseType:ef}=r,tf="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",nf=e=>{let t;var n;t="string"==typeof e?e.startsWith("0x")&&oo(e)?"string"==typeof(n=e)&&"0x"!==n.slice(0,2).toLowerCase()?Zh(`0x${n}`):Zh(n):(0,Tt.AI)(e):e;const r=(e=>{let t;return t="bigint"==typeof e||"number"==typeof e?(0,Tt.AI)(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||oo(e)?Zh(e):(0,Tt.AI)(e),(e=>Jh(Zh(e)))(Mt(ko(t)))})(t);return r===tf?void 0:r},rf=e=>{const t=nf(e);return Uo(t)?tf:t};Symbol.toStringTag;var of="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const sf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function af(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),o=1,i=[0,1];for(let e=1;e<r;e++)i.push(o+=n());let s=n(),a=t;t+=s;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let m=0;for(let e=0;e<31;e++)m=m<<1|u();let g=[],y=0,v=d;for(;;){let e=Math.floor(((m-y+1)*o-1)/v),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;g.push(t);let s=y+Math.floor(v*i[t]/o),a=y+Math.floor(v*i[t+1]/o)-1;for(;!((s^a)&h);)m=m<<1&p|u(),s=s<<1&p,a=a<<1&p|1;for(;s&~a&f;)m=m&h|m<<1&p>>>1|u(),s=s<<1^h,a=(a^h)<<1|h|1;y=s,v=1+a-s}let b=r-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let o=0,i=0,s=0,a=0;o<n;o++)a=a<<6|t[e.charCodeAt(o)],s+=6,s>=8&&(r[i++]=a>>(s-=8));return r}(e)))}function lf(e){return 1&e?~e>>1:e>>1}function cf(e,t){let n=Array(e);for(let r=0,o=0;r<e;r++)n[r]=o+=lf(t());return n}function uf(e,t=0){let n=[];for(;;){let r=e(),o=e();if(!o)break;t+=r;for(let e=0;e<o;e++)n.push(t+e);t+=o+1}return n}function df(e){return ff((()=>{let t=uf(e);if(t.length)return t}))}function hf(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(mf(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(gf(n,e))}return t.flat()}function ff(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function pf(e,t,n){let r=Array(e).fill().map((()=>[]));for(let o=0;o<t;o++)cf(e,n).forEach(((e,t)=>r[t].push(e)));return r}function mf(e,t){let n=1+t(),r=t(),o=ff(t);return pf(o.length,1+e,t).flatMap(((e,t)=>{let[i,...s]=e;return Array(o[t]).fill().map(((e,t)=>{let o=t*r;return[i+t*n,s.map((e=>e+o))]}))}))}function gf(e,t){return pf(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function yf(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function vf(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function bf(e,t){let n=e.length,r=n-t.length;for(let o=0;0==r&&o<n;o++)r=e[o]-t[o];return r}var wf="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Af=44032,Ef=4352,xf=4449,Sf=4519,kf=28,If=21*kf,_f=Af+19*If,Rf=Ef+19,Cf=xf+21,Tf=Sf+kf;function Pf(e){return e>>24&255}function Df(e){return 16777215&e}let Of,Mf,Nf,Bf;function Lf(e){return e>=Af&&e<_f}function Ff(e,t){if(e>=Ef&&e<Rf&&t>=xf&&t<Cf)return Af+(e-Ef)*If+(t-xf)*kf;if(Lf(e)&&t>Sf&&t<Tf&&(e-Af)%kf==0)return e+(t-Sf);{let n=Bf.get(e);return n&&(n=n.get(t),n)?n:-1}}function Uf(e){Of||function(){let e=af(wf);Of=new Map(df(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Mf=new Set(uf(e)),Nf=new Map,Bf=new Map;for(let[t,n]of hf(e)){if(!Mf.has(t)&&2==n.length){let[e,r]=n,o=Bf.get(e);o||(o=new Map,Bf.set(e,o)),o.set(r,t)}Nf.set(t,n.reverse())}}();let t=[],n=[],r=!1;function o(e){let n=Of.get(e);n&&(r=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(Lf(r)){let e=r-Af,t=e%If/kf|0,n=e%kf;o(Ef+(e/If|0)),o(xf+t),n>0&&o(Sf+n)}else{let e=Nf.get(r);e?n.push(...e):o(r)}if(!n.length)break;r=n.pop()}if(r&&t.length>1){let e=Pf(t[0]);for(let n=1;n<t.length;n++){let r=Pf(t[n]);if(0==r||e<=r){e=r;continue}let o=n-1;for(;;){let n=t[o+1];if(t[o+1]=t[o],t[o]=n,!o)break;if(e=Pf(t[--o]),e<=r)break}e=Pf(t[n])}}return t}function $f(e){return Uf(e).map(Df)}function jf(e){return function(e){let t=[],n=[],r=-1,o=0;for(let i of e){let e=Pf(i),s=Df(i);if(-1==r)0==e?r=s:t.push(s);else if(o>0&&o>=e)0==e?(t.push(r,...n),n.length=0,r=s):n.push(s),o=e;else{let i=Ff(r,s);i>=0?r=i:0==o&&0==e?(t.push(r),r=s):(n.push(s),o=e)}}return r>=0&&t.push(r,...n),t}(Uf(e))}const zf=65039,Vf=1,Hf=e=>Array.from(e);function Wf(e,t){return e.P.has(t)||e.Q.has(t)}class qf extends Array{get is_emoji(){return!0}}let Kf,Gf,Yf,Qf,Zf,Jf,Xf,ep,tp,np,rp,op;function ip(){if(Kf)return;let e=af(of);const t=()=>uf(e),n=()=>new Set(t());Kf=new Map(hf(e)),Gf=n(),Yf=t(),Qf=new Set(t().map((e=>Yf[e]))),Yf=new Set(Yf),Zf=n(),Jf=n();let r=df(e),o=e();const i=()=>new Set(t().flatMap((e=>r[e])).concat(t()));Xf=ff((t=>{let n=ff(e).map((e=>e+96));if(n.length){let r=t>=o;return n[0]-=32,n=vf(n),r&&(n=`Restricted[${n}]`),{N:n,P:i(),Q:i(),M:!e(),R:r}}})),ep=n(),tp=new Map;let s=t().concat(Hf(ep)).sort(((e,t)=>e-t));s.forEach(((t,n)=>{let r=e(),o=s[n]=r?s[n-r]:{V:[],M:new Map};o.V.push(t),ep.has(t)||tp.set(t,o)}));for(let{V:e,M:t}of new Set(tp.values())){let n=[];for(let t of e){let e=Xf.filter((e=>Wf(e,t))),r=n.find((({G:t})=>e.some((e=>t.has(e)))));r||(r={G:new Set,V:[]},n.push(r)),r.V.push(t),e.forEach((e=>r.G.add(e)))}let r=n.flatMap((e=>Hf(e.G)));for(let{G:e,V:o}of n){let n=new Set(r.filter((t=>!e.has(t))));for(let e of o)t.set(e,n)}}let a=new Set,l=new Set;const c=e=>a.has(e)?l.add(e):a.add(e);for(let e of Xf){for(let t of e.P)c(t);for(let t of e.Q)c(t)}for(let e of a)tp.has(e)||l.has(e)||tp.set(e,Vf);np=new Set(Hf(a).concat(Hf($f(a)))),rp=function(e){let t=[],n=uf(e);return function e({S:n,B:r},o,i){if(!(4&n&&i===o[o.length-1])){2&n&&(i=o[o.length-1]),1&n&&t.push(o);for(let t of r)for(let n of t.Q)e(t,[...o,n],i)}}(function t(r){return{S:e(),B:ff((()=>{let r=uf(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>qf.from(e))).sort(bf),op=new Map;for(let e of rp){let t=[op];for(let n of e){let e=t.map((e=>{let t=e.get(n);return t||(t=new Map,e.set(n,t)),t}));n===zf?t.push(...e):t=e}for(let n of t)n.V=e}}function sp(e){return(cp(e)?"":`${ap(lp([e]))} `)+yf(e)}function ap(e){return`"${e}"‎`}function lp(e,t=yf){let n=[];var r;r=e[0],ip(),Yf.has(r)&&n.push("◌");let o=0,i=e.length;for(let r=0;r<i;r++){let i=e[r];cp(i)&&(n.push(vf(e.slice(o,r))),n.push(t(i)),o=r+1)}return n.push(vf(e.slice(o,i))),n.join("")}function cp(e){return ip(),Zf.has(e)}function up(e,t,n){if(!e)return[];ip();let r=0;return e.split(".").map((e=>{let o=function(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}(e),i={input:o,offset:r};r+=o.length+1;try{let e,r=i.tokens=function(e,t,n){let r=[],o=[];for(e=e.slice().reverse();e.length;){let i=mp(e);if(i)o.length&&(r.push(t(o)),o=[]),r.push(n(i));else{let t=e.pop();if(np.has(t))o.push(t);else{let e=Kf.get(t);if(e)o.push(...e);else if(!Gf.has(t))throw dp(t)}}}return o.length&&r.push(t(o)),r}(o,t,n),s=r.length;if(!s)throw new Error("empty label");let a=i.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(i.emoji=s>1||r[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${vf(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Yf.has(a[0]))throw fp("leading combining mark");for(let e=1;e<s;e++){let t=r[e];if(!t.is_emoji&&Yf.has(t[0]))throw fp(`emoji + combining mark: "${vf(r[e-1])} + ${lp([t[0]])}"`)}!function(e){let t=e[0],n=sf.get(t);if(n)throw fp(`leading ${n}`);let r=e.length,o=-1;for(let i=1;i<r;i++){t=e[i];let r=sf.get(t);if(r){if(o==i)throw fp(`${n} + ${r}`);o=i+1,n=r}}if(o==r)throw fp(`trailing ${n}`)}(a);let n=Hf(new Set(t)),[o]=function(e){let t=Xf;for(let n of e){let e=t.filter((e=>Wf(e,n)));if(!e.length)throw Xf.some((e=>Wf(e,n)))?hp(t[0],n):dp(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Wf(e,n))throw hp(e,n);if(e.M){let e=$f(t);for(let t=1,n=e.length;t<n;t++)if(Qf.has(e[t])){let r=t+1;for(let o;r<n&&Qf.has(o=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==o)throw new Error(`duplicate non-spacing marks: ${sp(o)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${ap(lp(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(o,t),function(e,t){let n,r=[];for(let e of t){let t=tp.get(e);if(t===Vf)return;if(t){let r=t.M.get(e);if(n=n?n.filter((e=>r.has(e))):Hf(r),!n.length)return}else r.push(e)}if(n)for(let t of n)if(r.every((e=>Wf(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(o,n),e=o.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i}))}function dp(e){return new Error(`disallowed character: ${sp(e)}`)}function hp(e,t){let n=sp(t),r=Xf.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function fp(e){return new Error(`illegal placement: ${e}`)}function pp(e){return e.filter((e=>e!=zf))}function mp(e,t){let n,r=op,o=e.length;for(;o&&(r=r.get(e[--o]),r);){let{V:i}=r;i&&(n=i,t&&t.push(...e.slice(o).reverse()),e.length=o)}return n}const gp=e=>function(e){return function(e){return e.map((({input:t,error:n,output:r})=>{if(n){let r=n.message;throw new Error(1==e.length?r:`Invalid label ${ap(lp(t))}: ${r}`)}return vf(r)})).join(".")}(up(e,jf,pp))}(e),yp=e=>{let t="";for(let e=0;e<32;e+=1)t+="00";if(e){const n=gp(e).split(".");for(let e=n.length-1;e>=0;e-=1){const r=rf(n[e]).slice(2);t=rf(`0x${t}${r}`).slice(2)}}return`0x${t}`};var vp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class bp{constructor(e,t){this.contract=new Hh(Yh,null!=t?t:Kh.main,e),this.context=e}getOwner(e){return vp(this,void 0,void 0,(function*(){try{return this.contract.methods.owner(yp(e)).call()}catch(e){throw new Error}}))}getTTL(e){return vp(this,void 0,void 0,(function*(){try{return this.contract.methods.ttl(yp(e)).call()}catch(e){throw new Error}}))}recordExists(e){return vp(this,void 0,void 0,(function*(){try{return this.contract.methods.recordExists(yp(e)).call()}catch(e){throw new Error}}))}getResolver(e){return vp(this,void 0,void 0,(function*(){try{return this.contract.methods.resolver(yp(e)).call().then((e=>{if("string"==typeof e)return new Hh(Qh,e,this.context);throw new Error}))}catch(e){throw new Error}}))}get events(){return this.contract.events}}var wp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ap{constructor(e){this.registry=e}getResolverContractAdapter(e){return wp(this,void 0,void 0,(function*(){return this.registry.getResolver(e)}))}checkInterfaceSupport(e,t){var n,r;return wp(this,void 0,void 0,(function*(){if(Xh(qh[t]))throw new ne(null!==(n=e.options.address)&&void 0!==n?n:"",t);if(!(yield e.methods.supportsInterface(qh[t]).call()))throw new ne(null!==(r=e.options.address)&&void 0!==r?r:"",t)}))}supportsInterface(e,t){var n;return wp(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);let o=t;if(!oo(o)){if(o=null!==(n=nf(t))&&void 0!==n?n:"",""===t)throw new Error("Invalid interface Id");o=o.slice(0,10)}return r.methods.supportsInterface(o).call()}))}getAddress(e,t=60){return wp(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,"addr"),n.methods.addr(yp(e),t).call()}))}getPubkey(e){return wp(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,"pubkey"),t.methods.pubkey(yp(e)).call()}))}getContenthash(e){return wp(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,"contenthash"),t.methods.contenthash(yp(e)).call()}))}setAddress(e,t,n){return wp(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,"addr"),r.methods.setAddr(yp(e),t).send(n)}))}getText(e,t){return wp(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,"text"),n.methods.text(yp(e),t).call()}))}getName(e,t=!0){return wp(this,void 0,void 0,(function*(){const n=`${e.toLowerCase().substring(2)}.addr.reverse`,r=yield this.getResolverContractAdapter(n);return t&&(yield this.checkInterfaceSupport(r,"name")),r.methods.name(yp(n)).call()}))}}var Ep=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class xp extends za{constructor(e,t){super(null!=t?t:""),this.registryAddress=null!=e?e:Kh.main,this._registry=new bp(this.getContextObject(),e),this._resolver=new Ap(this._registry)}getResolver(e){return Ep(this,void 0,void 0,(function*(){return this._registry.getResolver(e)}))}recordExists(e){return Ep(this,void 0,void 0,(function*(){return this._registry.recordExists(e)}))}getTTL(e){return Ep(this,void 0,void 0,(function*(){return this._registry.getTTL(e)}))}getOwner(e){return Ep(this,void 0,void 0,(function*(){return this._registry.getOwner(e)}))}getAddress(e,t=60){return Ep(this,void 0,void 0,(function*(){return this._resolver.getAddress(e,t)}))}getText(e,t){return Ep(this,void 0,void 0,(function*(){return Co(e)?this._resolver.getText(yield this._resolver.getName(e,!1),t):this._resolver.getText(e,t)}))}getName(e,t=!0){return Ep(this,void 0,void 0,(function*(){return this._resolver.getName(e,t)}))}getPubkey(e){return Ep(this,void 0,void 0,(function*(){return this._resolver.getPubkey(e)}))}getContenthash(e){return Ep(this,void 0,void 0,(function*(){return this._resolver.getContenthash(e)}))}checkNetwork(){return Ep(this,void 0,void 0,(function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const n=yield(t=this,Du(void 0,void 0,void 0,(function*(){return Il(t.requestManager)})));if("boolean"!=typeof n||n)throw new ae;this._lastSyncCheck=e}var t;if(this._detectedAddress)return this._detectedAddress;const n=yield fc(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:s.HEX})),r=Kh[Gh[n]];if(void 0===r)throw new se(n);return this._detectedAddress=r,this._detectedAddress}))}supportsInterface(e,t){return Ep(this,void 0,void 0,(function*(){return this._resolver.supportsInterface(e,t)}))}get events(){return this._registry.events}setAddress(e,t,n){return Ep(this,void 0,void 0,(function*(){return this._resolver.setAddress(e,t,n)}))}}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const{uint8ArrayToHexString:Sp}=r,kp=e=>Sp((e=>{if(qo.validate(["bytes"],[e]),function(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)})(e)),Ip=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),kp((new TextEncoder).encode(t))},_p=Tt.AI,Rp=e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(_p(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r};Xo.A;const{parseBaseType:Cp}=r;Symbol.toStringTag;var Tp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};var Pp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Dp extends za{getAccounts(){return Pp(this,void 0,void 0,(function*(){return e=this.requestManager,Tp(void 0,void 0,void 0,(function*(){const t=yield(e=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_listAccounts",params:[]})})))(e);return t.map(Rp)}));var e}))}newAccount(e){return Pp(this,void 0,void 0,(function*(){return((e,t)=>Tp(void 0,void 0,void 0,(function*(){qo.validate(["string"],[t]);const n=yield((e,t)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_newAccount",params:[t]})})))(e,t);return Rp(n)})))(this.requestManager,e)}))}unlockAccount(e,t,n){return Pp(this,void 0,void 0,(function*(){return((e,t,n,r)=>Tp(void 0,void 0,void 0,(function*(){return qo.validate(["address","string","uint"],[t,n,r]),((e,t,n,r)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_unlockAccount",params:[t,n,r]})})))(e,t,n,r)})))(this.requestManager,e,t,n)}))}lockAccount(e){return Pp(this,void 0,void 0,(function*(){return((e,t)=>Tp(void 0,void 0,void 0,(function*(){return qo.validate(["address"],[t]),((e,t)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_lockAccount",params:[t]})})))(e,t)})))(this.requestManager,e)}))}importRawKey(e,t){return Pp(this,void 0,void 0,(function*(){return((e,t,n)=>Tp(void 0,void 0,void 0,(function*(){return qo.validate(["string","string"],[t,n]),((e,t,n)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_importRawKey",params:[t,n]})})))(e,t,n)})))(this.requestManager,e,t)}))}sendTransaction(e,t){return Pp(this,void 0,void 0,(function*(){return((e,t,n)=>Tp(void 0,void 0,void 0,(function*(){const r=Xl(t,h);return((e,t,n)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sendTransaction",params:[t,n]})})))(e,r,n)})))(this.requestManager,e,t)}))}signTransaction(e,t){return Pp(this,void 0,void 0,(function*(){return((e,t,n)=>Tp(void 0,void 0,void 0,(function*(){const r=Xl(t,h);return((e,t,n)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_signTransaction",params:[t,n]})})))(e,r,n)})))(this.requestManager,e,t)}))}sign(e,t,n){return Pp(this,void 0,void 0,(function*(){return((e,t,n,r)=>Tp(void 0,void 0,void 0,(function*(){qo.validate(["string","address","string"],[t,n,r]);const o=oo(t)?t:Ip(t);return((e,t,n,r)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sign",params:[t,n,r]})})))(e,o,n,r)})))(this.requestManager,e,t,n)}))}ecRecover(e,t){return Pp(this,void 0,void 0,(function*(){return((e,t,n)=>Tp(void 0,void 0,void 0,(function*(){qo.validate(["string","string"],[t,n]);const r=oo(t)?t:Ip(t);return((e,t,n)=>Tl(void 0,void 0,void 0,(function*(){return e.send({method:"personal_ecRecover",params:[t,n]})})))(e,r,n)})))(this.requestManager,e,t)}))}}function Op(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}function Mp(...e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}function Np(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n+=1)if(e[n]!==t[n])return!1;return!0}const Bp={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Lp="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Fp=e=>{if(qo.validate(["bytes"],[e]),Op(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)},{uint8ArrayToHexString:Up}=r,$p=e=>Up(Fp(e)),jp=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?Fp(`0x${e}`):Fp(e),zp=e=>(qo.validate(["hex"],[e]),vo(e)),Vp=zp,Hp=(e,t)=>{"bigint"!=typeof e&&qo.validate(["int"],[e]);let n=bo(e);return t&&(n.startsWith("-")||n.length%2!=1?n.length%2==0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3))):n="0x0".concat(n.slice(2))),n},Wp=Hp,qp=e=>zp(e).toString(),Kp=e=>{qo.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),$p((new TextEncoder).encode(t))},Gp=Kp,Yp=Kp,Qp=e=>Dt(jp(e)),Zp=e=>"string"==typeof e?Qp(e):(qo.validate(["bytes"],[e]),Dt(e)),Jp=Tt.AI,Xp=Qp,em=e=>{qo.validate(["string"],[e]);let t="";for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n).toString(16);t+=r.length%2!=0?`0${r}`:r}return`0x${t}`},tm=em,nm=e=>new TextDecoder("ascii").decode(jp(e)),rm=nm,om=(e,t)=>{if("string"==typeof e&&Co(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":Hp(e);if("bigint"==typeof e)return t?"bigint":Hp(e);if(Op(e))return t?"bytes":$p(e);if("object"==typeof e&&e)return t?"string":Kp(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":Hp(e);if(oo(e))return t?"bytes":e;if(so(e)&&!Do(e)&&!Po(e))return t?"bytes":`0x${e}`;if(so(e)&&!Do(e)&&Po(e))return t?"uint":Hp(e);if(!Number.isFinite(e))return t?"string":Kp(e)}throw new ut(e)},im=e=>{if("number"==typeof e)return e>1e20?(console.warn(Lp),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&oo(e))return zp(e);try{return im(BigInt(e))}catch(t){throw new it(e)}},sm=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&so(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new it(e)},am=(e,t)=>{let n;if("string"==typeof t){if(n=Bp[t],!n)throw new lt(t)}else{if(t<0||!Number.isInteger(t))throw new ct(t);n=To(BigInt(10),BigInt(t))}const r=String(im(e)),o=n.toString().length-1;if(o<=0)return r.toString();const i=r.padStart(o,"0"),s=i.slice(0,-o),a=i.slice(-o).replace(/\.?0+$/,"");return""===s?`0.${a}`:""===a?s:`${s}.${a}`.slice(0,s.length+o+1)},lm=(e,t)=>{let n;if(qo.validate(["number"],[e]),"string"==typeof t){if(n=Bp[t],!n)throw new lt(t)}else{if(t<0||!Number.isInteger(t))throw new ct(t);n=To(BigInt(10),BigInt(t))}let r=e;"number"==typeof r&&(r<1e-15&&console.warn(Lp),r>1e20?(console.warn(Lp),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[o,i]=String("string"!=typeof r||oo(r)?im(r):r).split(".").concat(""),s=BigInt(`${o}${i}`)*n,a=i.length;return 0===a?s.toString():s.toString().slice(0,-a)},cm=e=>{if(!Co(e,!1))throw new st(e);const t=e.toLowerCase().replace(/^0x/i,""),n=Ao(Mt(ko(Jp(t))));if(Uo(n)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===n)return"";let r="0x";const o=n.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(o[e],16)>7?r+=t[e].toUpperCase():r+=t[e];return r},um=e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e))return Boolean(e);if("bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return Boolean(e);if("string"==typeof e&&!oo(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&Boolean(Number(e));if("string"==typeof e&&oo(e)&&("0x1"===e||"0x0"===e))return Boolean(im(e));throw new ht(e)};class dm extends Xo.A{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const hm=oo,fm=so,pm=Ro,mm=Co,gm=Lo,ym=Fo,vm=(e,t)=>{if(!Lo(e))return!1;if(!Co(t))return!1;const n=wo(t,64);return Fo(e,n)},bm=(e,t)=>!!Lo(e)&&!!Co(t)&&Fo(e,t),wm=jo,Am=(e,t)=>!!Lo(e)&&!!jo(t)&&Fo(e,t),Em=(e,t)=>{const n="string"==typeof e&&No(e),r="string"==typeof t&&No(t);if(e===t||("earliest"===e||0===e)&&("earliest"===t||0===t))return 0;if("earliest"===e&&t>0)return-1;if("earliest"===t&&e>0)return 1;if(n&&r){const n={[f.EARLIEST]:1,[f.FINALIZED]:2,[f.SAFE]:3,[f.LATEST]:4,[f.PENDING]:5};return n[e]<n[t]?-1:1}if(n&&!r||!n&&r)throw new gt("Cannot compare blocktag with provided non-blocktag input.");const o=BigInt(e),i=BigInt(t);return o<i?-1:o===i?0:1},xm=e=>"object"==typeof e&&!Uo(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some((t=>t in e)),Sm=Uo,km=e=>!("object"!=typeof e||Uo(e)||Array.isArray(e)||e instanceof g),Im=(e,...t)=>{if(!km(e))return e;const n=Object.assign({},e);for(const e of t)for(const t in e)km(e[t])?(n[t]||(n[t]={}),n[t]=Im(n[t],e[t])):!Uo(e[t])&&Object.hasOwnProperty.call(e,t)&&(Array.isArray(e[t])||e[t]instanceof g?n[t]=e[t].slice(0):n[t]=e[t]);return n},_m=(e,t,n="0")=>"string"==typeof e?oo(e)?wo(e,t,n):e.padStart(t,n):(qo.validate(["int"],[e]),wo(e,t,n)),Rm=(e,t,n="0")=>{if("string"==typeof e&&!oo(e))return e.padEnd(t,n);qo.validate(["int"],[e]);const r="string"==typeof e&&oo(e)?e:Hp(e),o=r.startsWith("-")?3:2;return r.padEnd(t+o,n)},Cm=Rm,Tm=_m,Pm=(e,t=64)=>{qo.validate(["int"],[e]);const n=im(e);if(n>=0)return _m(om(n),t);const r=To(BigInt(2),BigInt(4*t));if(-n>=r)throw new dt(`value: ${e}, nibbleWidth: ${t}`);const o=BigInt(n);return _m(Hp(o+r),t)},Dm=(e,t=64)=>{qo.validate(["int"],[e]);const n=im(e);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>4*t)throw new dt(`value: "${e}", nibbleWidth: "${t}"`);if(4*t!==r)return n;const o=To(BigInt(2),BigInt(t)*BigInt(4));return im(BigInt(n)-o)},{parseBaseType:Om}=r,Mm=e=>"object"==typeof e&&!Uo(e)&&"number"in e&&"bytes"in e,Nm=(e,t,n=[])=>{let r,o=Object.assign({},e);for(const e of t){if(o.oneOf&&r){const e=r,t=n.find((([t])=>t===e));t&&t[0]===r&&(o=o.oneOf[t[1]])}if(!o.properties&&!o.items)return;o.properties?o=o.properties[e]:o.items&&o.items.properties?o=o.items.properties[e]:o.items&&$o(o.items)?o=o.items:o.items&&Array.isArray(o.items)&&(o=o.items[parseInt(e,10)]),o&&e&&(r=e)}return o},Bm=(e,t,n)=>{try{const{baseType:r,baseTypeSize:o}=Om(t);if("int"===r||"uint"===r)switch(n.number){case s.NUMBER:return Number(sm(e));case s.HEX:return Hp(sm(e));case s.STR:return sm(e).toString();case s.BIGINT:return sm(e);default:throw new ce(`Invalid format: ${String(n.number)}`)}if("bytes"===r){let t;switch(o?"string"==typeof e?t=_m(e,2*o):Op(e)&&(t=Mp(new Uint8Array(o-e.length),e)):t=e,n.bytes){case a.HEX:return $p(Fp(t));case a.UINT8ARRAY:return Fp(t);default:throw new ce(`Invalid format: ${String(n.bytes)}`)}}}catch(t){return e}return e},Lm=({value:e,schemaProp:t,schema:n,object:r,key:o,dataPath:i,format:s,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(e)){let u=t;if(void 0!==(null==t?void 0:t.oneOf)&&t.oneOf.forEach(((n,r)=>{var i,s;!Array.isArray(null==t?void 0:t.items)&&("object"==typeof e[0]&&"object"===(null===(i=null==n?void 0:n.items)||void 0===i?void 0:i.type)||"string"==typeof e[0]&&"object"!==(null===(s=null==n?void 0:n.items)||void 0===s?void 0:s.type))&&(u=n,a.push([o,r]))})),Uo(null==u?void 0:u.items))return delete r[o],i.pop(),!0;if($o(u.items)&&!Uo(u.items.format)){for(let t=0;t<e.length;t+=1)r[o][t]=Bm(e[t],null===(l=null==u?void 0:u.items)||void 0===l?void 0:l.format,s);return i.pop(),!0}if(!Array.isArray(null==u?void 0:u.items)&&"object"===(null===(c=null==u?void 0:u.items)||void 0===c?void 0:c.type)){for(const t of e)Fm(t,n,i,s,a);return i.pop(),!0}if(Array.isArray(null==u?void 0:u.items)){for(let t=0;t<e.length;t+=1)r[o][t]=Bm(e[t],u.items[t].format,s);return i.pop(),!0}}return!1},Fm=(e,t,n,r,o=[])=>{var i;if(!$o(e)&&!Array.isArray(e))return Bm(e,null==t?void 0:t.format,r);const s=e;if(Array.isArray(s)&&"array"===(null==t?void 0:t.type)&&"object"===(null===(i=null==t?void 0:t.items)||void 0===i?void 0:i.type))Lm({value:s,schemaProp:t,schema:t,object:s,key:"",dataPath:n,format:r,oneOfPath:o});else for(const[e,i]of Object.entries(s)){n.push(e);const a=Nm(t,n,o);Uo(a)?(delete s[e],n.pop()):$o(i)?(Fm(i,t,n,r,o),n.pop()):Lm({value:i,schemaProp:a,schema:t,object:s,key:e,dataPath:n,format:r,oneOfPath:o})||(s[e]=Bm(i,a.format,r),n.pop())}return s},Um=(e,t,n=d)=>{let r;r=$o(t)?Im({},t):Array.isArray(t)?[...t]:t;const o=$o(e)?e:po(e);if(!o.properties&&!o.items&&!o.format)throw new ce("Invalid json schema for formatting");return Fm(r,o,[],n)},$m="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",jm=e=>{let t;return t="bigint"==typeof e||"number"==typeof e?(0,Tt.AI)(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||oo(e)?Fp(e):(0,Tt.AI)(e),$p(Mt(ko(t)))},zm=e=>{let t;t="string"==typeof e?e.startsWith("0x")&&oo(e)?jp(e):(0,Tt.AI)(e):e;const n=jm(t);return n===$m?void 0:n},Vm=e=>{const t=zm(e);return Uo(t)?$m:t},Hm=(e,t)=>{const n=/^(\d+).*$/.exec(e.slice(t));return n?parseInt(n[1],10):0},Wm=e=>e.toString(2).length,qm=(e,t)=>{const n=t.toString();if("string"===e){if("string"==typeof t)return Kp(t);throw new at(t)}if("bool"===e||"boolean"===e){if("boolean"==typeof t)return t?"01":"00";throw new ht(t)}if("address"===e){if(!Co(n))throw new st(n);return n}const r=(e=>e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:"uint"===e?"uint256":e)(e);if(e.startsWith("uint")){const e=Hm(r,4);if(e%8||e<8||e>256)throw new pt(n);const t=im(n);if(Wm(t)>e)throw new mt(n);if(t<BigInt(0))throw new ft(n);return e?Tm(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){const t=Hm(r,3);if(t%8||t<8||t>256)throw new pt(e);const o=im(n);if(Wm(o)>t)throw new mt(n);return o<BigInt(0)?Pm(o.toString(),t/8*2):t?Tm(o.toString(16),t/4):o.toString(16)}if("bytes"===r){if(n.replace(/^0x/i,"").length%2!=0)throw new ot(n);return n}if(e.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!=0)throw new ot(n);const t=Hm(e,5);if(!t||t<1||t>64||t<n.replace(/^0x/i,"").length/2)throw new ot(n);return Cm(n,2*t)}return""},Km=e=>{const[t,n]=(e=>{if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");let t,n;if("object"==typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,n="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"==typeof e)return["int",e];t=om(e,!0),n=om(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return!t.startsWith("int")&&!t.startsWith("uint")||"string"!=typeof n||/^(-)?0x/i.test(n)||(n=sm(n)),[t,n]})(e);return Array.isArray(n)?n.map((e=>qm(t,e).replace("0x",""))).join(""):qm(t,n).replace("0x","")},Gm=(...e)=>`0x${e.map(Km).join("").toLowerCase()}`,Ym=(...e)=>zm(Gm(...e)),Qm=(...e)=>Vm(Gm(...e)),Zm=e=>zm(`0x${("number"==typeof e?e.toString():e).padStart(64,"0")}`),Jm=e=>ri(e),Xm=e=>$p(Jm(e));var eg=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function tg(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function ng(e,t,n){return eg(this,void 0,void 0,(function*(){let r;const o=yield Promise.race([e instanceof Promise?e:e(),new Promise(((e,o)=>{r=setTimeout((()=>n?o(n):e(void 0)),t)}))]);if(r&&clearTimeout(r),o instanceof Error)throw o;return o}))}function rg(e,t){let n;return[new Promise(((r,o)=>{n=setInterval(function i(){return(()=>{eg(this,void 0,void 0,(function*(){try{const o=yield ng(e,t);Uo(o)||(clearInterval(n),r(o))}catch(e){clearInterval(n),o(e)}}))})(),i}(),t)})),n]}function og(e,t){return eg(this,void 0,void 0,(function*(){return rg(e,t)[0]}))}function ig(e,t){let n;const r=new Promise(((r,o)=>{n=setTimeout((()=>{o(t)}),e)}));return[n,r]}function sg(e,t){let n;const r=new Promise(((r,o)=>{n=setInterval((()=>{(()=>{eg(this,void 0,void 0,(function*(){const t=yield e();t&&(clearInterval(n),o(t))}))})()}),t)}));return[n,r]}const ag=()=>{const e=Jm(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=$p(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},lg=e=>{const t=e.error.code;return It.has(t)||t>=-32099&&t<=-32e3},cg=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&Uo(e.error)&&("number"==typeof e.id||"string"==typeof e.id),ug=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&Uo(e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),dg=e=>!(Array.isArray(e)||!e||"2.0"!==e.jsonrpc||Uo(e.params)||Uo(e.method)),hg=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e,fg=e=>cg(e)||ug(e),pg=e=>Array.isArray(e)?e.every(fg):fg(e),mg=e=>Array.isArray(e)&&e.length>0&&pg(e);let gg;const yg=e=>{gg=e},vg=e=>{var t,n,r,o;return void 0!==gg&&(gg+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(r=null!==(n=e.id)&&void 0!==n?n:gg)&&void 0!==r?r:ag(),method:e.method,params:null!==(o=e.params)&&void 0!==o?o:void 0}},bg=e=>e.map((e=>vg(e))),wg=e=>Array.isArray(e)&&e.length>0;var Ag,Eg=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class xg{constructor({timeout:e,eagerStart:t,timeoutMessage:n}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[Ag]="Promise",this._state="pending",this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._timeoutMessage=n,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return Eg(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return Eg(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return Eg(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new de(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}Ag=Symbol.toStringTag;class Sg{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimeout=15e3}clearQueues(){"function"==typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((e=>{let n,r=e;this.lastChunk&&(r=this.lastChunk+r);try{n=JSON.parse(r)}catch(e){return this.lastChunk=r,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),void(this.lastChunkTimeout=setTimeout((()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new bt({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))}),this.chunkTimeout))}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,n&&t.push(n)})),t}}var kg=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ig extends b{constructor(){super(...arguments),this._eventEmitter=new Xo.b,this._chainId="",this._accounts=[]}_getChainId(){var e;return kg(this,void 0,void 0,(function*(){const t=yield this.request(vg({method:"eth_chainId",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:""}))}_getAccounts(){var e;return kg(this,void 0,void 0,(function*(){const t=yield this.request(vg({method:"eth_accounts",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]}))}_onConnect(){Promise.all([this._getChainId().then((e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))})).catch((e=>{console.error(e)})),this._getAccounts().then((e=>{this._accounts.length===e.length&&e.every((t=>e.includes(t)))||(this._accounts=e,this._onAccountsChanged())})).catch((e=>{console.error(e)}))]).then((()=>this._eventEmitter.emit("connect",{chainId:this._chainId}))).catch((e=>{console.error(e)}))}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new kt(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var _g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Rg={autoReconnect:!0,delay:5e3,maxAttempts:5};class Cg extends Ig{constructor(e,t,n){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new ge(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},Rg),null!=n?n:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new Sg(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError((()=>{this._clearQueues()})),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(!this.isReconnecting)throw this._connectionStatus="disconnected",e&&e.message?new Q(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new ge(this._socketPath);setImmediate((()=>{this._reconnect()}))}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){const n=null!=e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(n,t),this._onDisconnect(n,t)}safeDisconnect(e,t,n=!1,r=1e3){return _g(this,void 0,void 0,(function*(){let o=0;yield(()=>_g(this,void 0,void 0,(function*(){return new Promise((e=>{const t=setInterval((()=>{n&&o>=5&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),o+=1}),r)}))})))(),this.disconnect(e,t)}))}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((e,t)=>{e.deferredPromise.reject(new X),this._sentRequestsQueue.delete(t)})),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout((()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1}),this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new J(this._reconnectOptions.maxAttempts))))}request(e){return _g(this,void 0,void 0,(function*(){if(Sm(this._socketConnection))throw new Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();const t=wg(e)?e[0].id:e.id;if(!t)throw new ve("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new ee(t);const n=new xg;n.catch((e=>{this._eventEmitter.emit("error",e)}));const r={payload:e,deferredPromise:n};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,r),r.deferredPromise;this._sentRequestsQueue.set(t,r);try{this._sendToSocket(r.payload)}catch(e){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",e)}return n}))}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,t]of this._pendingRequestsQueue.entries())try{this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}catch(t){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",t)}}_onMessage(e){const t=this._parseResponses(e);if(!Sm(t)&&0!==t.length)for(const e of t){if(dg(e)&&e.method.endsWith("_subscription"))return void this._eventEmitter.emit("message",e);const t=mg(e)?e[0].id:e.id,n=this._sentRequestsQueue.get(t);if(!n)return;(mg(e)||cg(e)||ug(e))&&(this._eventEmitter.emit("message",e),n.deferredPromise.resolve(e)),this._sentRequestsQueue.delete(t)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new Z(e)),this._pendingRequestsQueue.delete(n)})),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((t,n)=>{t.deferredPromise.reject(new Z(e)),this._sentRequestsQueue.delete(n)})),this._removeSocketListeners()}}var Tg,Pg;!function(e){e.HTTPS="https",e.WebSocket="wss"}(Tg||(Tg={})),function(e){e.ETH_MAINNET="eth_mainnet",e.ETH_GOERLI="eth_goerli",e.ETH_SEPOLIA="eth_sepolia",e.ETH_HOLESKY="eth_holesky",e.POLYGON_MAINNET="polygon_mainnet",e.POLYGON_MUMBAI="polygon_mumbai",e.POLYGON_AMONY="polygon_amony",e.ARBITRUM_MAINNET="arbitrum_mainnet",e.ARBITRUM_SEPOLIA="arbitrum_sepolia",e.BASE_MAINNET="base_mainnet",e.BASE_SEPOLIA="base_sepolia",e.OPTIMISM_MAINNET="optimism_mainnet",e.OPTIMISM_SEPOLIA="optimism_sepolia",e.BNB_MAINNET="bnb_mainnet",e.BNB_TESTNET="bnb_testnet"}(Pg||(Pg={})),BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const{uint8ArrayToHexString:Dg}=r,Og=e=>Dg((e=>{if(qo.validate(["bytes"],[e]),function(e){var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return So(e);throw new ot(e)})(e));Xo.A;const{parseBaseType:Mg}=r,Ng=()=>{const e=ri(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Og(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")};let Bg;const Lg=e=>{var t,n,r,o;return void 0!==Bg&&(Bg+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(r=null!==(n=e.id)&&void 0!==n?n:Bg)&&void 0!==r?r:Ng(),method:e.method,params:null!==(o=e.params)&&void 0!==o?o:void 0}};Symbol.toStringTag;var Fg=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ug extends b{constructor(){super(...arguments),this._eventEmitter=new Xo.b,this._chainId="",this._accounts=[]}_getChainId(){var e;return Fg(this,void 0,void 0,(function*(){const t=yield this.request(Lg({method:"eth_chainId",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:""}))}_getAccounts(){var e;return Fg(this,void 0,void 0,(function*(){const t=yield this.request(Lg({method:"eth_accounts",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]}))}_onConnect(){Promise.all([this._getChainId().then((e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))})).catch((e=>{console.error(e)})),this._getAccounts().then((e=>{this._accounts.length===e.length&&e.every((t=>e.includes(t)))||(this._accounts=e,this._onAccountsChanged())})).catch((e=>{console.error(e)}))]).then((()=>this._eventEmitter.emit("connect",{chainId:this._chainId}))).catch((e=>{console.error(e)}))}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new kt(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}class $g extends F{constructor(){super("Too many requests, Quicknode has reached its rate limit."),this.code=1300}}class jg extends Ug{constructor(e,t,n,r){super(),this.transport=t,t===Tg.HTTPS?this.provider=new vi(this.getRPCURL(e,t,n,r)):t===Tg.WebSocket&&(this.provider=new zi(this.getRPCURL(e,t,n,r)))}request(e,t){return n=this,r=void 0,i=function*(){if(this.transport===Tg.HTTPS){const n=yield this.provider.request(e,t);if("object"==typeof n&&!Uo(n)&&"error"in n&&!Uo(n.error)&&"code"in n.error&&429===n.error.code)throw new $g;return n}return this.provider.request(e)},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function a(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}l((i=i.apply(n,r||[])).next())}));var n,r,o,i}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,t){var n;(null===(n=this.provider)||void 0===n?void 0:n.once)&&this.provider.once(e,t)}removeAllListeners(e){var t;(null===(t=this.provider)||void 0===t?void 0:t.removeAllListeners)&&this.provider.removeAllListeners(e)}connect(){var e;(null===(e=this.provider)||void 0===e?void 0:e.connect)&&this.provider.connect()}disconnect(e,t){var n;(null===(n=this.provider)||void 0===n?void 0:n.disconnect)&&this.provider.disconnect(e,t)}reset(){var e;(null===(e=this.provider)||void 0===e?void 0:e.reset)&&this.provider.reset()}on(e,t){this.provider&&this.provider.on(e,t)}removeListener(e,t){this.provider&&this.provider.removeListener(e,t)}}const zg=e=>void 0!==e&&e.trim().length>0,Vg=new class extends jg{constructor(e=Pg.ETH_MAINNET,t=Tg.HTTPS,n="",r=""){super(e,t,n,r)}getRPCURL(e,t,n,r){let o="",i="";switch(e){case Pg.ETH_MAINNET:o=zg(r)?r:"powerful-holy-bush.quiknode.pro",i=zg(n)?n:"3240624a343867035925ff7561eb60dfdba2a668";break;case Pg.ETH_SEPOLIA:o=zg(r)?r:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",i=zg(n)?n:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Pg.ETH_HOLESKY:o=zg(r)?r:"yolo-morning-card.ethereum-holesky.quiknode.pro",i=zg(n)?n:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Pg.ARBITRUM_MAINNET:o=zg(r)?r:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",i=zg(n)?n:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Pg.ARBITRUM_SEPOLIA:o=zg(r)?r:"few-patient-pond.arbitrum-sepolia.quiknode.pro",i=zg(n)?n:"3be985450970628c860b959c65cd2642dcafe53c";break;case Pg.BNB_MAINNET:o=zg(r)?r:"purple-empty-reel.bsc.quiknode.pro",i=zg(n)?n:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Pg.BNB_TESTNET:o=zg(r)?r:"floral-rough-scion.bsc-testnet.quiknode.pro",i=zg(n)?n:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Pg.POLYGON_MAINNET:o=zg(r)?r:"small-chaotic-moon.matic.quiknode.pro",i=zg(n)?n:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Pg.POLYGON_AMONY:o=zg(r)?r:"prettiest-side-shape.matic-amoy.quiknode.pro",i=zg(n)?n:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${t}://${o}/${i}`}},Hg=e=>!Sm(e)&&"object"==typeof e&&!Sm(e.type)&&"event"===e.type,Wg=e=>!Sm(e)&&"object"==typeof e&&!Sm(e.type)&&"function"===e.type,qg=e=>"object"==typeof e&&void 0===e.components&&void 0===e.name,Kg=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},Gg=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"==typeof r?t.push(Object.assign(Object.assign({},Kg(n)),{components:Gg(r)})):t.push({name:n,type:e[n]})}return t},Yg=(e,t)=>{const n=[];return t.forEach((t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new fe(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),o=r>=0?t.type.substring(r):"",i=Yg(e,t.components);Array.isArray(i)&&e?n.push(`tuple(${i.join(",")})${o}`):e?n.push(`(${i.join()})`):n.push(`(${i.join(",")})${o}`)}else n.push(t.type)})),n},Qg=e=>{var t,n,r,o,i;return!Sm(i=e)&&"object"==typeof i&&!Sm(i.type)&&"error"===i.type||Hg(e)||Wg(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${Yg(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${Yg(!1,null!==(o=e.inputs)&&void 0!==o?o:[]).join(",")})`};function Zg(e,t){const n=e.exec(t);return n?.groups}var Jg=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xg=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ey=/^\(.+?\).*?$/,ty=Object.defineProperty,ny=(e,t,n)=>(((e,t,n)=>{t in e?ty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),ry=class extends Error{constructor(e,t={}){const n=t.cause instanceof ry?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof ry&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@0.7.1"].join("\n")),ny(this,"details"),ny(this,"docsPath"),ny(this,"metaMessages"),ny(this,"shortMessage"),ny(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}},oy=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function iy(e){return oy.test(e)}function sy(e){return Zg(oy,e)}var ay=new Set(["memory","indexed","storage","calldata"]),ly=new Set(["calldata","memory","storage"]),cy=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),uy=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,dy=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,hy=/^u?int$/;function fy(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(cy.has(n))return cy.get(n);const r=ey.test(e),o=Zg(r?dy:uy,e);if(!o)throw new ry("Invalid ABI parameter.",{details:e});if(o.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||Jg.test(e)||Xg.test(e)||gy.test(e)}(o.name))throw new ry("Invalid ABI parameter.",{details:e,metaMessages:[`"${o.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=o.name?{name:o.name}:{},s="indexed"===o.modifier?{indexed:!0}:{},a=t?.structs??{};let l,c={};if(r){l="tuple";const e=py(o.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(fy(e[r],{structs:a}));c={components:t}}else if(o.type in a)l="tuple",c={components:a[o.type]};else if(hy.test(o.type))l=`${o.type}256`;else if(l=o.type,"struct"!==t?.type&&!my(l))throw new ry("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new ry("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(ly.has(o.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(l,!!o.array))throw new ry("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${o.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o.modifier}" was given.`]})}const u={type:`${l}${o.array??""}`,...i,...s,...c};return cy.set(n,u),u}function py(e,t=[],n="",r=0){if(""===e){if(""===n)return t;if(0!==r)throw new ry("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...t,n.trim()]}const o=e.length;for(let i=0;i<o;i++){const o=e[i],s=e.slice(i+1);switch(o){case",":return 0===r?py(s,[...t,n.trim()]):py(s,t,`${n}${o}`,r);case"(":return py(s,t,`${n}${o}`,r+1);case")":return py(s,t,`${n}${o}`,r-1);default:return py(s,t,`${n}${o}`,r)}}return[]}function my(e){return"address"===e||"bool"===e||"function"===e||"string"===e||Jg.test(e)||Xg.test(e)}var gy=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;var yy=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function vy(e,t,n=new Set){const r=[],o=e.length;for(let i=0;i<o;i++){const o=e[i];if(ey.test(o.type))r.push(o);else{const e=Zg(yy,o.type);if(!e?.type)throw new ry("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:i,type:s}=e;if(s in t){if(n.has(s))throw new ry("Circular reference detected.",{metaMessages:[`Struct "${s}" is a circular reference.`]});r.push({...o,type:`tuple${i??""}`,components:vy(t[s]??[],t,new Set([...n,s]))})}else{if(!my(s))throw new ry("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});r.push(o)}}}return r}const by=32;function wy(e=0){var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function Ay(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>Ay(e)))})}function Ey(e){return e.map((e=>{var t,n;if(!Sm(n=e)&&"object"==typeof n&&!Sm(n.type)&&"string"==typeof n.type)return e;if("string"==typeof e)return Ay(function(e){let t;if("string"==typeof e)t=fy(e,{modifiers:ay});else{const n=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!iy(n))continue;const o=sy(n);if(!o)throw new ry("Invalid struct signature.",{details:n});const i=o.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const n=fy(t,{type:"struct"});s.push(n)}if(!s.length)throw new ry("Invalid struct signature.",{details:n,metaMessages:["No properties exist."]});t[o.name]=s}const r={},o=Object.entries(t),i=o.length;for(let e=0;e<i;e++){const[n,i]=o[e];r[n]=vy(i,t)}return r}(e),r=e.length;for(let o=0;o<r;o++){const r=e[o];if(!iy(r)){t=fy(r,{modifiers:ay,structs:n});break}}}if(!t)throw new ry("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(qg(e)){const n=Object.keys(e)[0],r=Kg(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:Gg(e[n])})}throw new fe("Invalid abi")}))}function xy(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let o=-1;if("[]"!==r&&(o=Number(r.slice(1,-1)),isNaN(o)))throw new fe("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:o}}function Sy(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(Sy))&&void 0!==n&&n:!!e.type.endsWith("]")&&Sy(xy(e).param))}const ky=20,Iy=by-ky,_y=new Map;let Ry=BigInt(256);for(let e=8;e<=256;e+=8)_y.set(`uint${e}`,{min:BigInt(0),max:Ry-BigInt(1)}),_y.set(`int${e}`,{min:-Ry/BigInt(2),max:Ry/BigInt(2)-BigInt(1)}),Ry*=BigInt(256);_y.set("int",_y.get("int256")),_y.set("uint",_y.get("uint256"));const Cy=BigInt(1)<<BigInt(256);function Ty(e,t=by){let n;return n=e<0?(Cy+e).toString(16):e.toString(16),n=_m(n,2*t),So(n)}function Py(e,t){let n;try{n=sm(t)}catch(n){throw new fe("provided input is not number value",{type:e.type,value:t,name:e.name})}const r=_y.get(e.type);if(!r)throw new fe("provided abi contains invalid number datatype",{type:e.type});if(n<r.min)throw new fe("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:r.min.toString()});if(n>r.max)throw new fe("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:r.max.toString()});return{dynamic:!1,encoded:Ty(n)}}function Dy(e,t){if(t.length<by)throw new fe("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,by),r=_y.get(e.type);if(!r)throw new fe("provided abi contains invalid number datatype",{type:e.type});const o=function(e,t){const n=Ao(e),r=BigInt(n);return r<=t?r:r-Cy}(n,r.max);if(o<r.min)throw new fe("decoded value is less then minimum for given type",{type:e.type,value:o,name:e.name,minimum:r.min.toString()});if(o>r.max)throw new fe("decoded value is greater then maximum for given type",{type:e.type,value:o,name:e.name,maximum:r.max.toString()});return{result:o,encoded:t.subarray(by),consumed:by}}const Oy=32;function My(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!_o(t))throw new fe("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const n=Fp(t),[,r]=e.type.split("bytes");if(r){if(Number(r)>Oy||Number(r)<1)throw new fe("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(r)<n.length)throw new fe("provided input size is different than type size",{type:e.type,value:t,name:e.name});const o=wy(by);return o.set(n),{dynamic:!1,encoded:o}}const o=Math.ceil(n.length/by),i=wy(by+o*by);return i.set(Py({type:"uint32",name:""},n.length).encoded),i.set(n,by),{dynamic:!0,encoded:i}}function Ny(e,t){const[,n]=e.type.split("bytes");let r=Number(n),o=t,i=1,s=0;if(!r){const e=Dy({type:"uint32",name:""},o);r=Number(e.result),s+=e.consumed,o=e.encoded,i=Math.ceil(r/by)}if(r>t.length)throw new fe("there is not enough data to decode",{type:e.type,encoded:t,size:r});return{result:$p(o.subarray(0,r)),encoded:o.subarray(i*by),consumed:s+i*by}}function By(e){let t=0,n=0;const r=[],o=[];for(const n of e)n.dynamic?t+=by:t+=n.encoded.length;for(const i of e)i.dynamic?(r.push(Py({type:"uint256",name:""},t+n)),o.push(i),n+=i.encoded.length):r.push(i);return Mp(...r.map((e=>e.encoded)),...o.map((e=>e.encoded)))}function Ly(e,t){if("string"===e.type)return function(e,t){if("string"!=typeof t)throw new fe("invalid input, should be string",{input:t});return My({type:"bytes",name:""},Jp(t))}(0,t);if("bool"===e.type)return function(e,t){let n;try{n=um(t)}catch(n){if(n instanceof ht)throw new fe("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return Py({type:"uint8",name:""},Number(n))}(e,t);if("address"===e.type)return function(e,t){if("string"!=typeof t)throw new fe("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Co(n))throw new fe("provided input is not valid address",{value:t,name:e.name,type:e.type});const r=So(n),o=wy(by);return o.set(r,Iy),{dynamic:!1,encoded:o}}(e,t);if("tuple"===e.type)return Uy(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new fe("Expected value to be array",{abi:e,values:t});const{size:n,param:r}=xy(e),o=t.map((e=>Ly(r,e))),i=-1===n,s=o.length>0&&o[0].dynamic;if(!i&&t.length!==n)throw new fe("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(i||s){const e=By(o);if(i){const t=Py({type:"uint256",name:""},o.length).encoded;return{dynamic:!0,encoded:o.length>0?Mp(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:Mp(...o.map((e=>e.encoded)))}}(e,t);if(e.type.startsWith("bytes"))return My(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return Py(e,t);throw new fe("Unsupported",{param:e,value:t})}function Fy(e,t){if("string"===e.type)return function(e,t){const n=Ny({type:"bytes",name:""},t);return{result:Qp(n.result),encoded:n.encoded,consumed:n.consumed}}(0,t);if("bool"===e.type)return function(e,t){const n=Dy({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new fe("Invalid boolean value encoded",{boolBytes:t.subarray(0,by),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:by}}(0,t);if("address"===e.type)return function(e,t){const n=t.subarray(Iy,by);if(n.length!==ky)throw new fe("Invalid decoding input, not enough bytes to decode address",{bytes:t});const r=Ao(n);return{result:cm(r),encoded:t.subarray(by),consumed:by}}(0,t);if("tuple"===e.type)return $y(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:n,param:r}=xy(e),o=0;const i=[];let s=t;if(-1===n){const e=Dy({type:"uint32",name:""},t);n=Number(e.result),o=e.consumed,s=e.encoded}if(Sy(r)){for(let e=0;e<n;e+=1){const t=Dy({type:"uint32",name:""},s.subarray(e*by));o+=t.consumed;const n=Fy(r,s.subarray(Number(t.result)));o+=n.consumed,i.push(n.result)}return{result:i,encoded:s.subarray(o),consumed:o}}for(let e=0;e<n;e+=1){const e=Fy(r,t.subarray(o));o+=e.consumed,i.push(e.result)}return{result:i,encoded:t.subarray(o),consumed:o}}(e,t);if(e.type.startsWith("bytes"))return Ny(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return Dy(e,t);throw new fe("Unsupported",{param:e,bytes:t})}function Uy(e,t){var n,r,o;let i=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new fe("param must be either Array or Object",{param:e,input:t});const s=t,a=[];for(let l=0;l<(null!==(r=null===(n=e.components)||void 0===n?void 0:n.length)&&void 0!==r?r:0);l+=1){const n=e.components[l];let r;if(Array.isArray(s)){if(l>=s.length)throw new fe("input param length missmatch",{param:e,input:t});r=Ly(n,s[l])}else{const i=s[null!==(o=n.name)&&void 0!==o?o:""];if(null==i)throw new fe("missing input defined in abi",{param:e,input:t,paramName:n.name});r=Ly(n,i)}r.dynamic&&(i=!0),a.push(r)}return i?{dynamic:!0,encoded:By(a)}:{dynamic:!1,encoded:Mp(...a.map((e=>e.encoded)))}}function $y(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let o=0;for(const[i,s]of e.components.entries()){let e;if(Sy(s)){const n=Dy({type:"uint32",name:""},t.subarray(r));e=Fy(s,t.subarray(Number(n.result))),r+=n.consumed,o+=e.consumed}else e=Fy(s,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[i]=e.result,s.name&&""!==s.name&&(n[s.name]=e.result)}return{encoded:t.subarray(r+o),result:n,consumed:r+o}}function jy(e,t){if((null==e?void 0:e.length)!==t.length)throw new fe("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return Ao(Uy({type:"tuple",name:"",components:Ey(e)},t).encoded)}const zy=(e,t,n)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new fe("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return $y({type:"tuple",name:"",components:Ey(e)},So(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(e){throw new fe(`Parameter decoding error: ${e.message}`,{internalErr:e})}},Vy=(e,t)=>zy(e,t),Hy=(e,t)=>Vy([e],t)[0],Wy=e=>{if("string"!=typeof e&&!Wg(e))throw new fe("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Qg(e),Vm(t).slice(0,10)},qy=["bool","string","int","uint","address","fixed","ufixed"],Ky={encodeEventSignature:e=>{if("string"!=typeof e&&!Hg(e))throw new fe("Invalid parameter value in encodeEventSignature");let t;return t=!e||"function"!=typeof e&&"object"!=typeof e?e:Qg(e),Vm(t)},encodeFunctionCall:(e,t)=>{var n;if(!Wg(e))throw new fe("Invalid parameter value in encodeFunctionCall");return`${Wy(e)}${jy(null!==(n=e.inputs)&&void 0!==n?n:[],null!=t?t:[]).replace("0x","")}`},encodeFunctionSignature:Wy,encodeParameter:(e,t)=>jy([e],[t]),encodeParameters:jy,decodeParameter:Hy,decodeParameters:Vy,decodeLog:(e,t,n)=>{const r=Array.isArray(n)?n:[n],o={},i={};for(const[t,n]of e.entries())n.indexed?o[t]=n:i[t]=n;const s=t?zy(Object.values(i),t):{__length__:0},a=r.length-Object.keys(o).length,l=Object.values(o).map(((e,t)=>{return qy.some((t=>e.type.startsWith(t)))?(n=e.type,o=r[t+a],"string"===n?o:Hy(n,o)):r[t+a];var n,o})),c={__length__:0};let u=0,d=0;for(const[t,n]of e.entries())c[t]="string"===n.type?"":void 0,o[t]&&(c[t]=l[u],u+=1),i[t]&&(c[t]=s[String(d)],d+=1),n.name&&(c[n.name]=c[t]),c.__length__+=1;return c}};var Gy=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Yy=e=>{const t=(t,n)=>Gy(void 0,void 0,void 0,(function*(){return((e,t)=>Ta(void 0,void 0,void 0,(function*(){const n=e.sign(Es(t));if(Uo(n.v)||Uo(n.r)||Uo(n.s))throw new tt("Signer Error");const r=n.validate(!0);if(r.length>0){let e="Signer Error ";for(const t of r)e+=`${e} ${t}.`;throw new tt(e)}const o=As(n.serialize()),i=Ps(o);return{messageHash:As(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:o,transactionHash:As(i)}})))(yield Xu(t,e),Um({format:"bytes"},n,h))})),n=e=>{const n=Ua(e);return Object.assign(Object.assign({},n),{signTransaction:e=>Gy(void 0,void 0,void 0,(function*(){return t(e,n.privateKey)}))})},r=(e,n,r)=>Gy(void 0,void 0,void 0,(function*(){var o;const i=yield((e,t,n)=>Ta(void 0,void 0,void 0,(function*(){const r="object"==typeof e?e:JSON.parse(n?e.toLowerCase():e);if(qo.validateJSONSchema($s,r),3!==r.version)throw new q;const o="string"==typeof t?Es(Ss(t)):t;let i;if(qo.validate(["bytes"],[o]),"scrypt"===r.crypto.kdf){const e=r.crypto.kdfparams;i=ms(o,"string"==typeof e.salt?Es(e.salt):e.salt,e.n,e.p,e.r,e.dklen)}else{if("pbkdf2"!==r.crypto.kdf)throw new H;{const e=r.crypto.kdfparams;i=hs(o,"string"==typeof e.salt?Es(e.salt):e.salt,e.c,e.dklen,"sha256")}}const s=Es(r.crypto.ciphertext);if(Ps(ys(i.slice(16,32),s)).replace("0x","")!==r.crypto.mac)throw new W;const a=yield async function(e,t,n,r="aes-128-ctr",o=!0){if(ss(t,n,r),is.web){const[i,s]=await as(r,t,n);if(!o&&"aes-cbc"===s.name){const o=await async function(e,t,n,r){const o=e.slice(-16);for(let e=0;e<16;e++)o[e]^=16^n[e];return(await ls(o,t,n,r)).slice(0,16)}(e,t,n,r);e=(0,Tt.Id)(e,o)}const a=await is.web.subtle.decrypt(s,i,e),l=new Uint8Array(a);if("aes-cbc"===s.name&&!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(await ls(l,t,n,r),e))throw new Error("AES: wrong padding");return l}if(is.node){const i=is.node.createDecipheriv(r,t,n);return i.setAutoPadding(o),(0,Tt.Id)(i.update(e),i.final())}throw new Error("The environment doesn't have AES module")}(Es(r.crypto.ciphertext),i.slice(0,16),Es(r.crypto.cipherparams.iv));return Ua(a)})))(e,n,null===(o=null==r?void 0:r.nonStrict)||void 0===o||o);return Object.assign(Object.assign({},i),{signTransaction:e=>Gy(void 0,void 0,void 0,(function*(){return t(e,i.privateKey)}))})})),o=()=>{const e=(()=>{const e=Bs.utils.randomPrivateKey();return Ua(`${As(e)}`)})();return Object.assign(Object.assign({},e),{signTransaction:n=>Gy(void 0,void 0,void 0,(function*(){return t(n,e.privateKey)}))})},i=new os({create:o,privateKeyToAccount:n,decrypt:r});return{signTransaction:t,create:o,privateKeyToAccount:n,decrypt:r,recoverTransaction:Ma,hashMessage:Da,sign:Oa,recover:Na,encrypt:Fa,wallet:i,privateKeyToAddress:Ba,parseAndValidatePrivateKey:Pa,privateKeyToPublicKey:La}};var Qy;!function(e){e.eip6963announceProvider="eip6963:announceProvider",e.eip6963requestProvider="eip6963:requestProvider"}(Qy||(Qy={}));const Zy=new Map,Jy="web3:providersMapUpdated";class Xy extends za{constructor(e=Vg){var t;(Sm(e)||"string"==typeof e&&""===e.trim()||"string"!=typeof e&&!Gi(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let n={};"string"==typeof e||Gi(e)?n.provider=e:n=e||{},n.registeredSubscriptions=Object.assign(Object.assign({},Yu),null!==(t=n.registeredSubscriptions)&&void 0!==t?t:{}),super(n);const r=Yy(this);this._wallet=r.wallet,this._accountProvider=r,this.utils=u;const o=this,i=o.use(Qu);this.eth=Object.assign(i,{ens:o.use(xp,Kh.main),Iban:Ka,net:o.use(gc),personal:o.use(Dp),Contract:class extends Wh{constructor(e,t,n,r,s){if(xm(t)&&xm(n))throw new le("Should not provide options at both 2nd and 3rd parameters");let a,l,c,u={};if(!Sm(t)&&"object"!=typeof t&&"string"!=typeof t)throw new le;if("string"==typeof t&&(a=t),u=xm(t)?t:xm(n)?n:{},l=t instanceof za?t:n instanceof za?n:r instanceof za?r:o.getContextObject(),s?c=s:Mm(n)?c=n:Mm(r)&&(c=r),super(e,a,u,l,c),super.subscribeToContextEvents(o),!Sm(i)){const e=i.getTransactionMiddleware();Sm(e)||super.setTransactionMiddleware(e)}}},abi:Ky,accounts:r})}}Xy.version="4.11.1",Xy.utils=u,Xy.requestEIP6963Providers=()=>{return e=void 0,t=void 0,r=function*(){return new Promise(((e,t)=>{"undefined"==typeof window&&t(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Qy.eip6963announceProvider,(t=>{Zy.set(t.detail.info.uuid,t.detail);const n=new CustomEvent(Jy,{detail:Zy});window.dispatchEvent(n),e(Zy)})),window.dispatchEvent(new Event(Qy.eip6963requestProvider))}))},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},Xy.onNewProviderDiscovered=e=>{if("undefined"==typeof window)throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(Jy,e)},Xy.modules={Web3Eth:Qu,Iban:Ka,Net:gc,ENS:xp,Personal:Dp};const ev=Xy}}]);